(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function e(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(l){if(l.ep)return;l.ep=!0;const h=e(l);fetch(l.href,h)}})();function Hp(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Hm={exports:{}},rc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function zA(){if(Gv)return rc;Gv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,l,h){var d=null;if(h!==void 0&&(d=""+h),l.key!==void 0&&(d=""+l.key),"key"in l){h={};for(var _ in l)_!=="key"&&(h[_]=l[_])}else h=l;return l=h.ref,{$$typeof:i,type:s,key:d,ref:l!==void 0?l:null,props:h}}return rc.Fragment=t,rc.jsx=e,rc.jsxs=e,rc}var Zv;function UA(){return Zv||(Zv=1,Hm.exports=zA()),Hm.exports}var Et=UA(),qm={exports:{}},Kt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kv;function BA(){if(Kv)return Kt;Kv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),T=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.iterator;function C(D){return D===null||typeof D!="object"?null:(D=I&&D[I]||D["@@iterator"],typeof D=="function"?D:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,G={};function Z(D,ot,_t){this.props=D,this.context=ot,this.refs=G,this.updater=_t||k}Z.prototype.isReactComponent={},Z.prototype.setState=function(D,ot){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,ot,"setState")},Z.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function tt(){}tt.prototype=Z.prototype;function W(D,ot,_t){this.props=D,this.context=ot,this.refs=G,this.updater=_t||k}var nt=W.prototype=new tt;nt.constructor=W,H(nt,Z.prototype),nt.isPureReactComponent=!0;var gt=Array.isArray,Tt={H:null,A:null,T:null,S:null,V:null},Pt=Object.prototype.hasOwnProperty;function z(D,ot,_t,mt,bt,Rt){return _t=Rt.ref,{$$typeof:i,type:D,key:ot,ref:_t!==void 0?_t:null,props:Rt}}function O(D,ot){return z(D.type,ot,void 0,void 0,void 0,D.props)}function M(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function B(D){var ot={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(_t){return ot[_t]})}var q=/\/+/g;function F(D,ot){return typeof D=="object"&&D!==null&&D.key!=null?B(""+D.key):ot.toString(36)}function U(){}function pe(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(U,U):(D.status="pending",D.then(function(ot){D.status==="pending"&&(D.status="fulfilled",D.value=ot)},function(ot){D.status==="pending"&&(D.status="rejected",D.reason=ot)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function Re(D,ot,_t,mt,bt){var Rt=typeof D;(Rt==="undefined"||Rt==="boolean")&&(D=null);var wt=!1;if(D===null)wt=!0;else switch(Rt){case"bigint":case"string":case"number":wt=!0;break;case"object":switch(D.$$typeof){case i:case t:wt=!0;break;case A:return wt=D._init,Re(wt(D._payload),ot,_t,mt,bt)}}if(wt)return bt=bt(D),wt=mt===""?"."+F(D,0):mt,gt(bt)?(_t="",wt!=null&&(_t=wt.replace(q,"$&/")+"/"),Re(bt,ot,_t,"",function(ui){return ui})):bt!=null&&(M(bt)&&(bt=O(bt,_t+(bt.key==null||D&&D.key===bt.key?"":(""+bt.key).replace(q,"$&/")+"/")+wt)),ot.push(bt)),1;wt=0;var Ee=mt===""?".":mt+":";if(gt(D))for(var re=0;re<D.length;re++)mt=D[re],Rt=Ee+F(mt,re),wt+=Re(mt,ot,_t,Rt,bt);else if(re=C(D),typeof re=="function")for(D=re.call(D),re=0;!(mt=D.next()).done;)mt=mt.value,Rt=Ee+F(mt,re++),wt+=Re(mt,ot,_t,Rt,bt);else if(Rt==="object"){if(typeof D.then=="function")return Re(pe(D),ot,_t,mt,bt);throw ot=String(D),Error("Objects are not valid as a React child (found: "+(ot==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":ot)+"). If you meant to render a collection of children, use an array instead.")}return wt}function at(D,ot,_t){if(D==null)return D;var mt=[],bt=0;return Re(D,mt,"","",function(Rt){return ot.call(_t,Rt,bt++)}),mt}function yt(D){if(D._status===-1){var ot=D._result;ot=ot(),ot.then(function(_t){(D._status===0||D._status===-1)&&(D._status=1,D._result=_t)},function(_t){(D._status===0||D._status===-1)&&(D._status=2,D._result=_t)}),D._status===-1&&(D._status=0,D._result=ot)}if(D._status===1)return D._result.default;throw D._result}var pt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ot=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(ot))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function se(){}return Kt.Children={map:at,forEach:function(D,ot,_t){at(D,function(){ot.apply(this,arguments)},_t)},count:function(D){var ot=0;return at(D,function(){ot++}),ot},toArray:function(D){return at(D,function(ot){return ot})||[]},only:function(D){if(!M(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Kt.Component=Z,Kt.Fragment=e,Kt.Profiler=l,Kt.PureComponent=W,Kt.StrictMode=s,Kt.Suspense=y,Kt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Tt,Kt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return Tt.H.useMemoCache(D)}},Kt.cache=function(D){return function(){return D.apply(null,arguments)}},Kt.cloneElement=function(D,ot,_t){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var mt=H({},D.props),bt=D.key,Rt=void 0;if(ot!=null)for(wt in ot.ref!==void 0&&(Rt=void 0),ot.key!==void 0&&(bt=""+ot.key),ot)!Pt.call(ot,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&ot.ref===void 0||(mt[wt]=ot[wt]);var wt=arguments.length-2;if(wt===1)mt.children=_t;else if(1<wt){for(var Ee=Array(wt),re=0;re<wt;re++)Ee[re]=arguments[re+2];mt.children=Ee}return z(D.type,bt,void 0,void 0,Rt,mt)},Kt.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:h,_context:D},D},Kt.createElement=function(D,ot,_t){var mt,bt={},Rt=null;if(ot!=null)for(mt in ot.key!==void 0&&(Rt=""+ot.key),ot)Pt.call(ot,mt)&&mt!=="key"&&mt!=="__self"&&mt!=="__source"&&(bt[mt]=ot[mt]);var wt=arguments.length-2;if(wt===1)bt.children=_t;else if(1<wt){for(var Ee=Array(wt),re=0;re<wt;re++)Ee[re]=arguments[re+2];bt.children=Ee}if(D&&D.defaultProps)for(mt in wt=D.defaultProps,wt)bt[mt]===void 0&&(bt[mt]=wt[mt]);return z(D,Rt,void 0,void 0,null,bt)},Kt.createRef=function(){return{current:null}},Kt.forwardRef=function(D){return{$$typeof:_,render:D}},Kt.isValidElement=M,Kt.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:yt}},Kt.memo=function(D,ot){return{$$typeof:T,type:D,compare:ot===void 0?null:ot}},Kt.startTransition=function(D){var ot=Tt.T,_t={};Tt.T=_t;try{var mt=D(),bt=Tt.S;bt!==null&&bt(_t,mt),typeof mt=="object"&&mt!==null&&typeof mt.then=="function"&&mt.then(se,pt)}catch(Rt){pt(Rt)}finally{Tt.T=ot}},Kt.unstable_useCacheRefresh=function(){return Tt.H.useCacheRefresh()},Kt.use=function(D){return Tt.H.use(D)},Kt.useActionState=function(D,ot,_t){return Tt.H.useActionState(D,ot,_t)},Kt.useCallback=function(D,ot){return Tt.H.useCallback(D,ot)},Kt.useContext=function(D){return Tt.H.useContext(D)},Kt.useDebugValue=function(){},Kt.useDeferredValue=function(D,ot){return Tt.H.useDeferredValue(D,ot)},Kt.useEffect=function(D,ot,_t){var mt=Tt.H;if(typeof _t=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return mt.useEffect(D,ot)},Kt.useId=function(){return Tt.H.useId()},Kt.useImperativeHandle=function(D,ot,_t){return Tt.H.useImperativeHandle(D,ot,_t)},Kt.useInsertionEffect=function(D,ot){return Tt.H.useInsertionEffect(D,ot)},Kt.useLayoutEffect=function(D,ot){return Tt.H.useLayoutEffect(D,ot)},Kt.useMemo=function(D,ot){return Tt.H.useMemo(D,ot)},Kt.useOptimistic=function(D,ot){return Tt.H.useOptimistic(D,ot)},Kt.useReducer=function(D,ot,_t){return Tt.H.useReducer(D,ot,_t)},Kt.useRef=function(D){return Tt.H.useRef(D)},Kt.useState=function(D){return Tt.H.useState(D)},Kt.useSyncExternalStore=function(D,ot,_t){return Tt.H.useSyncExternalStore(D,ot,_t)},Kt.useTransition=function(){return Tt.H.useTransition()},Kt.version="19.1.0",Kt}var Yv;function qp(){return Yv||(Yv=1,qm.exports=BA()),qm.exports}var Y=qp();const Te=Hp(Y);var jm={exports:{}},sc={},Fm={exports:{}},Gm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv;function HA(){return Qv||(Qv=1,function(i){function t(at,yt){var pt=at.length;at.push(yt);t:for(;0<pt;){var se=pt-1>>>1,D=at[se];if(0<l(D,yt))at[se]=yt,at[pt]=D,pt=se;else break t}}function e(at){return at.length===0?null:at[0]}function s(at){if(at.length===0)return null;var yt=at[0],pt=at.pop();if(pt!==yt){at[0]=pt;t:for(var se=0,D=at.length,ot=D>>>1;se<ot;){var _t=2*(se+1)-1,mt=at[_t],bt=_t+1,Rt=at[bt];if(0>l(mt,pt))bt<D&&0>l(Rt,mt)?(at[se]=Rt,at[bt]=pt,se=bt):(at[se]=mt,at[_t]=pt,se=_t);else if(bt<D&&0>l(Rt,pt))at[se]=Rt,at[bt]=pt,se=bt;else break t}}return yt}function l(at,yt){var pt=at.sortIndex-yt.sortIndex;return pt!==0?pt:at.id-yt.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;i.unstable_now=function(){return h.now()}}else{var d=Date,_=d.now();i.unstable_now=function(){return d.now()-_}}var y=[],T=[],A=1,I=null,C=3,k=!1,H=!1,G=!1,Z=!1,tt=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,nt=typeof setImmediate<"u"?setImmediate:null;function gt(at){for(var yt=e(T);yt!==null;){if(yt.callback===null)s(T);else if(yt.startTime<=at)s(T),yt.sortIndex=yt.expirationTime,t(y,yt);else break;yt=e(T)}}function Tt(at){if(G=!1,gt(at),!H)if(e(y)!==null)H=!0,Pt||(Pt=!0,F());else{var yt=e(T);yt!==null&&Re(Tt,yt.startTime-at)}}var Pt=!1,z=-1,O=5,M=-1;function B(){return Z?!0:!(i.unstable_now()-M<O)}function q(){if(Z=!1,Pt){var at=i.unstable_now();M=at;var yt=!0;try{t:{H=!1,G&&(G=!1,W(z),z=-1),k=!0;var pt=C;try{e:{for(gt(at),I=e(y);I!==null&&!(I.expirationTime>at&&B());){var se=I.callback;if(typeof se=="function"){I.callback=null,C=I.priorityLevel;var D=se(I.expirationTime<=at);if(at=i.unstable_now(),typeof D=="function"){I.callback=D,gt(at),yt=!0;break e}I===e(y)&&s(y),gt(at)}else s(y);I=e(y)}if(I!==null)yt=!0;else{var ot=e(T);ot!==null&&Re(Tt,ot.startTime-at),yt=!1}}break t}finally{I=null,C=pt,k=!1}yt=void 0}}finally{yt?F():Pt=!1}}}var F;if(typeof nt=="function")F=function(){nt(q)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,pe=U.port2;U.port1.onmessage=q,F=function(){pe.postMessage(null)}}else F=function(){tt(q,0)};function Re(at,yt){z=tt(function(){at(i.unstable_now())},yt)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(at){at.callback=null},i.unstable_forceFrameRate=function(at){0>at||125<at?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<at?Math.floor(1e3/at):5},i.unstable_getCurrentPriorityLevel=function(){return C},i.unstable_next=function(at){switch(C){case 1:case 2:case 3:var yt=3;break;default:yt=C}var pt=C;C=yt;try{return at()}finally{C=pt}},i.unstable_requestPaint=function(){Z=!0},i.unstable_runWithPriority=function(at,yt){switch(at){case 1:case 2:case 3:case 4:case 5:break;default:at=3}var pt=C;C=at;try{return yt()}finally{C=pt}},i.unstable_scheduleCallback=function(at,yt,pt){var se=i.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?se+pt:se):pt=se,at){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=pt+D,at={id:A++,callback:yt,priorityLevel:at,startTime:pt,expirationTime:D,sortIndex:-1},pt>se?(at.sortIndex=pt,t(T,at),e(y)===null&&at===e(T)&&(G?(W(z),z=-1):G=!0,Re(Tt,pt-se))):(at.sortIndex=D,t(y,at),H||k||(H=!0,Pt||(Pt=!0,F()))),at},i.unstable_shouldYield=B,i.unstable_wrapCallback=function(at){var yt=C;return function(){var pt=C;C=yt;try{return at.apply(this,arguments)}finally{C=pt}}}}(Gm)),Gm}var $v;function qA(){return $v||($v=1,Fm.exports=HA()),Fm.exports}var Zm={exports:{}},zn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xv;function jA(){if(Xv)return zn;Xv=1;var i=qp();function t(y){var T="https://react.dev/errors/"+y;if(1<arguments.length){T+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)T+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+T+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(y,T,A){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:I==null?null:""+I,children:y,containerInfo:T,implementation:A}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(y,T){if(y==="font")return"";if(typeof T=="string")return T==="use-credentials"?T:""}return zn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,zn.createPortal=function(y,T){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!T||T.nodeType!==1&&T.nodeType!==9&&T.nodeType!==11)throw Error(t(299));return h(y,T,null,A)},zn.flushSync=function(y){var T=d.T,A=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=T,s.p=A,s.d.f()}},zn.preconnect=function(y,T){typeof y=="string"&&(T?(T=T.crossOrigin,T=typeof T=="string"?T==="use-credentials"?T:"":void 0):T=null,s.d.C(y,T))},zn.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},zn.preinit=function(y,T){if(typeof y=="string"&&T&&typeof T.as=="string"){var A=T.as,I=_(A,T.crossOrigin),C=typeof T.integrity=="string"?T.integrity:void 0,k=typeof T.fetchPriority=="string"?T.fetchPriority:void 0;A==="style"?s.d.S(y,typeof T.precedence=="string"?T.precedence:void 0,{crossOrigin:I,integrity:C,fetchPriority:k}):A==="script"&&s.d.X(y,{crossOrigin:I,integrity:C,fetchPriority:k,nonce:typeof T.nonce=="string"?T.nonce:void 0})}},zn.preinitModule=function(y,T){if(typeof y=="string")if(typeof T=="object"&&T!==null){if(T.as==null||T.as==="script"){var A=_(T.as,T.crossOrigin);s.d.M(y,{crossOrigin:A,integrity:typeof T.integrity=="string"?T.integrity:void 0,nonce:typeof T.nonce=="string"?T.nonce:void 0})}}else T==null&&s.d.M(y)},zn.preload=function(y,T){if(typeof y=="string"&&typeof T=="object"&&T!==null&&typeof T.as=="string"){var A=T.as,I=_(A,T.crossOrigin);s.d.L(y,A,{crossOrigin:I,integrity:typeof T.integrity=="string"?T.integrity:void 0,nonce:typeof T.nonce=="string"?T.nonce:void 0,type:typeof T.type=="string"?T.type:void 0,fetchPriority:typeof T.fetchPriority=="string"?T.fetchPriority:void 0,referrerPolicy:typeof T.referrerPolicy=="string"?T.referrerPolicy:void 0,imageSrcSet:typeof T.imageSrcSet=="string"?T.imageSrcSet:void 0,imageSizes:typeof T.imageSizes=="string"?T.imageSizes:void 0,media:typeof T.media=="string"?T.media:void 0})}},zn.preloadModule=function(y,T){if(typeof y=="string")if(T){var A=_(T.as,T.crossOrigin);s.d.m(y,{as:typeof T.as=="string"&&T.as!=="script"?T.as:void 0,crossOrigin:A,integrity:typeof T.integrity=="string"?T.integrity:void 0})}else s.d.m(y)},zn.requestFormReset=function(y){s.d.r(y)},zn.unstable_batchedUpdates=function(y,T){return y(T)},zn.useFormState=function(y,T,A){return d.H.useFormState(y,T,A)},zn.useFormStatus=function(){return d.H.useHostTransitionStatus()},zn.version="19.1.0",zn}var Wv;function $T(){if(Wv)return Zm.exports;Wv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Zm.exports=jA(),Zm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jv;function FA(){if(Jv)return sc;Jv=1;var i=qA(),t=qp(),e=$T();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function h(n){var r=n,o=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(o=r.return),n=r.return;while(n)}return r.tag===3?o:null}function d(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function _(n){if(h(n)!==n)throw Error(s(188))}function y(n){var r=n.alternate;if(!r){if(r=h(n),r===null)throw Error(s(188));return r!==n?null:n}for(var o=n,c=r;;){var p=o.return;if(p===null)break;var g=p.alternate;if(g===null){if(c=p.return,c!==null){o=c;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===o)return _(p),n;if(g===c)return _(p),r;g=g.sibling}throw Error(s(188))}if(o.return!==c.return)o=p,c=g;else{for(var S=!1,x=p.child;x;){if(x===o){S=!0,o=p,c=g;break}if(x===c){S=!0,c=p,o=g;break}x=x.sibling}if(!S){for(x=g.child;x;){if(x===o){S=!0,o=g,c=p;break}if(x===c){S=!0,c=g,o=p;break}x=x.sibling}if(!S)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?n:r}function T(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=T(n),r!==null)return r;n=n.sibling}return null}var A=Object.assign,I=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),tt=Symbol.for("react.provider"),W=Symbol.for("react.consumer"),nt=Symbol.for("react.context"),gt=Symbol.for("react.forward_ref"),Tt=Symbol.for("react.suspense"),Pt=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function F(n){return n===null||typeof n!="object"?null:(n=q&&n[q]||n["@@iterator"],typeof n=="function"?n:null)}var U=Symbol.for("react.client.reference");function pe(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===U?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case H:return"Fragment";case Z:return"Profiler";case G:return"StrictMode";case Tt:return"Suspense";case Pt:return"SuspenseList";case M:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case k:return"Portal";case nt:return(n.displayName||"Context")+".Provider";case W:return(n._context.displayName||"Context")+".Consumer";case gt:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case z:return r=n.displayName||null,r!==null?r:pe(n.type)||"Memo";case O:r=n._payload,n=n._init;try{return pe(n(r))}catch{}}return null}var Re=Array.isArray,at=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},se=[],D=-1;function ot(n){return{current:n}}function _t(n){0>D||(n.current=se[D],se[D]=null,D--)}function mt(n,r){D++,se[D]=n.current,n.current=r}var bt=ot(null),Rt=ot(null),wt=ot(null),Ee=ot(null);function re(n,r){switch(mt(wt,r),mt(Rt,n),mt(bt,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?vv(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=vv(r),n=Tv(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}_t(bt),mt(bt,n)}function ui(){_t(bt),_t(Rt),_t(wt)}function Li(n){n.memoizedState!==null&&mt(Ee,n);var r=bt.current,o=Tv(r,n.type);r!==o&&(mt(Rt,n),mt(bt,o))}function ci(n){Rt.current===n&&(_t(bt),_t(Rt)),Ee.current===n&&(_t(Ee),Ju._currentValue=pt)}var hi=Object.prototype.hasOwnProperty,tr=i.unstable_scheduleCallback,ts=i.unstable_cancelCallback,Bs=i.unstable_shouldYield,to=i.unstable_requestPaint,Pn=i.unstable_now,Hs=i.unstable_getCurrentPriorityLevel,eo=i.unstable_ImmediatePriority,es=i.unstable_UserBlockingPriority,er=i.unstable_NormalPriority,nl=i.unstable_LowPriority,ns=i.unstable_IdlePriority,no=i.log,il=i.unstable_setDisableYieldValue,xe=null,ue=null;function On(n){if(typeof no=="function"&&il(n),ue&&typeof ue.setStrictMode=="function")try{ue.setStrictMode(xe,n)}catch{}}var hn=Math.clz32?Math.clz32:is,io=Math.log,rl=Math.LN2;function is(n){return n>>>=0,n===0?32:31-(io(n)/rl|0)|0}var Rr=256,nr=4194304;function Wn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function qs(n,r,o){var c=n.pendingLanes;if(c===0)return 0;var p=0,g=n.suspendedLanes,S=n.pingedLanes;n=n.warmLanes;var x=c&134217727;return x!==0?(c=x&~g,c!==0?p=Wn(c):(S&=x,S!==0?p=Wn(S):o||(o=x&~n,o!==0&&(p=Wn(o))))):(x=c&~g,x!==0?p=Wn(x):S!==0?p=Wn(S):o||(o=c&~n,o!==0&&(p=Wn(o)))),p===0?0:r!==0&&r!==p&&(r&g)===0&&(g=p&-p,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:p}function fi(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function ro(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function so(){var n=Rr;return Rr<<=1,(Rr&4194048)===0&&(Rr=256),n}function js(){var n=nr;return nr<<=1,(nr&62914560)===0&&(nr=4194304),n}function Mi(n){for(var r=[],o=0;31>o;o++)r.push(n);return r}function Di(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function ao(n,r,o,c,p,g){var S=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var x=n.entanglements,V=n.expirationTimes,J=n.hiddenUpdates;for(o=S&~o;0<o;){var lt=31-hn(o),ct=1<<lt;x[lt]=0,V[lt]=-1;var et=J[lt];if(et!==null)for(J[lt]=null,lt=0;lt<et.length;lt++){var it=et[lt];it!==null&&(it.lane&=-536870913)}o&=~ct}c!==0&&Ni(n,c,0),g!==0&&p===0&&n.tag!==0&&(n.suspendedLanes|=g&~(S&~r))}function Ni(n,r,o){n.pendingLanes|=r,n.suspendedLanes&=~r;var c=31-hn(r);n.entangledLanes|=r,n.entanglements[c]=n.entanglements[c]|1073741824|o&4194090}function oo(n,r){var o=n.entangledLanes|=r;for(n=n.entanglements;o;){var c=31-hn(o),p=1<<c;p&r|n[c]&r&&(n[c]|=r),o&=~p}}function Ir(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Fs(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Cr(){var n=yt.p;return n!==0?n:(n=window.event,n===void 0?32:Uv(n.type))}function Gs(n,r){var o=yt.p;try{return yt.p=n,r()}finally{yt.p=o}}var Pe=Math.random().toString(36).slice(2),Ke="__reactFiber$"+Pe,Fe="__reactProps$"+Pe,Jn="__reactContainer$"+Pe,Ln="__reactEvents$"+Pe,Lt="__reactListeners$"+Pe,ir="__reactHandles$"+Pe,lo="__reactResources$"+Pe,xr="__reactMarker$"+Pe;function rr(n){delete n[Ke],delete n[Fe],delete n[Ln],delete n[Lt],delete n[ir]}function di(n){var r=n[Ke];if(r)return r;for(var o=n.parentNode;o;){if(r=o[Jn]||o[Ke]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(n=Av(n);n!==null;){if(o=n[Ke])return o;n=Av(n)}return r}n=o,o=n.parentNode}return null}function mi(n){if(n=n[Ke]||n[Jn]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function En(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function fn(n){var r=n[lo];return r||(r=n[lo]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ue(n){n[xr]=!0}var uo=new Set,Zs={};function pi(n,r){ki(n,r),ki(n+"Capture",r)}function ki(n,r){for(Zs[n]=r,n=0;n<r.length;n++)uo.add(r[n])}var sl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rs={},ss={};function al(n){return hi.call(ss,n)?!0:hi.call(rs,n)?!1:sl.test(n)?ss[n]=!0:(rs[n]=!0,!1)}function Pr(n,r,o){if(al(r))if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+o)}}function Vi(n,r,o){if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+o)}}function sn(n,r,o,c){if(c===null)n.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(r,o,""+c)}}var sr,Or;function zi(n){if(sr===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);sr=r&&r[1]||"",Or=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+sr+n+Or}var as=!1;function Ui(n,r){if(!n||as)return"";as=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var ct=function(){throw Error()};if(Object.defineProperty(ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ct,[])}catch(it){var et=it}Reflect.construct(n,[],ct)}else{try{ct.call()}catch(it){et=it}n.call(ct.prototype)}}else{try{throw Error()}catch(it){et=it}(ct=n())&&typeof ct.catch=="function"&&ct.catch(function(){})}}catch(it){if(it&&et&&typeof it.stack=="string")return[it.stack,et.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),S=g[0],x=g[1];if(S&&x){var V=S.split(`
`),J=x.split(`
`);for(p=c=0;c<V.length&&!V[c].includes("DetermineComponentFrameRoot");)c++;for(;p<J.length&&!J[p].includes("DetermineComponentFrameRoot");)p++;if(c===V.length||p===J.length)for(c=V.length-1,p=J.length-1;1<=c&&0<=p&&V[c]!==J[p];)p--;for(;1<=c&&0<=p;c--,p--)if(V[c]!==J[p]){if(c!==1||p!==1)do if(c--,p--,0>p||V[c]!==J[p]){var lt=`
`+V[c].replace(" at new "," at ");return n.displayName&&lt.includes("<anonymous>")&&(lt=lt.replace("<anonymous>",n.displayName)),lt}while(1<=c&&0<=p);break}}}finally{as=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?zi(o):""}function $t(n){switch(n.tag){case 26:case 27:case 5:return zi(n.type);case 16:return zi("Lazy");case 13:return zi("Suspense");case 19:return zi("SuspenseList");case 0:case 15:return Ui(n.type,!1);case 11:return Ui(n.type.render,!1);case 1:return Ui(n.type,!0);case 31:return zi("Activity");default:return""}}function fe(n){try{var r="";do r+=$t(n),n=n.return;while(n);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function We(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Bi(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Lr(n){var r=Bi(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),c=""+n[r];if(!n.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var p=o.get,g=o.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return p.call(this)},set:function(S){c=""+S,g.call(this,S)}}),Object.defineProperty(n,r,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(S){c=""+S},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Mr(n){n._valueTracker||(n._valueTracker=Lr(n))}function jt(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return n&&(c=Bi(n)?n.checked?"true":"false":n.value),n=c,n!==o?(r.setValue(n),!0):!1}function ge(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var co=/[\n"\\]/g;function Ne(n){return n.replace(co,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Oe(n,r,o,c,p,g,S,x){n.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.type=S:n.removeAttribute("type"),r!=null?S==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+We(r)):n.value!==""+We(r)&&(n.value=""+We(r)):S!=="submit"&&S!=="reset"||n.removeAttribute("value"),r!=null?gi(n,S,We(r)):o!=null?gi(n,S,We(o)):c!=null&&n.removeAttribute("value"),p==null&&g!=null&&(n.defaultChecked=!!g),p!=null&&(n.checked=p&&typeof p!="function"&&typeof p!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?n.name=""+We(x):n.removeAttribute("name")}function os(n,r,o,c,p,g,S,x){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null))return;o=o!=null?""+We(o):"",r=r!=null?""+We(r):o,x||r===n.value||(n.value=r),n.defaultValue=r}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=x?n.checked:!!c,n.defaultChecked=!!c,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(n.name=S)}function gi(n,r,o){r==="number"&&ge(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function wn(n,r,o,c){if(n=n.options,r){r={};for(var p=0;p<o.length;p++)r["$"+o[p]]=!0;for(o=0;o<n.length;o++)p=r.hasOwnProperty("$"+n[o].value),n[o].selected!==p&&(n[o].selected=p),p&&c&&(n[o].defaultSelected=!0)}else{for(o=""+We(o),r=null,p=0;p<n.length;p++){if(n[p].value===o){n[p].selected=!0,c&&(n[p].defaultSelected=!0);return}r!==null||n[p].disabled||(r=n[p])}r!==null&&(r.selected=!0)}}function zt(n,r,o){if(r!=null&&(r=""+We(r),r!==n.value&&(n.value=r),o==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=o!=null?""+We(o):""}function Fn(n,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(s(92));if(Re(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=We(r),n.defaultValue=o,c=n.textContent,c===o&&c!==""&&c!==null&&(n.value=c)}function dn(n,r){if(r){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=r;return}}n.textContent=r}var _i=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ks(n,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":c?n.setProperty(r,o):typeof o!="number"||o===0||_i.has(r)?r==="float"?n.cssFloat=o:n[r]=(""+o).trim():n[r]=o+"px"}function ar(n,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var p in r)c=r[p],r.hasOwnProperty(p)&&o[p]!==c&&Ks(n,p,c)}else for(var g in r)r.hasOwnProperty(g)&&Ks(n,g,r[g])}function ls(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ho=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ys=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dr(n){return Ys.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var yi=null;function bn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Hi=null,vi=null;function fo(n){var r=mi(n);if(r&&(n=r.stateNode)){var o=n[Fe]||null;t:switch(n=r.stateNode,r.type){case"input":if(Oe(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ne(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==n&&c.form===n.form){var p=c[Fe]||null;if(!p)throw Error(s(90));Oe(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===n.form&&jt(c)}break t;case"textarea":zt(n,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&wn(n,!!o.multiple,r,!1)}}}var Nt=!1;function Gn(n,r,o){if(Nt)return n(r,o);Nt=!0;try{var c=n(r);return c}finally{if(Nt=!1,(Hi!==null||vi!==null)&&(Ih(),Hi&&(r=Hi,n=vi,vi=Hi=null,fo(r),n)))for(r=0;r<n.length;r++)fo(n[r])}}function ae(n,r){var o=n.stateNode;if(o===null)return null;var c=o[Fe]||null;if(c===null)return null;o=c[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break t;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mn=!1;if(ti)try{var or={};Object.defineProperty(or,"passive",{get:function(){Mn=!0}}),window.addEventListener("test",or,or),window.removeEventListener("test",or,or)}catch{Mn=!1}var ei=null,Dn=null,Ti=null;function lr(){if(Ti)return Ti;var n,r=Dn,o=r.length,c,p="value"in ei?ei.value:ei.textContent,g=p.length;for(n=0;n<o&&r[n]===p[n];n++);var S=o-n;for(c=1;c<=S&&r[o-c]===p[g-c];c++);return Ti=p.slice(n,1<c?1-c:void 0)}function we(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function mn(){return!0}function Qs(){return!1}function Ye(n){function r(o,c,p,g,S){this._reactName=o,this._targetInst=p,this.type=c,this.nativeEvent=g,this.target=S,this.currentTarget=null;for(var x in n)n.hasOwnProperty(x)&&(o=n[x],this[x]=o?o(g):g[x]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?mn:Qs,this.isPropagationStopped=Qs,this}return A(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=mn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=mn)},persist:function(){},isPersistent:mn}),r}var ce={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},us=Ye(ce),ur=A({},ce,{view:0,detail:0}),ol=Ye(ur),cs,Zt,qi,an=A({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==qi&&(qi&&n.type==="mousemove"?(cs=n.screenX-qi.screenX,Zt=n.screenY-qi.screenY):Zt=cs=0,qi=n),cs)},movementY:function(n){return"movementY"in n?n.movementY:Zt}}),pn=Ye(an),mo=A({},an,{dataTransfer:0}),gu=Ye(mo),cr=A({},ur,{relatedTarget:0}),$s=Ye(cr),Xs=A({},ce,{animationName:0,elapsedTime:0,pseudoElement:0}),Ws=Ye(Xs),ll=A({},ce,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Nr=Ye(ll),_u=A({},ce,{data:0}),Nn=Ye(_u),hs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},po={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ei={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Js(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Ei[n])?!!r[n]:!1}function kr(){return Js}var ta=A({},ur,{key:function(n){if(n.key){var r=hs[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=we(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?po[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(n){return n.type==="keypress"?we(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?we(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),ea=Ye(ta),go=A({},an,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),na=Ye(go),hr=A({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr}),ul=Ye(hr),ia=A({},ce,{propertyName:0,elapsedTime:0,pseudoElement:0}),cl=Ye(ia),_o=A({},an,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),fs=Ye(_o),Je=A({},ce,{newState:0,oldState:0}),ji=Ye(Je),hl=[9,13,27,32],kn=ti&&"CompositionEvent"in window,f=null;ti&&"documentMode"in document&&(f=document.documentMode);var E=ti&&"TextEvent"in window&&!f,b=ti&&(!kn||f&&8<f&&11>=f),P=" ",Q=!1;function st(n,r){switch(n){case"keyup":return hl.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vt(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var te=!1;function Ge(n,r){switch(n){case"compositionend":return vt(r);case"keypress":return r.which!==32?null:(Q=!0,P);case"textInput":return n=r.data,n===P&&Q?null:n;default:return null}}function ee(n,r){if(te)return n==="compositionend"||!kn&&st(n,r)?(n=lr(),Ti=Dn=ei=null,te=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return b&&r.locale!=="ko"?null:r.data;default:return null}}var de={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Le(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!de[n.type]:r==="textarea"}function fr(n,r,o,c){Hi?vi?vi.push(c):vi=[c]:Hi=c,r=Mh(r,"onChange"),0<r.length&&(o=new us("onChange","change",null,o,c),n.push({event:o,listeners:r}))}var Ie=null,Fi=null;function Gi(n){mv(n,0)}function fl(n){var r=En(n);if(jt(r))return n}function ra(n,r){if(n==="change")return r}var yu=!1;if(ti){var sa;if(ti){var vu="oninput"in document;if(!vu){var dr=document.createElement("div");dr.setAttribute("oninput","return;"),vu=typeof dr.oninput=="function"}sa=vu}else sa=!1;yu=sa&&(!document.documentMode||9<document.documentMode)}function yo(){Ie&&(Ie.detachEvent("onpropertychange",Zc),Fi=Ie=null)}function Zc(n){if(n.propertyName==="value"&&fl(Fi)){var r=[];fr(r,Fi,n,bn(n)),Gn(Gi,r)}}function Tu(n,r,o){n==="focusin"?(yo(),Ie=r,Fi=o,Ie.attachEvent("onpropertychange",Zc)):n==="focusout"&&yo()}function hd(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return fl(Fi)}function mr(n,r){if(n==="click")return fl(r)}function fd(n,r){if(n==="input"||n==="change")return fl(r)}function aa(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Zn=typeof Object.is=="function"?Object.is:aa;function Kn(n,r){if(Zn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var o=Object.keys(n),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var p=o[c];if(!hi.call(r,p)||!Zn(n[p],r[p]))return!1}return!0}function vo(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Eu(n,r){var o=vo(n);n=0;for(var c;o;){if(o.nodeType===3){if(c=n+o.textContent.length,n<=r&&c>=r)return{node:o,offset:r-n};n=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=vo(o)}}function dl(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?dl(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function To(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=ge(n.document);r instanceof n.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)n=r.contentWindow;else break;r=ge(n.document)}return r}function Eo(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var ml=ti&&"documentMode"in document&&11>=document.documentMode,wi=null,oa=null,ds=null,pl=!1;function Kc(n,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;pl||wi==null||wi!==ge(c)||(c=wi,"selectionStart"in c&&Eo(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ds&&Kn(ds,c)||(ds=c,c=Mh(oa,"onSelect"),0<c.length&&(r=new us("onSelect","select",null,r,o),n.push({event:r,listeners:c}),r.target=wi)))}function Zi(n,r){var o={};return o[n.toLowerCase()]=r.toLowerCase(),o["Webkit"+n]="webkit"+r,o["Moz"+n]="moz"+r,o}var la={animationend:Zi("Animation","AnimationEnd"),animationiteration:Zi("Animation","AnimationIteration"),animationstart:Zi("Animation","AnimationStart"),transitionrun:Zi("Transition","TransitionRun"),transitionstart:Zi("Transition","TransitionStart"),transitioncancel:Zi("Transition","TransitionCancel"),transitionend:Zi("Transition","TransitionEnd")},gl={},Yc={};ti&&(Yc=document.createElement("div").style,"AnimationEvent"in window||(delete la.animationend.animation,delete la.animationiteration.animation,delete la.animationstart.animation),"TransitionEvent"in window||delete la.transitionend.transition);function Vr(n){if(gl[n])return gl[n];if(!la[n])return n;var r=la[n],o;for(o in r)if(r.hasOwnProperty(o)&&o in Yc)return gl[n]=r[o];return n}var Qc=Vr("animationend"),bi=Vr("animationiteration"),wo=Vr("animationstart"),dd=Vr("transitionrun"),_l=Vr("transitionstart"),md=Vr("transitioncancel"),wu=Vr("transitionend"),$c=new Map,ms="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ms.push("scrollEnd");function Ai(n,r){$c.set(n,r),pi(r,[n])}var ps=new WeakMap;function Yn(n,r){if(typeof n=="object"&&n!==null){var o=ps.get(n);return o!==void 0?o:(r={value:n,source:r,stack:fe(r)},ps.set(n,r),r)}return{value:n,source:r,stack:fe(r)}}var Qn=[],ua=0,Si=0;function bo(){for(var n=ua,r=Si=ua=0;r<n;){var o=Qn[r];Qn[r++]=null;var c=Qn[r];Qn[r++]=null;var p=Qn[r];Qn[r++]=null;var g=Qn[r];if(Qn[r++]=null,c!==null&&p!==null){var S=c.pending;S===null?p.next=p:(p.next=S.next,S.next=p),c.pending=p}g!==0&&So(o,p,g)}}function Ao(n,r,o,c){Qn[ua++]=n,Qn[ua++]=r,Qn[ua++]=o,Qn[ua++]=c,Si|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function gs(n,r,o,c){return Ao(n,r,o,c),zr(n)}function ca(n,r){return Ao(n,null,null,r),zr(n)}function So(n,r,o){n.lanes|=o;var c=n.alternate;c!==null&&(c.lanes|=o);for(var p=!1,g=n.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(n=g.stateNode,n===null||n._visibility&1||(p=!0)),n=g,g=g.return;return n.tag===3?(g=n.stateNode,p&&r!==null&&(p=31-hn(o),n=g.hiddenUpdates,c=n[p],c===null?n[p]=[r]:c.push(r),r.lane=o|536870912),g):null}function zr(n){if(50<Gu)throw Gu=0,hm=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var _s={};function Xc(n,r,o,c){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(n,r,o,c){return new Xc(n,r,o,c)}function yl(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Ki(n,r){var o=n.alternate;return o===null?(o=$n(n.tag,r,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=r,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,r=n.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function bu(n,r){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,r=o.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Ro(n,r,o,c,p,g){var S=0;if(c=n,typeof n=="function")yl(n)&&(S=1);else if(typeof n=="string")S=SA(n,o,bt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case M:return n=$n(31,o,r,p),n.elementType=M,n.lanes=g,n;case H:return Ur(o.children,p,g,r);case G:S=8,p|=24;break;case Z:return n=$n(12,o,r,p|2),n.elementType=Z,n.lanes=g,n;case Tt:return n=$n(13,o,r,p),n.elementType=Tt,n.lanes=g,n;case Pt:return n=$n(19,o,r,p),n.elementType=Pt,n.lanes=g,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case tt:case nt:S=10;break t;case W:S=9;break t;case gt:S=11;break t;case z:S=14;break t;case O:S=16,c=null;break t}S=29,o=Error(s(130,n===null?"null":typeof n,"")),c=null}return r=$n(S,o,r,p),r.elementType=n,r.type=c,r.lanes=g,r}function Ur(n,r,o,c){return n=$n(7,n,c,r),n.lanes=o,n}function Au(n,r,o){return n=$n(6,n,null,r),n.lanes=o,n}function vl(n,r,o){return r=$n(4,n.children!==null?n.children:[],n.key,r),r.lanes=o,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var ys=[],ha=0,a=null,u=0,m=[],v=0,w=null,R=1,N="";function $(n,r){ys[ha++]=u,ys[ha++]=a,a=n,u=r}function rt(n,r,o){m[v++]=R,m[v++]=N,m[v++]=w,w=n;var c=R;n=N;var p=32-hn(c)-1;c&=~(1<<p),o+=1;var g=32-hn(r)+p;if(30<g){var S=p-p%5;g=(c&(1<<S)-1).toString(32),c>>=S,p-=S,R=1<<32-hn(r)+p|o<<p|c,N=g+n}else R=1<<g|o<<p|c,N=n}function dt(n){n.return!==null&&($(n,1),rt(n,1,0))}function At(n){for(;n===a;)a=ys[--ha],ys[ha]=null,u=ys[--ha],ys[ha]=null;for(;n===w;)w=m[--v],m[v]=null,N=m[--v],m[v]=null,R=m[--v],m[v]=null}var Ct=null,Ot=null,Ht=!1,Me=null,Be=!1,gn=Error(s(519));function ni(n){var r=Error(s(418,""));throw da(Yn(r,n)),gn}function Wc(n){var r=n.stateNode,o=n.type,c=n.memoizedProps;switch(r[Ke]=n,r[Fe]=c,o){case"dialog":Jt("cancel",r),Jt("close",r);break;case"iframe":case"object":case"embed":Jt("load",r);break;case"video":case"audio":for(o=0;o<Ku.length;o++)Jt(Ku[o],r);break;case"source":Jt("error",r);break;case"img":case"image":case"link":Jt("error",r),Jt("load",r);break;case"details":Jt("toggle",r);break;case"input":Jt("invalid",r),os(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Mr(r);break;case"select":Jt("invalid",r);break;case"textarea":Jt("invalid",r),Fn(r,c.value,c.defaultValue,c.children),Mr(r)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||yv(r.textContent,o)?(c.popover!=null&&(Jt("beforetoggle",r),Jt("toggle",r)),c.onScroll!=null&&Jt("scroll",r),c.onScrollEnd!=null&&Jt("scrollend",r),c.onClick!=null&&(r.onclick=Dh),r=!0):r=!1,r||ni(n)}function Jc(n){for(Ct=n.return;Ct;)switch(Ct.tag){case 5:case 13:Be=!1;return;case 27:case 3:Be=!0;return;default:Ct=Ct.return}}function Io(n){if(n!==Ct)return!1;if(!Ht)return Jc(n),Ht=!0,!1;var r=n.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||Im(n.type,n.memoizedProps)),o=!o),o&&Ot&&ni(n),Jc(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));t:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(r===0){Ot=yr(n.nextSibling);break t}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;n=n.nextSibling}Ot=null}}else r===27?(r=Ot,Ca(n.type)?(n=Om,Om=null,Ot=n):Ot=r):Ot=Ct?yr(n.stateNode.nextSibling):null;return!0}function fa(){Ot=Ct=null,Ht=!1}function th(){var n=Me;return n!==null&&(si===null?si=n:si.push.apply(si,n),Me=null),n}function da(n){Me===null?Me=[n]:Me.push(n)}var Ve=ot(null),Yi=null,pr=null;function Br(n,r,o){mt(Ve,r._currentValue),r._currentValue=o}function gr(n){n._currentValue=Ve.current,_t(Ve)}function Co(n,r,o){for(;n!==null;){var c=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),n===o)break;n=n.return}}function Tl(n,r,o,c){var p=n.child;for(p!==null&&(p.return=n);p!==null;){var g=p.dependencies;if(g!==null){var S=p.child;g=g.firstContext;t:for(;g!==null;){var x=g;g=p;for(var V=0;V<r.length;V++)if(x.context===r[V]){g.lanes|=o,x=g.alternate,x!==null&&(x.lanes|=o),Co(g.return,o,n),c||(S=null);break t}g=x.next}}else if(p.tag===18){if(S=p.return,S===null)throw Error(s(341));S.lanes|=o,g=S.alternate,g!==null&&(g.lanes|=o),Co(S,o,n),S=null}else S=p.child;if(S!==null)S.return=p;else for(S=p;S!==null;){if(S===n){S=null;break}if(p=S.sibling,p!==null){p.return=S.return,S=p;break}S=S.return}p=S}}function xo(n,r,o,c){n=null;for(var p=r,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var S=p.alternate;if(S===null)throw Error(s(387));if(S=S.memoizedProps,S!==null){var x=p.type;Zn(p.pendingProps.value,S.value)||(n!==null?n.push(x):n=[x])}}else if(p===Ee.current){if(S=p.alternate,S===null)throw Error(s(387));S.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(n!==null?n.push(Ju):n=[Ju])}p=p.return}n!==null&&Tl(r,n,o,c),r.flags|=262144}function eh(n){for(n=n.firstContext;n!==null;){if(!Zn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Po(n){Yi=n,pr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Vn(n){return r_(Yi,n)}function nh(n,r){return Yi===null&&Po(n),r_(n,r)}function r_(n,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},pr===null){if(n===null)throw Error(s(308));pr=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else pr=pr.next=r;return o}var A1=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(o,c){n.push(c)}};this.abort=function(){r.aborted=!0,n.forEach(function(o){return o()})}},S1=i.unstable_scheduleCallback,R1=i.unstable_NormalPriority,on={$$typeof:nt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pd(){return{controller:new A1,data:new Map,refCount:0}}function Su(n){n.refCount--,n.refCount===0&&S1(R1,function(){n.controller.abort()})}var Ru=null,gd=0,El=0,wl=null;function I1(n,r){if(Ru===null){var o=Ru=[];gd=0,El=ym(),wl={status:"pending",value:void 0,then:function(c){o.push(c)}}}return gd++,r.then(s_,s_),r}function s_(){if(--gd===0&&Ru!==null){wl!==null&&(wl.status="fulfilled");var n=Ru;Ru=null,El=0,wl=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function C1(n,r){var o=[],c={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return n.then(function(){c.status="fulfilled",c.value=r;for(var p=0;p<o.length;p++)(0,o[p])(r)},function(p){for(c.status="rejected",c.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),c}var a_=at.S;at.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&I1(n,r),a_!==null&&a_(n,r)};var Oo=ot(null);function _d(){var n=Oo.current;return n!==null?n:De.pooledCache}function ih(n,r){r===null?mt(Oo,Oo.current):mt(Oo,r.pool)}function o_(){var n=_d();return n===null?null:{parent:on._currentValue,pool:n}}var Iu=Error(s(460)),l_=Error(s(474)),rh=Error(s(542)),yd={then:function(){}};function u_(n){return n=n.status,n==="fulfilled"||n==="rejected"}function sh(){}function c_(n,r,o){switch(o=n[o],o===void 0?n.push(r):o!==r&&(r.then(sh,sh),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,f_(n),n;default:if(typeof r.status=="string")r.then(sh,sh);else{if(n=De,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(c){if(r.status==="pending"){var p=r;p.status="fulfilled",p.value=c}},function(c){if(r.status==="pending"){var p=r;p.status="rejected",p.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,f_(n),n}throw Cu=r,Iu}}var Cu=null;function h_(){if(Cu===null)throw Error(s(459));var n=Cu;return Cu=null,n}function f_(n){if(n===Iu||n===rh)throw Error(s(483))}var ma=!1;function vd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Td(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function pa(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ga(n,r,o){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(_e&2)!==0){var p=c.pending;return p===null?r.next=r:(r.next=p.next,p.next=r),c.pending=r,r=zr(n),So(n,null,o),r}return Ao(n,c,r,o),zr(n)}function xu(n,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=n.pendingLanes,o|=c,r.lanes=o,oo(n,o)}}function Ed(n,r){var o=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var p=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?p=g=S:g=g.next=S,o=o.next}while(o!==null);g===null?p=g=r:g=g.next=r}else p=g=r;o={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=r:n.next=r,o.lastBaseUpdate=r}var wd=!1;function Pu(){if(wd){var n=wl;if(n!==null)throw n}}function Ou(n,r,o,c){wd=!1;var p=n.updateQueue;ma=!1;var g=p.firstBaseUpdate,S=p.lastBaseUpdate,x=p.shared.pending;if(x!==null){p.shared.pending=null;var V=x,J=V.next;V.next=null,S===null?g=J:S.next=J,S=V;var lt=n.alternate;lt!==null&&(lt=lt.updateQueue,x=lt.lastBaseUpdate,x!==S&&(x===null?lt.firstBaseUpdate=J:x.next=J,lt.lastBaseUpdate=V))}if(g!==null){var ct=p.baseState;S=0,lt=J=V=null,x=g;do{var et=x.lane&-536870913,it=et!==x.lane;if(it?(oe&et)===et:(c&et)===et){et!==0&&et===El&&(wd=!0),lt!==null&&(lt=lt.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});t:{var Bt=n,kt=x;et=r;var Se=o;switch(kt.tag){case 1:if(Bt=kt.payload,typeof Bt=="function"){ct=Bt.call(Se,ct,et);break t}ct=Bt;break t;case 3:Bt.flags=Bt.flags&-65537|128;case 0:if(Bt=kt.payload,et=typeof Bt=="function"?Bt.call(Se,ct,et):Bt,et==null)break t;ct=A({},ct,et);break t;case 2:ma=!0}}et=x.callback,et!==null&&(n.flags|=64,it&&(n.flags|=8192),it=p.callbacks,it===null?p.callbacks=[et]:it.push(et))}else it={lane:et,tag:x.tag,payload:x.payload,callback:x.callback,next:null},lt===null?(J=lt=it,V=ct):lt=lt.next=it,S|=et;if(x=x.next,x===null){if(x=p.shared.pending,x===null)break;it=x,x=it.next,it.next=null,p.lastBaseUpdate=it,p.shared.pending=null}}while(!0);lt===null&&(V=ct),p.baseState=V,p.firstBaseUpdate=J,p.lastBaseUpdate=lt,g===null&&(p.shared.lanes=0),Aa|=S,n.lanes=S,n.memoizedState=ct}}function d_(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function m_(n,r){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)d_(o[n],r)}var bl=ot(null),ah=ot(0);function p_(n,r){n=Ss,mt(ah,n),mt(bl,r),Ss=n|r.baseLanes}function bd(){mt(ah,Ss),mt(bl,bl.current)}function Ad(){Ss=ah.current,_t(bl),_t(ah)}var _a=0,Yt=null,be=null,tn=null,oh=!1,Al=!1,Lo=!1,lh=0,Lu=0,Sl=null,x1=0;function Qe(){throw Error(s(321))}function Sd(n,r){if(r===null)return!1;for(var o=0;o<r.length&&o<n.length;o++)if(!Zn(n[o],r[o]))return!1;return!0}function Rd(n,r,o,c,p,g){return _a=g,Yt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,at.H=n===null||n.memoizedState===null?W_:J_,Lo=!1,g=o(c,p),Lo=!1,Al&&(g=__(r,o,c,p)),g_(n),g}function g_(n){at.H=mh;var r=be!==null&&be.next!==null;if(_a=0,tn=be=Yt=null,oh=!1,Lu=0,Sl=null,r)throw Error(s(300));n===null||_n||(n=n.dependencies,n!==null&&eh(n)&&(_n=!0))}function __(n,r,o,c){Yt=n;var p=0;do{if(Al&&(Sl=null),Lu=0,Al=!1,25<=p)throw Error(s(301));if(p+=1,tn=be=null,n.updateQueue!=null){var g=n.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}at.H=k1,g=r(o,c)}while(Al);return g}function P1(){var n=at.H,r=n.useState()[0];return r=typeof r.then=="function"?Mu(r):r,n=n.useState()[0],(be!==null?be.memoizedState:null)!==n&&(Yt.flags|=1024),r}function Id(){var n=lh!==0;return lh=0,n}function Cd(n,r,o){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~o}function xd(n){if(oh){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}oh=!1}_a=0,tn=be=Yt=null,Al=!1,Lu=lh=0,Sl=null}function ii(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?Yt.memoizedState=tn=n:tn=tn.next=n,tn}function en(){if(be===null){var n=Yt.alternate;n=n!==null?n.memoizedState:null}else n=be.next;var r=tn===null?Yt.memoizedState:tn.next;if(r!==null)tn=r,be=n;else{if(n===null)throw Yt.alternate===null?Error(s(467)):Error(s(310));be=n,n={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},tn===null?Yt.memoizedState=tn=n:tn=tn.next=n}return tn}function Pd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Mu(n){var r=Lu;return Lu+=1,Sl===null&&(Sl=[]),n=c_(Sl,n,r),r=Yt,(tn===null?r.memoizedState:tn.next)===null&&(r=r.alternate,at.H=r===null||r.memoizedState===null?W_:J_),n}function uh(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Mu(n);if(n.$$typeof===nt)return Vn(n)}throw Error(s(438,String(n)))}function Od(n){var r=null,o=Yt.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=Yt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(p){return p.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Pd(),Yt.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(n),c=0;c<n;c++)o[c]=B;return r.index++,o}function vs(n,r){return typeof r=="function"?r(n):r}function ch(n){var r=en();return Ld(r,be,n)}function Ld(n,r,o){var c=n.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var p=n.baseQueue,g=c.pending;if(g!==null){if(p!==null){var S=p.next;p.next=g.next,g.next=S}r.baseQueue=p=g,c.pending=null}if(g=n.baseState,p===null)n.memoizedState=g;else{r=p.next;var x=S=null,V=null,J=r,lt=!1;do{var ct=J.lane&-536870913;if(ct!==J.lane?(oe&ct)===ct:(_a&ct)===ct){var et=J.revertLane;if(et===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ct===El&&(lt=!0);else if((_a&et)===et){J=J.next,et===El&&(lt=!0);continue}else ct={lane:0,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},V===null?(x=V=ct,S=g):V=V.next=ct,Yt.lanes|=et,Aa|=et;ct=J.action,Lo&&o(g,ct),g=J.hasEagerState?J.eagerState:o(g,ct)}else et={lane:ct,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},V===null?(x=V=et,S=g):V=V.next=et,Yt.lanes|=ct,Aa|=ct;J=J.next}while(J!==null&&J!==r);if(V===null?S=g:V.next=x,!Zn(g,n.memoizedState)&&(_n=!0,lt&&(o=wl,o!==null)))throw o;n.memoizedState=g,n.baseState=S,n.baseQueue=V,c.lastRenderedState=g}return p===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function Md(n){var r=en(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=n;var c=o.dispatch,p=o.pending,g=r.memoizedState;if(p!==null){o.pending=null;var S=p=p.next;do g=n(g,S.action),S=S.next;while(S!==p);Zn(g,r.memoizedState)||(_n=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,c]}function y_(n,r,o){var c=Yt,p=en(),g=Ht;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var S=!Zn((be||p).memoizedState,o);S&&(p.memoizedState=o,_n=!0),p=p.queue;var x=E_.bind(null,c,p,n);if(Du(2048,8,x,[n]),p.getSnapshot!==r||S||tn!==null&&tn.memoizedState.tag&1){if(c.flags|=2048,Rl(9,hh(),T_.bind(null,c,p,o,r),null),De===null)throw Error(s(349));g||(_a&124)!==0||v_(c,r,o)}return o}function v_(n,r,o){n.flags|=16384,n={getSnapshot:r,value:o},r=Yt.updateQueue,r===null?(r=Pd(),Yt.updateQueue=r,r.stores=[n]):(o=r.stores,o===null?r.stores=[n]:o.push(n))}function T_(n,r,o,c){r.value=o,r.getSnapshot=c,w_(r)&&b_(n)}function E_(n,r,o){return o(function(){w_(r)&&b_(n)})}function w_(n){var r=n.getSnapshot;n=n.value;try{var o=r();return!Zn(n,o)}catch{return!0}}function b_(n){var r=ca(n,2);r!==null&&Pi(r,n,2)}function Dd(n){var r=ii();if(typeof n=="function"){var o=n;if(n=o(),Lo){On(!0);try{o()}finally{On(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:n},r}function A_(n,r,o,c){return n.baseState=o,Ld(n,be,typeof c=="function"?c:vs)}function O1(n,r,o,c,p){if(dh(n))throw Error(s(485));if(n=r.action,n!==null){var g={payload:p,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){g.listeners.push(S)}};at.T!==null?o(!0):g.isTransition=!1,c(g),o=r.pending,o===null?(g.next=r.pending=g,S_(r,g)):(g.next=o.next,r.pending=o.next=g)}}function S_(n,r){var o=r.action,c=r.payload,p=n.state;if(r.isTransition){var g=at.T,S={};at.T=S;try{var x=o(p,c),V=at.S;V!==null&&V(S,x),R_(n,r,x)}catch(J){Nd(n,r,J)}finally{at.T=g}}else try{g=o(p,c),R_(n,r,g)}catch(J){Nd(n,r,J)}}function R_(n,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){I_(n,r,c)},function(c){return Nd(n,r,c)}):I_(n,r,o)}function I_(n,r,o){r.status="fulfilled",r.value=o,C_(r),n.state=o,r=n.pending,r!==null&&(o=r.next,o===r?n.pending=null:(o=o.next,r.next=o,S_(n,o)))}function Nd(n,r,o){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,C_(r),r=r.next;while(r!==c)}n.action=null}function C_(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function x_(n,r){return r}function P_(n,r){if(Ht){var o=De.formState;if(o!==null){t:{var c=Yt;if(Ht){if(Ot){e:{for(var p=Ot,g=Be;p.nodeType!==8;){if(!g){p=null;break e}if(p=yr(p.nextSibling),p===null){p=null;break e}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){Ot=yr(p.nextSibling),c=p.data==="F!";break t}}ni(c)}c=!1}c&&(r=o[0])}}return o=ii(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:x_,lastRenderedState:r},o.queue=c,o=Q_.bind(null,Yt,c),c.dispatch=o,c=Dd(!1),g=Bd.bind(null,Yt,!1,c.queue),c=ii(),p={state:r,dispatch:null,action:n,pending:null},c.queue=p,o=O1.bind(null,Yt,p,g,o),p.dispatch=o,c.memoizedState=n,[r,o,!1]}function O_(n){var r=en();return L_(r,be,n)}function L_(n,r,o){if(r=Ld(n,r,x_)[0],n=ch(vs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=Mu(r)}catch(S){throw S===Iu?rh:S}else c=r;r=en();var p=r.queue,g=p.dispatch;return o!==r.memoizedState&&(Yt.flags|=2048,Rl(9,hh(),L1.bind(null,p,o),null)),[c,g,n]}function L1(n,r){n.action=r}function M_(n){var r=en(),o=be;if(o!==null)return L_(r,o,n);en(),r=r.memoizedState,o=en();var c=o.queue.dispatch;return o.memoizedState=n,[r,c,!1]}function Rl(n,r,o,c){return n={tag:n,create:o,deps:c,inst:r,next:null},r=Yt.updateQueue,r===null&&(r=Pd(),Yt.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=n.next=n:(c=o.next,o.next=n,n.next=c,r.lastEffect=n),n}function hh(){return{destroy:void 0,resource:void 0}}function D_(){return en().memoizedState}function fh(n,r,o,c){var p=ii();c=c===void 0?null:c,Yt.flags|=n,p.memoizedState=Rl(1|r,hh(),o,c)}function Du(n,r,o,c){var p=en();c=c===void 0?null:c;var g=p.memoizedState.inst;be!==null&&c!==null&&Sd(c,be.memoizedState.deps)?p.memoizedState=Rl(r,g,o,c):(Yt.flags|=n,p.memoizedState=Rl(1|r,g,o,c))}function N_(n,r){fh(8390656,8,n,r)}function k_(n,r){Du(2048,8,n,r)}function V_(n,r){return Du(4,2,n,r)}function z_(n,r){return Du(4,4,n,r)}function U_(n,r){if(typeof r=="function"){n=n();var o=r(n);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function B_(n,r,o){o=o!=null?o.concat([n]):null,Du(4,4,U_.bind(null,r,n),o)}function kd(){}function H_(n,r){var o=en();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&Sd(r,c[1])?c[0]:(o.memoizedState=[n,r],n)}function q_(n,r){var o=en();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&Sd(r,c[1]))return c[0];if(c=n(),Lo){On(!0);try{n()}finally{On(!1)}}return o.memoizedState=[c,r],c}function Vd(n,r,o){return o===void 0||(_a&1073741824)!==0?n.memoizedState=r:(n.memoizedState=o,n=Gy(),Yt.lanes|=n,Aa|=n,o)}function j_(n,r,o,c){return Zn(o,r)?o:bl.current!==null?(n=Vd(n,o,c),Zn(n,r)||(_n=!0),n):(_a&42)===0?(_n=!0,n.memoizedState=o):(n=Gy(),Yt.lanes|=n,Aa|=n,r)}function F_(n,r,o,c,p){var g=yt.p;yt.p=g!==0&&8>g?g:8;var S=at.T,x={};at.T=x,Bd(n,!1,r,o);try{var V=p(),J=at.S;if(J!==null&&J(x,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var lt=C1(V,c);Nu(n,r,lt,xi(n))}else Nu(n,r,c,xi(n))}catch(ct){Nu(n,r,{then:function(){},status:"rejected",reason:ct},xi())}finally{yt.p=g,at.T=S}}function M1(){}function zd(n,r,o,c){if(n.tag!==5)throw Error(s(476));var p=G_(n).queue;F_(n,p,r,pt,o===null?M1:function(){return Z_(n),o(c)})}function G_(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:pt},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:o},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function Z_(n){var r=G_(n).next.queue;Nu(n,r,{},xi())}function Ud(){return Vn(Ju)}function K_(){return en().memoizedState}function Y_(){return en().memoizedState}function D1(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var o=xi();n=pa(o);var c=ga(r,n,o);c!==null&&(Pi(c,r,o),xu(c,r,o)),r={cache:pd()},n.payload=r;return}r=r.return}}function N1(n,r,o){var c=xi();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},dh(n)?$_(r,o):(o=gs(n,r,o,c),o!==null&&(Pi(o,n,c),X_(o,r,c)))}function Q_(n,r,o){var c=xi();Nu(n,r,o,c)}function Nu(n,r,o,c){var p={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(dh(n))$_(r,p);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var S=r.lastRenderedState,x=g(S,o);if(p.hasEagerState=!0,p.eagerState=x,Zn(x,S))return Ao(n,r,p,0),De===null&&bo(),!1}catch{}finally{}if(o=gs(n,r,p,c),o!==null)return Pi(o,n,c),X_(o,r,c),!0}return!1}function Bd(n,r,o,c){if(c={lane:2,revertLane:ym(),action:c,hasEagerState:!1,eagerState:null,next:null},dh(n)){if(r)throw Error(s(479))}else r=gs(n,o,c,2),r!==null&&Pi(r,n,2)}function dh(n){var r=n.alternate;return n===Yt||r!==null&&r===Yt}function $_(n,r){Al=oh=!0;var o=n.pending;o===null?r.next=r:(r.next=o.next,o.next=r),n.pending=r}function X_(n,r,o){if((o&4194048)!==0){var c=r.lanes;c&=n.pendingLanes,o|=c,r.lanes=o,oo(n,o)}}var mh={readContext:Vn,use:uh,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useLayoutEffect:Qe,useInsertionEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useSyncExternalStore:Qe,useId:Qe,useHostTransitionStatus:Qe,useFormState:Qe,useActionState:Qe,useOptimistic:Qe,useMemoCache:Qe,useCacheRefresh:Qe},W_={readContext:Vn,use:uh,useCallback:function(n,r){return ii().memoizedState=[n,r===void 0?null:r],n},useContext:Vn,useEffect:N_,useImperativeHandle:function(n,r,o){o=o!=null?o.concat([n]):null,fh(4194308,4,U_.bind(null,r,n),o)},useLayoutEffect:function(n,r){return fh(4194308,4,n,r)},useInsertionEffect:function(n,r){fh(4,2,n,r)},useMemo:function(n,r){var o=ii();r=r===void 0?null:r;var c=n();if(Lo){On(!0);try{n()}finally{On(!1)}}return o.memoizedState=[c,r],c},useReducer:function(n,r,o){var c=ii();if(o!==void 0){var p=o(r);if(Lo){On(!0);try{o(r)}finally{On(!1)}}}else p=r;return c.memoizedState=c.baseState=p,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:p},c.queue=n,n=n.dispatch=N1.bind(null,Yt,n),[c.memoizedState,n]},useRef:function(n){var r=ii();return n={current:n},r.memoizedState=n},useState:function(n){n=Dd(n);var r=n.queue,o=Q_.bind(null,Yt,r);return r.dispatch=o,[n.memoizedState,o]},useDebugValue:kd,useDeferredValue:function(n,r){var o=ii();return Vd(o,n,r)},useTransition:function(){var n=Dd(!1);return n=F_.bind(null,Yt,n.queue,!0,!1),ii().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,o){var c=Yt,p=ii();if(Ht){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),De===null)throw Error(s(349));(oe&124)!==0||v_(c,r,o)}p.memoizedState=o;var g={value:o,getSnapshot:r};return p.queue=g,N_(E_.bind(null,c,g,n),[n]),c.flags|=2048,Rl(9,hh(),T_.bind(null,c,g,o,r),null),o},useId:function(){var n=ii(),r=De.identifierPrefix;if(Ht){var o=N,c=R;o=(c&~(1<<32-hn(c)-1)).toString(32)+o,r=""+r+"R"+o,o=lh++,0<o&&(r+="H"+o.toString(32)),r+=""}else o=x1++,r=""+r+"r"+o.toString(32)+"";return n.memoizedState=r},useHostTransitionStatus:Ud,useFormState:P_,useActionState:P_,useOptimistic:function(n){var r=ii();r.memoizedState=r.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Bd.bind(null,Yt,!0,o),o.dispatch=r,[n,r]},useMemoCache:Od,useCacheRefresh:function(){return ii().memoizedState=D1.bind(null,Yt)}},J_={readContext:Vn,use:uh,useCallback:H_,useContext:Vn,useEffect:k_,useImperativeHandle:B_,useInsertionEffect:V_,useLayoutEffect:z_,useMemo:q_,useReducer:ch,useRef:D_,useState:function(){return ch(vs)},useDebugValue:kd,useDeferredValue:function(n,r){var o=en();return j_(o,be.memoizedState,n,r)},useTransition:function(){var n=ch(vs)[0],r=en().memoizedState;return[typeof n=="boolean"?n:Mu(n),r]},useSyncExternalStore:y_,useId:K_,useHostTransitionStatus:Ud,useFormState:O_,useActionState:O_,useOptimistic:function(n,r){var o=en();return A_(o,be,n,r)},useMemoCache:Od,useCacheRefresh:Y_},k1={readContext:Vn,use:uh,useCallback:H_,useContext:Vn,useEffect:k_,useImperativeHandle:B_,useInsertionEffect:V_,useLayoutEffect:z_,useMemo:q_,useReducer:Md,useRef:D_,useState:function(){return Md(vs)},useDebugValue:kd,useDeferredValue:function(n,r){var o=en();return be===null?Vd(o,n,r):j_(o,be.memoizedState,n,r)},useTransition:function(){var n=Md(vs)[0],r=en().memoizedState;return[typeof n=="boolean"?n:Mu(n),r]},useSyncExternalStore:y_,useId:K_,useHostTransitionStatus:Ud,useFormState:M_,useActionState:M_,useOptimistic:function(n,r){var o=en();return be!==null?A_(o,be,n,r):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:Od,useCacheRefresh:Y_},Il=null,ku=0;function ph(n){var r=ku;return ku+=1,Il===null&&(Il=[]),c_(Il,n,r)}function Vu(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function gh(n,r){throw r.$$typeof===I?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function ty(n){var r=n._init;return r(n._payload)}function ey(n){function r(K,j){if(n){var X=K.deletions;X===null?(K.deletions=[j],K.flags|=16):X.push(j)}}function o(K,j){if(!n)return null;for(;j!==null;)r(K,j),j=j.sibling;return null}function c(K){for(var j=new Map;K!==null;)K.key!==null?j.set(K.key,K):j.set(K.index,K),K=K.sibling;return j}function p(K,j){return K=Ki(K,j),K.index=0,K.sibling=null,K}function g(K,j,X){return K.index=X,n?(X=K.alternate,X!==null?(X=X.index,X<j?(K.flags|=67108866,j):X):(K.flags|=67108866,j)):(K.flags|=1048576,j)}function S(K){return n&&K.alternate===null&&(K.flags|=67108866),K}function x(K,j,X,ut){return j===null||j.tag!==6?(j=Au(X,K.mode,ut),j.return=K,j):(j=p(j,X),j.return=K,j)}function V(K,j,X,ut){var xt=X.type;return xt===H?lt(K,j,X.props.children,ut,X.key):j!==null&&(j.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===O&&ty(xt)===j.type)?(j=p(j,X.props),Vu(j,X),j.return=K,j):(j=Ro(X.type,X.key,X.props,null,K.mode,ut),Vu(j,X),j.return=K,j)}function J(K,j,X,ut){return j===null||j.tag!==4||j.stateNode.containerInfo!==X.containerInfo||j.stateNode.implementation!==X.implementation?(j=vl(X,K.mode,ut),j.return=K,j):(j=p(j,X.children||[]),j.return=K,j)}function lt(K,j,X,ut,xt){return j===null||j.tag!==7?(j=Ur(X,K.mode,ut,xt),j.return=K,j):(j=p(j,X),j.return=K,j)}function ct(K,j,X){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Au(""+j,K.mode,X),j.return=K,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case C:return X=Ro(j.type,j.key,j.props,null,K.mode,X),Vu(X,j),X.return=K,X;case k:return j=vl(j,K.mode,X),j.return=K,j;case O:var ut=j._init;return j=ut(j._payload),ct(K,j,X)}if(Re(j)||F(j))return j=Ur(j,K.mode,X,null),j.return=K,j;if(typeof j.then=="function")return ct(K,ph(j),X);if(j.$$typeof===nt)return ct(K,nh(K,j),X);gh(K,j)}return null}function et(K,j,X,ut){var xt=j!==null?j.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return xt!==null?null:x(K,j,""+X,ut);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case C:return X.key===xt?V(K,j,X,ut):null;case k:return X.key===xt?J(K,j,X,ut):null;case O:return xt=X._init,X=xt(X._payload),et(K,j,X,ut)}if(Re(X)||F(X))return xt!==null?null:lt(K,j,X,ut,null);if(typeof X.then=="function")return et(K,j,ph(X),ut);if(X.$$typeof===nt)return et(K,j,nh(K,X),ut);gh(K,X)}return null}function it(K,j,X,ut,xt){if(typeof ut=="string"&&ut!==""||typeof ut=="number"||typeof ut=="bigint")return K=K.get(X)||null,x(j,K,""+ut,xt);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case C:return K=K.get(ut.key===null?X:ut.key)||null,V(j,K,ut,xt);case k:return K=K.get(ut.key===null?X:ut.key)||null,J(j,K,ut,xt);case O:var Xt=ut._init;return ut=Xt(ut._payload),it(K,j,X,ut,xt)}if(Re(ut)||F(ut))return K=K.get(X)||null,lt(j,K,ut,xt,null);if(typeof ut.then=="function")return it(K,j,X,ph(ut),xt);if(ut.$$typeof===nt)return it(K,j,X,nh(j,ut),xt);gh(j,ut)}return null}function Bt(K,j,X,ut){for(var xt=null,Xt=null,Mt=j,Vt=j=0,vn=null;Mt!==null&&Vt<X.length;Vt++){Mt.index>Vt?(vn=Mt,Mt=null):vn=Mt.sibling;var he=et(K,Mt,X[Vt],ut);if(he===null){Mt===null&&(Mt=vn);break}n&&Mt&&he.alternate===null&&r(K,Mt),j=g(he,j,Vt),Xt===null?xt=he:Xt.sibling=he,Xt=he,Mt=vn}if(Vt===X.length)return o(K,Mt),Ht&&$(K,Vt),xt;if(Mt===null){for(;Vt<X.length;Vt++)Mt=ct(K,X[Vt],ut),Mt!==null&&(j=g(Mt,j,Vt),Xt===null?xt=Mt:Xt.sibling=Mt,Xt=Mt);return Ht&&$(K,Vt),xt}for(Mt=c(Mt);Vt<X.length;Vt++)vn=it(Mt,K,Vt,X[Vt],ut),vn!==null&&(n&&vn.alternate!==null&&Mt.delete(vn.key===null?Vt:vn.key),j=g(vn,j,Vt),Xt===null?xt=vn:Xt.sibling=vn,Xt=vn);return n&&Mt.forEach(function(Ma){return r(K,Ma)}),Ht&&$(K,Vt),xt}function kt(K,j,X,ut){if(X==null)throw Error(s(151));for(var xt=null,Xt=null,Mt=j,Vt=j=0,vn=null,he=X.next();Mt!==null&&!he.done;Vt++,he=X.next()){Mt.index>Vt?(vn=Mt,Mt=null):vn=Mt.sibling;var Ma=et(K,Mt,he.value,ut);if(Ma===null){Mt===null&&(Mt=vn);break}n&&Mt&&Ma.alternate===null&&r(K,Mt),j=g(Ma,j,Vt),Xt===null?xt=Ma:Xt.sibling=Ma,Xt=Ma,Mt=vn}if(he.done)return o(K,Mt),Ht&&$(K,Vt),xt;if(Mt===null){for(;!he.done;Vt++,he=X.next())he=ct(K,he.value,ut),he!==null&&(j=g(he,j,Vt),Xt===null?xt=he:Xt.sibling=he,Xt=he);return Ht&&$(K,Vt),xt}for(Mt=c(Mt);!he.done;Vt++,he=X.next())he=it(Mt,K,Vt,he.value,ut),he!==null&&(n&&he.alternate!==null&&Mt.delete(he.key===null?Vt:he.key),j=g(he,j,Vt),Xt===null?xt=he:Xt.sibling=he,Xt=he);return n&&Mt.forEach(function(VA){return r(K,VA)}),Ht&&$(K,Vt),xt}function Se(K,j,X,ut){if(typeof X=="object"&&X!==null&&X.type===H&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case C:t:{for(var xt=X.key;j!==null;){if(j.key===xt){if(xt=X.type,xt===H){if(j.tag===7){o(K,j.sibling),ut=p(j,X.props.children),ut.return=K,K=ut;break t}}else if(j.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===O&&ty(xt)===j.type){o(K,j.sibling),ut=p(j,X.props),Vu(ut,X),ut.return=K,K=ut;break t}o(K,j);break}else r(K,j);j=j.sibling}X.type===H?(ut=Ur(X.props.children,K.mode,ut,X.key),ut.return=K,K=ut):(ut=Ro(X.type,X.key,X.props,null,K.mode,ut),Vu(ut,X),ut.return=K,K=ut)}return S(K);case k:t:{for(xt=X.key;j!==null;){if(j.key===xt)if(j.tag===4&&j.stateNode.containerInfo===X.containerInfo&&j.stateNode.implementation===X.implementation){o(K,j.sibling),ut=p(j,X.children||[]),ut.return=K,K=ut;break t}else{o(K,j);break}else r(K,j);j=j.sibling}ut=vl(X,K.mode,ut),ut.return=K,K=ut}return S(K);case O:return xt=X._init,X=xt(X._payload),Se(K,j,X,ut)}if(Re(X))return Bt(K,j,X,ut);if(F(X)){if(xt=F(X),typeof xt!="function")throw Error(s(150));return X=xt.call(X),kt(K,j,X,ut)}if(typeof X.then=="function")return Se(K,j,ph(X),ut);if(X.$$typeof===nt)return Se(K,j,nh(K,X),ut);gh(K,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,j!==null&&j.tag===6?(o(K,j.sibling),ut=p(j,X),ut.return=K,K=ut):(o(K,j),ut=Au(X,K.mode,ut),ut.return=K,K=ut),S(K)):o(K,j)}return function(K,j,X,ut){try{ku=0;var xt=Se(K,j,X,ut);return Il=null,xt}catch(Mt){if(Mt===Iu||Mt===rh)throw Mt;var Xt=$n(29,Mt,null,K.mode);return Xt.lanes=ut,Xt.return=K,Xt}finally{}}}var Cl=ey(!0),ny=ey(!1),Qi=ot(null),Hr=null;function ya(n){var r=n.alternate;mt(ln,ln.current&1),mt(Qi,n),Hr===null&&(r===null||bl.current!==null||r.memoizedState!==null)&&(Hr=n)}function iy(n){if(n.tag===22){if(mt(ln,ln.current),mt(Qi,n),Hr===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(Hr=n)}}else va()}function va(){mt(ln,ln.current),mt(Qi,Qi.current)}function Ts(n){_t(Qi),Hr===n&&(Hr=null),_t(ln)}var ln=ot(0);function _h(n){for(var r=n;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Pm(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Hd(n,r,o,c){r=n.memoizedState,o=o(c,r),o=o==null?r:A({},r,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var qd={enqueueSetState:function(n,r,o){n=n._reactInternals;var c=xi(),p=pa(c);p.payload=r,o!=null&&(p.callback=o),r=ga(n,p,c),r!==null&&(Pi(r,n,c),xu(r,n,c))},enqueueReplaceState:function(n,r,o){n=n._reactInternals;var c=xi(),p=pa(c);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=ga(n,p,c),r!==null&&(Pi(r,n,c),xu(r,n,c))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var o=xi(),c=pa(o);c.tag=2,r!=null&&(c.callback=r),r=ga(n,c,o),r!==null&&(Pi(r,n,o),xu(r,n,o))}};function ry(n,r,o,c,p,g,S){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,g,S):r.prototype&&r.prototype.isPureReactComponent?!Kn(o,c)||!Kn(p,g):!0}function sy(n,r,o,c){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==n&&qd.enqueueReplaceState(r,r.state,null)}function Mo(n,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(n=n.defaultProps){o===r&&(o=A({},o));for(var p in n)o[p]===void 0&&(o[p]=n[p])}return o}var yh=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function ay(n){yh(n)}function oy(n){console.error(n)}function ly(n){yh(n)}function vh(n,r){try{var o=n.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function uy(n,r,o){try{var c=n.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function jd(n,r,o){return o=pa(o),o.tag=3,o.payload={element:null},o.callback=function(){vh(n,r)},o}function cy(n){return n=pa(n),n.tag=3,n}function hy(n,r,o,c){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var g=c.value;n.payload=function(){return p(g)},n.callback=function(){uy(r,o,c)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(n.callback=function(){uy(r,o,c),typeof p!="function"&&(Sa===null?Sa=new Set([this]):Sa.add(this));var x=c.stack;this.componentDidCatch(c.value,{componentStack:x!==null?x:""})})}function V1(n,r,o,c,p){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&xo(r,o,p,!0),o=Qi.current,o!==null){switch(o.tag){case 13:return Hr===null?dm():o.alternate===null&&Ze===0&&(Ze=3),o.flags&=-257,o.flags|=65536,o.lanes=p,c===yd?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),pm(n,c,p)),!1;case 22:return o.flags|=65536,c===yd?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),pm(n,c,p)),!1}throw Error(s(435,o.tag))}return pm(n,c,p),dm(),!1}if(Ht)return r=Qi.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=p,c!==gn&&(n=Error(s(422),{cause:c}),da(Yn(n,o)))):(c!==gn&&(r=Error(s(423),{cause:c}),da(Yn(r,o))),n=n.current.alternate,n.flags|=65536,p&=-p,n.lanes|=p,c=Yn(c,o),p=jd(n.stateNode,c,p),Ed(n,p),Ze!==4&&(Ze=2)),!1;var g=Error(s(520),{cause:c});if(g=Yn(g,o),Fu===null?Fu=[g]:Fu.push(g),Ze!==4&&(Ze=2),r===null)return!0;c=Yn(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,n=p&-p,o.lanes|=n,n=jd(o.stateNode,c,n),Ed(o,n),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Sa===null||!Sa.has(g))))return o.flags|=65536,p&=-p,o.lanes|=p,p=cy(p),hy(p,n,o,c),Ed(o,p),!1}o=o.return}while(o!==null);return!1}var fy=Error(s(461)),_n=!1;function An(n,r,o,c){r.child=n===null?ny(r,null,o,c):Cl(r,n.child,o,c)}function dy(n,r,o,c,p){o=o.render;var g=r.ref;if("ref"in c){var S={};for(var x in c)x!=="ref"&&(S[x]=c[x])}else S=c;return Po(r),c=Rd(n,r,o,S,g,p),x=Id(),n!==null&&!_n?(Cd(n,r,p),Es(n,r,p)):(Ht&&x&&dt(r),r.flags|=1,An(n,r,c,p),r.child)}function my(n,r,o,c,p){if(n===null){var g=o.type;return typeof g=="function"&&!yl(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,py(n,r,g,c,p)):(n=Ro(o.type,null,c,r,r.mode,p),n.ref=r.ref,n.return=r,r.child=n)}if(g=n.child,!Xd(n,p)){var S=g.memoizedProps;if(o=o.compare,o=o!==null?o:Kn,o(S,c)&&n.ref===r.ref)return Es(n,r,p)}return r.flags|=1,n=Ki(g,c),n.ref=r.ref,n.return=r,r.child=n}function py(n,r,o,c,p){if(n!==null){var g=n.memoizedProps;if(Kn(g,c)&&n.ref===r.ref)if(_n=!1,r.pendingProps=c=g,Xd(n,p))(n.flags&131072)!==0&&(_n=!0);else return r.lanes=n.lanes,Es(n,r,p)}return Fd(n,r,o,c,p)}function gy(n,r,o){var c=r.pendingProps,p=c.children,g=n!==null?n.memoizedState:null;if(c.mode==="hidden"){if((r.flags&128)!==0){if(c=g!==null?g.baseLanes|o:o,n!==null){for(p=r.child=n.child,g=0;p!==null;)g=g|p.lanes|p.childLanes,p=p.sibling;r.childLanes=g&~c}else r.childLanes=0,r.child=null;return _y(n,r,c,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&ih(r,g!==null?g.cachePool:null),g!==null?p_(r,g):bd(),iy(r);else return r.lanes=r.childLanes=536870912,_y(n,r,g!==null?g.baseLanes|o:o,o)}else g!==null?(ih(r,g.cachePool),p_(r,g),va(),r.memoizedState=null):(n!==null&&ih(r,null),bd(),va());return An(n,r,p,o),r.child}function _y(n,r,o,c){var p=_d();return p=p===null?null:{parent:on._currentValue,pool:p},r.memoizedState={baseLanes:o,cachePool:p},n!==null&&ih(r,null),bd(),iy(r),n!==null&&xo(n,r,c,!0),null}function Th(n,r){var o=r.ref;if(o===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(n===null||n.ref!==o)&&(r.flags|=4194816)}}function Fd(n,r,o,c,p){return Po(r),o=Rd(n,r,o,c,void 0,p),c=Id(),n!==null&&!_n?(Cd(n,r,p),Es(n,r,p)):(Ht&&c&&dt(r),r.flags|=1,An(n,r,o,p),r.child)}function yy(n,r,o,c,p,g){return Po(r),r.updateQueue=null,o=__(r,c,o,p),g_(n),c=Id(),n!==null&&!_n?(Cd(n,r,g),Es(n,r,g)):(Ht&&c&&dt(r),r.flags|=1,An(n,r,o,g),r.child)}function vy(n,r,o,c,p){if(Po(r),r.stateNode===null){var g=_s,S=o.contextType;typeof S=="object"&&S!==null&&(g=Vn(S)),g=new o(c,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=qd,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=c,g.state=r.memoizedState,g.refs={},vd(r),S=o.contextType,g.context=typeof S=="object"&&S!==null?Vn(S):_s,g.state=r.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(Hd(r,o,S,c),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(S=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),S!==g.state&&qd.enqueueReplaceState(g,g.state,null),Ou(r,c,g,p),Pu(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(n===null){g=r.stateNode;var x=r.memoizedProps,V=Mo(o,x);g.props=V;var J=g.context,lt=o.contextType;S=_s,typeof lt=="object"&&lt!==null&&(S=Vn(lt));var ct=o.getDerivedStateFromProps;lt=typeof ct=="function"||typeof g.getSnapshotBeforeUpdate=="function",x=r.pendingProps!==x,lt||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x||J!==S)&&sy(r,g,c,S),ma=!1;var et=r.memoizedState;g.state=et,Ou(r,c,g,p),Pu(),J=r.memoizedState,x||et!==J||ma?(typeof ct=="function"&&(Hd(r,o,ct,c),J=r.memoizedState),(V=ma||ry(r,o,V,c,et,J,S))?(lt||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=J),g.props=c,g.state=J,g.context=S,c=V):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{g=r.stateNode,Td(n,r),S=r.memoizedProps,lt=Mo(o,S),g.props=lt,ct=r.pendingProps,et=g.context,J=o.contextType,V=_s,typeof J=="object"&&J!==null&&(V=Vn(J)),x=o.getDerivedStateFromProps,(J=typeof x=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S!==ct||et!==V)&&sy(r,g,c,V),ma=!1,et=r.memoizedState,g.state=et,Ou(r,c,g,p),Pu();var it=r.memoizedState;S!==ct||et!==it||ma||n!==null&&n.dependencies!==null&&eh(n.dependencies)?(typeof x=="function"&&(Hd(r,o,x,c),it=r.memoizedState),(lt=ma||ry(r,o,lt,c,et,it,V)||n!==null&&n.dependencies!==null&&eh(n.dependencies))?(J||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,it,V),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,it,V)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||S===n.memoizedProps&&et===n.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&et===n.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=it),g.props=c,g.state=it,g.context=V,c=lt):(typeof g.componentDidUpdate!="function"||S===n.memoizedProps&&et===n.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&et===n.memoizedState||(r.flags|=1024),c=!1)}return g=c,Th(n,r),c=(r.flags&128)!==0,g||c?(g=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,n!==null&&c?(r.child=Cl(r,n.child,null,p),r.child=Cl(r,null,o,p)):An(n,r,o,p),r.memoizedState=g.state,n=r.child):n=Es(n,r,p),n}function Ty(n,r,o,c){return fa(),r.flags|=256,An(n,r,o,c),r.child}var Gd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zd(n){return{baseLanes:n,cachePool:o_()}}function Kd(n,r,o){return n=n!==null?n.childLanes&~o:0,r&&(n|=$i),n}function Ey(n,r,o){var c=r.pendingProps,p=!1,g=(r.flags&128)!==0,S;if((S=g)||(S=n!==null&&n.memoizedState===null?!1:(ln.current&2)!==0),S&&(p=!0,r.flags&=-129),S=(r.flags&32)!==0,r.flags&=-33,n===null){if(Ht){if(p?ya(r):va(),Ht){var x=Ot,V;if(V=x){t:{for(V=x,x=Be;V.nodeType!==8;){if(!x){x=null;break t}if(V=yr(V.nextSibling),V===null){x=null;break t}}x=V}x!==null?(r.memoizedState={dehydrated:x,treeContext:w!==null?{id:R,overflow:N}:null,retryLane:536870912,hydrationErrors:null},V=$n(18,null,null,0),V.stateNode=x,V.return=r,r.child=V,Ct=r,Ot=null,V=!0):V=!1}V||ni(r)}if(x=r.memoizedState,x!==null&&(x=x.dehydrated,x!==null))return Pm(x)?r.lanes=32:r.lanes=536870912,null;Ts(r)}return x=c.children,c=c.fallback,p?(va(),p=r.mode,x=Eh({mode:"hidden",children:x},p),c=Ur(c,p,o,null),x.return=r,c.return=r,x.sibling=c,r.child=x,p=r.child,p.memoizedState=Zd(o),p.childLanes=Kd(n,S,o),r.memoizedState=Gd,c):(ya(r),Yd(r,x))}if(V=n.memoizedState,V!==null&&(x=V.dehydrated,x!==null)){if(g)r.flags&256?(ya(r),r.flags&=-257,r=Qd(n,r,o)):r.memoizedState!==null?(va(),r.child=n.child,r.flags|=128,r=null):(va(),p=c.fallback,x=r.mode,c=Eh({mode:"visible",children:c.children},x),p=Ur(p,x,o,null),p.flags|=2,c.return=r,p.return=r,c.sibling=p,r.child=c,Cl(r,n.child,null,o),c=r.child,c.memoizedState=Zd(o),c.childLanes=Kd(n,S,o),r.memoizedState=Gd,r=p);else if(ya(r),Pm(x)){if(S=x.nextSibling&&x.nextSibling.dataset,S)var J=S.dgst;S=J,c=Error(s(419)),c.stack="",c.digest=S,da({value:c,source:null,stack:null}),r=Qd(n,r,o)}else if(_n||xo(n,r,o,!1),S=(o&n.childLanes)!==0,_n||S){if(S=De,S!==null&&(c=o&-o,c=(c&42)!==0?1:Ir(c),c=(c&(S.suspendedLanes|o))!==0?0:c,c!==0&&c!==V.retryLane))throw V.retryLane=c,ca(n,c),Pi(S,n,c),fy;x.data==="$?"||dm(),r=Qd(n,r,o)}else x.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=V.treeContext,Ot=yr(x.nextSibling),Ct=r,Ht=!0,Me=null,Be=!1,n!==null&&(m[v++]=R,m[v++]=N,m[v++]=w,R=n.id,N=n.overflow,w=r),r=Yd(r,c.children),r.flags|=4096);return r}return p?(va(),p=c.fallback,x=r.mode,V=n.child,J=V.sibling,c=Ki(V,{mode:"hidden",children:c.children}),c.subtreeFlags=V.subtreeFlags&65011712,J!==null?p=Ki(J,p):(p=Ur(p,x,o,null),p.flags|=2),p.return=r,c.return=r,c.sibling=p,r.child=c,c=p,p=r.child,x=n.child.memoizedState,x===null?x=Zd(o):(V=x.cachePool,V!==null?(J=on._currentValue,V=V.parent!==J?{parent:J,pool:J}:V):V=o_(),x={baseLanes:x.baseLanes|o,cachePool:V}),p.memoizedState=x,p.childLanes=Kd(n,S,o),r.memoizedState=Gd,c):(ya(r),o=n.child,n=o.sibling,o=Ki(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,n!==null&&(S=r.deletions,S===null?(r.deletions=[n],r.flags|=16):S.push(n)),r.child=o,r.memoizedState=null,o)}function Yd(n,r){return r=Eh({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Eh(n,r){return n=$n(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Qd(n,r,o){return Cl(r,n.child,null,o),n=Yd(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function wy(n,r,o){n.lanes|=r;var c=n.alternate;c!==null&&(c.lanes|=r),Co(n.return,r,o)}function $d(n,r,o,c,p){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:p}:(g.isBackwards=r,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=o,g.tailMode=p)}function by(n,r,o){var c=r.pendingProps,p=c.revealOrder,g=c.tail;if(An(n,r,c.children,o),c=ln.current,(c&2)!==0)c=c&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&wy(n,o,r);else if(n.tag===19)wy(n,o,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break t;for(;n.sibling===null;){if(n.return===null||n.return===r)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}switch(mt(ln,c),p){case"forwards":for(o=r.child,p=null;o!==null;)n=o.alternate,n!==null&&_h(n)===null&&(p=o),o=o.sibling;o=p,o===null?(p=r.child,r.child=null):(p=o.sibling,o.sibling=null),$d(r,!1,p,o,g);break;case"backwards":for(o=null,p=r.child,r.child=null;p!==null;){if(n=p.alternate,n!==null&&_h(n)===null){r.child=p;break}n=p.sibling,p.sibling=o,o=p,p=n}$d(r,!0,o,null,g);break;case"together":$d(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Es(n,r,o){if(n!==null&&(r.dependencies=n.dependencies),Aa|=r.lanes,(o&r.childLanes)===0)if(n!==null){if(xo(n,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,o=Ki(n,n.pendingProps),r.child=o,o.return=r;n.sibling!==null;)n=n.sibling,o=o.sibling=Ki(n,n.pendingProps),o.return=r;o.sibling=null}return r.child}function Xd(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&eh(n)))}function z1(n,r,o){switch(r.tag){case 3:re(r,r.stateNode.containerInfo),Br(r,on,n.memoizedState.cache),fa();break;case 27:case 5:Li(r);break;case 4:re(r,r.stateNode.containerInfo);break;case 10:Br(r,r.type,r.memoizedProps.value);break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(ya(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Ey(n,r,o):(ya(r),n=Es(n,r,o),n!==null?n.sibling:null);ya(r);break;case 19:var p=(n.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(xo(n,r,o,!1),c=(o&r.childLanes)!==0),p){if(c)return by(n,r,o);r.flags|=128}if(p=r.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),mt(ln,ln.current),c)break;return null;case 22:case 23:return r.lanes=0,gy(n,r,o);case 24:Br(r,on,n.memoizedState.cache)}return Es(n,r,o)}function Ay(n,r,o){if(n!==null)if(n.memoizedProps!==r.pendingProps)_n=!0;else{if(!Xd(n,o)&&(r.flags&128)===0)return _n=!1,z1(n,r,o);_n=(n.flags&131072)!==0}else _n=!1,Ht&&(r.flags&1048576)!==0&&rt(r,u,r.index);switch(r.lanes=0,r.tag){case 16:t:{n=r.pendingProps;var c=r.elementType,p=c._init;if(c=p(c._payload),r.type=c,typeof c=="function")yl(c)?(n=Mo(c,n),r.tag=1,r=vy(null,r,c,n,o)):(r.tag=0,r=Fd(null,r,c,n,o));else{if(c!=null){if(p=c.$$typeof,p===gt){r.tag=11,r=dy(null,r,c,n,o);break t}else if(p===z){r.tag=14,r=my(null,r,c,n,o);break t}}throw r=pe(c)||c,Error(s(306,r,""))}}return r;case 0:return Fd(n,r,r.type,r.pendingProps,o);case 1:return c=r.type,p=Mo(c,r.pendingProps),vy(n,r,c,p,o);case 3:t:{if(re(r,r.stateNode.containerInfo),n===null)throw Error(s(387));c=r.pendingProps;var g=r.memoizedState;p=g.element,Td(n,r),Ou(r,c,null,o);var S=r.memoizedState;if(c=S.cache,Br(r,on,c),c!==g.cache&&Tl(r,[on],o,!0),Pu(),c=S.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:S.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=Ty(n,r,c,o);break t}else if(c!==p){p=Yn(Error(s(424)),r),da(p),r=Ty(n,r,c,o);break t}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Ot=yr(n.firstChild),Ct=r,Ht=!0,Me=null,Be=!0,o=ny(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(fa(),c===p){r=Es(n,r,o);break t}An(n,r,c,o)}r=r.child}return r;case 26:return Th(n,r),n===null?(o=Cv(r.type,null,r.pendingProps,null))?r.memoizedState=o:Ht||(o=r.type,n=r.pendingProps,c=Nh(wt.current).createElement(o),c[Ke]=r,c[Fe]=n,Rn(c,o,n),Ue(c),r.stateNode=c):r.memoizedState=Cv(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Li(r),n===null&&Ht&&(c=r.stateNode=Sv(r.type,r.pendingProps,wt.current),Ct=r,Be=!0,p=Ot,Ca(r.type)?(Om=p,Ot=yr(c.firstChild)):Ot=p),An(n,r,r.pendingProps.children,o),Th(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Ht&&((p=c=Ot)&&(c=fA(c,r.type,r.pendingProps,Be),c!==null?(r.stateNode=c,Ct=r,Ot=yr(c.firstChild),Be=!1,p=!0):p=!1),p||ni(r)),Li(r),p=r.type,g=r.pendingProps,S=n!==null?n.memoizedProps:null,c=g.children,Im(p,g)?c=null:S!==null&&Im(p,S)&&(r.flags|=32),r.memoizedState!==null&&(p=Rd(n,r,P1,null,null,o),Ju._currentValue=p),Th(n,r),An(n,r,c,o),r.child;case 6:return n===null&&Ht&&((n=o=Ot)&&(o=dA(o,r.pendingProps,Be),o!==null?(r.stateNode=o,Ct=r,Ot=null,n=!0):n=!1),n||ni(r)),null;case 13:return Ey(n,r,o);case 4:return re(r,r.stateNode.containerInfo),c=r.pendingProps,n===null?r.child=Cl(r,null,c,o):An(n,r,c,o),r.child;case 11:return dy(n,r,r.type,r.pendingProps,o);case 7:return An(n,r,r.pendingProps,o),r.child;case 8:return An(n,r,r.pendingProps.children,o),r.child;case 12:return An(n,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,Br(r,r.type,c.value),An(n,r,c.children,o),r.child;case 9:return p=r.type._context,c=r.pendingProps.children,Po(r),p=Vn(p),c=c(p),r.flags|=1,An(n,r,c,o),r.child;case 14:return my(n,r,r.type,r.pendingProps,o);case 15:return py(n,r,r.type,r.pendingProps,o);case 19:return by(n,r,o);case 31:return c=r.pendingProps,o=r.mode,c={mode:c.mode,children:c.children},n===null?(o=Eh(c,o),o.ref=r.ref,r.child=o,o.return=r,r=o):(o=Ki(n.child,c),o.ref=r.ref,r.child=o,o.return=r,r=o),r;case 22:return gy(n,r,o);case 24:return Po(r),c=Vn(on),n===null?(p=_d(),p===null&&(p=De,g=pd(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=o),p=g),r.memoizedState={parent:c,cache:p},vd(r),Br(r,on,p)):((n.lanes&o)!==0&&(Td(n,r),Ou(r,null,null,o),Pu()),p=n.memoizedState,g=r.memoizedState,p.parent!==c?(p={parent:c,cache:c},r.memoizedState=p,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=p),Br(r,on,c)):(c=g.cache,Br(r,on,c),c!==p.cache&&Tl(r,[on],o,!0))),An(n,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ws(n){n.flags|=4}function Sy(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Mv(r)){if(r=Qi.current,r!==null&&((oe&4194048)===oe?Hr!==null:(oe&62914560)!==oe&&(oe&536870912)===0||r!==Hr))throw Cu=yd,l_;n.flags|=8192}}function wh(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?js():536870912,n.lanes|=r,Ll|=r)}function zu(n,r){if(!Ht)switch(n.tailMode){case"hidden":r=n.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function He(n){var r=n.alternate!==null&&n.alternate.child===n.child,o=0,c=0;if(r)for(var p=n.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=n,p=p.sibling;else for(p=n.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=n,p=p.sibling;return n.subtreeFlags|=c,n.childLanes=o,r}function U1(n,r,o){var c=r.pendingProps;switch(At(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(r),null;case 1:return He(r),null;case 3:return o=r.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),gr(on),ui(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(Io(r)?ws(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,th())),He(r),null;case 26:return o=r.memoizedState,n===null?(ws(r),o!==null?(He(r),Sy(r,o)):(He(r),r.flags&=-16777217)):o?o!==n.memoizedState?(ws(r),He(r),Sy(r,o)):(He(r),r.flags&=-16777217):(n.memoizedProps!==c&&ws(r),He(r),r.flags&=-16777217),null;case 27:ci(r),o=wt.current;var p=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==c&&ws(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return He(r),null}n=bt.current,Io(r)?Wc(r):(n=Sv(p,c,o),r.stateNode=n,ws(r))}return He(r),null;case 5:if(ci(r),o=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==c&&ws(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return He(r),null}if(n=bt.current,Io(r))Wc(r);else{switch(p=Nh(wt.current),n){case 1:n=p.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=p.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=p.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?n.multiple=!0:c.size&&(n.size=c.size);break;default:n=typeof c.is=="string"?p.createElement(o,{is:c.is}):p.createElement(o)}}n[Ke]=r,n[Fe]=c;t:for(p=r.child;p!==null;){if(p.tag===5||p.tag===6)n.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===r)break t;for(;p.sibling===null;){if(p.return===null||p.return===r)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}r.stateNode=n;t:switch(Rn(n,o,c),o){case"button":case"input":case"select":case"textarea":n=!!c.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&ws(r)}}return He(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==c&&ws(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(n=wt.current,Io(r)){if(n=r.stateNode,o=r.memoizedProps,c=null,p=Ct,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}n[Ke]=r,n=!!(n.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||yv(n.nodeValue,o)),n||ni(r)}else n=Nh(n).createTextNode(c),n[Ke]=r,r.stateNode=n}return He(r),null;case 13:if(c=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(p=Io(r),c!==null&&c.dehydrated!==null){if(n===null){if(!p)throw Error(s(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[Ke]=r}else fa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;He(r),p=!1}else p=th(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=p),p=!0;if(!p)return r.flags&256?(Ts(r),r):(Ts(r),null)}if(Ts(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=c!==null,n=n!==null&&n.memoizedState!==null,o){c=r.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==p&&(c.flags|=2048)}return o!==n&&o&&(r.child.flags|=8192),wh(r,r.updateQueue),He(r),null;case 4:return ui(),n===null&&wm(r.stateNode.containerInfo),He(r),null;case 10:return gr(r.type),He(r),null;case 19:if(_t(ln),p=r.memoizedState,p===null)return He(r),null;if(c=(r.flags&128)!==0,g=p.rendering,g===null)if(c)zu(p,!1);else{if(Ze!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(g=_h(n),g!==null){for(r.flags|=128,zu(p,!1),n=g.updateQueue,r.updateQueue=n,wh(r,n),r.subtreeFlags=0,n=o,o=r.child;o!==null;)bu(o,n),o=o.sibling;return mt(ln,ln.current&1|2),r.child}n=n.sibling}p.tail!==null&&Pn()>Sh&&(r.flags|=128,c=!0,zu(p,!1),r.lanes=4194304)}else{if(!c)if(n=_h(g),n!==null){if(r.flags|=128,c=!0,n=n.updateQueue,r.updateQueue=n,wh(r,n),zu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!g.alternate&&!Ht)return He(r),null}else 2*Pn()-p.renderingStartTime>Sh&&o!==536870912&&(r.flags|=128,c=!0,zu(p,!1),r.lanes=4194304);p.isBackwards?(g.sibling=r.child,r.child=g):(n=p.last,n!==null?n.sibling=g:r.child=g,p.last=g)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=Pn(),r.sibling=null,n=ln.current,mt(ln,c?n&1|2:n&1),r):(He(r),null);case 22:case 23:return Ts(r),Ad(),c=r.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(He(r),r.subtreeFlags&6&&(r.flags|=8192)):He(r),o=r.updateQueue,o!==null&&wh(r,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),n!==null&&_t(Oo),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),gr(on),He(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function B1(n,r){switch(At(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return gr(on),ui(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return ci(r),null;case 13:if(Ts(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));fa()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return _t(ln),null;case 4:return ui(),null;case 10:return gr(r.type),null;case 22:case 23:return Ts(r),Ad(),n!==null&&_t(Oo),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return gr(on),null;case 25:return null;default:return null}}function Ry(n,r){switch(At(r),r.tag){case 3:gr(on),ui();break;case 26:case 27:case 5:ci(r);break;case 4:ui();break;case 13:Ts(r);break;case 19:_t(ln);break;case 10:gr(r.type);break;case 22:case 23:Ts(r),Ad(),n!==null&&_t(Oo);break;case 24:gr(on)}}function Uu(n,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var p=c.next;o=p;do{if((o.tag&n)===n){c=void 0;var g=o.create,S=o.inst;c=g(),S.destroy=c}o=o.next}while(o!==p)}}catch(x){Ce(r,r.return,x)}}function Ta(n,r,o){try{var c=r.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var g=p.next;c=g;do{if((c.tag&n)===n){var S=c.inst,x=S.destroy;if(x!==void 0){S.destroy=void 0,p=r;var V=o,J=x;try{J()}catch(lt){Ce(p,V,lt)}}}c=c.next}while(c!==g)}}catch(lt){Ce(r,r.return,lt)}}function Iy(n){var r=n.updateQueue;if(r!==null){var o=n.stateNode;try{m_(r,o)}catch(c){Ce(n,n.return,c)}}}function Cy(n,r,o){o.props=Mo(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(c){Ce(n,r,c)}}function Bu(n,r){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof o=="function"?n.refCleanup=o(c):o.current=c}}catch(p){Ce(n,r,p)}}function qr(n,r){var o=n.ref,c=n.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(p){Ce(n,r,p)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){Ce(n,r,p)}else o.current=null}function xy(n){var r=n.type,o=n.memoizedProps,c=n.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(p){Ce(n,n.return,p)}}function Wd(n,r,o){try{var c=n.stateNode;oA(c,n.type,o,r),c[Fe]=r}catch(p){Ce(n,n.return,p)}}function Py(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ca(n.type)||n.tag===4}function Jd(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||Py(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ca(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function tm(n,r,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(n),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Dh));else if(c!==4&&(c===27&&Ca(n.type)&&(o=n.stateNode,r=null),n=n.child,n!==null))for(tm(n,r,o),n=n.sibling;n!==null;)tm(n,r,o),n=n.sibling}function bh(n,r,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?o.insertBefore(n,r):o.appendChild(n);else if(c!==4&&(c===27&&Ca(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(bh(n,r,o),n=n.sibling;n!==null;)bh(n,r,o),n=n.sibling}function Oy(n){var r=n.stateNode,o=n.memoizedProps;try{for(var c=n.type,p=r.attributes;p.length;)r.removeAttributeNode(p[0]);Rn(r,c,o),r[Ke]=n,r[Fe]=o}catch(g){Ce(n,n.return,g)}}var bs=!1,$e=!1,em=!1,Ly=typeof WeakSet=="function"?WeakSet:Set,yn=null;function H1(n,r){if(n=n.containerInfo,Sm=Hh,n=To(n),Eo(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else t:{o=(o=n.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var p=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var S=0,x=-1,V=-1,J=0,lt=0,ct=n,et=null;e:for(;;){for(var it;ct!==o||p!==0&&ct.nodeType!==3||(x=S+p),ct!==g||c!==0&&ct.nodeType!==3||(V=S+c),ct.nodeType===3&&(S+=ct.nodeValue.length),(it=ct.firstChild)!==null;)et=ct,ct=it;for(;;){if(ct===n)break e;if(et===o&&++J===p&&(x=S),et===g&&++lt===c&&(V=S),(it=ct.nextSibling)!==null)break;ct=et,et=ct.parentNode}ct=it}o=x===-1||V===-1?null:{start:x,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(Rm={focusedElem:n,selectionRange:o},Hh=!1,yn=r;yn!==null;)if(r=yn,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,yn=n;else for(;yn!==null;){switch(r=yn,g=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&g!==null){n=void 0,o=r,p=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var Bt=Mo(o.type,p,o.elementType===o.type);n=c.getSnapshotBeforeUpdate(Bt,g),c.__reactInternalSnapshotBeforeUpdate=n}catch(kt){Ce(o,o.return,kt)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,o=n.nodeType,o===9)xm(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":xm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,yn=n;break}yn=r.return}}function My(n,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Ea(n,o),c&4&&Uu(5,o);break;case 1:if(Ea(n,o),c&4)if(n=o.stateNode,r===null)try{n.componentDidMount()}catch(S){Ce(o,o.return,S)}else{var p=Mo(o.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(p,r,n.__reactInternalSnapshotBeforeUpdate)}catch(S){Ce(o,o.return,S)}}c&64&&Iy(o),c&512&&Bu(o,o.return);break;case 3:if(Ea(n,o),c&64&&(n=o.updateQueue,n!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{m_(n,r)}catch(S){Ce(o,o.return,S)}}break;case 27:r===null&&c&4&&Oy(o);case 26:case 5:Ea(n,o),r===null&&c&4&&xy(o),c&512&&Bu(o,o.return);break;case 12:Ea(n,o);break;case 13:Ea(n,o),c&4&&ky(n,o),c&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=$1.bind(null,o),mA(n,o))));break;case 22:if(c=o.memoizedState!==null||bs,!c){r=r!==null&&r.memoizedState!==null||$e,p=bs;var g=$e;bs=c,($e=r)&&!g?wa(n,o,(o.subtreeFlags&8772)!==0):Ea(n,o),bs=p,$e=g}break;case 30:break;default:Ea(n,o)}}function Dy(n){var r=n.alternate;r!==null&&(n.alternate=null,Dy(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&rr(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ze=null,ri=!1;function As(n,r,o){for(o=o.child;o!==null;)Ny(n,r,o),o=o.sibling}function Ny(n,r,o){if(ue&&typeof ue.onCommitFiberUnmount=="function")try{ue.onCommitFiberUnmount(xe,o)}catch{}switch(o.tag){case 26:$e||qr(o,r),As(n,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:$e||qr(o,r);var c=ze,p=ri;Ca(o.type)&&(ze=o.stateNode,ri=!1),As(n,r,o),Qu(o.stateNode),ze=c,ri=p;break;case 5:$e||qr(o,r);case 6:if(c=ze,p=ri,ze=null,As(n,r,o),ze=c,ri=p,ze!==null)if(ri)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(o.stateNode)}catch(g){Ce(o,r,g)}else try{ze.removeChild(o.stateNode)}catch(g){Ce(o,r,g)}break;case 18:ze!==null&&(ri?(n=ze,bv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),ic(n)):bv(ze,o.stateNode));break;case 4:c=ze,p=ri,ze=o.stateNode.containerInfo,ri=!0,As(n,r,o),ze=c,ri=p;break;case 0:case 11:case 14:case 15:$e||Ta(2,o,r),$e||Ta(4,o,r),As(n,r,o);break;case 1:$e||(qr(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Cy(o,r,c)),As(n,r,o);break;case 21:As(n,r,o);break;case 22:$e=(c=$e)||o.memoizedState!==null,As(n,r,o),$e=c;break;default:As(n,r,o)}}function ky(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{ic(n)}catch(o){Ce(r,r.return,o)}}function q1(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new Ly),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new Ly),r;default:throw Error(s(435,n.tag))}}function nm(n,r){var o=q1(n);r.forEach(function(c){var p=X1.bind(null,n,c);o.has(c)||(o.add(c),c.then(p,p))})}function Ri(n,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var p=o[c],g=n,S=r,x=S;t:for(;x!==null;){switch(x.tag){case 27:if(Ca(x.type)){ze=x.stateNode,ri=!1;break t}break;case 5:ze=x.stateNode,ri=!1;break t;case 3:case 4:ze=x.stateNode.containerInfo,ri=!0;break t}x=x.return}if(ze===null)throw Error(s(160));Ny(g,S,p),ze=null,ri=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Vy(r,n),r=r.sibling}var _r=null;function Vy(n,r){var o=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Ri(r,n),Ii(n),c&4&&(Ta(3,n,n.return),Uu(3,n),Ta(5,n,n.return));break;case 1:Ri(r,n),Ii(n),c&512&&($e||o===null||qr(o,o.return)),c&64&&bs&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var p=_r;if(Ri(r,n),Ii(n),c&512&&($e||o===null||qr(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=n.memoizedState,o===null)if(c===null)if(n.stateNode===null){t:{c=n.type,o=n.memoizedProps,p=p.ownerDocument||p;e:switch(c){case"title":g=p.getElementsByTagName("title")[0],(!g||g[xr]||g[Ke]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(c),p.head.insertBefore(g,p.querySelector("head > title"))),Rn(g,c,o),g[Ke]=n,Ue(g),c=g;break t;case"link":var S=Ov("link","href",p).get(c+(o.href||""));if(S){for(var x=0;x<S.length;x++)if(g=S[x],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(x,1);break e}}g=p.createElement(c),Rn(g,c,o),p.head.appendChild(g);break;case"meta":if(S=Ov("meta","content",p).get(c+(o.content||""))){for(x=0;x<S.length;x++)if(g=S[x],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(x,1);break e}}g=p.createElement(c),Rn(g,c,o),p.head.appendChild(g);break;default:throw Error(s(468,c))}g[Ke]=n,Ue(g),c=g}n.stateNode=c}else Lv(p,n.type,n.stateNode);else n.stateNode=Pv(p,c,n.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?Lv(p,n.type,n.stateNode):Pv(p,c,n.memoizedProps)):c===null&&n.stateNode!==null&&Wd(n,n.memoizedProps,o.memoizedProps)}break;case 27:Ri(r,n),Ii(n),c&512&&($e||o===null||qr(o,o.return)),o!==null&&c&4&&Wd(n,n.memoizedProps,o.memoizedProps);break;case 5:if(Ri(r,n),Ii(n),c&512&&($e||o===null||qr(o,o.return)),n.flags&32){p=n.stateNode;try{dn(p,"")}catch(it){Ce(n,n.return,it)}}c&4&&n.stateNode!=null&&(p=n.memoizedProps,Wd(n,p,o!==null?o.memoizedProps:p)),c&1024&&(em=!0);break;case 6:if(Ri(r,n),Ii(n),c&4){if(n.stateNode===null)throw Error(s(162));c=n.memoizedProps,o=n.stateNode;try{o.nodeValue=c}catch(it){Ce(n,n.return,it)}}break;case 3:if(zh=null,p=_r,_r=kh(r.containerInfo),Ri(r,n),_r=p,Ii(n),c&4&&o!==null&&o.memoizedState.isDehydrated)try{ic(r.containerInfo)}catch(it){Ce(n,n.return,it)}em&&(em=!1,zy(n));break;case 4:c=_r,_r=kh(n.stateNode.containerInfo),Ri(r,n),Ii(n),_r=c;break;case 12:Ri(r,n),Ii(n);break;case 13:Ri(r,n),Ii(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(lm=Pn()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,nm(n,c)));break;case 22:p=n.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,J=bs,lt=$e;if(bs=J||p,$e=lt||V,Ri(r,n),$e=lt,bs=J,Ii(n),c&8192)t:for(r=n.stateNode,r._visibility=p?r._visibility&-2:r._visibility|1,p&&(o===null||V||bs||$e||Do(n)),o=null,r=n;;){if(r.tag===5||r.tag===26){if(o===null){V=o=r;try{if(g=V.stateNode,p)S=g.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{x=V.stateNode;var ct=V.memoizedProps.style,et=ct!=null&&ct.hasOwnProperty("display")?ct.display:null;x.style.display=et==null||typeof et=="boolean"?"":(""+et).trim()}}catch(it){Ce(V,V.return,it)}}}else if(r.tag===6){if(o===null){V=r;try{V.stateNode.nodeValue=p?"":V.memoizedProps}catch(it){Ce(V,V.return,it)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break t;for(;r.sibling===null;){if(r.return===null||r.return===n)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=n.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,nm(n,o))));break;case 19:Ri(r,n),Ii(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,nm(n,c)));break;case 30:break;case 21:break;default:Ri(r,n),Ii(n)}}function Ii(n){var r=n.flags;if(r&2){try{for(var o,c=n.return;c!==null;){if(Py(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var p=o.stateNode,g=Jd(n);bh(n,g,p);break;case 5:var S=o.stateNode;o.flags&32&&(dn(S,""),o.flags&=-33);var x=Jd(n);bh(n,x,S);break;case 3:case 4:var V=o.stateNode.containerInfo,J=Jd(n);tm(n,J,V);break;default:throw Error(s(161))}}catch(lt){Ce(n,n.return,lt)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function zy(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;zy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Ea(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)My(n,r.alternate,r),r=r.sibling}function Do(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Ta(4,r,r.return),Do(r);break;case 1:qr(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&Cy(r,r.return,o),Do(r);break;case 27:Qu(r.stateNode);case 26:case 5:qr(r,r.return),Do(r);break;case 22:r.memoizedState===null&&Do(r);break;case 30:Do(r);break;default:Do(r)}n=n.sibling}}function wa(n,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,p=n,g=r,S=g.flags;switch(g.tag){case 0:case 11:case 15:wa(p,g,o),Uu(4,g);break;case 1:if(wa(p,g,o),c=g,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(J){Ce(c,c.return,J)}if(c=g,p=c.updateQueue,p!==null){var x=c.stateNode;try{var V=p.shared.hiddenCallbacks;if(V!==null)for(p.shared.hiddenCallbacks=null,p=0;p<V.length;p++)d_(V[p],x)}catch(J){Ce(c,c.return,J)}}o&&S&64&&Iy(g),Bu(g,g.return);break;case 27:Oy(g);case 26:case 5:wa(p,g,o),o&&c===null&&S&4&&xy(g),Bu(g,g.return);break;case 12:wa(p,g,o);break;case 13:wa(p,g,o),o&&S&4&&ky(p,g);break;case 22:g.memoizedState===null&&wa(p,g,o),Bu(g,g.return);break;case 30:break;default:wa(p,g,o)}r=r.sibling}}function im(n,r){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&Su(o))}function rm(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Su(n))}function jr(n,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Uy(n,r,o,c),r=r.sibling}function Uy(n,r,o,c){var p=r.flags;switch(r.tag){case 0:case 11:case 15:jr(n,r,o,c),p&2048&&Uu(9,r);break;case 1:jr(n,r,o,c);break;case 3:jr(n,r,o,c),p&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Su(n)));break;case 12:if(p&2048){jr(n,r,o,c),n=r.stateNode;try{var g=r.memoizedProps,S=g.id,x=g.onPostCommit;typeof x=="function"&&x(S,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(V){Ce(r,r.return,V)}}else jr(n,r,o,c);break;case 13:jr(n,r,o,c);break;case 23:break;case 22:g=r.stateNode,S=r.alternate,r.memoizedState!==null?g._visibility&2?jr(n,r,o,c):Hu(n,r):g._visibility&2?jr(n,r,o,c):(g._visibility|=2,xl(n,r,o,c,(r.subtreeFlags&10256)!==0)),p&2048&&im(S,r);break;case 24:jr(n,r,o,c),p&2048&&rm(r.alternate,r);break;default:jr(n,r,o,c)}}function xl(n,r,o,c,p){for(p=p&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var g=n,S=r,x=o,V=c,J=S.flags;switch(S.tag){case 0:case 11:case 15:xl(g,S,x,V,p),Uu(8,S);break;case 23:break;case 22:var lt=S.stateNode;S.memoizedState!==null?lt._visibility&2?xl(g,S,x,V,p):Hu(g,S):(lt._visibility|=2,xl(g,S,x,V,p)),p&&J&2048&&im(S.alternate,S);break;case 24:xl(g,S,x,V,p),p&&J&2048&&rm(S.alternate,S);break;default:xl(g,S,x,V,p)}r=r.sibling}}function Hu(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=n,c=r,p=c.flags;switch(c.tag){case 22:Hu(o,c),p&2048&&im(c.alternate,c);break;case 24:Hu(o,c),p&2048&&rm(c.alternate,c);break;default:Hu(o,c)}r=r.sibling}}var qu=8192;function Pl(n){if(n.subtreeFlags&qu)for(n=n.child;n!==null;)By(n),n=n.sibling}function By(n){switch(n.tag){case 26:Pl(n),n.flags&qu&&n.memoizedState!==null&&IA(_r,n.memoizedState,n.memoizedProps);break;case 5:Pl(n);break;case 3:case 4:var r=_r;_r=kh(n.stateNode.containerInfo),Pl(n),_r=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=qu,qu=16777216,Pl(n),qu=r):Pl(n));break;default:Pl(n)}}function Hy(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function ju(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];yn=c,jy(c,n)}Hy(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)qy(n),n=n.sibling}function qy(n){switch(n.tag){case 0:case 11:case 15:ju(n),n.flags&2048&&Ta(9,n,n.return);break;case 3:ju(n);break;case 12:ju(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Ah(n)):ju(n);break;default:ju(n)}}function Ah(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];yn=c,jy(c,n)}Hy(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Ta(8,r,r.return),Ah(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Ah(r));break;default:Ah(r)}n=n.sibling}}function jy(n,r){for(;yn!==null;){var o=yn;switch(o.tag){case 0:case 11:case 15:Ta(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Su(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,yn=c;else t:for(o=n;yn!==null;){c=yn;var p=c.sibling,g=c.return;if(Dy(c),c===o){yn=null;break t}if(p!==null){p.return=g,yn=p;break t}yn=g}}}var j1={getCacheForType:function(n){var r=Vn(on),o=r.data.get(n);return o===void 0&&(o=n(),r.data.set(n,o)),o}},F1=typeof WeakMap=="function"?WeakMap:Map,_e=0,De=null,Wt=null,oe=0,ye=0,Ci=null,ba=!1,Ol=!1,sm=!1,Ss=0,Ze=0,Aa=0,No=0,am=0,$i=0,Ll=0,Fu=null,si=null,om=!1,lm=0,Sh=1/0,Rh=null,Sa=null,Sn=0,Ra=null,Ml=null,Dl=0,um=0,cm=null,Fy=null,Gu=0,hm=null;function xi(){if((_e&2)!==0&&oe!==0)return oe&-oe;if(at.T!==null){var n=El;return n!==0?n:ym()}return Cr()}function Gy(){$i===0&&($i=(oe&536870912)===0||Ht?so():536870912);var n=Qi.current;return n!==null&&(n.flags|=32),$i}function Pi(n,r,o){(n===De&&(ye===2||ye===9)||n.cancelPendingCommit!==null)&&(Nl(n,0),Ia(n,oe,$i,!1)),Di(n,o),((_e&2)===0||n!==De)&&(n===De&&((_e&2)===0&&(No|=o),Ze===4&&Ia(n,oe,$i,!1)),Fr(n))}function Zy(n,r,o){if((_e&6)!==0)throw Error(s(327));var c=!o&&(r&124)===0&&(r&n.expiredLanes)===0||fi(n,r),p=c?K1(n,r):mm(n,r,!0),g=c;do{if(p===0){Ol&&!c&&Ia(n,r,0,!1);break}else{if(o=n.current.alternate,g&&!G1(o)){p=mm(n,r,!1),g=!1;continue}if(p===2){if(g=r,n.errorRecoveryDisabledLanes&g)var S=0;else S=n.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){r=S;t:{var x=n;p=Fu;var V=x.current.memoizedState.isDehydrated;if(V&&(Nl(x,S).flags|=256),S=mm(x,S,!1),S!==2){if(sm&&!V){x.errorRecoveryDisabledLanes|=g,No|=g,p=4;break t}g=si,si=p,g!==null&&(si===null?si=g:si.push.apply(si,g))}p=S}if(g=!1,p!==2)continue}}if(p===1){Nl(n,0),Ia(n,r,0,!0);break}t:{switch(c=n,g=p,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Ia(c,r,$i,!ba);break t;case 2:si=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(p=lm+300-Pn(),10<p)){if(Ia(c,r,$i,!ba),qs(c,0,!0)!==0)break t;c.timeoutHandle=Ev(Ky.bind(null,c,o,si,Rh,om,r,$i,No,Ll,ba,g,2,-0,0),p);break t}Ky(c,o,si,Rh,om,r,$i,No,Ll,ba,g,0,-0,0)}}break}while(!0);Fr(n)}function Ky(n,r,o,c,p,g,S,x,V,J,lt,ct,et,it){if(n.timeoutHandle=-1,ct=r.subtreeFlags,(ct&8192||(ct&16785408)===16785408)&&(Wu={stylesheets:null,count:0,unsuspend:RA},By(r),ct=CA(),ct!==null)){n.cancelPendingCommit=ct(tv.bind(null,n,r,g,o,c,p,S,x,V,lt,1,et,it)),Ia(n,g,S,!J);return}tv(n,r,g,o,c,p,S,x,V)}function G1(n){for(var r=n;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var p=o[c],g=p.getSnapshot;p=p.value;try{if(!Zn(g(),p))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ia(n,r,o,c){r&=~am,r&=~No,n.suspendedLanes|=r,n.pingedLanes&=~r,c&&(n.warmLanes|=r),c=n.expirationTimes;for(var p=r;0<p;){var g=31-hn(p),S=1<<g;c[g]=-1,p&=~S}o!==0&&Ni(n,o,r)}function Ih(){return(_e&6)===0?(Zu(0),!1):!0}function fm(){if(Wt!==null){if(ye===0)var n=Wt.return;else n=Wt,pr=Yi=null,xd(n),Il=null,ku=0,n=Wt;for(;n!==null;)Ry(n.alternate,n),n=n.return;Wt=null}}function Nl(n,r){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,uA(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),fm(),De=n,Wt=o=Ki(n.current,null),oe=r,ye=0,Ci=null,ba=!1,Ol=fi(n,r),sm=!1,Ll=$i=am=No=Aa=Ze=0,si=Fu=null,om=!1,(r&8)!==0&&(r|=r&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=r;0<c;){var p=31-hn(c),g=1<<p;r|=n[p],c&=~g}return Ss=r,bo(),o}function Yy(n,r){Yt=null,at.H=mh,r===Iu||r===rh?(r=h_(),ye=3):r===l_?(r=h_(),ye=4):ye=r===fy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Ci=r,Wt===null&&(Ze=1,vh(n,Yn(r,n.current)))}function Qy(){var n=at.H;return at.H=mh,n===null?mh:n}function $y(){var n=at.A;return at.A=j1,n}function dm(){Ze=4,ba||(oe&4194048)!==oe&&Qi.current!==null||(Ol=!0),(Aa&134217727)===0&&(No&134217727)===0||De===null||Ia(De,oe,$i,!1)}function mm(n,r,o){var c=_e;_e|=2;var p=Qy(),g=$y();(De!==n||oe!==r)&&(Rh=null,Nl(n,r)),r=!1;var S=Ze;t:do try{if(ye!==0&&Wt!==null){var x=Wt,V=Ci;switch(ye){case 8:fm(),S=6;break t;case 3:case 2:case 9:case 6:Qi.current===null&&(r=!0);var J=ye;if(ye=0,Ci=null,kl(n,x,V,J),o&&Ol){S=0;break t}break;default:J=ye,ye=0,Ci=null,kl(n,x,V,J)}}Z1(),S=Ze;break}catch(lt){Yy(n,lt)}while(!0);return r&&n.shellSuspendCounter++,pr=Yi=null,_e=c,at.H=p,at.A=g,Wt===null&&(De=null,oe=0,bo()),S}function Z1(){for(;Wt!==null;)Xy(Wt)}function K1(n,r){var o=_e;_e|=2;var c=Qy(),p=$y();De!==n||oe!==r?(Rh=null,Sh=Pn()+500,Nl(n,r)):Ol=fi(n,r);t:do try{if(ye!==0&&Wt!==null){r=Wt;var g=Ci;e:switch(ye){case 1:ye=0,Ci=null,kl(n,r,g,1);break;case 2:case 9:if(u_(g)){ye=0,Ci=null,Wy(r);break}r=function(){ye!==2&&ye!==9||De!==n||(ye=7),Fr(n)},g.then(r,r);break t;case 3:ye=7;break t;case 4:ye=5;break t;case 7:u_(g)?(ye=0,Ci=null,Wy(r)):(ye=0,Ci=null,kl(n,r,g,7));break;case 5:var S=null;switch(Wt.tag){case 26:S=Wt.memoizedState;case 5:case 27:var x=Wt;if(!S||Mv(S)){ye=0,Ci=null;var V=x.sibling;if(V!==null)Wt=V;else{var J=x.return;J!==null?(Wt=J,Ch(J)):Wt=null}break e}}ye=0,Ci=null,kl(n,r,g,5);break;case 6:ye=0,Ci=null,kl(n,r,g,6);break;case 8:fm(),Ze=6;break t;default:throw Error(s(462))}}Y1();break}catch(lt){Yy(n,lt)}while(!0);return pr=Yi=null,at.H=c,at.A=p,_e=o,Wt!==null?0:(De=null,oe=0,bo(),Ze)}function Y1(){for(;Wt!==null&&!Bs();)Xy(Wt)}function Xy(n){var r=Ay(n.alternate,n,Ss);n.memoizedProps=n.pendingProps,r===null?Ch(n):Wt=r}function Wy(n){var r=n,o=r.alternate;switch(r.tag){case 15:case 0:r=yy(o,r,r.pendingProps,r.type,void 0,oe);break;case 11:r=yy(o,r,r.pendingProps,r.type.render,r.ref,oe);break;case 5:xd(r);default:Ry(o,r),r=Wt=bu(r,Ss),r=Ay(o,r,Ss)}n.memoizedProps=n.pendingProps,r===null?Ch(n):Wt=r}function kl(n,r,o,c){pr=Yi=null,xd(r),Il=null,ku=0;var p=r.return;try{if(V1(n,p,r,o,oe)){Ze=1,vh(n,Yn(o,n.current)),Wt=null;return}}catch(g){if(p!==null)throw Wt=p,g;Ze=1,vh(n,Yn(o,n.current)),Wt=null;return}r.flags&32768?(Ht||c===1?n=!0:Ol||(oe&536870912)!==0?n=!1:(ba=n=!0,(c===2||c===9||c===3||c===6)&&(c=Qi.current,c!==null&&c.tag===13&&(c.flags|=16384))),Jy(r,n)):Ch(r)}function Ch(n){var r=n;do{if((r.flags&32768)!==0){Jy(r,ba);return}n=r.return;var o=U1(r.alternate,r,Ss);if(o!==null){Wt=o;return}if(r=r.sibling,r!==null){Wt=r;return}Wt=r=n}while(r!==null);Ze===0&&(Ze=5)}function Jy(n,r){do{var o=B1(n.alternate,n);if(o!==null){o.flags&=32767,Wt=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(n=n.sibling,n!==null)){Wt=n;return}Wt=n=o}while(n!==null);Ze=6,Wt=null}function tv(n,r,o,c,p,g,S,x,V){n.cancelPendingCommit=null;do xh();while(Sn!==0);if((_e&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=Si,ao(n,o,g,S,x,V),n===De&&(Wt=De=null,oe=0),Ml=r,Ra=n,Dl=o,um=g,cm=p,Fy=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,W1(er,function(){return sv(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=at.T,at.T=null,p=yt.p,yt.p=2,S=_e,_e|=4;try{H1(n,r,o)}finally{_e=S,yt.p=p,at.T=c}}Sn=1,ev(),nv(),iv()}}function ev(){if(Sn===1){Sn=0;var n=Ra,r=Ml,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=at.T,at.T=null;var c=yt.p;yt.p=2;var p=_e;_e|=4;try{Vy(r,n);var g=Rm,S=To(n.containerInfo),x=g.focusedElem,V=g.selectionRange;if(S!==x&&x&&x.ownerDocument&&dl(x.ownerDocument.documentElement,x)){if(V!==null&&Eo(x)){var J=V.start,lt=V.end;if(lt===void 0&&(lt=J),"selectionStart"in x)x.selectionStart=J,x.selectionEnd=Math.min(lt,x.value.length);else{var ct=x.ownerDocument||document,et=ct&&ct.defaultView||window;if(et.getSelection){var it=et.getSelection(),Bt=x.textContent.length,kt=Math.min(V.start,Bt),Se=V.end===void 0?kt:Math.min(V.end,Bt);!it.extend&&kt>Se&&(S=Se,Se=kt,kt=S);var K=Eu(x,kt),j=Eu(x,Se);if(K&&j&&(it.rangeCount!==1||it.anchorNode!==K.node||it.anchorOffset!==K.offset||it.focusNode!==j.node||it.focusOffset!==j.offset)){var X=ct.createRange();X.setStart(K.node,K.offset),it.removeAllRanges(),kt>Se?(it.addRange(X),it.extend(j.node,j.offset)):(X.setEnd(j.node,j.offset),it.addRange(X))}}}}for(ct=[],it=x;it=it.parentNode;)it.nodeType===1&&ct.push({element:it,left:it.scrollLeft,top:it.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<ct.length;x++){var ut=ct[x];ut.element.scrollLeft=ut.left,ut.element.scrollTop=ut.top}}Hh=!!Sm,Rm=Sm=null}finally{_e=p,yt.p=c,at.T=o}}n.current=r,Sn=2}}function nv(){if(Sn===2){Sn=0;var n=Ra,r=Ml,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=at.T,at.T=null;var c=yt.p;yt.p=2;var p=_e;_e|=4;try{My(n,r.alternate,r)}finally{_e=p,yt.p=c,at.T=o}}Sn=3}}function iv(){if(Sn===4||Sn===3){Sn=0,to();var n=Ra,r=Ml,o=Dl,c=Fy;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Sn=5:(Sn=0,Ml=Ra=null,rv(n,n.pendingLanes));var p=n.pendingLanes;if(p===0&&(Sa=null),Fs(o),r=r.stateNode,ue&&typeof ue.onCommitFiberRoot=="function")try{ue.onCommitFiberRoot(xe,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=at.T,p=yt.p,yt.p=2,at.T=null;try{for(var g=n.onRecoverableError,S=0;S<c.length;S++){var x=c[S];g(x.value,{componentStack:x.stack})}}finally{at.T=r,yt.p=p}}(Dl&3)!==0&&xh(),Fr(n),p=n.pendingLanes,(o&4194090)!==0&&(p&42)!==0?n===hm?Gu++:(Gu=0,hm=n):Gu=0,Zu(0)}}function rv(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,Su(r)))}function xh(n){return ev(),nv(),iv(),sv()}function sv(){if(Sn!==5)return!1;var n=Ra,r=um;um=0;var o=Fs(Dl),c=at.T,p=yt.p;try{yt.p=32>o?32:o,at.T=null,o=cm,cm=null;var g=Ra,S=Dl;if(Sn=0,Ml=Ra=null,Dl=0,(_e&6)!==0)throw Error(s(331));var x=_e;if(_e|=4,qy(g.current),Uy(g,g.current,S,o),_e=x,Zu(0,!1),ue&&typeof ue.onPostCommitFiberRoot=="function")try{ue.onPostCommitFiberRoot(xe,g)}catch{}return!0}finally{yt.p=p,at.T=c,rv(n,r)}}function av(n,r,o){r=Yn(o,r),r=jd(n.stateNode,r,2),n=ga(n,r,2),n!==null&&(Di(n,2),Fr(n))}function Ce(n,r,o){if(n.tag===3)av(n,n,o);else for(;r!==null;){if(r.tag===3){av(r,n,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Sa===null||!Sa.has(c))){n=Yn(o,n),o=cy(2),c=ga(r,o,2),c!==null&&(hy(o,c,r,n),Di(c,2),Fr(c));break}}r=r.return}}function pm(n,r,o){var c=n.pingCache;if(c===null){c=n.pingCache=new F1;var p=new Set;c.set(r,p)}else p=c.get(r),p===void 0&&(p=new Set,c.set(r,p));p.has(o)||(sm=!0,p.add(o),n=Q1.bind(null,n,r,o),r.then(n,n))}function Q1(n,r,o){var c=n.pingCache;c!==null&&c.delete(r),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,De===n&&(oe&o)===o&&(Ze===4||Ze===3&&(oe&62914560)===oe&&300>Pn()-lm?(_e&2)===0&&Nl(n,0):am|=o,Ll===oe&&(Ll=0)),Fr(n)}function ov(n,r){r===0&&(r=js()),n=ca(n,r),n!==null&&(Di(n,r),Fr(n))}function $1(n){var r=n.memoizedState,o=0;r!==null&&(o=r.retryLane),ov(n,o)}function X1(n,r){var o=0;switch(n.tag){case 13:var c=n.stateNode,p=n.memoizedState;p!==null&&(o=p.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),ov(n,o)}function W1(n,r){return tr(n,r)}var Ph=null,Vl=null,gm=!1,Oh=!1,_m=!1,ko=0;function Fr(n){n!==Vl&&n.next===null&&(Vl===null?Ph=Vl=n:Vl=Vl.next=n),Oh=!0,gm||(gm=!0,tA())}function Zu(n,r){if(!_m&&Oh){_m=!0;do for(var o=!1,c=Ph;c!==null;){if(n!==0){var p=c.pendingLanes;if(p===0)var g=0;else{var S=c.suspendedLanes,x=c.pingedLanes;g=(1<<31-hn(42|n)+1)-1,g&=p&~(S&~x),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,hv(c,g))}else g=oe,g=qs(c,c===De?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||fi(c,g)||(o=!0,hv(c,g));c=c.next}while(o);_m=!1}}function J1(){lv()}function lv(){Oh=gm=!1;var n=0;ko!==0&&(lA()&&(n=ko),ko=0);for(var r=Pn(),o=null,c=Ph;c!==null;){var p=c.next,g=uv(c,r);g===0?(c.next=null,o===null?Ph=p:o.next=p,p===null&&(Vl=o)):(o=c,(n!==0||(g&3)!==0)&&(Oh=!0)),c=p}Zu(n)}function uv(n,r){for(var o=n.suspendedLanes,c=n.pingedLanes,p=n.expirationTimes,g=n.pendingLanes&-62914561;0<g;){var S=31-hn(g),x=1<<S,V=p[S];V===-1?((x&o)===0||(x&c)!==0)&&(p[S]=ro(x,r)):V<=r&&(n.expiredLanes|=x),g&=~x}if(r=De,o=oe,o=qs(n,n===r?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,o===0||n===r&&(ye===2||ye===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&ts(c),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||fi(n,o)){if(r=o&-o,r===n.callbackPriority)return r;switch(c!==null&&ts(c),Fs(o)){case 2:case 8:o=es;break;case 32:o=er;break;case 268435456:o=ns;break;default:o=er}return c=cv.bind(null,n),o=tr(o,c),n.callbackPriority=r,n.callbackNode=o,r}return c!==null&&c!==null&&ts(c),n.callbackPriority=2,n.callbackNode=null,2}function cv(n,r){if(Sn!==0&&Sn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(xh()&&n.callbackNode!==o)return null;var c=oe;return c=qs(n,n===De?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(Zy(n,c,r),uv(n,Pn()),n.callbackNode!=null&&n.callbackNode===o?cv.bind(null,n):null)}function hv(n,r){if(xh())return null;Zy(n,r,!0)}function tA(){cA(function(){(_e&6)!==0?tr(eo,J1):lv()})}function ym(){return ko===0&&(ko=so()),ko}function fv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Dr(""+n)}function dv(n,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,n.id&&o.setAttribute("form",n.id),r.parentNode.insertBefore(o,r),n=new FormData(n),o.parentNode.removeChild(o),n}function eA(n,r,o,c,p){if(r==="submit"&&o&&o.stateNode===p){var g=fv((p[Fe]||null).action),S=c.submitter;S&&(r=(r=S[Fe]||null)?fv(r.formAction):S.getAttribute("formAction"),r!==null&&(g=r,S=null));var x=new us("action","action",null,c,p);n.push({event:x,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ko!==0){var V=S?dv(p,S):new FormData(p);zd(o,{pending:!0,data:V,method:p.method,action:g},null,V)}}else typeof g=="function"&&(x.preventDefault(),V=S?dv(p,S):new FormData(p),zd(o,{pending:!0,data:V,method:p.method,action:g},g,V))},currentTarget:p}]})}}for(var vm=0;vm<ms.length;vm++){var Tm=ms[vm],nA=Tm.toLowerCase(),iA=Tm[0].toUpperCase()+Tm.slice(1);Ai(nA,"on"+iA)}Ai(Qc,"onAnimationEnd"),Ai(bi,"onAnimationIteration"),Ai(wo,"onAnimationStart"),Ai("dblclick","onDoubleClick"),Ai("focusin","onFocus"),Ai("focusout","onBlur"),Ai(dd,"onTransitionRun"),Ai(_l,"onTransitionStart"),Ai(md,"onTransitionCancel"),Ai(wu,"onTransitionEnd"),ki("onMouseEnter",["mouseout","mouseover"]),ki("onMouseLeave",["mouseout","mouseover"]),ki("onPointerEnter",["pointerout","pointerover"]),ki("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ku="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ku));function mv(n,r){r=(r&4)!==0;for(var o=0;o<n.length;o++){var c=n[o],p=c.event;c=c.listeners;t:{var g=void 0;if(r)for(var S=c.length-1;0<=S;S--){var x=c[S],V=x.instance,J=x.currentTarget;if(x=x.listener,V!==g&&p.isPropagationStopped())break t;g=x,p.currentTarget=J;try{g(p)}catch(lt){yh(lt)}p.currentTarget=null,g=V}else for(S=0;S<c.length;S++){if(x=c[S],V=x.instance,J=x.currentTarget,x=x.listener,V!==g&&p.isPropagationStopped())break t;g=x,p.currentTarget=J;try{g(p)}catch(lt){yh(lt)}p.currentTarget=null,g=V}}}}function Jt(n,r){var o=r[Ln];o===void 0&&(o=r[Ln]=new Set);var c=n+"__bubble";o.has(c)||(pv(r,n,2,!1),o.add(c))}function Em(n,r,o){var c=0;r&&(c|=4),pv(o,n,c,r)}var Lh="_reactListening"+Math.random().toString(36).slice(2);function wm(n){if(!n[Lh]){n[Lh]=!0,uo.forEach(function(o){o!=="selectionchange"&&(rA.has(o)||Em(o,!1,n),Em(o,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Lh]||(r[Lh]=!0,Em("selectionchange",!1,r))}}function pv(n,r,o,c){switch(Uv(r)){case 2:var p=OA;break;case 8:p=LA;break;default:p=km}o=p.bind(null,r,o,n),p=void 0,!Mn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(p=!0),c?p!==void 0?n.addEventListener(r,o,{capture:!0,passive:p}):n.addEventListener(r,o,!0):p!==void 0?n.addEventListener(r,o,{passive:p}):n.addEventListener(r,o,!1)}function bm(n,r,o,c,p){var g=c;if((r&1)===0&&(r&2)===0&&c!==null)t:for(;;){if(c===null)return;var S=c.tag;if(S===3||S===4){var x=c.stateNode.containerInfo;if(x===p)break;if(S===4)for(S=c.return;S!==null;){var V=S.tag;if((V===3||V===4)&&S.stateNode.containerInfo===p)return;S=S.return}for(;x!==null;){if(S=di(x),S===null)return;if(V=S.tag,V===5||V===6||V===26||V===27){c=g=S;continue t}x=x.parentNode}}c=c.return}Gn(function(){var J=g,lt=bn(o),ct=[];t:{var et=$c.get(n);if(et!==void 0){var it=us,Bt=n;switch(n){case"keypress":if(we(o)===0)break t;case"keydown":case"keyup":it=ea;break;case"focusin":Bt="focus",it=$s;break;case"focusout":Bt="blur",it=$s;break;case"beforeblur":case"afterblur":it=$s;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":it=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":it=gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":it=ul;break;case Qc:case bi:case wo:it=Ws;break;case wu:it=cl;break;case"scroll":case"scrollend":it=ol;break;case"wheel":it=fs;break;case"copy":case"cut":case"paste":it=Nr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":it=na;break;case"toggle":case"beforetoggle":it=ji}var kt=(r&4)!==0,Se=!kt&&(n==="scroll"||n==="scrollend"),K=kt?et!==null?et+"Capture":null:et;kt=[];for(var j=J,X;j!==null;){var ut=j;if(X=ut.stateNode,ut=ut.tag,ut!==5&&ut!==26&&ut!==27||X===null||K===null||(ut=ae(j,K),ut!=null&&kt.push(Yu(j,ut,X))),Se)break;j=j.return}0<kt.length&&(et=new it(et,Bt,null,o,lt),ct.push({event:et,listeners:kt}))}}if((r&7)===0){t:{if(et=n==="mouseover"||n==="pointerover",it=n==="mouseout"||n==="pointerout",et&&o!==yi&&(Bt=o.relatedTarget||o.fromElement)&&(di(Bt)||Bt[Jn]))break t;if((it||et)&&(et=lt.window===lt?lt:(et=lt.ownerDocument)?et.defaultView||et.parentWindow:window,it?(Bt=o.relatedTarget||o.toElement,it=J,Bt=Bt?di(Bt):null,Bt!==null&&(Se=h(Bt),kt=Bt.tag,Bt!==Se||kt!==5&&kt!==27&&kt!==6)&&(Bt=null)):(it=null,Bt=J),it!==Bt)){if(kt=pn,ut="onMouseLeave",K="onMouseEnter",j="mouse",(n==="pointerout"||n==="pointerover")&&(kt=na,ut="onPointerLeave",K="onPointerEnter",j="pointer"),Se=it==null?et:En(it),X=Bt==null?et:En(Bt),et=new kt(ut,j+"leave",it,o,lt),et.target=Se,et.relatedTarget=X,ut=null,di(lt)===J&&(kt=new kt(K,j+"enter",Bt,o,lt),kt.target=X,kt.relatedTarget=Se,ut=kt),Se=ut,it&&Bt)e:{for(kt=it,K=Bt,j=0,X=kt;X;X=zl(X))j++;for(X=0,ut=K;ut;ut=zl(ut))X++;for(;0<j-X;)kt=zl(kt),j--;for(;0<X-j;)K=zl(K),X--;for(;j--;){if(kt===K||K!==null&&kt===K.alternate)break e;kt=zl(kt),K=zl(K)}kt=null}else kt=null;it!==null&&gv(ct,et,it,kt,!1),Bt!==null&&Se!==null&&gv(ct,Se,Bt,kt,!0)}}t:{if(et=J?En(J):window,it=et.nodeName&&et.nodeName.toLowerCase(),it==="select"||it==="input"&&et.type==="file")var xt=ra;else if(Le(et))if(yu)xt=fd;else{xt=hd;var Xt=Tu}else it=et.nodeName,!it||it.toLowerCase()!=="input"||et.type!=="checkbox"&&et.type!=="radio"?J&&ls(J.elementType)&&(xt=ra):xt=mr;if(xt&&(xt=xt(n,J))){fr(ct,xt,o,lt);break t}Xt&&Xt(n,et,J),n==="focusout"&&J&&et.type==="number"&&J.memoizedProps.value!=null&&gi(et,"number",et.value)}switch(Xt=J?En(J):window,n){case"focusin":(Le(Xt)||Xt.contentEditable==="true")&&(wi=Xt,oa=J,ds=null);break;case"focusout":ds=oa=wi=null;break;case"mousedown":pl=!0;break;case"contextmenu":case"mouseup":case"dragend":pl=!1,Kc(ct,o,lt);break;case"selectionchange":if(ml)break;case"keydown":case"keyup":Kc(ct,o,lt)}var Mt;if(kn)t:{switch(n){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else te?st(n,o)&&(Vt="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Vt="onCompositionStart");Vt&&(b&&o.locale!=="ko"&&(te||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&te&&(Mt=lr()):(ei=lt,Dn="value"in ei?ei.value:ei.textContent,te=!0)),Xt=Mh(J,Vt),0<Xt.length&&(Vt=new Nn(Vt,n,null,o,lt),ct.push({event:Vt,listeners:Xt}),Mt?Vt.data=Mt:(Mt=vt(o),Mt!==null&&(Vt.data=Mt)))),(Mt=E?Ge(n,o):ee(n,o))&&(Vt=Mh(J,"onBeforeInput"),0<Vt.length&&(Xt=new Nn("onBeforeInput","beforeinput",null,o,lt),ct.push({event:Xt,listeners:Vt}),Xt.data=Mt)),eA(ct,n,J,o,lt)}mv(ct,r)})}function Yu(n,r,o){return{instance:n,listener:r,currentTarget:o}}function Mh(n,r){for(var o=r+"Capture",c=[];n!==null;){var p=n,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=ae(n,o),p!=null&&c.unshift(Yu(n,p,g)),p=ae(n,r),p!=null&&c.push(Yu(n,p,g))),n.tag===3)return c;n=n.return}return[]}function zl(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function gv(n,r,o,c,p){for(var g=r._reactName,S=[];o!==null&&o!==c;){var x=o,V=x.alternate,J=x.stateNode;if(x=x.tag,V!==null&&V===c)break;x!==5&&x!==26&&x!==27||J===null||(V=J,p?(J=ae(o,g),J!=null&&S.unshift(Yu(o,J,V))):p||(J=ae(o,g),J!=null&&S.push(Yu(o,J,V)))),o=o.return}S.length!==0&&n.push({event:r,listeners:S})}var sA=/\r\n?/g,aA=/\u0000|\uFFFD/g;function _v(n){return(typeof n=="string"?n:""+n).replace(sA,`
`).replace(aA,"")}function yv(n,r){return r=_v(r),_v(n)===r}function Dh(){}function Ae(n,r,o,c,p,g){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||dn(n,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&dn(n,""+c);break;case"className":Vi(n,"class",c);break;case"tabIndex":Vi(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Vi(n,o,c);break;case"style":ar(n,c,g);break;case"data":if(r!=="object"){Vi(n,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){n.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=Dr(""+c),n.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&Ae(n,r,"name",p.name,p,null),Ae(n,r,"formEncType",p.formEncType,p,null),Ae(n,r,"formMethod",p.formMethod,p,null),Ae(n,r,"formTarget",p.formTarget,p,null)):(Ae(n,r,"encType",p.encType,p,null),Ae(n,r,"method",p.method,p,null),Ae(n,r,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=Dr(""+c),n.setAttribute(o,c);break;case"onClick":c!=null&&(n.onclick=Dh);break;case"onScroll":c!=null&&Jt("scroll",n);break;case"onScrollEnd":c!=null&&Jt("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}o=Dr(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""+c):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":c===!0?n.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,c):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(o,c):n.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(o):n.setAttribute(o,c);break;case"popover":Jt("beforetoggle",n),Jt("toggle",n),Pr(n,"popover",c);break;case"xlinkActuate":sn(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":sn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":sn(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":sn(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":sn(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":sn(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":sn(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":sn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":sn(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Pr(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=ho.get(o)||o,Pr(n,o,c))}}function Am(n,r,o,c,p,g){switch(o){case"style":ar(n,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"children":typeof c=="string"?dn(n,c):(typeof c=="number"||typeof c=="bigint")&&dn(n,""+c);break;case"onScroll":c!=null&&Jt("scroll",n);break;case"onScrollEnd":c!=null&&Jt("scrollend",n);break;case"onClick":c!=null&&(n.onclick=Dh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zs.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),r=o.slice(2,p?o.length-7:void 0),g=n[Fe]||null,g=g!=null?g[o]:null,typeof g=="function"&&n.removeEventListener(r,g,p),typeof c=="function")){typeof g!="function"&&g!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(r,c,p);break t}o in n?n[o]=c:c===!0?n.setAttribute(o,""):Pr(n,o,c)}}}function Rn(n,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Jt("error",n),Jt("load",n);var c=!1,p=!1,g;for(g in o)if(o.hasOwnProperty(g)){var S=o[g];if(S!=null)switch(g){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ae(n,r,g,S,o,null)}}p&&Ae(n,r,"srcSet",o.srcSet,o,null),c&&Ae(n,r,"src",o.src,o,null);return;case"input":Jt("invalid",n);var x=g=S=p=null,V=null,J=null;for(c in o)if(o.hasOwnProperty(c)){var lt=o[c];if(lt!=null)switch(c){case"name":p=lt;break;case"type":S=lt;break;case"checked":V=lt;break;case"defaultChecked":J=lt;break;case"value":g=lt;break;case"defaultValue":x=lt;break;case"children":case"dangerouslySetInnerHTML":if(lt!=null)throw Error(s(137,r));break;default:Ae(n,r,c,lt,o,null)}}os(n,g,x,V,J,S,p,!1),Mr(n);return;case"select":Jt("invalid",n),c=S=g=null;for(p in o)if(o.hasOwnProperty(p)&&(x=o[p],x!=null))switch(p){case"value":g=x;break;case"defaultValue":S=x;break;case"multiple":c=x;default:Ae(n,r,p,x,o,null)}r=g,o=S,n.multiple=!!c,r!=null?wn(n,!!c,r,!1):o!=null&&wn(n,!!c,o,!0);return;case"textarea":Jt("invalid",n),g=p=c=null;for(S in o)if(o.hasOwnProperty(S)&&(x=o[S],x!=null))switch(S){case"value":c=x;break;case"defaultValue":p=x;break;case"children":g=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:Ae(n,r,S,x,o,null)}Fn(n,c,p,g),Mr(n);return;case"option":for(V in o)if(o.hasOwnProperty(V)&&(c=o[V],c!=null))switch(V){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Ae(n,r,V,c,o,null)}return;case"dialog":Jt("beforetoggle",n),Jt("toggle",n),Jt("cancel",n),Jt("close",n);break;case"iframe":case"object":Jt("load",n);break;case"video":case"audio":for(c=0;c<Ku.length;c++)Jt(Ku[c],n);break;case"image":Jt("error",n),Jt("load",n);break;case"details":Jt("toggle",n);break;case"embed":case"source":case"link":Jt("error",n),Jt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in o)if(o.hasOwnProperty(J)&&(c=o[J],c!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ae(n,r,J,c,o,null)}return;default:if(ls(r)){for(lt in o)o.hasOwnProperty(lt)&&(c=o[lt],c!==void 0&&Am(n,r,lt,c,o,void 0));return}}for(x in o)o.hasOwnProperty(x)&&(c=o[x],c!=null&&Ae(n,r,x,c,o,null))}function oA(n,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,S=null,x=null,V=null,J=null,lt=null;for(it in o){var ct=o[it];if(o.hasOwnProperty(it)&&ct!=null)switch(it){case"checked":break;case"value":break;case"defaultValue":V=ct;default:c.hasOwnProperty(it)||Ae(n,r,it,null,c,ct)}}for(var et in c){var it=c[et];if(ct=o[et],c.hasOwnProperty(et)&&(it!=null||ct!=null))switch(et){case"type":g=it;break;case"name":p=it;break;case"checked":J=it;break;case"defaultChecked":lt=it;break;case"value":S=it;break;case"defaultValue":x=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(s(137,r));break;default:it!==ct&&Ae(n,r,et,it,c,ct)}}Oe(n,S,x,V,J,lt,g,p);return;case"select":it=S=x=et=null;for(g in o)if(V=o[g],o.hasOwnProperty(g)&&V!=null)switch(g){case"value":break;case"multiple":it=V;default:c.hasOwnProperty(g)||Ae(n,r,g,null,c,V)}for(p in c)if(g=c[p],V=o[p],c.hasOwnProperty(p)&&(g!=null||V!=null))switch(p){case"value":et=g;break;case"defaultValue":x=g;break;case"multiple":S=g;default:g!==V&&Ae(n,r,p,g,c,V)}r=x,o=S,c=it,et!=null?wn(n,!!o,et,!1):!!c!=!!o&&(r!=null?wn(n,!!o,r,!0):wn(n,!!o,o?[]:"",!1));return;case"textarea":it=et=null;for(x in o)if(p=o[x],o.hasOwnProperty(x)&&p!=null&&!c.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:Ae(n,r,x,null,c,p)}for(S in c)if(p=c[S],g=o[S],c.hasOwnProperty(S)&&(p!=null||g!=null))switch(S){case"value":et=p;break;case"defaultValue":it=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:p!==g&&Ae(n,r,S,p,c,g)}zt(n,et,it);return;case"option":for(var Bt in o)if(et=o[Bt],o.hasOwnProperty(Bt)&&et!=null&&!c.hasOwnProperty(Bt))switch(Bt){case"selected":n.selected=!1;break;default:Ae(n,r,Bt,null,c,et)}for(V in c)if(et=c[V],it=o[V],c.hasOwnProperty(V)&&et!==it&&(et!=null||it!=null))switch(V){case"selected":n.selected=et&&typeof et!="function"&&typeof et!="symbol";break;default:Ae(n,r,V,et,c,it)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var kt in o)et=o[kt],o.hasOwnProperty(kt)&&et!=null&&!c.hasOwnProperty(kt)&&Ae(n,r,kt,null,c,et);for(J in c)if(et=c[J],it=o[J],c.hasOwnProperty(J)&&et!==it&&(et!=null||it!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(s(137,r));break;default:Ae(n,r,J,et,c,it)}return;default:if(ls(r)){for(var Se in o)et=o[Se],o.hasOwnProperty(Se)&&et!==void 0&&!c.hasOwnProperty(Se)&&Am(n,r,Se,void 0,c,et);for(lt in c)et=c[lt],it=o[lt],!c.hasOwnProperty(lt)||et===it||et===void 0&&it===void 0||Am(n,r,lt,et,c,it);return}}for(var K in o)et=o[K],o.hasOwnProperty(K)&&et!=null&&!c.hasOwnProperty(K)&&Ae(n,r,K,null,c,et);for(ct in c)et=c[ct],it=o[ct],!c.hasOwnProperty(ct)||et===it||et==null&&it==null||Ae(n,r,ct,et,c,it)}var Sm=null,Rm=null;function Nh(n){return n.nodeType===9?n:n.ownerDocument}function vv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Tv(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Im(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Cm=null;function lA(){var n=window.event;return n&&n.type==="popstate"?n===Cm?!1:(Cm=n,!0):(Cm=null,!1)}var Ev=typeof setTimeout=="function"?setTimeout:void 0,uA=typeof clearTimeout=="function"?clearTimeout:void 0,wv=typeof Promise=="function"?Promise:void 0,cA=typeof queueMicrotask=="function"?queueMicrotask:typeof wv<"u"?function(n){return wv.resolve(null).then(n).catch(hA)}:Ev;function hA(n){setTimeout(function(){throw n})}function Ca(n){return n==="head"}function bv(n,r){var o=r,c=0,p=0;do{var g=o.nextSibling;if(n.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<c&&8>c){o=c;var S=n.ownerDocument;if(o&1&&Qu(S.documentElement),o&2&&Qu(S.body),o&4)for(o=S.head,Qu(o),S=o.firstChild;S;){var x=S.nextSibling,V=S.nodeName;S[xr]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&S.rel.toLowerCase()==="stylesheet"||o.removeChild(S),S=x}}if(p===0){n.removeChild(g),ic(r);return}p--}else o==="$"||o==="$?"||o==="$!"?p++:c=o.charCodeAt(0)-48;else c=0;o=g}while(o);ic(r)}function xm(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":xm(o),rr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function fA(n,r,o,c){for(;n.nodeType===1;){var p=o;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[xr])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(g=n.getAttribute("rel"),g==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(g!==p.rel||n.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||n.getAttribute("title")!==(p.title==null?null:p.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(g=n.getAttribute("src"),(g!==(p.src==null?null:p.src)||n.getAttribute("type")!==(p.type==null?null:p.type)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&n.getAttribute("name")===g)return n}else return n;if(n=yr(n.nextSibling),n===null)break}return null}function dA(n,r,o){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=yr(n.nextSibling),n===null))return null;return n}function Pm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function mA(n,r){var o=n.ownerDocument;if(n.data!=="$?"||o.readyState==="complete")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function yr(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var Om=null;function Av(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return n;r--}else o==="/$"&&r++}n=n.previousSibling}return null}function Sv(n,r,o){switch(r=Nh(o),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Qu(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);rr(n)}var Xi=new Map,Rv=new Set;function kh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Rs=yt.d;yt.d={f:pA,r:gA,D:_A,C:yA,L:vA,m:TA,X:wA,S:EA,M:bA};function pA(){var n=Rs.f(),r=Ih();return n||r}function gA(n){var r=mi(n);r!==null&&r.tag===5&&r.type==="form"?Z_(r):Rs.r(n)}var Ul=typeof document>"u"?null:document;function Iv(n,r,o){var c=Ul;if(c&&typeof r=="string"&&r){var p=Ne(r);p='link[rel="'+n+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),Rv.has(p)||(Rv.add(p),n={rel:n,crossOrigin:o,href:r},c.querySelector(p)===null&&(r=c.createElement("link"),Rn(r,"link",n),Ue(r),c.head.appendChild(r)))}}function _A(n){Rs.D(n),Iv("dns-prefetch",n,null)}function yA(n,r){Rs.C(n,r),Iv("preconnect",n,r)}function vA(n,r,o){Rs.L(n,r,o);var c=Ul;if(c&&n&&r){var p='link[rel="preload"][as="'+Ne(r)+'"]';r==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+Ne(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+Ne(o.imageSizes)+'"]')):p+='[href="'+Ne(n)+'"]';var g=p;switch(r){case"style":g=Bl(n);break;case"script":g=Hl(n)}Xi.has(g)||(n=A({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:n,as:r},o),Xi.set(g,n),c.querySelector(p)!==null||r==="style"&&c.querySelector($u(g))||r==="script"&&c.querySelector(Xu(g))||(r=c.createElement("link"),Rn(r,"link",n),Ue(r),c.head.appendChild(r)))}}function TA(n,r){Rs.m(n,r);var o=Ul;if(o&&n){var c=r&&typeof r.as=="string"?r.as:"script",p='link[rel="modulepreload"][as="'+Ne(c)+'"][href="'+Ne(n)+'"]',g=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Hl(n)}if(!Xi.has(g)&&(n=A({rel:"modulepreload",href:n},r),Xi.set(g,n),o.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Xu(g)))return}c=o.createElement("link"),Rn(c,"link",n),Ue(c),o.head.appendChild(c)}}}function EA(n,r,o){Rs.S(n,r,o);var c=Ul;if(c&&n){var p=fn(c).hoistableStyles,g=Bl(n);r=r||"default";var S=p.get(g);if(!S){var x={loading:0,preload:null};if(S=c.querySelector($u(g)))x.loading=5;else{n=A({rel:"stylesheet",href:n,"data-precedence":r},o),(o=Xi.get(g))&&Lm(n,o);var V=S=c.createElement("link");Ue(V),Rn(V,"link",n),V._p=new Promise(function(J,lt){V.onload=J,V.onerror=lt}),V.addEventListener("load",function(){x.loading|=1}),V.addEventListener("error",function(){x.loading|=2}),x.loading|=4,Vh(S,r,c)}S={type:"stylesheet",instance:S,count:1,state:x},p.set(g,S)}}}function wA(n,r){Rs.X(n,r);var o=Ul;if(o&&n){var c=fn(o).hoistableScripts,p=Hl(n),g=c.get(p);g||(g=o.querySelector(Xu(p)),g||(n=A({src:n,async:!0},r),(r=Xi.get(p))&&Mm(n,r),g=o.createElement("script"),Ue(g),Rn(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function bA(n,r){Rs.M(n,r);var o=Ul;if(o&&n){var c=fn(o).hoistableScripts,p=Hl(n),g=c.get(p);g||(g=o.querySelector(Xu(p)),g||(n=A({src:n,async:!0,type:"module"},r),(r=Xi.get(p))&&Mm(n,r),g=o.createElement("script"),Ue(g),Rn(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function Cv(n,r,o,c){var p=(p=wt.current)?kh(p):null;if(!p)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Bl(o.href),o=fn(p).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=Bl(o.href);var g=fn(p).hoistableStyles,S=g.get(n);if(S||(p=p.ownerDocument||p,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(n,S),(g=p.querySelector($u(n)))&&!g._p&&(S.instance=g,S.state.loading=5),Xi.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Xi.set(n,o),g||AA(p,n,o,S.state))),r&&c===null)throw Error(s(528,""));return S}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Hl(o),o=fn(p).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Bl(n){return'href="'+Ne(n)+'"'}function $u(n){return'link[rel="stylesheet"]['+n+"]"}function xv(n){return A({},n,{"data-precedence":n.precedence,precedence:null})}function AA(n,r,o,c){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=n.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),Rn(r,"link",o),Ue(r),n.head.appendChild(r))}function Hl(n){return'[src="'+Ne(n)+'"]'}function Xu(n){return"script[async]"+n}function Pv(n,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=n.querySelector('style[data-href~="'+Ne(o.href)+'"]');if(c)return r.instance=c,Ue(c),c;var p=A({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),Ue(c),Rn(c,"style",p),Vh(c,o.precedence,n),r.instance=c;case"stylesheet":p=Bl(o.href);var g=n.querySelector($u(p));if(g)return r.state.loading|=4,r.instance=g,Ue(g),g;c=xv(o),(p=Xi.get(p))&&Lm(c,p),g=(n.ownerDocument||n).createElement("link"),Ue(g);var S=g;return S._p=new Promise(function(x,V){S.onload=x,S.onerror=V}),Rn(g,"link",c),r.state.loading|=4,Vh(g,o.precedence,n),r.instance=g;case"script":return g=Hl(o.src),(p=n.querySelector(Xu(g)))?(r.instance=p,Ue(p),p):(c=o,(p=Xi.get(g))&&(c=A({},o),Mm(c,p)),n=n.ownerDocument||n,p=n.createElement("script"),Ue(p),Rn(p,"link",c),n.head.appendChild(p),r.instance=p);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,Vh(c,o.precedence,n));return r.instance}function Vh(n,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,g=p,S=0;S<c.length;S++){var x=c[S];if(x.dataset.precedence===r)g=x;else if(g!==p)break}g?g.parentNode.insertBefore(n,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(n,r.firstChild))}function Lm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Mm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var zh=null;function Ov(n,r,o){if(zh===null){var c=new Map,p=zh=new Map;p.set(o,c)}else p=zh,c=p.get(o),c||(c=new Map,p.set(o,c));if(c.has(n))return c;for(c.set(n,null),o=o.getElementsByTagName(n),p=0;p<o.length;p++){var g=o[p];if(!(g[xr]||g[Ke]||n==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var S=g.getAttribute(r)||"";S=n+S;var x=c.get(S);x?x.push(g):c.set(S,[g])}}return c}function Lv(n,r,o){n=n.ownerDocument||n,n.head.insertBefore(o,r==="title"?n.querySelector("head > title"):null)}function SA(n,r,o){if(o===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Mv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Wu=null;function RA(){}function IA(n,r,o){if(Wu===null)throw Error(s(475));var c=Wu;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var p=Bl(o.href),g=n.querySelector($u(p));if(g){n=g._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(c.count++,c=Uh.bind(c),n.then(c,c)),r.state.loading|=4,r.instance=g,Ue(g);return}g=n.ownerDocument||n,o=xv(o),(p=Xi.get(p))&&Lm(o,p),g=g.createElement("link"),Ue(g);var S=g;S._p=new Promise(function(x,V){S.onload=x,S.onerror=V}),Rn(g,"link",o),r.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(c.count++,r=Uh.bind(c),n.addEventListener("load",r),n.addEventListener("error",r))}}function CA(){if(Wu===null)throw Error(s(475));var n=Wu;return n.stylesheets&&n.count===0&&Dm(n,n.stylesheets),0<n.count?function(r){var o=setTimeout(function(){if(n.stylesheets&&Dm(n,n.stylesheets),n.unsuspend){var c=n.unsuspend;n.unsuspend=null,c()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(o)}}:null}function Uh(){if(this.count--,this.count===0){if(this.stylesheets)Dm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Bh=null;function Dm(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Bh=new Map,r.forEach(xA,n),Bh=null,Uh.call(n))}function xA(n,r){if(!(r.state.loading&4)){var o=Bh.get(n);if(o)var c=o.get(null);else{o=new Map,Bh.set(n,o);for(var p=n.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var S=p[g];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),c=S)}c&&o.set(null,c)}p=r.instance,S=p.getAttribute("data-precedence"),g=o.get(S)||c,g===c&&o.set(null,p),o.set(S,p),this.count++,c=Uh.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),g?g.parentNode.insertBefore(p,g.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(p,n.firstChild)),r.state.loading|=4}}var Ju={$$typeof:nt,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function PA(n,r,o,c,p,g,S,x){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mi(0),this.hiddenUpdates=Mi(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function Dv(n,r,o,c,p,g,S,x,V,J,lt,ct){return n=new PA(n,r,o,S,x,V,J,ct),r=1,g===!0&&(r|=24),g=$n(3,null,null,r),n.current=g,g.stateNode=n,r=pd(),r.refCount++,n.pooledCache=r,r.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:r},vd(g),n}function Nv(n){return n?(n=_s,n):_s}function kv(n,r,o,c,p,g){p=Nv(p),c.context===null?c.context=p:c.pendingContext=p,c=pa(r),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=ga(n,c,r),o!==null&&(Pi(o,n,r),xu(o,n,r))}function Vv(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<r?o:r}}function Nm(n,r){Vv(n,r),(n=n.alternate)&&Vv(n,r)}function zv(n){if(n.tag===13){var r=ca(n,67108864);r!==null&&Pi(r,n,67108864),Nm(n,67108864)}}var Hh=!0;function OA(n,r,o,c){var p=at.T;at.T=null;var g=yt.p;try{yt.p=2,km(n,r,o,c)}finally{yt.p=g,at.T=p}}function LA(n,r,o,c){var p=at.T;at.T=null;var g=yt.p;try{yt.p=8,km(n,r,o,c)}finally{yt.p=g,at.T=p}}function km(n,r,o,c){if(Hh){var p=Vm(c);if(p===null)bm(n,r,c,qh,o),Bv(n,c);else if(DA(p,n,r,o,c))c.stopPropagation();else if(Bv(n,c),r&4&&-1<MA.indexOf(n)){for(;p!==null;){var g=mi(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var S=Wn(g.pendingLanes);if(S!==0){var x=g;for(x.pendingLanes|=2,x.entangledLanes|=2;S;){var V=1<<31-hn(S);x.entanglements[1]|=V,S&=~V}Fr(g),(_e&6)===0&&(Sh=Pn()+500,Zu(0))}}break;case 13:x=ca(g,2),x!==null&&Pi(x,g,2),Ih(),Nm(g,2)}if(g=Vm(c),g===null&&bm(n,r,c,qh,o),g===p)break;p=g}p!==null&&c.stopPropagation()}else bm(n,r,c,null,o)}}function Vm(n){return n=bn(n),zm(n)}var qh=null;function zm(n){if(qh=null,n=di(n),n!==null){var r=h(n);if(r===null)n=null;else{var o=r.tag;if(o===13){if(n=d(r),n!==null)return n;n=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return qh=n,null}function Uv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hs()){case eo:return 2;case es:return 8;case er:case nl:return 32;case ns:return 268435456;default:return 32}default:return 32}}var Um=!1,xa=null,Pa=null,Oa=null,tc=new Map,ec=new Map,La=[],MA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bv(n,r){switch(n){case"focusin":case"focusout":xa=null;break;case"dragenter":case"dragleave":Pa=null;break;case"mouseover":case"mouseout":Oa=null;break;case"pointerover":case"pointerout":tc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ec.delete(r.pointerId)}}function nc(n,r,o,c,p,g){return n===null||n.nativeEvent!==g?(n={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[p]},r!==null&&(r=mi(r),r!==null&&zv(r)),n):(n.eventSystemFlags|=c,r=n.targetContainers,p!==null&&r.indexOf(p)===-1&&r.push(p),n)}function DA(n,r,o,c,p){switch(r){case"focusin":return xa=nc(xa,n,r,o,c,p),!0;case"dragenter":return Pa=nc(Pa,n,r,o,c,p),!0;case"mouseover":return Oa=nc(Oa,n,r,o,c,p),!0;case"pointerover":var g=p.pointerId;return tc.set(g,nc(tc.get(g)||null,n,r,o,c,p)),!0;case"gotpointercapture":return g=p.pointerId,ec.set(g,nc(ec.get(g)||null,n,r,o,c,p)),!0}return!1}function Hv(n){var r=di(n.target);if(r!==null){var o=h(r);if(o!==null){if(r=o.tag,r===13){if(r=d(o),r!==null){n.blockedOn=r,Gs(n.priority,function(){if(o.tag===13){var c=xi();c=Ir(c);var p=ca(o,c);p!==null&&Pi(p,o,c),Nm(o,c)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function jh(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var o=Vm(n.nativeEvent);if(o===null){o=n.nativeEvent;var c=new o.constructor(o.type,o);yi=c,o.target.dispatchEvent(c),yi=null}else return r=mi(o),r!==null&&zv(r),n.blockedOn=o,!1;r.shift()}return!0}function qv(n,r,o){jh(n)&&o.delete(r)}function NA(){Um=!1,xa!==null&&jh(xa)&&(xa=null),Pa!==null&&jh(Pa)&&(Pa=null),Oa!==null&&jh(Oa)&&(Oa=null),tc.forEach(qv),ec.forEach(qv)}function Fh(n,r){n.blockedOn===r&&(n.blockedOn=null,Um||(Um=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,NA)))}var Gh=null;function jv(n){Gh!==n&&(Gh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Gh===n&&(Gh=null);for(var r=0;r<n.length;r+=3){var o=n[r],c=n[r+1],p=n[r+2];if(typeof c!="function"){if(zm(c||o)===null)continue;break}var g=mi(o);g!==null&&(n.splice(r,3),r-=3,zd(g,{pending:!0,data:p,method:o.method,action:c},c,p))}}))}function ic(n){function r(V){return Fh(V,n)}xa!==null&&Fh(xa,n),Pa!==null&&Fh(Pa,n),Oa!==null&&Fh(Oa,n),tc.forEach(r),ec.forEach(r);for(var o=0;o<La.length;o++){var c=La[o];c.blockedOn===n&&(c.blockedOn=null)}for(;0<La.length&&(o=La[0],o.blockedOn===null);)Hv(o),o.blockedOn===null&&La.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var p=o[c],g=o[c+1],S=p[Fe]||null;if(typeof g=="function")S||jv(o);else if(S){var x=null;if(g&&g.hasAttribute("formAction")){if(p=g,S=g[Fe]||null)x=S.formAction;else if(zm(p)!==null)continue}else x=S.action;typeof x=="function"?o[c+1]=x:(o.splice(c,3),c-=3),jv(o)}}}function Bm(n){this._internalRoot=n}Zh.prototype.render=Bm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,c=xi();kv(o,c,n,r,null,null)},Zh.prototype.unmount=Bm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;kv(n.current,2,null,n,null,null),Ih(),r[Jn]=null}};function Zh(n){this._internalRoot=n}Zh.prototype.unstable_scheduleHydration=function(n){if(n){var r=Cr();n={blockedOn:null,target:n,priority:r};for(var o=0;o<La.length&&r!==0&&r<La[o].priority;o++);La.splice(o,0,n),o===0&&Hv(n)}};var Fv=t.version;if(Fv!=="19.1.0")throw Error(s(527,Fv,"19.1.0"));yt.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=y(r),n=n!==null?T(n):null,n=n===null?null:n.stateNode,n};var kA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:at,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kh.isDisabled&&Kh.supportsFiber)try{xe=Kh.inject(kA),ue=Kh}catch{}}return sc.createRoot=function(n,r){if(!l(n))throw Error(s(299));var o=!1,c="",p=ay,g=oy,S=ly,x=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(S=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(x=r.unstable_transitionCallbacks)),r=Dv(n,1,!1,null,null,o,c,p,g,S,x,null),n[Jn]=r.current,wm(n),new Bm(r)},sc.hydrateRoot=function(n,r,o){if(!l(n))throw Error(s(299));var c=!1,p="",g=ay,S=oy,x=ly,V=null,J=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(x=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(V=o.unstable_transitionCallbacks),o.formState!==void 0&&(J=o.formState)),r=Dv(n,1,!0,r,o??null,c,p,g,S,x,V,J),r.context=Nv(null),o=r.current,c=xi(),c=Ir(c),p=pa(c),p.callback=null,ga(o,p,c),o=c,r.current.lanes=o,Di(r,o),Fr(r),n[Jn]=r.current,wm(n),new Zh(r)},sc.version="19.1.0",sc}var t0;function GA(){if(t0)return jm.exports;t0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),jm.exports=FA(),jm.exports}var ZA=GA();const KA=Hp(ZA);var ac={},e0;function YA(){if(e0)return ac;e0=1,Object.defineProperty(ac,"__esModule",{value:!0}),ac.parse=d,ac.serialize=T;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,h=(()=>{const C=function(){};return C.prototype=Object.create(null),C})();function d(C,k){const H=new h,G=C.length;if(G<2)return H;const Z=(k==null?void 0:k.decode)||A;let tt=0;do{const W=C.indexOf("=",tt);if(W===-1)break;const nt=C.indexOf(";",tt),gt=nt===-1?G:nt;if(W>gt){tt=C.lastIndexOf(";",W-1)+1;continue}const Tt=_(C,tt,W),Pt=y(C,W,Tt),z=C.slice(Tt,Pt);if(H[z]===void 0){let O=_(C,W+1,gt),M=y(C,gt,O);const B=Z(C.slice(O,M));H[z]=B}tt=gt+1}while(tt<G);return H}function _(C,k,H){do{const G=C.charCodeAt(k);if(G!==32&&G!==9)return k}while(++k<H);return H}function y(C,k,H){for(;k>H;){const G=C.charCodeAt(--k);if(G!==32&&G!==9)return k+1}return H}function T(C,k,H){const G=(H==null?void 0:H.encode)||encodeURIComponent;if(!i.test(C))throw new TypeError(`argument name is invalid: ${C}`);const Z=G(k);if(!t.test(Z))throw new TypeError(`argument val is invalid: ${k}`);let tt=C+"="+Z;if(!H)return tt;if(H.maxAge!==void 0){if(!Number.isInteger(H.maxAge))throw new TypeError(`option maxAge is invalid: ${H.maxAge}`);tt+="; Max-Age="+H.maxAge}if(H.domain){if(!e.test(H.domain))throw new TypeError(`option domain is invalid: ${H.domain}`);tt+="; Domain="+H.domain}if(H.path){if(!s.test(H.path))throw new TypeError(`option path is invalid: ${H.path}`);tt+="; Path="+H.path}if(H.expires){if(!I(H.expires)||!Number.isFinite(H.expires.valueOf()))throw new TypeError(`option expires is invalid: ${H.expires}`);tt+="; Expires="+H.expires.toUTCString()}if(H.httpOnly&&(tt+="; HttpOnly"),H.secure&&(tt+="; Secure"),H.partitioned&&(tt+="; Partitioned"),H.priority)switch(typeof H.priority=="string"?H.priority.toLowerCase():void 0){case"low":tt+="; Priority=Low";break;case"medium":tt+="; Priority=Medium";break;case"high":tt+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${H.priority}`)}if(H.sameSite)switch(typeof H.sameSite=="string"?H.sameSite.toLowerCase():H.sameSite){case!0:case"strict":tt+="; SameSite=Strict";break;case"lax":tt+="; SameSite=Lax";break;case"none":tt+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${H.sameSite}`)}return tt}function A(C){if(C.indexOf("%")===-1)return C;try{return decodeURIComponent(C)}catch{return C}}function I(C){return l.call(C)==="[object Date]"}return ac}YA();var n0="popstate";function QA(i={}){function t(l,h){let{pathname:d="/",search:_="",hash:y=""}=Yo(l.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),up("",{pathname:d,search:_,hash:y},h.state&&h.state.usr||null,h.state&&h.state.key||"default")}function e(l,h){let d=l.document.querySelector("base"),_="";if(d&&d.getAttribute("href")){let y=l.location.href,T=y.indexOf("#");_=T===-1?y:y.slice(0,T)}return _+"#"+(typeof h=="string"?h:Tc(h))}function s(l,h){wr(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(h)})`)}return XA(t,e,s,i)}function qe(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function wr(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $A(){return Math.random().toString(36).substring(2,10)}function i0(i,t){return{usr:i.state,key:i.key,idx:t}}function up(i,t,e=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?Yo(t):t,state:e,key:t&&t.key||s||$A()}}function Tc({pathname:i="/",search:t="",hash:e=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(i+=e.charAt(0)==="#"?e:"#"+e),i}function Yo(i){let t={};if(i){let e=i.indexOf("#");e>=0&&(t.hash=i.substring(e),i=i.substring(0,e));let s=i.indexOf("?");s>=0&&(t.search=i.substring(s),i=i.substring(0,s)),i&&(t.pathname=i)}return t}function XA(i,t,e,s={}){let{window:l=document.defaultView,v5Compat:h=!1}=s,d=l.history,_="POP",y=null,T=A();T==null&&(T=0,d.replaceState({...d.state,idx:T},""));function A(){return(d.state||{idx:null}).idx}function I(){_="POP";let Z=A(),tt=Z==null?null:Z-T;T=Z,y&&y({action:_,location:G.location,delta:tt})}function C(Z,tt){_="PUSH";let W=up(G.location,Z,tt);e&&e(W,Z),T=A()+1;let nt=i0(W,T),gt=G.createHref(W);try{d.pushState(nt,"",gt)}catch(Tt){if(Tt instanceof DOMException&&Tt.name==="DataCloneError")throw Tt;l.location.assign(gt)}h&&y&&y({action:_,location:G.location,delta:1})}function k(Z,tt){_="REPLACE";let W=up(G.location,Z,tt);e&&e(W,Z),T=A();let nt=i0(W,T),gt=G.createHref(W);d.replaceState(nt,"",gt),h&&y&&y({action:_,location:G.location,delta:0})}function H(Z){return WA(Z)}let G={get action(){return _},get location(){return i(l,d)},listen(Z){if(y)throw new Error("A history only accepts one active listener");return l.addEventListener(n0,I),y=Z,()=>{l.removeEventListener(n0,I),y=null}},createHref(Z){return t(l,Z)},createURL:H,encodeLocation(Z){let tt=H(Z);return{pathname:tt.pathname,search:tt.search,hash:tt.hash}},push:C,replace:k,go(Z){return d.go(Z)}};return G}function WA(i,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),qe(e,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Tc(i);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=e+s),new URL(s,e)}function XT(i,t,e="/"){return JA(i,t,e,!1)}function JA(i,t,e,s){let l=typeof t=="string"?Yo(t):t,h=Ms(l.pathname||"/",e);if(h==null)return null;let d=WT(i);tS(d);let _=null;for(let y=0;_==null&&y<d.length;++y){let T=hS(h);_=uS(d[y],T,s)}return _}function WT(i,t=[],e=[],s=""){let l=(h,d,_)=>{let y={relativePath:_===void 0?h.path||"":_,caseSensitive:h.caseSensitive===!0,childrenIndex:d,route:h};y.relativePath.startsWith("/")&&(qe(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length));let T=xs([s,y.relativePath]),A=e.concat(y);h.children&&h.children.length>0&&(qe(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),WT(h.children,t,A,T)),!(h.path==null&&!h.index)&&t.push({path:T,score:oS(T,h.index),routesMeta:A})};return i.forEach((h,d)=>{var _;if(h.path===""||!((_=h.path)!=null&&_.includes("?")))l(h,d);else for(let y of JT(h.path))l(h,d,y)}),t}function JT(i){let t=i.split("/");if(t.length===0)return[];let[e,...s]=t,l=e.endsWith("?"),h=e.replace(/\?$/,"");if(s.length===0)return l?[h,""]:[h];let d=JT(s.join("/")),_=[];return _.push(...d.map(y=>y===""?h:[h,y].join("/"))),l&&_.push(...d),_.map(y=>i.startsWith("/")&&y===""?"/":y)}function tS(i){i.sort((t,e)=>t.score!==e.score?e.score-t.score:lS(t.routesMeta.map(s=>s.childrenIndex),e.routesMeta.map(s=>s.childrenIndex)))}var eS=/^:[\w-]+$/,nS=3,iS=2,rS=1,sS=10,aS=-2,r0=i=>i==="*";function oS(i,t){let e=i.split("/"),s=e.length;return e.some(r0)&&(s+=aS),t&&(s+=iS),e.filter(l=>!r0(l)).reduce((l,h)=>l+(eS.test(h)?nS:h===""?rS:sS),s)}function lS(i,t){return i.length===t.length&&i.slice(0,-1).every((s,l)=>s===t[l])?i[i.length-1]-t[t.length-1]:0}function uS(i,t,e=!1){let{routesMeta:s}=i,l={},h="/",d=[];for(let _=0;_<s.length;++_){let y=s[_],T=_===s.length-1,A=h==="/"?t:t.slice(h.length)||"/",I=mf({path:y.relativePath,caseSensitive:y.caseSensitive,end:T},A),C=y.route;if(!I&&T&&e&&!s[s.length-1].route.index&&(I=mf({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},A)),!I)return null;Object.assign(l,I.params),d.push({params:l,pathname:xs([h,I.pathname]),pathnameBase:pS(xs([h,I.pathnameBase])),route:C}),I.pathnameBase!=="/"&&(h=xs([h,I.pathnameBase]))}return d}function mf(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[e,s]=cS(i.path,i.caseSensitive,i.end),l=t.match(e);if(!l)return null;let h=l[0],d=h.replace(/(.)\/+$/,"$1"),_=l.slice(1);return{params:s.reduce((T,{paramName:A,isOptional:I},C)=>{if(A==="*"){let H=_[C]||"";d=h.slice(0,h.length-H.length).replace(/(.)\/+$/,"$1")}const k=_[C];return I&&!k?T[A]=void 0:T[A]=(k||"").replace(/%2F/g,"/"),T},{}),pathname:h,pathnameBase:d,pattern:i}}function cS(i,t=!1,e=!0){wr(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,_,y)=>(s.push({paramName:_,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),s]}function hS(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return wr(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function Ms(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,s=i.charAt(e);return s&&s!=="/"?null:i.slice(e)||"/"}function fS(i,t="/"){let{pathname:e,search:s="",hash:l=""}=typeof i=="string"?Yo(i):i;return{pathname:e?e.startsWith("/")?e:dS(e,t):t,search:gS(s),hash:_S(l)}}function dS(i,t){let e=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?e.length>1&&e.pop():l!=="."&&e.push(l)}),e.length>1?e.join("/"):"/"}function Km(i,t,e,s){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mS(i){return i.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function tE(i){let t=mS(i);return t.map((e,s)=>s===t.length-1?e.pathname:e.pathnameBase)}function eE(i,t,e,s=!1){let l;typeof i=="string"?l=Yo(i):(l={...i},qe(!l.pathname||!l.pathname.includes("?"),Km("?","pathname","search",l)),qe(!l.pathname||!l.pathname.includes("#"),Km("#","pathname","hash",l)),qe(!l.search||!l.search.includes("#"),Km("#","search","hash",l)));let h=i===""||l.pathname==="",d=h?"/":l.pathname,_;if(d==null)_=e;else{let I=t.length-1;if(!s&&d.startsWith("..")){let C=d.split("/");for(;C[0]==="..";)C.shift(),I-=1;l.pathname=C.join("/")}_=I>=0?t[I]:"/"}let y=fS(l,_),T=d&&d!=="/"&&d.endsWith("/"),A=(h||d===".")&&e.endsWith("/");return!y.pathname.endsWith("/")&&(T||A)&&(y.pathname+="/"),y}var xs=i=>i.join("/").replace(/\/\/+/g,"/"),pS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),gS=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,_S=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function yS(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var nE=["POST","PUT","PATCH","DELETE"];new Set(nE);var vS=["GET",...nE];new Set(vS);var ou=Y.createContext(null);ou.displayName="DataRouter";var Vf=Y.createContext(null);Vf.displayName="DataRouterState";var iE=Y.createContext({isTransitioning:!1});iE.displayName="ViewTransition";var TS=Y.createContext(new Map);TS.displayName="Fetchers";var ES=Y.createContext(null);ES.displayName="Await";var Wr=Y.createContext(null);Wr.displayName="Navigation";var Lc=Y.createContext(null);Lc.displayName="Location";var Jr=Y.createContext({outlet:null,matches:[],isDataRoute:!1});Jr.displayName="Route";var jp=Y.createContext(null);jp.displayName="RouteError";function wS(i,{relative:t}={}){qe(Mc(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:s}=Y.useContext(Wr),{hash:l,pathname:h,search:d}=Dc(i,{relative:t}),_=h;return e!=="/"&&(_=h==="/"?e:xs([e,h])),s.createHref({pathname:_,search:d,hash:l})}function Mc(){return Y.useContext(Lc)!=null}function Qo(){return qe(Mc(),"useLocation() may be used only in the context of a <Router> component."),Y.useContext(Lc).location}var rE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sE(i){Y.useContext(Wr).static||Y.useLayoutEffect(i)}function Fp(){let{isDataRoute:i}=Y.useContext(Jr);return i?kS():bS()}function bS(){qe(Mc(),"useNavigate() may be used only in the context of a <Router> component.");let i=Y.useContext(ou),{basename:t,navigator:e}=Y.useContext(Wr),{matches:s}=Y.useContext(Jr),{pathname:l}=Qo(),h=JSON.stringify(tE(s)),d=Y.useRef(!1);return sE(()=>{d.current=!0}),Y.useCallback((y,T={})=>{if(wr(d.current,rE),!d.current)return;if(typeof y=="number"){e.go(y);return}let A=eE(y,JSON.parse(h),l,T.relative==="path");i==null&&t!=="/"&&(A.pathname=A.pathname==="/"?t:xs([t,A.pathname])),(T.replace?e.replace:e.push)(A,T.state,T)},[t,e,h,l,i])}Y.createContext(null);function AS(){let{matches:i}=Y.useContext(Jr),t=i[i.length-1];return t?t.params:{}}function Dc(i,{relative:t}={}){let{matches:e}=Y.useContext(Jr),{pathname:s}=Qo(),l=JSON.stringify(tE(e));return Y.useMemo(()=>eE(i,JSON.parse(l),s,t==="path"),[i,l,s,t])}function SS(i,t){return aE(i,t)}function aE(i,t,e,s){var tt;qe(Mc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=Y.useContext(Wr),{matches:h}=Y.useContext(Jr),d=h[h.length-1],_=d?d.params:{},y=d?d.pathname:"/",T=d?d.pathnameBase:"/",A=d&&d.route;{let W=A&&A.path||"";oE(y,!A||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let I=Qo(),C;if(t){let W=typeof t=="string"?Yo(t):t;qe(T==="/"||((tt=W.pathname)==null?void 0:tt.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${W.pathname}" was given in the \`location\` prop.`),C=W}else C=I;let k=C.pathname||"/",H=k;if(T!=="/"){let W=T.replace(/^\//,"").split("/");H="/"+k.replace(/^\//,"").split("/").slice(W.length).join("/")}let G=XT(i,{pathname:H});wr(A||G!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),wr(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Z=PS(G&&G.map(W=>Object.assign({},W,{params:Object.assign({},_,W.params),pathname:xs([T,l.encodeLocation?l.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?T:xs([T,l.encodeLocation?l.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),h,e,s);return t&&Z?Y.createElement(Lc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},Z):Z}function RS(){let i=NS(),t=yS(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),e=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},h={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",i),d=Y.createElement(Y.Fragment,null,Y.createElement("p",null," Hey developer "),Y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Y.createElement("code",{style:h},"ErrorBoundary")," or"," ",Y.createElement("code",{style:h},"errorElement")," prop on your route.")),Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},t),e?Y.createElement("pre",{style:l},e):null,d)}var IS=Y.createElement(RS,null),CS=class extends Y.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){console.error("React Router caught the following error during render",i,t)}render(){return this.state.error!==void 0?Y.createElement(Jr.Provider,{value:this.props.routeContext},Y.createElement(jp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xS({routeContext:i,match:t,children:e}){let s=Y.useContext(ou);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),Y.createElement(Jr.Provider,{value:i},e)}function PS(i,t=[],e=null,s=null){if(i==null){if(!e)return null;if(e.errors)i=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)i=e.matches;else return null}let l=i,h=e==null?void 0:e.errors;if(h!=null){let y=l.findIndex(T=>T.route.id&&(h==null?void 0:h[T.route.id])!==void 0);qe(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let d=!1,_=-1;if(e)for(let y=0;y<l.length;y++){let T=l[y];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(_=y),T.route.id){let{loaderData:A,errors:I}=e,C=T.route.loader&&!A.hasOwnProperty(T.route.id)&&(!I||I[T.route.id]===void 0);if(T.route.lazy||C){d=!0,_>=0?l=l.slice(0,_+1):l=[l[0]];break}}}return l.reduceRight((y,T,A)=>{let I,C=!1,k=null,H=null;e&&(I=h&&T.route.id?h[T.route.id]:void 0,k=T.route.errorElement||IS,d&&(_<0&&A===0?(oE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,H=null):_===A&&(C=!0,H=T.route.hydrateFallbackElement||null)));let G=t.concat(l.slice(0,A+1)),Z=()=>{let tt;return I?tt=k:C?tt=H:T.route.Component?tt=Y.createElement(T.route.Component,null):T.route.element?tt=T.route.element:tt=y,Y.createElement(xS,{match:T,routeContext:{outlet:y,matches:G,isDataRoute:e!=null},children:tt})};return e&&(T.route.ErrorBoundary||T.route.errorElement||A===0)?Y.createElement(CS,{location:e.location,revalidation:e.revalidation,component:k,error:I,children:Z(),routeContext:{outlet:null,matches:G,isDataRoute:!0}}):Z()},null)}function Gp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function OS(i){let t=Y.useContext(ou);return qe(t,Gp(i)),t}function LS(i){let t=Y.useContext(Vf);return qe(t,Gp(i)),t}function MS(i){let t=Y.useContext(Jr);return qe(t,Gp(i)),t}function Zp(i){let t=MS(i),e=t.matches[t.matches.length-1];return qe(e.route.id,`${i} can only be used on routes that contain a unique "id"`),e.route.id}function DS(){return Zp("useRouteId")}function NS(){var s;let i=Y.useContext(jp),t=LS("useRouteError"),e=Zp("useRouteError");return i!==void 0?i:(s=t.errors)==null?void 0:s[e]}function kS(){let{router:i}=OS("useNavigate"),t=Zp("useNavigate"),e=Y.useRef(!1);return sE(()=>{e.current=!0}),Y.useCallback(async(l,h={})=>{wr(e.current,rE),e.current&&(typeof l=="number"?i.navigate(l):await i.navigate(l,{fromRouteId:t,...h}))},[i,t])}var s0={};function oE(i,t,e){!t&&!s0[i]&&(s0[i]=!0,wr(!1,e))}Y.memo(VS);function VS({routes:i,future:t,state:e}){return aE(i,void 0,e,t)}function ql(i){qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function zS({basename:i="/",children:t=null,location:e,navigationType:s="POP",navigator:l,static:h=!1}){qe(!Mc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=i.replace(/^\/*/,"/"),_=Y.useMemo(()=>({basename:d,navigator:l,static:h,future:{}}),[d,l,h]);typeof e=="string"&&(e=Yo(e));let{pathname:y="/",search:T="",hash:A="",state:I=null,key:C="default"}=e,k=Y.useMemo(()=>{let H=Ms(y,d);return H==null?null:{location:{pathname:H,search:T,hash:A,state:I,key:C},navigationType:s}},[d,y,T,A,I,C,s]);return wr(k!=null,`<Router basename="${d}"> is not able to match the URL "${y}${T}${A}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:Y.createElement(Wr.Provider,{value:_},Y.createElement(Lc.Provider,{children:t,value:k}))}function US({children:i,location:t}){return SS(cp(i),t)}function cp(i,t=[]){let e=[];return Y.Children.forEach(i,(s,l)=>{if(!Y.isValidElement(s))return;let h=[...t,l];if(s.type===Y.Fragment){e.push.apply(e,cp(s.props.children,h));return}qe(s.type===ql,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qe(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||h.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=cp(s.props.children,h)),e.push(d)}),e}var ef="get",nf="application/x-www-form-urlencoded";function zf(i){return i!=null&&typeof i.tagName=="string"}function BS(i){return zf(i)&&i.tagName.toLowerCase()==="button"}function HS(i){return zf(i)&&i.tagName.toLowerCase()==="form"}function qS(i){return zf(i)&&i.tagName.toLowerCase()==="input"}function jS(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function FS(i,t){return i.button===0&&(!t||t==="_self")&&!jS(i)}var Yh=null;function GS(){if(Yh===null)try{new FormData(document.createElement("form"),0),Yh=!1}catch{Yh=!0}return Yh}var ZS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ym(i){return i!=null&&!ZS.has(i)?(wr(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nf}"`),null):i}function KS(i,t){let e,s,l,h,d;if(HS(i)){let _=i.getAttribute("action");s=_?Ms(_,t):null,e=i.getAttribute("method")||ef,l=Ym(i.getAttribute("enctype"))||nf,h=new FormData(i)}else if(BS(i)||qS(i)&&(i.type==="submit"||i.type==="image")){let _=i.form;if(_==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=i.getAttribute("formaction")||_.getAttribute("action");if(s=y?Ms(y,t):null,e=i.getAttribute("formmethod")||_.getAttribute("method")||ef,l=Ym(i.getAttribute("formenctype"))||Ym(_.getAttribute("enctype"))||nf,h=new FormData(_,i),!GS()){let{name:T,type:A,value:I}=i;if(A==="image"){let C=T?`${T}.`:"";h.append(`${C}x`,"0"),h.append(`${C}y`,"0")}else T&&h.append(T,I)}}else{if(zf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=ef,s=null,l=nf,d=i}return h&&l==="text/plain"&&(d=h,h=void 0),{action:s,method:e.toLowerCase(),encType:l,formData:h,body:d}}function Kp(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}async function YS(i,t){if(i.id in t)return t[i.id];try{let e=await import(i.module);return t[i.id]=e,e}catch(e){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function QS(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function $S(i,t,e){let s=await Promise.all(i.map(async l=>{let h=t.routes[l.route.id];if(h){let d=await YS(h,e);return d.links?d.links():[]}return[]}));return tR(s.flat(1).filter(QS).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function a0(i,t,e,s,l,h){let d=(y,T)=>e[T]?y.route.id!==e[T].route.id:!0,_=(y,T)=>{var A;return e[T].pathname!==y.pathname||((A=e[T].route.path)==null?void 0:A.endsWith("*"))&&e[T].params["*"]!==y.params["*"]};return h==="assets"?t.filter((y,T)=>d(y,T)||_(y,T)):h==="data"?t.filter((y,T)=>{var I;let A=s.routes[y.route.id];if(!A||!A.hasLoader)return!1;if(d(y,T)||_(y,T))return!0;if(y.route.shouldRevalidate){let C=y.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((I=e[0])==null?void 0:I.params)||{},nextUrl:new URL(i,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function XS(i,t,{includeHydrateFallback:e}={}){return WS(i.map(s=>{let l=t.routes[s.route.id];if(!l)return[];let h=[l.module];return l.clientActionModule&&(h=h.concat(l.clientActionModule)),l.clientLoaderModule&&(h=h.concat(l.clientLoaderModule)),e&&l.hydrateFallbackModule&&(h=h.concat(l.hydrateFallbackModule)),l.imports&&(h=h.concat(l.imports)),h}).flat(1))}function WS(i){return[...new Set(i)]}function JS(i){let t={},e=Object.keys(i).sort();for(let s of e)t[s]=i[s];return t}function tR(i,t){let e=new Set;return new Set(t),i.reduce((s,l)=>{let h=JSON.stringify(JS(l));return e.has(h)||(e.add(h),s.push({key:h,link:l})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var eR=new Set([100,101,204,205]);function nR(i,t){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":t&&Ms(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function lE(){let i=Y.useContext(ou);return Kp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function iR(){let i=Y.useContext(Vf);return Kp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Yp=Y.createContext(void 0);Yp.displayName="FrameworkContext";function uE(){let i=Y.useContext(Yp);return Kp(i,"You must render this element inside a <HydratedRouter> element"),i}function rR(i,t){let e=Y.useContext(Yp),[s,l]=Y.useState(!1),[h,d]=Y.useState(!1),{onFocus:_,onBlur:y,onMouseEnter:T,onMouseLeave:A,onTouchStart:I}=t,C=Y.useRef(null);Y.useEffect(()=>{if(i==="render"&&d(!0),i==="viewport"){let G=tt=>{tt.forEach(W=>{d(W.isIntersecting)})},Z=new IntersectionObserver(G,{threshold:.5});return C.current&&Z.observe(C.current),()=>{Z.disconnect()}}},[i]),Y.useEffect(()=>{if(s){let G=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(G)}}},[s]);let k=()=>{l(!0)},H=()=>{l(!1),d(!1)};return e?i!=="intent"?[h,C,{}]:[h,C,{onFocus:oc(_,k),onBlur:oc(y,H),onMouseEnter:oc(T,k),onMouseLeave:oc(A,H),onTouchStart:oc(I,k)}]:[!1,C,{}]}function oc(i,t){return e=>{i&&i(e),e.defaultPrevented||t(e)}}function sR({page:i,...t}){let{router:e}=lE(),s=Y.useMemo(()=>XT(e.routes,i,e.basename),[e.routes,i,e.basename]);return s?Y.createElement(oR,{page:i,matches:s,...t}):null}function aR(i){let{manifest:t,routeModules:e}=uE(),[s,l]=Y.useState([]);return Y.useEffect(()=>{let h=!1;return $S(i,t,e).then(d=>{h||l(d)}),()=>{h=!0}},[i,t,e]),s}function oR({page:i,matches:t,...e}){let s=Qo(),{manifest:l,routeModules:h}=uE(),{basename:d}=lE(),{loaderData:_,matches:y}=iR(),T=Y.useMemo(()=>a0(i,t,y,l,s,"data"),[i,t,y,l,s]),A=Y.useMemo(()=>a0(i,t,y,l,s,"assets"),[i,t,y,l,s]),I=Y.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let H=new Set,G=!1;if(t.forEach(tt=>{var nt;let W=l.routes[tt.route.id];!W||!W.hasLoader||(!T.some(gt=>gt.route.id===tt.route.id)&&tt.route.id in _&&((nt=h[tt.route.id])!=null&&nt.shouldRevalidate)||W.hasClientLoader?G=!0:H.add(tt.route.id))}),H.size===0)return[];let Z=nR(i,d);return G&&H.size>0&&Z.searchParams.set("_routes",t.filter(tt=>H.has(tt.route.id)).map(tt=>tt.route.id).join(",")),[Z.pathname+Z.search]},[d,_,s,l,T,t,i,h]),C=Y.useMemo(()=>XS(A,l),[A,l]),k=aR(A);return Y.createElement(Y.Fragment,null,I.map(H=>Y.createElement("link",{key:H,rel:"prefetch",as:"fetch",href:H,...e})),C.map(H=>Y.createElement("link",{key:H,rel:"modulepreload",href:H,...e})),k.map(({key:H,link:G})=>Y.createElement("link",{key:H,...G})))}function lR(...i){return t=>{i.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var cE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{cE&&(window.__reactRouterVersion="7.6.2")}catch{}function uR({basename:i,children:t,window:e}){let s=Y.useRef();s.current==null&&(s.current=QA({window:e,v5Compat:!0}));let l=s.current,[h,d]=Y.useState({action:l.action,location:l.location}),_=Y.useCallback(y=>{Y.startTransition(()=>d(y))},[d]);return Y.useLayoutEffect(()=>l.listen(_),[l,_]),Y.createElement(zS,{basename:i,children:t,location:h.location,navigationType:h.action,navigator:l})}var hE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pf=Y.forwardRef(function({onClick:t,discover:e="render",prefetch:s="none",relative:l,reloadDocument:h,replace:d,state:_,target:y,to:T,preventScrollReset:A,viewTransition:I,...C},k){let{basename:H}=Y.useContext(Wr),G=typeof T=="string"&&hE.test(T),Z,tt=!1;if(typeof T=="string"&&G&&(Z=T,cE))try{let M=new URL(window.location.href),B=T.startsWith("//")?new URL(M.protocol+T):new URL(T),q=Ms(B.pathname,H);B.origin===M.origin&&q!=null?T=q+B.search+B.hash:tt=!0}catch{wr(!1,`<Link to="${T}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=wS(T,{relative:l}),[nt,gt,Tt]=rR(s,C),Pt=dR(T,{replace:d,state:_,target:y,preventScrollReset:A,relative:l,viewTransition:I});function z(M){t&&t(M),M.defaultPrevented||Pt(M)}let O=Y.createElement("a",{...C,...Tt,href:Z||W,onClick:tt||h?t:z,ref:lR(k,gt),target:y,"data-discover":!G&&e==="render"?"true":void 0});return nt&&!G?Y.createElement(Y.Fragment,null,O,Y.createElement(sR,{page:W})):O});pf.displayName="Link";var cR=Y.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:s="",end:l=!1,style:h,to:d,viewTransition:_,children:y,...T},A){let I=Dc(d,{relative:T.relative}),C=Qo(),k=Y.useContext(Vf),{navigator:H,basename:G}=Y.useContext(Wr),Z=k!=null&&yR(I)&&_===!0,tt=H.encodeLocation?H.encodeLocation(I).pathname:I.pathname,W=C.pathname,nt=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;e||(W=W.toLowerCase(),nt=nt?nt.toLowerCase():null,tt=tt.toLowerCase()),nt&&G&&(nt=Ms(nt,G)||nt);const gt=tt!=="/"&&tt.endsWith("/")?tt.length-1:tt.length;let Tt=W===tt||!l&&W.startsWith(tt)&&W.charAt(gt)==="/",Pt=nt!=null&&(nt===tt||!l&&nt.startsWith(tt)&&nt.charAt(tt.length)==="/"),z={isActive:Tt,isPending:Pt,isTransitioning:Z},O=Tt?t:void 0,M;typeof s=="function"?M=s(z):M=[s,Tt?"active":null,Pt?"pending":null,Z?"transitioning":null].filter(Boolean).join(" ");let B=typeof h=="function"?h(z):h;return Y.createElement(pf,{...T,"aria-current":O,className:M,ref:A,style:B,to:d,viewTransition:_},typeof y=="function"?y(z):y)});cR.displayName="NavLink";var hR=Y.forwardRef(({discover:i="render",fetcherKey:t,navigate:e,reloadDocument:s,replace:l,state:h,method:d=ef,action:_,onSubmit:y,relative:T,preventScrollReset:A,viewTransition:I,...C},k)=>{let H=gR(),G=_R(_,{relative:T}),Z=d.toLowerCase()==="get"?"get":"post",tt=typeof _=="string"&&hE.test(_),W=nt=>{if(y&&y(nt),nt.defaultPrevented)return;nt.preventDefault();let gt=nt.nativeEvent.submitter,Tt=(gt==null?void 0:gt.getAttribute("formmethod"))||d;H(gt||nt.currentTarget,{fetcherKey:t,method:Tt,navigate:e,replace:l,state:h,relative:T,preventScrollReset:A,viewTransition:I})};return Y.createElement("form",{ref:k,method:Z,action:G,onSubmit:s?y:W,...C,"data-discover":!tt&&i==="render"?"true":void 0})});hR.displayName="Form";function fR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fE(i){let t=Y.useContext(ou);return qe(t,fR(i)),t}function dR(i,{target:t,replace:e,state:s,preventScrollReset:l,relative:h,viewTransition:d}={}){let _=Fp(),y=Qo(),T=Dc(i,{relative:h});return Y.useCallback(A=>{if(FS(A,t)){A.preventDefault();let I=e!==void 0?e:Tc(y)===Tc(T);_(i,{replace:I,state:s,preventScrollReset:l,relative:h,viewTransition:d})}},[y,_,T,e,s,t,i,l,h,d])}var mR=0,pR=()=>`__${String(++mR)}__`;function gR(){let{router:i}=fE("useSubmit"),{basename:t}=Y.useContext(Wr),e=DS();return Y.useCallback(async(s,l={})=>{let{action:h,method:d,encType:_,formData:y,body:T}=KS(s,t);if(l.navigate===!1){let A=l.fetcherKey||pR();await i.fetch(A,e,l.action||h,{preventScrollReset:l.preventScrollReset,formData:y,body:T,formMethod:l.method||d,formEncType:l.encType||_,flushSync:l.flushSync})}else await i.navigate(l.action||h,{preventScrollReset:l.preventScrollReset,formData:y,body:T,formMethod:l.method||d,formEncType:l.encType||_,replace:l.replace,state:l.state,fromRouteId:e,flushSync:l.flushSync,viewTransition:l.viewTransition})},[i,t,e])}function _R(i,{relative:t}={}){let{basename:e}=Y.useContext(Wr),s=Y.useContext(Jr);qe(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),h={...Dc(i||".",{relative:t})},d=Qo();if(i==null){h.search=d.search;let _=new URLSearchParams(h.search),y=_.getAll("index");if(y.some(A=>A==="")){_.delete("index"),y.filter(I=>I).forEach(I=>_.append("index",I));let A=_.toString();h.search=A?`?${A}`:""}}return(!i||i===".")&&l.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(h.pathname=h.pathname==="/"?e:xs([e,h.pathname])),Tc(h)}function yR(i,t={}){let e=Y.useContext(iE);qe(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=fE("useViewTransitionState"),l=Dc(i,{relative:t.relative});if(!e.isTransitioning)return!1;let h=Ms(e.currentLocation.pathname,s)||e.currentLocation.pathname,d=Ms(e.nextLocation.pathname,s)||e.nextLocation.pathname;return mf(l.pathname,d)!=null||mf(l.pathname,h)!=null}[...eR];var vR=$T();const TR="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAclBMVEX///8AAAAgICDq6urCwsJZWVny8vL6+vrV1dX39/eNjY2srKwODg6BgYF0dHRGRkbj4+O1tbWlpaW7u7s9PT3MzMzb29tUVFRnZ2dgYGAmJiY4ODiIiIivr68yMjLKyspOTk4YGBgjIyN2dnaZmZkrKyvJgXKrAAALw0lEQVR4nOVd6WKySgy1giCKirjXpdLq+7/i/dRa5SQzLCaDes9PW4HjMNknabW0EUbzST/tDTvT3Wc7jj/i7LgeLVbDTTqeeVGofn9NBMlks5x+WJGNlj0/CZp+1BqYj4ejzE7uDp+LwaTb9CNXwDztxKXJ3RCvtl7Tj14CwWRQg9wfvjf+U7+x3nb1CL1frMZPSjIcdwTonREv/abZUHR/pOj94mfWNKV7BGmBTqiF9TZqmtgvvI0CvTPavWcQrslQi98Zy3nD/LoSwtOOfZOmQFdMelrR2Dp6uu/nPYZN7Mew54zfCQPnVkC//MPFu9FqkPpfs+488YIwCrwk6X7528Nyv87KX6bvlF+3pP77Xm78xLP4gF7i95brchfbO9yOpRTg6OAH5fzbMPAPozKX3CjzuqJb7BodB35l533W2xVz/NIgBIgKvaPFNql57WRbqH6G6pbc19H+BKP0McHu9Rf2GxyVDYCD9e7xoe7q3cMr0EOpwD1MCKy/734idiPf+rYu1HRjN7Pcdij79sxtBlOsJHBSyz0V3JzEJtIO4rf7h6X5fgMdARdZNuRQ/G6B2fD40TOLA/M6joR/1cSoJJYS4tOMuVHmHEVvbDRj2vrxIrMGFry3b7pHT+4eFhhF3FjqDlvDDTq6L+gNiUkPC1E0/YRiv2AJmNxREafRQHDkNrDg7dUoGn49FZVrhcEkfthK5QlmTYTcZ7xAf5DimL3oqpnkUMC/qdtHrskTdKMjOPBm3AOJqhl7QbdBrzwm7BPVdmsS9nLNZr263CPFNRVzxJlL7aazQQknb471BAMX4BsJP28NRFysdl3nSpyTvXiGAp+Qy3ctq1+HU7CdZyD4DxzFymrxiyOo8bS1wDmNFQVqwOznlc7T1gJDMasmbRh35ZkItkLmARdVLsD4E1ORPTjr9/oiCjVkJH0Fb4BRq7FE4Me/vPuxSD1Qmz5k6TAqp+ol3PmbVSlh2Xr0IY9ll4HRhBIB7XtHTMK2ZazmQblvMopCIiMR5a4o8dIzvmu5laDfE3GX8tJLJIFEnam4zNdoCnsv8TSgwmSsB2rclEiEz+nvIuPR58XXUeSaQVbjPaWRAiGHMC/d2zIXpdJmWvQVunulomoqDBkHoUBMB+QLe6FHUWLIeLF244tms8R8eiWGVPFbJT/9d7mwkxJDJh5oWxRizVSy1+3QYkg9KUt+mGoKweySGkMaEjRrDJKqlyxdUWNITRujOUGcJhm1/As9htSRMi0iUfaiZSuKDIneN8QjyC6UjTwpMqTbi5cf5N9kK1Y1GRJhw4pTogtLupNlocmwRc4kcTqRSCThJKEqQ7I8jBcVoUCSzhKqMqTmJl0fUlIiXaumyzDCx6eqHOvWhHehNkOyyYifSFSKeDWQMkOyE1HrozCSr25UZki8hh/4O/4C8qc3tBkSmzPvCWNtnkIiTZshMTrzVWlozyicNFZniHUauVUi6UL5++szbCGJe7sGIwEaNUH6DDHudl8shbFjjZISfYZof9/5UBhDFIzO3KDPkEQWb5YbSlKVui4HDDF1fUuZYTJGpe7JAUO0a26W53f+DzpVJQ4YkgKL6+dI/aGCTSNcMEQHaW74XKcE3wVDlKZXFwp0xU7l5k4YQpLyb7+BLaBUAuyEIbj6v0lvNMqVSmSdMES9d9mIaLHq3NsNwxC4XPwLWFmtIlknDNGsuTjyoES0zoq4YQjW93m5gs/8h1pNqNwwhI14LslEHaJ1WsQNQ3QiTrodWK+1Kp3dMAzBAj0Z3xBorFESXg5uGGI8ZkM/Ujvy44gh+EmnBQP5qtbtzhFD2HTTfy9ulv9I7eSrI4YoOENMaWRqp34cMfTAyo7QOax1vKYUHDEMoY/PHFMye607u2KIcmWCoVI1ZeGMIXi7fYxP6Z1gdsUQHIkU9YdOjOYEVwxhyXqYdtNr/po3p77V7gMKcYivbYkyqCjtHNuVAfbix3f1Sxw7aYniAjhM0UHvsLgQvEI/QQUUh+NBOUxRuBaaNG4bQlIU2s0QdtphDUYRQ2MjF2cokhRQnveJEcYio61Os3VZFB2LAcO03cryHxR4+HwPArcoiHaCGRrjohQIq2bFzAXVDlTEWGZSEMNoWs6cUCBrMGSKa1jwlr7AGoI7SN7SAknzAvsQ3tIMq8CLtMXzy1KQNMcWxIOLqr2eXx+Ctli3wCUutNqaljWFNg0wHLWgU0hxau3Z7VKw2hZ4aujtfIvV/8A/hH2l16TXlY8PdRcbdPrFy7v/4IohZBBTFBx6HUxcMYQ8zBiz+HqNoFwxhFLhGTqMO7VGSa4YgkvvEUP15fMWWZ5QRJyNN8s9Zf/eSTBq3ix/eJIrTFpYBY4YMkl7Ji2sgmby+CdDHdTF94vXYoAoPW2696+nwR4vb1UT9XleL4jrv1Vd2+VcBfhPb1WbeHEk8EiQkqhxwxC4XE5cYKcBpY3ohCFGO3/DThAhVHIRnTAEfX+NPEKoRrTfxw1OGELk8Gq+4HGh9zlvca27wI34Pmdm/lxB+FzlcJ4ThrDfbgE9bLnwLmfXbn4SnrhQCSk6YIjh+JveQ3NVxaxxwBAP5905EXgOWEOa6jPEl/Q+MooySMP61meIabH7lgPIvlSj04rQZ4gkcp4u9q2TG/T3B3WGmLzNx2PQv9jLP4A6Q1ylvAeBUVOR5s95aDMkzdjg7+/fn4Z0dxG3a5QZkpZtJF+Pkz/ETwcpM0TLkx6rIMMCXrzXF3WQSAdhaVdflyFq+zazQKRTufBOVGVI1ofbZKQdGAqjB6HKkLTcY5eHNBGWtb81GRJdyOeXiLyVTUNpMiTNkg3leaQPv2h3BUWGZF7F3vCPROsrNvsVvTSZqWK0OcliS6p9PYZElZu3F52g85r9vC1FskScCjZUUmNIRj/ZvAbaV19uJK4WQ1rvajVVaAXw681GsJubxBOWiywqMaQzVSofqHizGSXUT3y1OTP7wu9QjVFx7J4JKrOC6PGPEs1z6bwnmapajXlPdBOWKlqjv8vrzOwq18aLmQ0o0QxTfu4aM/645LwKOjBIRNpIz85jVqJsDJSbfyih+GXnHzITp0vPP+TmA4pId8kZlhFziq5CoJ4ZBjx6sjmkzGTnStKLG9X6JOOOL2CGHlcrsGDG7j3RwGOWYNUhhtyU9uehyM10rjzYiBkJ/CxDj0OOYA0HgYwOOlF8hr3IzXOulw3EqSUnTKXzNTXATHOu6cUGjOL/iNXO1JSEx8xyrqDq80jYo+ny+e8q4BsC1P7ZOYGqUqdRGvwx6wdsCP70vVrzyELwR+UfigeSKVBn7LVOndgRMHr+UYK8Wvwnb5Q6Ylsxy9hnedgR4ykqdq4zgfEGRAgaeyjs1Q6bsvA4LfghFA0xtYlQmfNhAB2JK0jQfPmFK+2fcIboCWI19yaKih0Y7mFspyJ4usfYWugoOoyVvzdnpp0Qi1pXCWejntGRn9CWuzHn4lx+XOE9Ehlk2T/86Ol/j8wX/cNa/q4kP3xDT8enipjA7RUqB7INKveMgbxY9Wz9mpRE3Jet0ddQdj92La/MR6bmwQVc/OAPHTnhPaFJpTssNA1/g5V6RU/ClEsO9qZwyiZx16g2fn/f/mMkvdQstM/Q18CRbYOc0dnWFTvJ1roNThi4CIUxeRvErlfZgQz9QcHr8SFtxlhAE+EMRgc/KBdeDQP/UPBuXqDWd4VibpV1N6yXPT+xbMzQS/zNEpvVGTB1G+Wr0FswW++Xh63/1U0SL4jCwEvm3dmXnw5Wo12FVpou3dEzAotJpYBeE/kEr1CqimHoNmRyw9zo2oii02SYvVtS5DyAVbNpBPV1HDadCTrB65niDA9j09T+Q0RbLtf4KKZpM8kDA2bmeEM9/DS9/Rj4S7FW2J3xM6TTGQRjPjtUDavts+w+FoG/KWlm8hhMnmrzGeBtV3Xe17iT6sZeZdGdDBafxax+kY2G41did0WQ+L3lKLOTmy43k+QV3kwzwsibjdPNcLUYrY9Z/BHH7c/dtDPspf3JPNKXmf8B8ByKAxrnKJYAAAAASUVORK5CYII=",ER="/TapasMadrid/assets/settings-Bbu9V-Hx.png",wR=()=>{const i=Fp(),t=()=>{i("/mapa")},e=()=>{i("/aadir")},s=()=>{i("/settings")};return Et.jsxs("div",{className:"home",children:[Et.jsx("h1",{className:"title",children:" Tapas Radar"}),Et.jsx("p",{className:"description",children:"Descubre los bares con ms ambiente de Madrid en tiempo real. Tapas, cerveza y buena vibra  todo en un vistazo."}),Et.jsx("button",{className:"start-button",onClick:t,children:"Empezar"}),Et.jsx("br",{}),Et.jsx("button",{className:"start-button",onClick:e,children:Et.jsx("img",{src:TR,alt:"icon +"})}),Et.jsx("button",{className:"goSetting",onClick:s,children:Et.jsx("img",{src:ER,alt:"settings"})})]})};function dE(i,t){const e=Y.useRef(t);Y.useEffect(function(){t!==e.current&&i.attributionControl!=null&&(e.current!=null&&i.attributionControl.removeAttribution(e.current),t!=null&&i.attributionControl.addAttribution(t)),e.current=t},[i,t])}const bR=1;function AR(i){return Object.freeze({__version:bR,map:i})}function SR(i,t){return Object.freeze({...i,...t})}const Qp=Y.createContext(null);function mE(){const i=Y.use(Qp);if(i==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return i}function RR(i){function t(e,s){const{instance:l,context:h}=i(e).current;Y.useImperativeHandle(s,()=>l);const{children:d}=e;return d==null?null:Te.createElement(Qp,{value:h},d)}return Y.forwardRef(t)}function IR(i){function t(e,s){const[l,h]=Y.useState(!1),{instance:d}=i(e,h).current;Y.useImperativeHandle(s,()=>d),Y.useEffect(function(){l&&d.update()},[d,l,e.children]);const _=d._contentNode;return _?vR.createPortal(e.children,_):null}return Y.forwardRef(t)}function CR(i){function t(e,s){const{instance:l}=i(e).current;return Y.useImperativeHandle(s,()=>l),null}return Y.forwardRef(t)}function pE(i,t){const e=Y.useRef(void 0);Y.useEffect(function(){return t!=null&&i.instance.on(t),e.current=t,function(){e.current!=null&&i.instance.off(e.current),e.current=null}},[i,t])}function $p(i,t){const e=i.pane??t.pane;return e?{...i,pane:e}:i}function xR(i,t){return function(s,l){const h=mE(),d=i($p(s,h),h);return dE(h.map,s.attribution),pE(d.current,s.eventHandlers),t(d.current,h,s,l),d}}var lc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var PR=lc.exports,o0;function OR(){return o0||(o0=1,function(i,t){(function(e,s){s(t)})(PR,function(e){var s="1.9.4";function l(a){var u,m,v,w;for(m=1,v=arguments.length;m<v;m++){w=arguments[m];for(u in w)a[u]=w[u]}return a}var h=Object.create||function(){function a(){}return function(u){return a.prototype=u,new a}}();function d(a,u){var m=Array.prototype.slice;if(a.bind)return a.bind.apply(a,m.call(arguments,1));var v=m.call(arguments,2);return function(){return a.apply(u,v.length?v.concat(m.call(arguments)):arguments)}}var _=0;function y(a){return"_leaflet_id"in a||(a._leaflet_id=++_),a._leaflet_id}function T(a,u,m){var v,w,R,N;return N=function(){v=!1,w&&(R.apply(m,w),w=!1)},R=function(){v?w=arguments:(a.apply(m,arguments),setTimeout(N,u),v=!0)},R}function A(a,u,m){var v=u[1],w=u[0],R=v-w;return a===v&&m?a:((a-w)%R+R)%R+w}function I(){return!1}function C(a,u){if(u===!1)return a;var m=Math.pow(10,u===void 0?6:u);return Math.round(a*m)/m}function k(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function H(a){return k(a).split(/\s+/)}function G(a,u){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?h(a.options):{});for(var m in u)a.options[m]=u[m];return a.options}function Z(a,u,m){var v=[];for(var w in a)v.push(encodeURIComponent(m?w.toUpperCase():w)+"="+encodeURIComponent(a[w]));return(!u||u.indexOf("?")===-1?"?":"&")+v.join("&")}var tt=/\{ *([\w_ -]+) *\}/g;function W(a,u){return a.replace(tt,function(m,v){var w=u[v];if(w===void 0)throw new Error("No value provided for variable "+m);return typeof w=="function"&&(w=w(u)),w})}var nt=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function gt(a,u){for(var m=0;m<a.length;m++)if(a[m]===u)return m;return-1}var Tt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Pt(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var z=0;function O(a){var u=+new Date,m=Math.max(0,16-(u-z));return z=u+m,window.setTimeout(a,m)}var M=window.requestAnimationFrame||Pt("RequestAnimationFrame")||O,B=window.cancelAnimationFrame||Pt("CancelAnimationFrame")||Pt("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function q(a,u,m){if(m&&M===O)a.call(u);else return M.call(window,d(a,u))}function F(a){a&&B.call(window,a)}var U={__proto__:null,extend:l,create:h,bind:d,get lastId(){return _},stamp:y,throttle:T,wrapNum:A,falseFn:I,formatNum:C,trim:k,splitWords:H,setOptions:G,getParamString:Z,template:W,isArray:nt,indexOf:gt,emptyImageUrl:Tt,requestFn:M,cancelFn:B,requestAnimFrame:q,cancelAnimFrame:F};function pe(){}pe.extend=function(a){var u=function(){G(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=u.__super__=this.prototype,v=h(m);v.constructor=u,u.prototype=v;for(var w in this)Object.prototype.hasOwnProperty.call(this,w)&&w!=="prototype"&&w!=="__super__"&&(u[w]=this[w]);return a.statics&&l(u,a.statics),a.includes&&(Re(a.includes),l.apply(null,[v].concat(a.includes))),l(v,a),delete v.statics,delete v.includes,v.options&&(v.options=m.options?h(m.options):{},l(v.options,a.options)),v._initHooks=[],v.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var R=0,N=v._initHooks.length;R<N;R++)v._initHooks[R].call(this)}},u},pe.include=function(a){var u=this.prototype.options;return l(this.prototype,a),a.options&&(this.prototype.options=u,this.mergeOptions(a.options)),this},pe.mergeOptions=function(a){return l(this.prototype.options,a),this},pe.addInitHook=function(a){var u=Array.prototype.slice.call(arguments,1),m=typeof a=="function"?a:function(){this[a].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function Re(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=nt(a)?a:[a];for(var u=0;u<a.length;u++)a[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var at={on:function(a,u,m){if(typeof a=="object")for(var v in a)this._on(v,a[v],u);else{a=H(a);for(var w=0,R=a.length;w<R;w++)this._on(a[w],u,m)}return this},off:function(a,u,m){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var v in a)this._off(v,a[v],u);else{a=H(a);for(var w=arguments.length===1,R=0,N=a.length;R<N;R++)w?this._off(a[R]):this._off(a[R],u,m)}return this},_on:function(a,u,m,v){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(a,u,m)===!1){m===this&&(m=void 0);var w={fn:u,ctx:m};v&&(w.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(w)}},_off:function(a,u,m){var v,w,R;if(this._events&&(v=this._events[a],!!v)){if(arguments.length===1){if(this._firingCount)for(w=0,R=v.length;w<R;w++)v[w].fn=I;delete this._events[a];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var N=this._listens(a,u,m);if(N!==!1){var $=v[N];this._firingCount&&($.fn=I,this._events[a]=v=v.slice()),v.splice(N,1)}}},fire:function(a,u,m){if(!this.listens(a,m))return this;var v=l({},u,{type:a,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var w=this._events[a];if(w){this._firingCount=this._firingCount+1||1;for(var R=0,N=w.length;R<N;R++){var $=w[R],rt=$.fn;$.once&&this.off(a,rt,$.ctx),rt.call($.ctx||this,v)}this._firingCount--}}return m&&this._propagateEvent(v),this},listens:function(a,u,m,v){typeof a!="string"&&console.warn('"string" type argument expected');var w=u;typeof u!="function"&&(v=!!u,w=void 0,m=void 0);var R=this._events&&this._events[a];if(R&&R.length&&this._listens(a,w,m)!==!1)return!0;if(v){for(var N in this._eventParents)if(this._eventParents[N].listens(a,u,m,v))return!0}return!1},_listens:function(a,u,m){if(!this._events)return!1;var v=this._events[a]||[];if(!u)return!!v.length;m===this&&(m=void 0);for(var w=0,R=v.length;w<R;w++)if(v[w].fn===u&&v[w].ctx===m)return w;return!1},once:function(a,u,m){if(typeof a=="object")for(var v in a)this._on(v,a[v],u,!0);else{a=H(a);for(var w=0,R=a.length;w<R;w++)this._on(a[w],u,m,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[y(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[y(a)],this},_propagateEvent:function(a){for(var u in this._eventParents)this._eventParents[u].fire(a.type,l({layer:a.target,propagatedFrom:a.target},a),!0)}};at.addEventListener=at.on,at.removeEventListener=at.clearAllEventListeners=at.off,at.addOneTimeEventListener=at.once,at.fireEvent=at.fire,at.hasEventListeners=at.listens;var yt=pe.extend(at);function pt(a,u,m){this.x=m?Math.round(a):a,this.y=m?Math.round(u):u}var se=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};pt.prototype={clone:function(){return new pt(this.x,this.y)},add:function(a){return this.clone()._add(D(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(D(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new pt(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new pt(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=se(this.x),this.y=se(this.y),this},distanceTo:function(a){a=D(a);var u=a.x-this.x,m=a.y-this.y;return Math.sqrt(u*u+m*m)},equals:function(a){return a=D(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=D(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+C(this.x)+", "+C(this.y)+")"}};function D(a,u,m){return a instanceof pt?a:nt(a)?new pt(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new pt(a.x,a.y):new pt(a,u,m)}function ot(a,u){if(a)for(var m=u?[a,u]:a,v=0,w=m.length;v<w;v++)this.extend(m[v])}ot.prototype={extend:function(a){var u,m;if(!a)return this;if(a instanceof pt||typeof a[0]=="number"||"x"in a)u=m=D(a);else if(a=_t(a),u=a.min,m=a.max,!u||!m)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=m.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(a){return D((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return D(this.min.x,this.max.y)},getTopRight:function(){return D(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var u,m;return typeof a[0]=="number"||a instanceof pt?a=D(a):a=_t(a),a instanceof ot?(u=a.min,m=a.max):u=m=a,u.x>=this.min.x&&m.x<=this.max.x&&u.y>=this.min.y&&m.y<=this.max.y},intersects:function(a){a=_t(a);var u=this.min,m=this.max,v=a.min,w=a.max,R=w.x>=u.x&&v.x<=m.x,N=w.y>=u.y&&v.y<=m.y;return R&&N},overlaps:function(a){a=_t(a);var u=this.min,m=this.max,v=a.min,w=a.max,R=w.x>u.x&&v.x<m.x,N=w.y>u.y&&v.y<m.y;return R&&N},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var u=this.min,m=this.max,v=Math.abs(u.x-m.x)*a,w=Math.abs(u.y-m.y)*a;return _t(D(u.x-v,u.y-w),D(m.x+v,m.y+w))},equals:function(a){return a?(a=_t(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function _t(a,u){return!a||a instanceof ot?a:new ot(a,u)}function mt(a,u){if(a)for(var m=u?[a,u]:a,v=0,w=m.length;v<w;v++)this.extend(m[v])}mt.prototype={extend:function(a){var u=this._southWest,m=this._northEast,v,w;if(a instanceof Rt)v=a,w=a;else if(a instanceof mt){if(v=a._southWest,w=a._northEast,!v||!w)return this}else return a?this.extend(wt(a)||bt(a)):this;return!u&&!m?(this._southWest=new Rt(v.lat,v.lng),this._northEast=new Rt(w.lat,w.lng)):(u.lat=Math.min(v.lat,u.lat),u.lng=Math.min(v.lng,u.lng),m.lat=Math.max(w.lat,m.lat),m.lng=Math.max(w.lng,m.lng)),this},pad:function(a){var u=this._southWest,m=this._northEast,v=Math.abs(u.lat-m.lat)*a,w=Math.abs(u.lng-m.lng)*a;return new mt(new Rt(u.lat-v,u.lng-w),new Rt(m.lat+v,m.lng+w))},getCenter:function(){return new Rt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Rt(this.getNorth(),this.getWest())},getSouthEast:function(){return new Rt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof Rt||"lat"in a?a=wt(a):a=bt(a);var u=this._southWest,m=this._northEast,v,w;return a instanceof mt?(v=a.getSouthWest(),w=a.getNorthEast()):v=w=a,v.lat>=u.lat&&w.lat<=m.lat&&v.lng>=u.lng&&w.lng<=m.lng},intersects:function(a){a=bt(a);var u=this._southWest,m=this._northEast,v=a.getSouthWest(),w=a.getNorthEast(),R=w.lat>=u.lat&&v.lat<=m.lat,N=w.lng>=u.lng&&v.lng<=m.lng;return R&&N},overlaps:function(a){a=bt(a);var u=this._southWest,m=this._northEast,v=a.getSouthWest(),w=a.getNorthEast(),R=w.lat>u.lat&&v.lat<m.lat,N=w.lng>u.lng&&v.lng<m.lng;return R&&N},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,u){return a?(a=bt(a),this._southWest.equals(a.getSouthWest(),u)&&this._northEast.equals(a.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function bt(a,u){return a instanceof mt?a:new mt(a,u)}function Rt(a,u,m){if(isNaN(a)||isNaN(u))throw new Error("Invalid LatLng object: ("+a+", "+u+")");this.lat=+a,this.lng=+u,m!==void 0&&(this.alt=+m)}Rt.prototype={equals:function(a,u){if(!a)return!1;a=wt(a);var m=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return m<=(u===void 0?1e-9:u)},toString:function(a){return"LatLng("+C(this.lat,a)+", "+C(this.lng,a)+")"},distanceTo:function(a){return re.distance(this,wt(a))},wrap:function(){return re.wrapLatLng(this)},toBounds:function(a){var u=180*a/40075017,m=u/Math.cos(Math.PI/180*this.lat);return bt([this.lat-u,this.lng-m],[this.lat+u,this.lng+m])},clone:function(){return new Rt(this.lat,this.lng,this.alt)}};function wt(a,u,m){return a instanceof Rt?a:nt(a)&&typeof a[0]!="object"?a.length===3?new Rt(a[0],a[1],a[2]):a.length===2?new Rt(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new Rt(a.lat,"lng"in a?a.lng:a.lon,a.alt):u===void 0?null:new Rt(a,u,m)}var Ee={latLngToPoint:function(a,u){var m=this.projection.project(a),v=this.scale(u);return this.transformation._transform(m,v)},pointToLatLng:function(a,u){var m=this.scale(u),v=this.transformation.untransform(a,m);return this.projection.unproject(v)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var u=this.projection.bounds,m=this.scale(a),v=this.transformation.transform(u.min,m),w=this.transformation.transform(u.max,m);return new ot(v,w)},infinite:!1,wrapLatLng:function(a){var u=this.wrapLng?A(a.lng,this.wrapLng,!0):a.lng,m=this.wrapLat?A(a.lat,this.wrapLat,!0):a.lat,v=a.alt;return new Rt(m,u,v)},wrapLatLngBounds:function(a){var u=a.getCenter(),m=this.wrapLatLng(u),v=u.lat-m.lat,w=u.lng-m.lng;if(v===0&&w===0)return a;var R=a.getSouthWest(),N=a.getNorthEast(),$=new Rt(R.lat-v,R.lng-w),rt=new Rt(N.lat-v,N.lng-w);return new mt($,rt)}},re=l({},Ee,{wrapLng:[-180,180],R:6371e3,distance:function(a,u){var m=Math.PI/180,v=a.lat*m,w=u.lat*m,R=Math.sin((u.lat-a.lat)*m/2),N=Math.sin((u.lng-a.lng)*m/2),$=R*R+Math.cos(v)*Math.cos(w)*N*N,rt=2*Math.atan2(Math.sqrt($),Math.sqrt(1-$));return this.R*rt}}),ui=6378137,Li={R:ui,MAX_LATITUDE:85.0511287798,project:function(a){var u=Math.PI/180,m=this.MAX_LATITUDE,v=Math.max(Math.min(m,a.lat),-m),w=Math.sin(v*u);return new pt(this.R*a.lng*u,this.R*Math.log((1+w)/(1-w))/2)},unproject:function(a){var u=180/Math.PI;return new Rt((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*u,a.x*u/this.R)},bounds:function(){var a=ui*Math.PI;return new ot([-a,-a],[a,a])}()};function ci(a,u,m,v){if(nt(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=u,this._c=m,this._d=v}ci.prototype={transform:function(a,u){return this._transform(a.clone(),u)},_transform:function(a,u){return u=u||1,a.x=u*(this._a*a.x+this._b),a.y=u*(this._c*a.y+this._d),a},untransform:function(a,u){return u=u||1,new pt((a.x/u-this._b)/this._a,(a.y/u-this._d)/this._c)}};function hi(a,u,m,v){return new ci(a,u,m,v)}var tr=l({},re,{code:"EPSG:3857",projection:Li,transformation:function(){var a=.5/(Math.PI*Li.R);return hi(a,.5,-a,.5)}()}),ts=l({},tr,{code:"EPSG:900913"});function Bs(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function to(a,u){var m="",v,w,R,N,$,rt;for(v=0,R=a.length;v<R;v++){for($=a[v],w=0,N=$.length;w<N;w++)rt=$[w],m+=(w?"L":"M")+rt.x+" "+rt.y;m+=u?Lt.svg?"z":"x":""}return m||"M0 0"}var Pn=document.documentElement.style,Hs="ActiveXObject"in window,eo=Hs&&!document.addEventListener,es="msLaunchUri"in navigator&&!("documentMode"in document),er=Ln("webkit"),nl=Ln("android"),ns=Ln("android 2")||Ln("android 3"),no=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),il=nl&&Ln("Google")&&no<537&&!("AudioNode"in window),xe=!!window.opera,ue=!es&&Ln("chrome"),On=Ln("gecko")&&!er&&!xe&&!Hs,hn=!ue&&Ln("safari"),io=Ln("phantom"),rl="OTransition"in Pn,is=navigator.platform.indexOf("Win")===0,Rr=Hs&&"transition"in Pn,nr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ns,Wn="MozPerspective"in Pn,qs=!window.L_DISABLE_3D&&(Rr||nr||Wn)&&!rl&&!io,fi=typeof orientation<"u"||Ln("mobile"),ro=fi&&er,so=fi&&nr,js=!window.PointerEvent&&window.MSPointerEvent,Mi=!!(window.PointerEvent||js),Di="ontouchstart"in window||!!window.TouchEvent,ao=!window.L_NO_TOUCH&&(Di||Mi),Ni=fi&&xe,oo=fi&&On,Ir=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Fs=function(){var a=!1;try{var u=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",I,u),window.removeEventListener("testPassiveEventSupport",I,u)}catch{}return a}(),Cr=function(){return!!document.createElement("canvas").getContext}(),Gs=!!(document.createElementNS&&Bs("svg").createSVGRect),Pe=!!Gs&&function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Ke=!Gs&&function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var u=a.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}}(),Fe=navigator.platform.indexOf("Mac")===0,Jn=navigator.platform.indexOf("Linux")===0;function Ln(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var Lt={ie:Hs,ielt9:eo,edge:es,webkit:er,android:nl,android23:ns,androidStock:il,opera:xe,chrome:ue,gecko:On,safari:hn,phantom:io,opera12:rl,win:is,ie3d:Rr,webkit3d:nr,gecko3d:Wn,any3d:qs,mobile:fi,mobileWebkit:ro,mobileWebkit3d:so,msPointer:js,pointer:Mi,touch:ao,touchNative:Di,mobileOpera:Ni,mobileGecko:oo,retina:Ir,passiveEvents:Fs,canvas:Cr,svg:Gs,vml:Ke,inlineSvg:Pe,mac:Fe,linux:Jn},ir=Lt.msPointer?"MSPointerDown":"pointerdown",lo=Lt.msPointer?"MSPointerMove":"pointermove",xr=Lt.msPointer?"MSPointerUp":"pointerup",rr=Lt.msPointer?"MSPointerCancel":"pointercancel",di={touchstart:ir,touchmove:lo,touchend:xr,touchcancel:rr},mi={touchstart:ss,touchmove:rs,touchend:rs,touchcancel:rs},En={},fn=!1;function Ue(a,u,m){return u==="touchstart"&&sl(),mi[u]?(m=mi[u].bind(this,m),a.addEventListener(di[u],m,!1),m):(console.warn("wrong event specified:",u),I)}function uo(a,u,m){if(!di[u]){console.warn("wrong event specified:",u);return}a.removeEventListener(di[u],m,!1)}function Zs(a){En[a.pointerId]=a}function pi(a){En[a.pointerId]&&(En[a.pointerId]=a)}function ki(a){delete En[a.pointerId]}function sl(){fn||(document.addEventListener(ir,Zs,!0),document.addEventListener(lo,pi,!0),document.addEventListener(xr,ki,!0),document.addEventListener(rr,ki,!0),fn=!0)}function rs(a,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var m in En)u.touches.push(En[m]);u.changedTouches=[u],a(u)}}function ss(a,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&we(u),rs(a,u)}function al(a){var u={},m,v;for(v in a)m=a[v],u[v]=m&&m.bind?m.bind(a):m;return a=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var Pr=200;function Vi(a,u){a.addEventListener("dblclick",u);var m=0,v;function w(R){if(R.detail!==1){v=R.detail;return}if(!(R.pointerType==="mouse"||R.sourceCapabilities&&!R.sourceCapabilities.firesTouchEvents)){var N=Qs(R);if(!(N.some(function(rt){return rt instanceof HTMLLabelElement&&rt.attributes.for})&&!N.some(function(rt){return rt instanceof HTMLInputElement||rt instanceof HTMLSelectElement}))){var $=Date.now();$-m<=Pr?(v++,v===2&&u(al(R))):v=1,m=$}}}return a.addEventListener("click",w),{dblclick:u,simDblclick:w}}function sn(a,u){a.removeEventListener("dblclick",u.dblclick),a.removeEventListener("click",u.simDblclick)}var sr=gi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Or=gi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),zi=Or==="webkitTransition"||Or==="OTransition"?Or+"End":"transitionend";function as(a){return typeof a=="string"?document.getElementById(a):a}function Ui(a,u){var m=a.style[u]||a.currentStyle&&a.currentStyle[u];if((!m||m==="auto")&&document.defaultView){var v=document.defaultView.getComputedStyle(a,null);m=v?v[u]:null}return m==="auto"?null:m}function $t(a,u,m){var v=document.createElement(a);return v.className=u||"",m&&m.appendChild(v),v}function fe(a){var u=a.parentNode;u&&u.removeChild(a)}function We(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Bi(a){var u=a.parentNode;u&&u.lastChild!==a&&u.appendChild(a)}function Lr(a){var u=a.parentNode;u&&u.firstChild!==a&&u.insertBefore(a,u.firstChild)}function Mr(a,u){if(a.classList!==void 0)return a.classList.contains(u);var m=Ne(a);return m.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(m)}function jt(a,u){if(a.classList!==void 0)for(var m=H(u),v=0,w=m.length;v<w;v++)a.classList.add(m[v]);else if(!Mr(a,u)){var R=Ne(a);co(a,(R?R+" ":"")+u)}}function ge(a,u){a.classList!==void 0?a.classList.remove(u):co(a,k((" "+Ne(a)+" ").replace(" "+u+" "," ")))}function co(a,u){a.className.baseVal===void 0?a.className=u:a.className.baseVal=u}function Ne(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function Oe(a,u){"opacity"in a.style?a.style.opacity=u:"filter"in a.style&&os(a,u)}function os(a,u){var m=!1,v="DXImageTransform.Microsoft.Alpha";try{m=a.filters.item(v)}catch{if(u===1)return}u=Math.round(u*100),m?(m.Enabled=u!==100,m.Opacity=u):a.style.filter+=" progid:"+v+"(opacity="+u+")"}function gi(a){for(var u=document.documentElement.style,m=0;m<a.length;m++)if(a[m]in u)return a[m];return!1}function wn(a,u,m){var v=u||new pt(0,0);a.style[sr]=(Lt.ie3d?"translate("+v.x+"px,"+v.y+"px)":"translate3d("+v.x+"px,"+v.y+"px,0)")+(m?" scale("+m+")":"")}function zt(a,u){a._leaflet_pos=u,Lt.any3d?wn(a,u):(a.style.left=u.x+"px",a.style.top=u.y+"px")}function Fn(a){return a._leaflet_pos||new pt(0,0)}var dn,_i,Ks;if("onselectstart"in document)dn=function(){Nt(window,"selectstart",we)},_i=function(){ae(window,"selectstart",we)};else{var ar=gi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);dn=function(){if(ar){var a=document.documentElement.style;Ks=a[ar],a[ar]="none"}},_i=function(){ar&&(document.documentElement.style[ar]=Ks,Ks=void 0)}}function ls(){Nt(window,"dragstart",we)}function ho(){ae(window,"dragstart",we)}var Ys,Dr;function yi(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(bn(),Ys=a,Dr=a.style.outlineStyle,a.style.outlineStyle="none",Nt(window,"keydown",bn))}function bn(){Ys&&(Ys.style.outlineStyle=Dr,Ys=void 0,Dr=void 0,ae(window,"keydown",bn))}function Hi(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function vi(a){var u=a.getBoundingClientRect();return{x:u.width/a.offsetWidth||1,y:u.height/a.offsetHeight||1,boundingClientRect:u}}var fo={__proto__:null,TRANSFORM:sr,TRANSITION:Or,TRANSITION_END:zi,get:as,getStyle:Ui,create:$t,remove:fe,empty:We,toFront:Bi,toBack:Lr,hasClass:Mr,addClass:jt,removeClass:ge,setClass:co,getClass:Ne,setOpacity:Oe,testProp:gi,setTransform:wn,setPosition:zt,getPosition:Fn,get disableTextSelection(){return dn},get enableTextSelection(){return _i},disableImageDrag:ls,enableImageDrag:ho,preventOutline:yi,restoreOutline:bn,getSizedParentNode:Hi,getScale:vi};function Nt(a,u,m,v){if(u&&typeof u=="object")for(var w in u)or(a,w,u[w],m);else{u=H(u);for(var R=0,N=u.length;R<N;R++)or(a,u[R],m,v)}return this}var Gn="_leaflet_events";function ae(a,u,m,v){if(arguments.length===1)ti(a),delete a[Gn];else if(u&&typeof u=="object")for(var w in u)ei(a,w,u[w],m);else if(u=H(u),arguments.length===2)ti(a,function($){return gt(u,$)!==-1});else for(var R=0,N=u.length;R<N;R++)ei(a,u[R],m,v);return this}function ti(a,u){for(var m in a[Gn]){var v=m.split(/\d/)[0];(!u||u(v))&&ei(a,v,null,null,m)}}var Mn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function or(a,u,m,v){var w=u+y(m)+(v?"_"+y(v):"");if(a[Gn]&&a[Gn][w])return this;var R=function($){return m.call(v||a,$||window.event)},N=R;!Lt.touchNative&&Lt.pointer&&u.indexOf("touch")===0?R=Ue(a,u,R):Lt.touch&&u==="dblclick"?R=Vi(a,R):"addEventListener"in a?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?a.addEventListener(Mn[u]||u,R,Lt.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(R=function($){$=$||window.event,ur(a,$)&&N($)},a.addEventListener(Mn[u],R,!1)):a.addEventListener(u,N,!1):a.attachEvent("on"+u,R),a[Gn]=a[Gn]||{},a[Gn][w]=R}function ei(a,u,m,v,w){w=w||u+y(m)+(v?"_"+y(v):"");var R=a[Gn]&&a[Gn][w];if(!R)return this;!Lt.touchNative&&Lt.pointer&&u.indexOf("touch")===0?uo(a,u,R):Lt.touch&&u==="dblclick"?sn(a,R):"removeEventListener"in a?a.removeEventListener(Mn[u]||u,R,!1):a.detachEvent("on"+u,R),a[Gn][w]=null}function Dn(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function Ti(a){return or(a,"wheel",Dn),this}function lr(a){return Nt(a,"mousedown touchstart dblclick contextmenu",Dn),a._leaflet_disable_click=!0,this}function we(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function mn(a){return we(a),Dn(a),this}function Qs(a){if(a.composedPath)return a.composedPath();for(var u=[],m=a.target;m;)u.push(m),m=m.parentNode;return u}function Ye(a,u){if(!u)return new pt(a.clientX,a.clientY);var m=vi(u),v=m.boundingClientRect;return new pt((a.clientX-v.left)/m.x-u.clientLeft,(a.clientY-v.top)/m.y-u.clientTop)}var ce=Lt.linux&&Lt.chrome?window.devicePixelRatio:Lt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function us(a){return Lt.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/ce:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function ur(a,u){var m=u.relatedTarget;if(!m)return!0;try{for(;m&&m!==a;)m=m.parentNode}catch{return!1}return m!==a}var ol={__proto__:null,on:Nt,off:ae,stopPropagation:Dn,disableScrollPropagation:Ti,disableClickPropagation:lr,preventDefault:we,stop:mn,getPropagationPath:Qs,getMousePosition:Ye,getWheelDelta:us,isExternalTarget:ur,addListener:Nt,removeListener:ae},cs=yt.extend({run:function(a,u,m,v){this.stop(),this._el=a,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(v||.5,.2),this._startPos=Fn(a),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=q(this._animate,this),this._step()},_step:function(a){var u=+new Date-this._startTime,m=this._duration*1e3;u<m?this._runFrame(this._easeOut(u/m),a):(this._runFrame(1),this._complete())},_runFrame:function(a,u){var m=this._startPos.add(this._offset.multiplyBy(a));u&&m._round(),zt(this._el,m),this.fire("step")},_complete:function(){F(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),Zt=yt.extend({options:{crs:tr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,u){u=G(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(wt(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Or&&Lt.any3d&&!Lt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Nt(this._proxy,zi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,u,m){if(u=u===void 0?this._zoom:this._limitZoom(u),a=this._limitCenter(wt(a),u,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=l({animate:m.animate},m.zoom),m.pan=l({animate:m.animate,duration:m.duration},m.pan));var v=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,u,m.zoom):this._tryAnimatedPan(a,m.pan);if(v)return clearTimeout(this._sizeTimer),this}return this._resetView(a,u,m.pan&&m.pan.noMoveStart),this},setZoom:function(a,u){return this._loaded?this.setView(this.getCenter(),a,{zoom:u}):(this._zoom=a,this)},zoomIn:function(a,u){return a=a||(Lt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,u)},zoomOut:function(a,u){return a=a||(Lt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,u)},setZoomAround:function(a,u,m){var v=this.getZoomScale(u),w=this.getSize().divideBy(2),R=a instanceof pt?a:this.latLngToContainerPoint(a),N=R.subtract(w).multiplyBy(1-1/v),$=this.containerPointToLatLng(w.add(N));return this.setView($,u,{zoom:m})},_getBoundsCenterZoom:function(a,u){u=u||{},a=a.getBounds?a.getBounds():bt(a);var m=D(u.paddingTopLeft||u.padding||[0,0]),v=D(u.paddingBottomRight||u.padding||[0,0]),w=this.getBoundsZoom(a,!1,m.add(v));if(w=typeof u.maxZoom=="number"?Math.min(u.maxZoom,w):w,w===1/0)return{center:a.getCenter(),zoom:w};var R=v.subtract(m).divideBy(2),N=this.project(a.getSouthWest(),w),$=this.project(a.getNorthEast(),w),rt=this.unproject(N.add($).divideBy(2).add(R),w);return{center:rt,zoom:w}},fitBounds:function(a,u){if(a=bt(a),!a.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(a,u);return this.setView(m.center,m.zoom,u)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,u){return this.setView(a,this._zoom,{pan:u})},panBy:function(a,u){if(a=D(a).round(),u=u||{},!a.x&&!a.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new cs,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){jt(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,m,u.duration||.25,u.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,u,m){if(m=m||{},m.animate===!1||!Lt.any3d)return this.setView(a,u,m);this._stop();var v=this.project(this.getCenter()),w=this.project(a),R=this.getSize(),N=this._zoom;a=wt(a),u=u===void 0?N:u;var $=Math.max(R.x,R.y),rt=$*this.getZoomScale(N,u),dt=w.distanceTo(v)||1,At=1.42,Ct=At*At;function Ot(Ve){var Yi=Ve?-1:1,pr=Ve?rt:$,Br=rt*rt-$*$+Yi*Ct*Ct*dt*dt,gr=2*pr*Ct*dt,Co=Br/gr,Tl=Math.sqrt(Co*Co+1)-Co,xo=Tl<1e-9?-18:Math.log(Tl);return xo}function Ht(Ve){return(Math.exp(Ve)-Math.exp(-Ve))/2}function Me(Ve){return(Math.exp(Ve)+Math.exp(-Ve))/2}function Be(Ve){return Ht(Ve)/Me(Ve)}var gn=Ot(0);function ni(Ve){return $*(Me(gn)/Me(gn+At*Ve))}function Wc(Ve){return $*(Me(gn)*Be(gn+At*Ve)-Ht(gn))/Ct}function Jc(Ve){return 1-Math.pow(1-Ve,1.5)}var Io=Date.now(),fa=(Ot(1)-gn)/At,th=m.duration?1e3*m.duration:1e3*fa*.8;function da(){var Ve=(Date.now()-Io)/th,Yi=Jc(Ve)*fa;Ve<=1?(this._flyToFrame=q(da,this),this._move(this.unproject(v.add(w.subtract(v).multiplyBy(Wc(Yi)/dt)),N),this.getScaleZoom($/ni(Yi),N),{flyTo:!0})):this._move(a,u)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),da.call(this),this},flyToBounds:function(a,u){var m=this._getBoundsCenterZoom(a,u);return this.flyTo(m.center,m.zoom,u)},setMaxBounds:function(a){return a=bt(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var u=this.options.minZoom;return this.options.minZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var u=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,u){this._enforcingBounds=!0;var m=this.getCenter(),v=this._limitCenter(m,this._zoom,bt(a));return m.equals(v)||this.panTo(v,u),this._enforcingBounds=!1,this},panInside:function(a,u){u=u||{};var m=D(u.paddingTopLeft||u.padding||[0,0]),v=D(u.paddingBottomRight||u.padding||[0,0]),w=this.project(this.getCenter()),R=this.project(a),N=this.getPixelBounds(),$=_t([N.min.add(m),N.max.subtract(v)]),rt=$.getSize();if(!$.contains(R)){this._enforcingBounds=!0;var dt=R.subtract($.getCenter()),At=$.extend(R).getSize().subtract(rt);w.x+=dt.x<0?-At.x:At.x,w.y+=dt.y<0?-At.y:At.y,this.panTo(this.unproject(w),u),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=l({animate:!1,pan:!0},a===!0?{animate:!0}:a);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),v=u.divideBy(2).round(),w=m.divideBy(2).round(),R=v.subtract(w);return!R.x&&!R.y?this:(a.animate&&a.pan?this.panBy(R):(a.pan&&this._rawPanBy(R),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=l({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=d(this._handleGeolocationResponse,this),m=d(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,m,a):navigator.geolocation.getCurrentPosition(u,m,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var u=a.code,m=a.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var u=a.coords.latitude,m=a.coords.longitude,v=new Rt(u,m),w=v.toBounds(a.coords.accuracy*2),R=this._locateOptions;if(R.setView){var N=this.getBoundsZoom(w);this.setView(v,R.maxZoom?Math.min(N,R.maxZoom):N)}var $={latlng:v,bounds:w,timestamp:a.timestamp};for(var rt in a.coords)typeof a.coords[rt]=="number"&&($[rt]=a.coords[rt]);this.fire("locationfound",$)}},addHandler:function(a,u){if(!u)return this;var m=this[a]=new u(this);return this._handlers.push(m),this.options[a]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),fe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(F(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)fe(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,u){var m="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),v=$t("div",m,u||this._mapPane);return a&&(this._panes[a]=v),v},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),u=this.unproject(a.getBottomLeft()),m=this.unproject(a.getTopRight());return new mt(u,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,u,m){a=bt(a),m=D(m||[0,0]);var v=this.getZoom()||0,w=this.getMinZoom(),R=this.getMaxZoom(),N=a.getNorthWest(),$=a.getSouthEast(),rt=this.getSize().subtract(m),dt=_t(this.project($,v),this.project(N,v)).getSize(),At=Lt.any3d?this.options.zoomSnap:1,Ct=rt.x/dt.x,Ot=rt.y/dt.y,Ht=u?Math.max(Ct,Ot):Math.min(Ct,Ot);return v=this.getScaleZoom(Ht,v),At&&(v=Math.round(v/(At/100))*(At/100),v=u?Math.ceil(v/At)*At:Math.floor(v/At)*At),Math.max(w,Math.min(R,v))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new pt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,u){var m=this._getTopLeftPoint(a,u);return new ot(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,u){var m=this.options.crs;return u=u===void 0?this._zoom:u,m.scale(a)/m.scale(u)},getScaleZoom:function(a,u){var m=this.options.crs;u=u===void 0?this._zoom:u;var v=m.zoom(a*m.scale(u));return isNaN(v)?1/0:v},project:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(wt(a),u)},unproject:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(D(a),u)},layerPointToLatLng:function(a){var u=D(a).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(a){var u=this.project(wt(a))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(wt(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(bt(a))},distance:function(a,u){return this.options.crs.distance(wt(a),wt(u))},containerPointToLayerPoint:function(a){return D(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return D(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var u=this.containerPointToLayerPoint(D(a));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(wt(a)))},mouseEventToContainerPoint:function(a){return Ye(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var u=this._container=as(a);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Nt(u,"scroll",this._onScroll,this),this._containerId=y(u)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&Lt.any3d,jt(a,"leaflet-container"+(Lt.touch?" leaflet-touch":"")+(Lt.retina?" leaflet-retina":"")+(Lt.ielt9?" leaflet-oldie":"")+(Lt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=Ui(a,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),zt(this._mapPane,new pt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(jt(a.markerPane,"leaflet-zoom-hide"),jt(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,u,m){zt(this._mapPane,new pt(0,0));var v=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var w=this._zoom!==u;this._moveStart(w,m)._move(a,u)._moveEnd(w),this.fire("viewreset"),v&&this.fire("load")},_moveStart:function(a,u){return a&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(a,u,m,v){u===void 0&&(u=this._zoom);var w=this._zoom!==u;return this._zoom=u,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),v?m&&m.pinch&&this.fire("zoom",m):((w||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return F(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){zt(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[y(this._container)]=this;var u=a?ae:Nt;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Lt.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){F(this._resizeRequest),this._resizeRequest=q(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,u){for(var m=[],v,w=u==="mouseout"||u==="mouseover",R=a.target||a.srcElement,N=!1;R;){if(v=this._targets[y(R)],v&&(u==="click"||u==="preclick")&&this._draggableMoved(v)){N=!0;break}if(v&&v.listens(u,!0)&&(w&&!ur(R,a)||(m.push(v),w))||R===this._container)break;R=R.parentNode}return!m.length&&!N&&!w&&this.listens(u,!0)&&(m=[this]),m},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var u=a.target||a.srcElement;if(!(!this._loaded||u._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(u))){var m=a.type;m==="mousedown"&&yi(u),this._fireDOMEvent(a,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,u,m){if(a.type==="click"){var v=l({},a);v.type="preclick",this._fireDOMEvent(v,v.type,m)}var w=this._findEventTargets(a,u);if(m){for(var R=[],N=0;N<m.length;N++)m[N].listens(u,!0)&&R.push(m[N]);w=R.concat(w)}if(w.length){u==="contextmenu"&&we(a);var $=w[0],rt={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var dt=$.getLatLng&&(!$._radius||$._radius<=10);rt.containerPoint=dt?this.latLngToContainerPoint($.getLatLng()):this.mouseEventToContainerPoint(a),rt.layerPoint=this.containerPointToLayerPoint(rt.containerPoint),rt.latlng=dt?$.getLatLng():this.layerPointToLatLng(rt.layerPoint)}for(N=0;N<w.length;N++)if(w[N].fire(u,rt,!0),rt.originalEvent._stopped||w[N].options.bubblingMouseEvents===!1&&gt(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,u=this._handlers.length;a<u;a++)this._handlers[a].disable()},whenReady:function(a,u){return this._loaded?a.call(u||this,{target:this}):this.on("load",a,u),this},_getMapPanePos:function(){return Fn(this._mapPane)||new pt(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,u){var m=a&&u!==void 0?this._getNewPixelOrigin(a,u):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,u){var m=this.getSize()._divideBy(2);return this.project(a,u)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,u,m){var v=this._getNewPixelOrigin(m,u);return this.project(a,u)._subtract(v)},_latLngBoundsToNewLayerBounds:function(a,u,m){var v=this._getNewPixelOrigin(m,u);return _t([this.project(a.getSouthWest(),u)._subtract(v),this.project(a.getNorthWest(),u)._subtract(v),this.project(a.getSouthEast(),u)._subtract(v),this.project(a.getNorthEast(),u)._subtract(v)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,u,m){if(!m)return a;var v=this.project(a,u),w=this.getSize().divideBy(2),R=new ot(v.subtract(w),v.add(w)),N=this._getBoundsOffset(R,m,u);return Math.abs(N.x)<=1&&Math.abs(N.y)<=1?a:this.unproject(v.add(N),u)},_limitOffset:function(a,u){if(!u)return a;var m=this.getPixelBounds(),v=new ot(m.min.add(a),m.max.add(a));return a.add(this._getBoundsOffset(v,u))},_getBoundsOffset:function(a,u,m){var v=_t(this.project(u.getNorthEast(),m),this.project(u.getSouthWest(),m)),w=v.min.subtract(a.min),R=v.max.subtract(a.max),N=this._rebound(w.x,-R.x),$=this._rebound(w.y,-R.y);return new pt(N,$)},_rebound:function(a,u){return a+u>0?Math.round(a-u)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(u))},_limitZoom:function(a){var u=this.getMinZoom(),m=this.getMaxZoom(),v=Lt.any3d?this.options.zoomSnap:1;return v&&(a=Math.round(a/v)*v),Math.max(u,Math.min(m,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ge(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,u){var m=this._getCenterOffset(a)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,u),!0)},_createAnimProxy:function(){var a=this._proxy=$t("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(u){var m=sr,v=this._proxy.style[m];wn(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),v===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){fe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),u=this.getZoom();wn(this._proxy,this.project(a,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,u,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var v=this.getZoomScale(u),w=this._getCenterOffset(a)._divideBy(1-1/v);return m.animate!==!0&&!this.getSize().contains(w)?!1:(q(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(a,u,!0)},this),!0)},_animateZoom:function(a,u,m,v){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=u,jt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:u,noUpdate:v}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ge(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function qi(a,u){return new Zt(a,u)}var an=pe.extend({options:{position:"topright"},initialize:function(a){G(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var u=this._map;return u&&u.removeControl(this),this.options.position=a,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var u=this._container=this.onAdd(a),m=this.getPosition(),v=a._controlCorners[m];return jt(u,"leaflet-control"),m.indexOf("bottom")!==-1?v.insertBefore(u,v.firstChild):v.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(fe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),pn=function(a){return new an(a)};Zt.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},u="leaflet-",m=this._controlContainer=$t("div",u+"control-container",this._container);function v(w,R){var N=u+w+" "+u+R;a[w+R]=$t("div",N,m)}v("top","left"),v("top","right"),v("bottom","left"),v("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)fe(this._controlCorners[a]);fe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var mo=an.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,u,m,v){return m<v?-1:v<m?1:0}},initialize:function(a,u,m){G(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var v in a)this._addLayer(a[v],v);for(v in u)this._addLayer(u[v],v,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return an.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,u){return this._addLayer(a,u),this._map?this._update():this},addOverlay:function(a,u){return this._addLayer(a,u,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var u=this._getLayer(y(a));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){jt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(jt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):ge(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ge(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",u=this._container=$t("div",a),m=this.options.collapsed;u.setAttribute("aria-haspopup",!0),lr(u),Ti(u);var v=this._section=$t("section",a+"-list");m&&(this._map.on("click",this.collapse,this),Nt(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var w=this._layersLink=$t("a",a+"-toggle",u);w.href="#",w.title="Layers",w.setAttribute("role","button"),Nt(w,{keydown:function(R){R.keyCode===13&&this._expandSafely()},click:function(R){we(R),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=$t("div",a+"-base",v),this._separator=$t("div",a+"-separator",v),this._overlaysList=$t("div",a+"-overlays",v),u.appendChild(v)},_getLayer:function(a){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&y(this._layers[u].layer)===a)return this._layers[u]},_addLayer:function(a,u,m){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:u,overlay:m}),this.options.sortLayers&&this._layers.sort(d(function(v,w){return this.options.sortFunction(v.layer,w.layer,v.name,w.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;We(this._baseLayersList),We(this._overlaysList),this._layerControlInputs=[];var a,u,m,v,w=0;for(m=0;m<this._layers.length;m++)v=this._layers[m],this._addItem(v),u=u||v.overlay,a=a||!v.overlay,w+=v.overlay?0:1;return this.options.hideSingleBase&&(a=a&&w>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=u&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var u=this._getLayer(y(a.target)),m=u.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;m&&this._map.fire(m,u)},_createRadioElement:function(a,u){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(u?' checked="checked"':"")+"/>",v=document.createElement("div");return v.innerHTML=m,v.firstChild},_addItem:function(a){var u=document.createElement("label"),m=this._map.hasLayer(a.layer),v;a.overlay?(v=document.createElement("input"),v.type="checkbox",v.className="leaflet-control-layers-selector",v.defaultChecked=m):v=this._createRadioElement("leaflet-base-layers_"+y(this),m),this._layerControlInputs.push(v),v.layerId=y(a.layer),Nt(v,"click",this._onInputClick,this);var w=document.createElement("span");w.innerHTML=" "+a.name;var R=document.createElement("span");u.appendChild(R),R.appendChild(v),R.appendChild(w);var N=a.overlay?this._overlaysList:this._baseLayersList;return N.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,u,m,v=[],w=[];this._handlingClick=!0;for(var R=a.length-1;R>=0;R--)u=a[R],m=this._getLayer(u.layerId).layer,u.checked?v.push(m):u.checked||w.push(m);for(R=0;R<w.length;R++)this._map.hasLayer(w[R])&&this._map.removeLayer(w[R]);for(R=0;R<v.length;R++)this._map.hasLayer(v[R])||this._map.addLayer(v[R]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,u,m,v=this._map.getZoom(),w=a.length-1;w>=0;w--)u=a[w],m=this._getLayer(u.layerId).layer,u.disabled=m.options.minZoom!==void 0&&v<m.options.minZoom||m.options.maxZoom!==void 0&&v>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Nt(a,"click",we),this.expand();var u=this;setTimeout(function(){ae(a,"click",we),u._preventClick=!1})}}),gu=function(a,u,m){return new mo(a,u,m)},cr=an.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var u="leaflet-control-zoom",m=$t("div",u+" leaflet-bar"),v=this.options;return this._zoomInButton=this._createButton(v.zoomInText,v.zoomInTitle,u+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(v.zoomOutText,v.zoomOutTitle,u+"-out",m,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,u,m,v,w){var R=$t("a",m,v);return R.innerHTML=a,R.href="#",R.title=u,R.setAttribute("role","button"),R.setAttribute("aria-label",u),lr(R),Nt(R,"click",mn),Nt(R,"click",w,this),Nt(R,"click",this._refocusOnMap,this),R},_updateDisabled:function(){var a=this._map,u="leaflet-disabled";ge(this._zoomInButton,u),ge(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(jt(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(jt(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Zt.mergeOptions({zoomControl:!0}),Zt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new cr,this.addControl(this.zoomControl))});var $s=function(a){return new cr(a)},Xs=an.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var u="leaflet-control-scale",m=$t("div",u),v=this.options;return this._addScales(v,u+"-line",m),a.on(v.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),m},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,u,m){a.metric&&(this._mScale=$t("div",u,m)),a.imperial&&(this._iScale=$t("div",u,m))},_update:function(){var a=this._map,u=a.getSize().y/2,m=a.distance(a.containerPointToLatLng([0,u]),a.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(m)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var u=this._getRoundNum(a),m=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,m,u/a)},_updateImperial:function(a){var u=a*3.2808399,m,v,w;u>5280?(m=u/5280,v=this._getRoundNum(m),this._updateScale(this._iScale,v+" mi",v/m)):(w=this._getRoundNum(u),this._updateScale(this._iScale,w+" ft",w/u))},_updateScale:function(a,u,m){a.style.width=Math.round(this.options.maxWidth*m)+"px",a.innerHTML=u},_getRoundNum:function(a){var u=Math.pow(10,(Math.floor(a)+"").length-1),m=a/u;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,u*m}}),Ws=function(a){return new Xs(a)},ll='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Nr=an.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Lt.inlineSvg?ll+" ":"")+"Leaflet</a>"},initialize:function(a){G(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=$t("div","leaflet-control-attribution"),lr(this._container);for(var u in a._layers)a._layers[u].getAttribution&&this.addAttribution(a._layers[u].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var u in this._attributions)this._attributions[u]&&a.push(u);var m=[];this.options.prefix&&m.push(this.options.prefix),a.length&&m.push(a.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});Zt.mergeOptions({attributionControl:!0}),Zt.addInitHook(function(){this.options.attributionControl&&new Nr().addTo(this)});var _u=function(a){return new Nr(a)};an.Layers=mo,an.Zoom=cr,an.Scale=Xs,an.Attribution=Nr,pn.layers=gu,pn.zoom=$s,pn.scale=Ws,pn.attribution=_u;var Nn=pe.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Nn.addTo=function(a,u){return a.addHandler(u,this),this};var hs={Events:at},po=Lt.touch?"touchstart mousedown":"mousedown",Ei=yt.extend({options:{clickTolerance:3},initialize:function(a,u,m,v){G(this,v),this._element=a,this._dragStartTarget=u||a,this._preventOutline=m},enable:function(){this._enabled||(Nt(this._dragStartTarget,po,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ei._dragging===this&&this.finishDrag(!0),ae(this._dragStartTarget,po,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!Mr(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Ei._dragging===this&&this.finishDrag();return}if(!(Ei._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Ei._dragging=this,this._preventOutline&&yi(this._element),ls(),dn(),!this._moving)){this.fire("down");var u=a.touches?a.touches[0]:a,m=Hi(this._element);this._startPoint=new pt(u.clientX,u.clientY),this._startPos=Fn(this._element),this._parentScale=vi(m);var v=a.type==="mousedown";Nt(document,v?"mousemove":"touchmove",this._onMove,this),Nt(document,v?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var u=a.touches&&a.touches.length===1?a.touches[0]:a,m=new pt(u.clientX,u.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,we(a),this._moved||(this.fire("dragstart"),this._moved=!0,jt(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),jt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),zt(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){ge(document.body,"leaflet-dragging"),this._lastTarget&&(ge(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ae(document,"mousemove touchmove",this._onMove,this),ae(document,"mouseup touchend touchcancel",this._onUp,this),ho(),_i();var u=this._moved&&this._moving;this._moving=!1,Ei._dragging=!1,u&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function Js(a,u,m){var v,w=[1,4,2,8],R,N,$,rt,dt,At,Ct,Ot;for(R=0,At=a.length;R<At;R++)a[R]._code=ji(a[R],u);for($=0;$<4;$++){for(Ct=w[$],v=[],R=0,At=a.length,N=At-1;R<At;N=R++)rt=a[R],dt=a[N],rt._code&Ct?dt._code&Ct||(Ot=Je(dt,rt,Ct,u,m),Ot._code=ji(Ot,u),v.push(Ot)):(dt._code&Ct&&(Ot=Je(dt,rt,Ct,u,m),Ot._code=ji(Ot,u),v.push(Ot)),v.push(rt));a=v}return a}function kr(a,u){var m,v,w,R,N,$,rt,dt,At;if(!a||a.length===0)throw new Error("latlngs not passed");f(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Ct=wt([0,0]),Ot=bt(a),Ht=Ot.getNorthWest().distanceTo(Ot.getSouthWest())*Ot.getNorthEast().distanceTo(Ot.getNorthWest());Ht<1700&&(Ct=ta(a));var Me=a.length,Be=[];for(m=0;m<Me;m++){var gn=wt(a[m]);Be.push(u.project(wt([gn.lat-Ct.lat,gn.lng-Ct.lng])))}for($=rt=dt=0,m=0,v=Me-1;m<Me;v=m++)w=Be[m],R=Be[v],N=w.y*R.x-R.y*w.x,rt+=(w.x+R.x)*N,dt+=(w.y+R.y)*N,$+=N*3;$===0?At=Be[0]:At=[rt/$,dt/$];var ni=u.unproject(D(At));return wt([ni.lat+Ct.lat,ni.lng+Ct.lng])}function ta(a){for(var u=0,m=0,v=0,w=0;w<a.length;w++){var R=wt(a[w]);u+=R.lat,m+=R.lng,v++}return wt([u/v,m/v])}var ea={__proto__:null,clipPolygon:Js,polygonCenter:kr,centroid:ta};function go(a,u){if(!u||!a.length)return a.slice();var m=u*u;return a=cl(a,m),a=ul(a,m),a}function na(a,u,m){return Math.sqrt(kn(a,u,m,!0))}function hr(a,u,m){return kn(a,u,m)}function ul(a,u){var m=a.length,v=typeof Uint8Array<"u"?Uint8Array:Array,w=new v(m);w[0]=w[m-1]=1,ia(a,w,u,0,m-1);var R,N=[];for(R=0;R<m;R++)w[R]&&N.push(a[R]);return N}function ia(a,u,m,v,w){var R=0,N,$,rt;for($=v+1;$<=w-1;$++)rt=kn(a[$],a[v],a[w],!0),rt>R&&(N=$,R=rt);R>m&&(u[N]=1,ia(a,u,m,v,N),ia(a,u,m,N,w))}function cl(a,u){for(var m=[a[0]],v=1,w=0,R=a.length;v<R;v++)hl(a[v],a[w])>u&&(m.push(a[v]),w=v);return w<R-1&&m.push(a[R-1]),m}var _o;function fs(a,u,m,v,w){var R=v?_o:ji(a,m),N=ji(u,m),$,rt,dt;for(_o=N;;){if(!(R|N))return[a,u];if(R&N)return!1;$=R||N,rt=Je(a,u,$,m,w),dt=ji(rt,m),$===R?(a=rt,R=dt):(u=rt,N=dt)}}function Je(a,u,m,v,w){var R=u.x-a.x,N=u.y-a.y,$=v.min,rt=v.max,dt,At;return m&8?(dt=a.x+R*(rt.y-a.y)/N,At=rt.y):m&4?(dt=a.x+R*($.y-a.y)/N,At=$.y):m&2?(dt=rt.x,At=a.y+N*(rt.x-a.x)/R):m&1&&(dt=$.x,At=a.y+N*($.x-a.x)/R),new pt(dt,At,w)}function ji(a,u){var m=0;return a.x<u.min.x?m|=1:a.x>u.max.x&&(m|=2),a.y<u.min.y?m|=4:a.y>u.max.y&&(m|=8),m}function hl(a,u){var m=u.x-a.x,v=u.y-a.y;return m*m+v*v}function kn(a,u,m,v){var w=u.x,R=u.y,N=m.x-w,$=m.y-R,rt=N*N+$*$,dt;return rt>0&&(dt=((a.x-w)*N+(a.y-R)*$)/rt,dt>1?(w=m.x,R=m.y):dt>0&&(w+=N*dt,R+=$*dt)),N=a.x-w,$=a.y-R,v?N*N+$*$:new pt(w,R)}function f(a){return!nt(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function E(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),f(a)}function b(a,u){var m,v,w,R,N,$,rt,dt;if(!a||a.length===0)throw new Error("latlngs not passed");f(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var At=wt([0,0]),Ct=bt(a),Ot=Ct.getNorthWest().distanceTo(Ct.getSouthWest())*Ct.getNorthEast().distanceTo(Ct.getNorthWest());Ot<1700&&(At=ta(a));var Ht=a.length,Me=[];for(m=0;m<Ht;m++){var Be=wt(a[m]);Me.push(u.project(wt([Be.lat-At.lat,Be.lng-At.lng])))}for(m=0,v=0;m<Ht-1;m++)v+=Me[m].distanceTo(Me[m+1])/2;if(v===0)dt=Me[0];else for(m=0,R=0;m<Ht-1;m++)if(N=Me[m],$=Me[m+1],w=N.distanceTo($),R+=w,R>v){rt=(R-v)/w,dt=[$.x-rt*($.x-N.x),$.y-rt*($.y-N.y)];break}var gn=u.unproject(D(dt));return wt([gn.lat+At.lat,gn.lng+At.lng])}var P={__proto__:null,simplify:go,pointToSegmentDistance:na,closestPointOnSegment:hr,clipSegment:fs,_getEdgeIntersection:Je,_getBitCode:ji,_sqClosestPointOnSegment:kn,isFlat:f,_flat:E,polylineCenter:b},Q={project:function(a){return new pt(a.lng,a.lat)},unproject:function(a){return new Rt(a.y,a.x)},bounds:new ot([-180,-90],[180,90])},st={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ot([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var u=Math.PI/180,m=this.R,v=a.lat*u,w=this.R_MINOR/m,R=Math.sqrt(1-w*w),N=R*Math.sin(v),$=Math.tan(Math.PI/4-v/2)/Math.pow((1-N)/(1+N),R/2);return v=-m*Math.log(Math.max($,1e-10)),new pt(a.lng*u*m,v)},unproject:function(a){for(var u=180/Math.PI,m=this.R,v=this.R_MINOR/m,w=Math.sqrt(1-v*v),R=Math.exp(-a.y/m),N=Math.PI/2-2*Math.atan(R),$=0,rt=.1,dt;$<15&&Math.abs(rt)>1e-7;$++)dt=w*Math.sin(N),dt=Math.pow((1-dt)/(1+dt),w/2),rt=Math.PI/2-2*Math.atan(R*dt)-N,N+=rt;return new Rt(N*u,a.x*u/m)}},vt={__proto__:null,LonLat:Q,Mercator:st,SphericalMercator:Li},te=l({},re,{code:"EPSG:3395",projection:st,transformation:function(){var a=.5/(Math.PI*st.R);return hi(a,.5,-a,.5)}()}),Ge=l({},re,{code:"EPSG:4326",projection:Q,transformation:hi(1/180,1,-1/180,.5)}),ee=l({},Ee,{projection:Q,transformation:hi(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,u){var m=u.lng-a.lng,v=u.lat-a.lat;return Math.sqrt(m*m+v*v)},infinite:!0});Ee.Earth=re,Ee.EPSG3395=te,Ee.EPSG3857=tr,Ee.EPSG900913=ts,Ee.EPSG4326=Ge,Ee.Simple=ee;var de=yt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[y(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[y(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var u=a.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var m=this.getEvents();u.on(m,this),this.once("remove",function(){u.off(m,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Zt.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var u=y(a);return this._layers[u]?this:(this._layers[u]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var u=y(a);return this._layers[u]?(this._loaded&&a.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return y(a)in this._layers},eachLayer:function(a,u){for(var m in this._layers)a.call(u,this._layers[m]);return this},_addLayers:function(a){a=a?nt(a)?a:[a]:[];for(var u=0,m=a.length;u<m;u++)this.addLayer(a[u])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[y(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var u=y(a);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,u=-1/0,m=this._getZoomSpan();for(var v in this._zoomBoundLayers){var w=this._zoomBoundLayers[v].options;a=w.minZoom===void 0?a:Math.min(a,w.minZoom),u=w.maxZoom===void 0?u:Math.max(u,w.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=a===1/0?void 0:a,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Le=de.extend({initialize:function(a,u){G(this,u),this._layers={};var m,v;if(a)for(m=0,v=a.length;m<v;m++)this.addLayer(a[m])},addLayer:function(a){var u=this.getLayerId(a);return this._layers[u]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var u=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(a){var u=typeof a=="number"?a:this.getLayerId(a);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var u=Array.prototype.slice.call(arguments,1),m,v;for(m in this._layers)v=this._layers[m],v[a]&&v[a].apply(v,u);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,u){for(var m in this._layers)a.call(u,this._layers[m]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return y(a)}}),fr=function(a,u){return new Le(a,u)},Ie=Le.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),Le.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),Le.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new mt;for(var u in this._layers){var m=this._layers[u];a.extend(m.getBounds?m.getBounds():m.getLatLng())}return a}}),Fi=function(a,u){return new Ie(a,u)},Gi=pe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){G(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,u){var m=this._getIconUrl(a);if(!m){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var v=this._createImg(m,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(v,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),v},_setIconStyles:function(a,u){var m=this.options,v=m[u+"Size"];typeof v=="number"&&(v=[v,v]);var w=D(v),R=D(u==="shadow"&&m.shadowAnchor||m.iconAnchor||w&&w.divideBy(2,!0));a.className="leaflet-marker-"+u+" "+(m.className||""),R&&(a.style.marginLeft=-R.x+"px",a.style.marginTop=-R.y+"px"),w&&(a.style.width=w.x+"px",a.style.height=w.y+"px")},_createImg:function(a,u){return u=u||document.createElement("img"),u.src=a,u},_getIconUrl:function(a){return Lt.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function fl(a){return new Gi(a)}var ra=Gi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof ra.imagePath!="string"&&(ra.imagePath=this._detectIconPath()),(this.options.imagePath||ra.imagePath)+Gi.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var u=function(m,v,w){var R=v.exec(m);return R&&R[w]};return a=u(a,/^url\((['"])?(.+)\1\)$/,2),a&&u(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=$t("div","leaflet-default-icon-path",document.body),u=Ui(a,"background-image")||Ui(a,"backgroundImage");if(document.body.removeChild(a),u=this._stripUrl(u),u)return u;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),yu=Nn.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Ei(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),jt(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ge(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var u=this._marker,m=u._map,v=this._marker.options.autoPanSpeed,w=this._marker.options.autoPanPadding,R=Fn(u._icon),N=m.getPixelBounds(),$=m.getPixelOrigin(),rt=_t(N.min._subtract($).add(w),N.max._subtract($).subtract(w));if(!rt.contains(R)){var dt=D((Math.max(rt.max.x,R.x)-rt.max.x)/(N.max.x-rt.max.x)-(Math.min(rt.min.x,R.x)-rt.min.x)/(N.min.x-rt.min.x),(Math.max(rt.max.y,R.y)-rt.max.y)/(N.max.y-rt.max.y)-(Math.min(rt.min.y,R.y)-rt.min.y)/(N.min.y-rt.min.y)).multiplyBy(v);m.panBy(dt,{animate:!1}),this._draggable._newPos._add(dt),this._draggable._startPos._add(dt),zt(u._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=q(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(F(this._panRequest),this._panRequest=q(this._adjustPan.bind(this,a)))},_onDrag:function(a){var u=this._marker,m=u._shadow,v=Fn(u._icon),w=u._map.layerPointToLatLng(v);m&&zt(m,v),u._latlng=w,a.latlng=w,a.oldLatLng=this._oldLatLng,u.fire("move",a).fire("drag",a)},_onDragEnd:function(a){F(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),sa=de.extend({options:{icon:new ra,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,u){G(this,u),this._latlng=wt(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var u=this._latlng;return this._latlng=wt(a),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=a.icon.createIcon(this._icon),v=!1;m!==this._icon&&(this._icon&&this._removeIcon(),v=!0,a.title&&(m.title=a.title),m.tagName==="IMG"&&(m.alt=a.alt||"")),jt(m,u),a.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Nt(m,"focus",this._panOnFocus,this);var w=a.icon.createShadow(this._shadow),R=!1;w!==this._shadow&&(this._removeShadow(),R=!0),w&&(jt(w,u),w.alt=""),this._shadow=w,a.opacity<1&&this._updateOpacity(),v&&this.getPane().appendChild(this._icon),this._initInteraction(),w&&R&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ae(this._icon,"focus",this._panOnFocus,this),fe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&fe(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&zt(this._icon,a),this._shadow&&zt(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(jt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),yu)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new yu(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&Oe(this._icon,a),this._shadow&&Oe(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var u=this.options.icon.options,m=u.iconSize?D(u.iconSize):D(0,0),v=u.iconAnchor?D(u.iconAnchor):D(0,0);a.panInside(this._latlng,{paddingTopLeft:v,paddingBottomRight:m.subtract(v)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function vu(a,u){return new sa(a,u)}var dr=de.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return G(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),yo=dr.extend({options:{fill:!0,radius:10},initialize:function(a,u){G(this,u),this._latlng=wt(a),this._radius=this.options.radius},setLatLng:function(a){var u=this._latlng;return this._latlng=wt(a),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var u=a&&a.radius||this._radius;return dr.prototype.setStyle.call(this,a),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,u=this._radiusY||a,m=this._clickTolerance(),v=[a+m,u+m];this._pxBounds=new ot(this._point.subtract(v),this._point.add(v))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Zc(a,u){return new yo(a,u)}var Tu=yo.extend({initialize:function(a,u,m){if(typeof u=="number"&&(u=l({},m,{radius:u})),G(this,u),this._latlng=wt(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new mt(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:dr.prototype.setStyle,_project:function(){var a=this._latlng.lng,u=this._latlng.lat,m=this._map,v=m.options.crs;if(v.distance===re.distance){var w=Math.PI/180,R=this._mRadius/re.R/w,N=m.project([u+R,a]),$=m.project([u-R,a]),rt=N.add($).divideBy(2),dt=m.unproject(rt).lat,At=Math.acos((Math.cos(R*w)-Math.sin(u*w)*Math.sin(dt*w))/(Math.cos(u*w)*Math.cos(dt*w)))/w;(isNaN(At)||At===0)&&(At=R/Math.cos(Math.PI/180*u)),this._point=rt.subtract(m.getPixelOrigin()),this._radius=isNaN(At)?0:rt.x-m.project([dt,a-At]).x,this._radiusY=rt.y-N.y}else{var Ct=v.unproject(v.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(Ct).x}this._updateBounds()}});function hd(a,u,m){return new Tu(a,u,m)}var mr=dr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,u){G(this,u),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var u=1/0,m=null,v=kn,w,R,N=0,$=this._parts.length;N<$;N++)for(var rt=this._parts[N],dt=1,At=rt.length;dt<At;dt++){w=rt[dt-1],R=rt[dt];var Ct=v(a,w,R,!0);Ct<u&&(u=Ct,m=v(a,w,R))}return m&&(m.distance=Math.sqrt(u)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return b(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,u){return u=u||this._defaultShape(),a=wt(a),u.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new mt,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return f(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var u=[],m=f(a),v=0,w=a.length;v<w;v++)m?(u[v]=wt(a[v]),this._bounds.extend(u[v])):u[v]=this._convertLatLngs(a[v]);return u},_project:function(){var a=new ot;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),u=new pt(a,a);this._rawPxBounds&&(this._pxBounds=new ot([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(a,u,m){var v=a[0]instanceof Rt,w=a.length,R,N;if(v){for(N=[],R=0;R<w;R++)N[R]=this._map.latLngToLayerPoint(a[R]),m.extend(N[R]);u.push(N)}else for(R=0;R<w;R++)this._projectLatlngs(a[R],u,m)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,m,v,w,R,N,$,rt;for(m=0,w=0,R=this._rings.length;m<R;m++)for(rt=this._rings[m],v=0,N=rt.length;v<N-1;v++)$=fs(rt[v],rt[v+1],a,v,!0),$&&(u[w]=u[w]||[],u[w].push($[0]),($[1]!==rt[v+1]||v===N-2)&&(u[w].push($[1]),w++))}},_simplifyPoints:function(){for(var a=this._parts,u=this.options.smoothFactor,m=0,v=a.length;m<v;m++)a[m]=go(a[m],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,u){var m,v,w,R,N,$,rt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(m=0,R=this._parts.length;m<R;m++)for($=this._parts[m],v=0,N=$.length,w=N-1;v<N;w=v++)if(!(!u&&v===0)&&na(a,$[w],$[v])<=rt)return!0;return!1}});function fd(a,u){return new mr(a,u)}mr._flat=E;var aa=mr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return kr(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var u=mr.prototype._convertLatLngs.call(this,a),m=u.length;return m>=2&&u[0]instanceof Rt&&u[0].equals(u[m-1])&&u.pop(),u},_setLatLngs:function(a){mr.prototype._setLatLngs.call(this,a),f(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return f(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,u=this.options.weight,m=new pt(u,u);if(a=new ot(a.min.subtract(m),a.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var v=0,w=this._rings.length,R;v<w;v++)R=Js(this._rings[v],a,!0),R.length&&this._parts.push(R)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var u=!1,m,v,w,R,N,$,rt,dt;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(R=0,rt=this._parts.length;R<rt;R++)for(m=this._parts[R],N=0,dt=m.length,$=dt-1;N<dt;$=N++)v=m[N],w=m[$],v.y>a.y!=w.y>a.y&&a.x<(w.x-v.x)*(a.y-v.y)/(w.y-v.y)+v.x&&(u=!u);return u||mr.prototype._containsPoint.call(this,a,!0)}});function Zn(a,u){return new aa(a,u)}var Kn=Ie.extend({initialize:function(a,u){G(this,u),this._layers={},a&&this.addData(a)},addData:function(a){var u=nt(a)?a:a.features,m,v,w;if(u){for(m=0,v=u.length;m<v;m++)w=u[m],(w.geometries||w.geometry||w.features||w.coordinates)&&this.addData(w);return this}var R=this.options;if(R.filter&&!R.filter(a))return this;var N=vo(a,R);return N?(N.feature=oa(a),N.defaultOptions=N.options,this.resetStyle(N),R.onEachFeature&&R.onEachFeature(a,N),this.addLayer(N)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=l({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(u){this._setLayerStyle(u,a)},this)},_setLayerStyle:function(a,u){a.setStyle&&(typeof u=="function"&&(u=u(a.feature)),a.setStyle(u))}});function vo(a,u){var m=a.type==="Feature"?a.geometry:a,v=m?m.coordinates:null,w=[],R=u&&u.pointToLayer,N=u&&u.coordsToLatLng||dl,$,rt,dt,At;if(!v&&!m)return null;switch(m.type){case"Point":return $=N(v),Eu(R,a,$,u);case"MultiPoint":for(dt=0,At=v.length;dt<At;dt++)$=N(v[dt]),w.push(Eu(R,a,$,u));return new Ie(w);case"LineString":case"MultiLineString":return rt=To(v,m.type==="LineString"?0:1,N),new mr(rt,u);case"Polygon":case"MultiPolygon":return rt=To(v,m.type==="Polygon"?1:2,N),new aa(rt,u);case"GeometryCollection":for(dt=0,At=m.geometries.length;dt<At;dt++){var Ct=vo({geometry:m.geometries[dt],type:"Feature",properties:a.properties},u);Ct&&w.push(Ct)}return new Ie(w);case"FeatureCollection":for(dt=0,At=m.features.length;dt<At;dt++){var Ot=vo(m.features[dt],u);Ot&&w.push(Ot)}return new Ie(w);default:throw new Error("Invalid GeoJSON object.")}}function Eu(a,u,m,v){return a?a(u,m):new sa(m,v&&v.markersInheritOptions&&v)}function dl(a){return new Rt(a[1],a[0],a[2])}function To(a,u,m){for(var v=[],w=0,R=a.length,N;w<R;w++)N=u?To(a[w],u-1,m):(m||dl)(a[w]),v.push(N);return v}function Eo(a,u){return a=wt(a),a.alt!==void 0?[C(a.lng,u),C(a.lat,u),C(a.alt,u)]:[C(a.lng,u),C(a.lat,u)]}function ml(a,u,m,v){for(var w=[],R=0,N=a.length;R<N;R++)w.push(u?ml(a[R],f(a[R])?0:u-1,m,v):Eo(a[R],v));return!u&&m&&w.length>0&&w.push(w[0].slice()),w}function wi(a,u){return a.feature?l({},a.feature,{geometry:u}):oa(u)}function oa(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var ds={toGeoJSON:function(a){return wi(this,{type:"Point",coordinates:Eo(this.getLatLng(),a)})}};sa.include(ds),Tu.include(ds),yo.include(ds),mr.include({toGeoJSON:function(a){var u=!f(this._latlngs),m=ml(this._latlngs,u?1:0,!1,a);return wi(this,{type:(u?"Multi":"")+"LineString",coordinates:m})}}),aa.include({toGeoJSON:function(a){var u=!f(this._latlngs),m=u&&!f(this._latlngs[0]),v=ml(this._latlngs,m?2:u?1:0,!0,a);return u||(v=[v]),wi(this,{type:(m?"Multi":"")+"Polygon",coordinates:v})}}),Le.include({toMultiPoint:function(a){var u=[];return this.eachLayer(function(m){u.push(m.toGeoJSON(a).geometry.coordinates)}),wi(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(a){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(a);var m=u==="GeometryCollection",v=[];return this.eachLayer(function(w){if(w.toGeoJSON){var R=w.toGeoJSON(a);if(m)v.push(R.geometry);else{var N=oa(R);N.type==="FeatureCollection"?v.push.apply(v,N.features):v.push(N)}}}),m?wi(this,{geometries:v,type:"GeometryCollection"}):{type:"FeatureCollection",features:v}}});function pl(a,u){return new Kn(a,u)}var Kc=pl,Zi=de.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,u,m){this._url=a,this._bounds=bt(u),G(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(jt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){fe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&Bi(this._image),this},bringToBack:function(){return this._map&&Lr(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=bt(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",u=this._image=a?this._url:$t("img");if(jt(u,"leaflet-image-layer"),this._zoomAnimated&&jt(u,"leaflet-zoom-animated"),this.options.className&&jt(u,this.options.className),u.onselectstart=I,u.onmousemove=I,u.onload=d(this.fire,this,"load"),u.onerror=d(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(a){var u=this._map.getZoomScale(a.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;wn(this._image,m,u)},_reset:function(){var a=this._image,u=new ot(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=u.getSize();zt(a,u.min),a.style.width=m.x+"px",a.style.height=m.y+"px"},_updateOpacity:function(){Oe(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),la=function(a,u,m){return new Zi(a,u,m)},gl=Zi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",u=this._image=a?this._url:$t("video");if(jt(u,"leaflet-image-layer"),this._zoomAnimated&&jt(u,"leaflet-zoom-animated"),this.options.className&&jt(u,this.options.className),u.onselectstart=I,u.onmousemove=I,u.onloadeddata=d(this.fire,this,"load"),a){for(var m=u.getElementsByTagName("source"),v=[],w=0;w<m.length;w++)v.push(m[w].src);this._url=m.length>0?v:[u.src];return}nt(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var R=0;R<this._url.length;R++){var N=$t("source");N.src=this._url[R],u.appendChild(N)}}});function Yc(a,u,m){return new gl(a,u,m)}var Vr=Zi.extend({_initImage:function(){var a=this._image=this._url;jt(a,"leaflet-image-layer"),this._zoomAnimated&&jt(a,"leaflet-zoom-animated"),this.options.className&&jt(a,this.options.className),a.onselectstart=I,a.onmousemove=I}});function Qc(a,u,m){return new Vr(a,u,m)}var bi=de.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,u){a&&(a instanceof Rt||nt(a))?(this._latlng=wt(a),G(this,u)):(G(this,a),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&Oe(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&Oe(this._container,1),this.bringToFront(),this.options.interactive&&(jt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(Oe(this._container,0),this._removeTimeout=setTimeout(d(fe,void 0,this._container),200)):fe(this._container),this.options.interactive&&(ge(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=wt(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Bi(this._container),this},bringToBack:function(){return this._map&&Lr(this._container),this},_prepareOpen:function(a){var u=this._source;if(!u._map)return!1;if(u instanceof Ie){u=null;var m=this._source._layers;for(var v in m)if(m[v]._map){u=m[v];break}if(!u)return!1;this._source=u}if(!a)if(u.getCenter)a=u.getCenter();else if(u.getLatLng)a=u.getLatLng();else if(u.getBounds)a=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")a.innerHTML=u;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),u=D(this.options.offset),m=this._getAnchor();this._zoomAnimated?zt(this._container,a.add(m)):u=u.add(a).add(m);var v=this._containerBottom=-u.y,w=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=v+"px",this._container.style.left=w+"px"}},_getAnchor:function(){return[0,0]}});Zt.include({_initOverlay:function(a,u,m,v){var w=u;return w instanceof a||(w=new a(v).setContent(u)),m&&w.setLatLng(m),w}}),de.include({_initOverlay:function(a,u,m,v){var w=m;return w instanceof a?(G(w,v),w._source=this):(w=u&&!v?u:new a(v,this),w.setContent(m)),w}});var wo=bi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,bi.prototype.openOn.call(this,a)},onAdd:function(a){bi.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof dr||this._source.on("preclick",Dn))},onRemove:function(a){bi.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof dr||this._source.off("preclick",Dn))},getEvents:function(){var a=bi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",u=this._container=$t("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=$t("div",a+"-content-wrapper",u);if(this._contentNode=$t("div",a+"-content",m),lr(u),Ti(this._contentNode),Nt(u,"contextmenu",Dn),this._tipContainer=$t("div",a+"-tip-container",u),this._tip=$t("div",a+"-tip",this._tipContainer),this.options.closeButton){var v=this._closeButton=$t("a",a+"-close-button",u);v.setAttribute("role","button"),v.setAttribute("aria-label","Close popup"),v.href="#close",v.innerHTML='<span aria-hidden="true">&#215;</span>',Nt(v,"click",function(w){we(w),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,u=a.style;u.width="",u.whiteSpace="nowrap";var m=a.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),u.width=m+1+"px",u.whiteSpace="",u.height="";var v=a.offsetHeight,w=this.options.maxHeight,R="leaflet-popup-scrolled";w&&v>w?(u.height=w+"px",jt(a,R)):ge(a,R),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),m=this._getAnchor();zt(this._container,u.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,u=parseInt(Ui(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+u,v=this._containerWidth,w=new pt(this._containerLeft,-m-this._containerBottom);w._add(Fn(this._container));var R=a.layerPointToContainerPoint(w),N=D(this.options.autoPanPadding),$=D(this.options.autoPanPaddingTopLeft||N),rt=D(this.options.autoPanPaddingBottomRight||N),dt=a.getSize(),At=0,Ct=0;R.x+v+rt.x>dt.x&&(At=R.x+v-dt.x+rt.x),R.x-At-$.x<0&&(At=R.x-$.x),R.y+m+rt.y>dt.y&&(Ct=R.y+m-dt.y+rt.y),R.y-Ct-$.y<0&&(Ct=R.y-$.y),(At||Ct)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([At,Ct]))}},_getAnchor:function(){return D(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),dd=function(a,u){return new wo(a,u)};Zt.mergeOptions({closePopupOnClick:!0}),Zt.include({openPopup:function(a,u,m){return this._initOverlay(wo,a,u,m).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),de.include({bindPopup:function(a,u){return this._popup=this._initOverlay(wo,this._popup,a,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof Ie||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){mn(a);var u=a.layer||a.target;if(this._popup._source===u&&!(u instanceof dr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=u,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var _l=bi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){bi.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){bi.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=bi.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",u=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=$t("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var u,m,v=this._map,w=this._container,R=v.latLngToContainerPoint(v.getCenter()),N=v.layerPointToContainerPoint(a),$=this.options.direction,rt=w.offsetWidth,dt=w.offsetHeight,At=D(this.options.offset),Ct=this._getAnchor();$==="top"?(u=rt/2,m=dt):$==="bottom"?(u=rt/2,m=0):$==="center"?(u=rt/2,m=dt/2):$==="right"?(u=0,m=dt/2):$==="left"?(u=rt,m=dt/2):N.x<R.x?($="right",u=0,m=dt/2):($="left",u=rt+(At.x+Ct.x)*2,m=dt/2),a=a.subtract(D(u,m,!0)).add(At).add(Ct),ge(w,"leaflet-tooltip-right"),ge(w,"leaflet-tooltip-left"),ge(w,"leaflet-tooltip-top"),ge(w,"leaflet-tooltip-bottom"),jt(w,"leaflet-tooltip-"+$),zt(w,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&Oe(this._container,a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(u)},_getAnchor:function(){return D(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),md=function(a,u){return new _l(a,u)};Zt.include({openTooltip:function(a,u,m){return this._initOverlay(_l,a,u,m).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),de.include({bindTooltip:function(a,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(_l,this._tooltip,a,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var u=a?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[u](m),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof Ie||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&(Nt(u,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Nt(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var u=a.latlng,m,v;this._tooltip.options.sticky&&a.originalEvent&&(m=this._map.mouseEventToContainerPoint(a.originalEvent),v=this._map.containerPointToLayerPoint(m),u=this._map.layerPointToLatLng(v)),this._tooltip.setLatLng(u)}});var wu=Gi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var u=a&&a.tagName==="DIV"?a:document.createElement("div"),m=this.options;if(m.html instanceof Element?(We(u),u.appendChild(m.html)):u.innerHTML=m.html!==!1?m.html:"",m.bgPos){var v=D(m.bgPos);u.style.backgroundPosition=-v.x+"px "+-v.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function $c(a){return new wu(a)}Gi.Default=ra;var ms=de.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Lt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){G(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),fe(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Bi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Lr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=T(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof pt?a:new pt(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var u=this.getPane().children,m=-a(-1/0,1/0),v=0,w=u.length,R;v<w;v++)R=u[v].style.zIndex,u[v]!==this._container&&R&&(m=a(m,+R));isFinite(m)&&(this.options.zIndex=m+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Lt.ielt9){Oe(this._container,this.options.opacity);var a=+new Date,u=!1,m=!1;for(var v in this._tiles){var w=this._tiles[v];if(!(!w.current||!w.loaded)){var R=Math.min(1,(a-w.loaded)/200);Oe(w.el,R),R<1?u=!0:(w.active?m=!0:this._onOpaqueTile(w),w.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),u&&(F(this._fadeFrame),this._fadeFrame=q(this._updateOpacity,this))}},_onOpaqueTile:I,_initContainer:function(){this._container||(this._container=$t("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,u=this.options.maxZoom;if(a!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===a?(this._levels[m].el.style.zIndex=u-Math.abs(a-m),this._onUpdateLevel(m)):(fe(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var v=this._levels[a],w=this._map;return v||(v=this._levels[a]={},v.el=$t("div","leaflet-tile-container leaflet-zoom-animated",this._container),v.el.style.zIndex=u,v.origin=w.project(w.unproject(w.getPixelOrigin()),a).round(),v.zoom=a,this._setZoomTransform(v,w.getCenter(),w.getZoom()),I(v.el.offsetWidth),this._onCreateLevel(v)),this._level=v,v}},_onUpdateLevel:I,_onRemoveLevel:I,_onCreateLevel:I,_pruneTiles:function(){if(this._map){var a,u,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)u=this._tiles[a],u.retain=u.current;for(a in this._tiles)if(u=this._tiles[a],u.current&&!u.active){var v=u.coords;this._retainParent(v.x,v.y,v.z,v.z-5)||this._retainChildren(v.x,v.y,v.z,v.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var u in this._tiles)this._tiles[u].coords.z===a&&this._removeTile(u)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)fe(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,u,m,v){var w=Math.floor(a/2),R=Math.floor(u/2),N=m-1,$=new pt(+w,+R);$.z=+N;var rt=this._tileCoordsToKey($),dt=this._tiles[rt];return dt&&dt.active?(dt.retain=!0,!0):(dt&&dt.loaded&&(dt.retain=!0),N>v?this._retainParent(w,R,N,v):!1)},_retainChildren:function(a,u,m,v){for(var w=2*a;w<2*a+2;w++)for(var R=2*u;R<2*u+2;R++){var N=new pt(w,R);N.z=m+1;var $=this._tileCoordsToKey(N),rt=this._tiles[$];if(rt&&rt.active){rt.retain=!0;continue}else rt&&rt.loaded&&(rt.retain=!0);m+1<v&&this._retainChildren(w,R,m+1,v)}},_resetView:function(a){var u=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var u=this.options;return u.minNativeZoom!==void 0&&a<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<a?u.maxNativeZoom:a},_setView:function(a,u,m,v){var w=Math.round(u);this.options.maxZoom!==void 0&&w>this.options.maxZoom||this.options.minZoom!==void 0&&w<this.options.minZoom?w=void 0:w=this._clampZoom(w);var R=this.options.updateWhenZooming&&w!==this._tileZoom;(!v||R)&&(this._tileZoom=w,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),w!==void 0&&this._update(a),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(a,u)},_setZoomTransforms:function(a,u){for(var m in this._levels)this._setZoomTransform(this._levels[m],a,u)},_setZoomTransform:function(a,u,m){var v=this._map.getZoomScale(m,a.zoom),w=a.origin.multiplyBy(v).subtract(this._map._getNewPixelOrigin(u,m)).round();Lt.any3d?wn(a.el,w,v):zt(a.el,w)},_resetGrid:function(){var a=this._map,u=a.options.crs,m=this._tileSize=this.getTileSize(),v=this._tileZoom,w=this._map.getPixelWorldBounds(this._tileZoom);w&&(this._globalTileRange=this._pxBoundsToTileRange(w)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,u.wrapLng[0]],v).x/m.x),Math.ceil(a.project([0,u.wrapLng[1]],v).x/m.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([u.wrapLat[0],0],v).y/m.x),Math.ceil(a.project([u.wrapLat[1],0],v).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var u=this._map,m=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),v=u.getZoomScale(m,this._tileZoom),w=u.project(a,this._tileZoom).floor(),R=u.getSize().divideBy(v*2);return new ot(w.subtract(R),w.add(R))},_update:function(a){var u=this._map;if(u){var m=this._clampZoom(u.getZoom());if(a===void 0&&(a=u.getCenter()),this._tileZoom!==void 0){var v=this._getTiledPixelBounds(a),w=this._pxBoundsToTileRange(v),R=w.getCenter(),N=[],$=this.options.keepBuffer,rt=new ot(w.getBottomLeft().subtract([$,-$]),w.getTopRight().add([$,-$]));if(!(isFinite(w.min.x)&&isFinite(w.min.y)&&isFinite(w.max.x)&&isFinite(w.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var dt in this._tiles){var At=this._tiles[dt].coords;(At.z!==this._tileZoom||!rt.contains(new pt(At.x,At.y)))&&(this._tiles[dt].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(a,m);return}for(var Ct=w.min.y;Ct<=w.max.y;Ct++)for(var Ot=w.min.x;Ot<=w.max.x;Ot++){var Ht=new pt(Ot,Ct);if(Ht.z=this._tileZoom,!!this._isValidTile(Ht)){var Me=this._tiles[this._tileCoordsToKey(Ht)];Me?Me.current=!0:N.push(Ht)}}if(N.sort(function(gn,ni){return gn.distanceTo(R)-ni.distanceTo(R)}),N.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Be=document.createDocumentFragment();for(Ot=0;Ot<N.length;Ot++)this._addTile(N[Ot],Be);this._level.el.appendChild(Be)}}}},_isValidTile:function(a){var u=this._map.options.crs;if(!u.infinite){var m=this._globalTileRange;if(!u.wrapLng&&(a.x<m.min.x||a.x>m.max.x)||!u.wrapLat&&(a.y<m.min.y||a.y>m.max.y))return!1}if(!this.options.bounds)return!0;var v=this._tileCoordsToBounds(a);return bt(this.options.bounds).overlaps(v)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var u=this._map,m=this.getTileSize(),v=a.scaleBy(m),w=v.add(m),R=u.unproject(v,a.z),N=u.unproject(w,a.z);return[R,N]},_tileCoordsToBounds:function(a){var u=this._tileCoordsToNwSe(a),m=new mt(u[0],u[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var u=a.split(":"),m=new pt(+u[0],+u[1]);return m.z=+u[2],m},_removeTile:function(a){var u=this._tiles[a];u&&(fe(u.el),delete this._tiles[a],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){jt(a,"leaflet-tile");var u=this.getTileSize();a.style.width=u.x+"px",a.style.height=u.y+"px",a.onselectstart=I,a.onmousemove=I,Lt.ielt9&&this.options.opacity<1&&Oe(a,this.options.opacity)},_addTile:function(a,u){var m=this._getTilePos(a),v=this._tileCoordsToKey(a),w=this.createTile(this._wrapCoords(a),d(this._tileReady,this,a));this._initTile(w),this.createTile.length<2&&q(d(this._tileReady,this,a,null,w)),zt(w,m),this._tiles[v]={el:w,coords:a,current:!0},u.appendChild(w),this.fire("tileloadstart",{tile:w,coords:a})},_tileReady:function(a,u,m){u&&this.fire("tileerror",{error:u,tile:m,coords:a});var v=this._tileCoordsToKey(a);m=this._tiles[v],m&&(m.loaded=+new Date,this._map._fadeAnimated?(Oe(m.el,0),F(this._fadeFrame),this._fadeFrame=q(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),u||(jt(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Lt.ielt9||!this._map._fadeAnimated?q(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var u=new pt(this._wrapX?A(a.x,this._wrapX):a.x,this._wrapY?A(a.y,this._wrapY):a.y);return u.z=a.z,u},_pxBoundsToTileRange:function(a){var u=this.getTileSize();return new ot(a.min.unscaleBy(u).floor(),a.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function Ai(a){return new ms(a)}var ps=ms.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,u){this._url=a,u=G(this,u),u.detectRetina&&Lt.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,u){return this._url===a&&u===void 0&&(u=!0),this._url=a,u||this.redraw(),this},createTile:function(a,u){var m=document.createElement("img");return Nt(m,"load",d(this._tileOnLoad,this,u,m)),Nt(m,"error",d(this._tileOnError,this,u,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(a),m},getTileUrl:function(a){var u={r:Lt.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-a.y;this.options.tms&&(u.y=m),u["-y"]=m}return W(this._url,l(u,this.options))},_tileOnLoad:function(a,u){Lt.ielt9?setTimeout(d(a,this,null,u),0):a(null,u)},_tileOnError:function(a,u,m){var v=this.options.errorTileUrl;v&&u.getAttribute("src")!==v&&(u.src=v),a(m,u)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,u=this.options.maxZoom,m=this.options.zoomReverse,v=this.options.zoomOffset;return m&&(a=u-a),a+v},_getSubdomain:function(a){var u=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var a,u;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(u=this._tiles[a].el,u.onload=I,u.onerror=I,!u.complete)){u.src=Tt;var m=this._tiles[a].coords;fe(u),delete this._tiles[a],this.fire("tileabort",{tile:u,coords:m})}},_removeTile:function(a){var u=this._tiles[a];if(u)return u.el.setAttribute("src",Tt),ms.prototype._removeTile.call(this,a)},_tileReady:function(a,u,m){if(!(!this._map||m&&m.getAttribute("src")===Tt))return ms.prototype._tileReady.call(this,a,u,m)}});function Yn(a,u){return new ps(a,u)}var Qn=ps.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,u){this._url=a;var m=l({},this.defaultWmsParams);for(var v in u)v in this.options||(m[v]=u[v]);u=G(this,u);var w=u.detectRetina&&Lt.retina?2:1,R=this.getTileSize();m.width=R.x*w,m.height=R.y*w,this.wmsParams=m},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,ps.prototype.onAdd.call(this,a)},getTileUrl:function(a){var u=this._tileCoordsToNwSe(a),m=this._crs,v=_t(m.project(u[0]),m.project(u[1])),w=v.min,R=v.max,N=(this._wmsVersion>=1.3&&this._crs===Ge?[w.y,w.x,R.y,R.x]:[w.x,w.y,R.x,R.y]).join(","),$=ps.prototype.getTileUrl.call(this,a);return $+Z(this.wmsParams,$,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+N},setParams:function(a,u){return l(this.wmsParams,a),u||this.redraw(),this}});function ua(a,u){return new Qn(a,u)}ps.WMS=Qn,Yn.wms=ua;var Si=de.extend({options:{padding:.1},initialize:function(a){G(this,a),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),jt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,u){var m=this._map.getZoomScale(u,this._zoom),v=this._map.getSize().multiplyBy(.5+this.options.padding),w=this._map.project(this._center,u),R=v.multiplyBy(-m).add(w).subtract(this._map._getNewPixelOrigin(a,u));Lt.any3d?wn(this._container,R,m):zt(this._container,R)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,u=this._map.getSize(),m=this._map.containerPointToLayerPoint(u.multiplyBy(-a)).round();this._bounds=new ot(m,m.add(u.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),bo=Si.extend({options:{tolerance:0},getEvents:function(){var a=Si.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Si.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Nt(a,"mousemove",this._onMouseMove,this),Nt(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Nt(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){F(this._redrawRequest),delete this._ctx,fe(this._container),ae(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var u in this._layers)a=this._layers[u],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Si.prototype._update.call(this);var a=this._bounds,u=this._container,m=a.getSize(),v=Lt.retina?2:1;zt(u,a.min),u.width=v*m.x,u.height=v*m.y,u.style.width=m.x+"px",u.style.height=m.y+"px",Lt.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){Si.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[y(a)]=a;var u=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var u=a._order,m=u.next,v=u.prev;m?m.prev=v:this._drawLast=v,v?v.next=m:this._drawFirst=m,delete a._order,delete this._layers[y(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var u=a.options.dashArray.split(/[, ]+/),m=[],v,w;for(w=0;w<u.length;w++){if(v=Number(u[w]),isNaN(v))return;m.push(v)}a.options._dashArray=m}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||q(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var u=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ot,this._redrawBounds.extend(a._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(a._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var u=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,u=this._redrawBounds;if(this._ctx.save(),u){var m=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var v=this._drawFirst;v;v=v.next)a=v.layer,(!u||a._pxBounds&&a._pxBounds.intersects(u))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,u){if(this._drawing){var m,v,w,R,N=a._parts,$=N.length,rt=this._ctx;if($){for(rt.beginPath(),m=0;m<$;m++){for(v=0,w=N[m].length;v<w;v++)R=N[m][v],rt[v?"lineTo":"moveTo"](R.x,R.y);u&&rt.closePath()}this._fillStroke(rt,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var u=a._point,m=this._ctx,v=Math.max(Math.round(a._radius),1),w=(Math.max(Math.round(a._radiusY),1)||v)/v;w!==1&&(m.save(),m.scale(1,w)),m.beginPath(),m.arc(u.x,u.y/w,v,0,Math.PI*2,!1),w!==1&&m.restore(),this._fillStroke(m,a)}},_fillStroke:function(a,u){var m=u.options;m.fill&&(a.globalAlpha=m.fillOpacity,a.fillStyle=m.fillColor||m.color,a.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(a.setLineDash&&a.setLineDash(u.options&&u.options._dashArray||[]),a.globalAlpha=m.opacity,a.lineWidth=m.weight,a.strokeStyle=m.color,a.lineCap=m.lineCap,a.lineJoin=m.lineJoin,a.stroke())},_onClick:function(a){for(var u=this._map.mouseEventToLayerPoint(a),m,v,w=this._drawFirst;w;w=w.next)m=w.layer,m.options.interactive&&m._containsPoint(u)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(m))&&(v=m);this._fireEvent(v?[v]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,u)}},_handleMouseOut:function(a){var u=this._hoveredLayer;u&&(ge(this._container,"leaflet-interactive"),this._fireEvent([u],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,u){if(!this._mouseHoverThrottled){for(var m,v,w=this._drawFirst;w;w=w.next)m=w.layer,m.options.interactive&&m._containsPoint(u)&&(v=m);v!==this._hoveredLayer&&(this._handleMouseOut(a),v&&(jt(this._container,"leaflet-interactive"),this._fireEvent([v],a,"mouseover"),this._hoveredLayer=v)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,u,m){this._map._fireDOMEvent(u,m||u.type,a)},_bringToFront:function(a){var u=a._order;if(u){var m=u.next,v=u.prev;if(m)m.prev=v;else return;v?v.next=m:m&&(this._drawFirst=m),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(a)}},_bringToBack:function(a){var u=a._order;if(u){var m=u.next,v=u.prev;if(v)v.next=m;else return;m?m.prev=v:v&&(this._drawLast=v),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(a)}}});function Ao(a){return Lt.canvas?new bo(a):null}var gs=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ca={_initContainer:function(){this._container=$t("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Si.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var u=a._container=gs("shape");jt(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",a._path=gs("path"),u.appendChild(a._path),this._updateStyle(a),this._layers[y(a)]=a},_addPath:function(a){var u=a._container;this._container.appendChild(u),a.options.interactive&&a.addInteractiveTarget(u)},_removePath:function(a){var u=a._container;fe(u),a.removeInteractiveTarget(u),delete this._layers[y(a)]},_updateStyle:function(a){var u=a._stroke,m=a._fill,v=a.options,w=a._container;w.stroked=!!v.stroke,w.filled=!!v.fill,v.stroke?(u||(u=a._stroke=gs("stroke")),w.appendChild(u),u.weight=v.weight+"px",u.color=v.color,u.opacity=v.opacity,v.dashArray?u.dashStyle=nt(v.dashArray)?v.dashArray.join(" "):v.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=v.lineCap.replace("butt","flat"),u.joinstyle=v.lineJoin):u&&(w.removeChild(u),a._stroke=null),v.fill?(m||(m=a._fill=gs("fill")),w.appendChild(m),m.color=v.fillColor||v.color,m.opacity=v.fillOpacity):m&&(w.removeChild(m),a._fill=null)},_updateCircle:function(a){var u=a._point.round(),m=Math.round(a._radius),v=Math.round(a._radiusY||m);this._setPath(a,a._empty()?"M0 0":"AL "+u.x+","+u.y+" "+m+","+v+" 0,"+65535*360)},_setPath:function(a,u){a._path.v=u},_bringToFront:function(a){Bi(a._container)},_bringToBack:function(a){Lr(a._container)}},So=Lt.vml?gs:Bs,zr=Si.extend({_initContainer:function(){this._container=So("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=So("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){fe(this._container),ae(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Si.prototype._update.call(this);var a=this._bounds,u=a.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,m.setAttribute("width",u.x),m.setAttribute("height",u.y)),zt(m,a.min),m.setAttribute("viewBox",[a.min.x,a.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(a){var u=a._path=So("path");a.options.className&&jt(u,a.options.className),a.options.interactive&&jt(u,"leaflet-interactive"),this._updateStyle(a),this._layers[y(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){fe(a._path),a.removeInteractiveTarget(a._path),delete this._layers[y(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var u=a._path,m=a.options;u&&(m.stroke?(u.setAttribute("stroke",m.color),u.setAttribute("stroke-opacity",m.opacity),u.setAttribute("stroke-width",m.weight),u.setAttribute("stroke-linecap",m.lineCap),u.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?u.setAttribute("stroke-dasharray",m.dashArray):u.removeAttribute("stroke-dasharray"),m.dashOffset?u.setAttribute("stroke-dashoffset",m.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),m.fill?(u.setAttribute("fill",m.fillColor||m.color),u.setAttribute("fill-opacity",m.fillOpacity),u.setAttribute("fill-rule",m.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(a,u){this._setPath(a,to(a._parts,u))},_updateCircle:function(a){var u=a._point,m=Math.max(Math.round(a._radius),1),v=Math.max(Math.round(a._radiusY),1)||m,w="a"+m+","+v+" 0 1,0 ",R=a._empty()?"M0 0":"M"+(u.x-m)+","+u.y+w+m*2+",0 "+w+-m*2+",0 ";this._setPath(a,R)},_setPath:function(a,u){a._path.setAttribute("d",u)},_bringToFront:function(a){Bi(a._path)},_bringToBack:function(a){Lr(a._path)}});Lt.vml&&zr.include(ca);function _s(a){return Lt.svg||Lt.vml?new zr(a):null}Zt.include({getRenderer:function(a){var u=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var u=this._paneRenderers[a];return u===void 0&&(u=this._createRenderer({pane:a}),this._paneRenderers[a]=u),u},_createRenderer:function(a){return this.options.preferCanvas&&Ao(a)||_s(a)}});var Xc=aa.extend({initialize:function(a,u){aa.prototype.initialize.call(this,this._boundsToLatLngs(a),u)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=bt(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function $n(a,u){return new Xc(a,u)}zr.create=So,zr.pointsToPath=to,Kn.geometryToLayer=vo,Kn.coordsToLatLng=dl,Kn.coordsToLatLngs=To,Kn.latLngToCoords=Eo,Kn.latLngsToCoords=ml,Kn.getFeature=wi,Kn.asFeature=oa,Zt.mergeOptions({boxZoom:!0});var yl=Nn.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Nt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ae(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){fe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),dn(),ls(),this._startPoint=this._map.mouseEventToContainerPoint(a),Nt(document,{contextmenu:mn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=$t("div","leaflet-zoom-box",this._container),jt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var u=new ot(this._point,this._startPoint),m=u.getSize();zt(this._box,u.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(fe(this._box),ge(this._container,"leaflet-crosshair")),_i(),ho(),ae(document,{contextmenu:mn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0);var u=new mt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Zt.addInitHook("addHandler","boxZoom",yl),Zt.mergeOptions({doubleClickZoom:!0});var Ki=Nn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var u=this._map,m=u.getZoom(),v=u.options.zoomDelta,w=a.originalEvent.shiftKey?m-v:m+v;u.options.doubleClickZoom==="center"?u.setZoom(w):u.setZoomAround(a.containerPoint,w)}});Zt.addInitHook("addHandler","doubleClickZoom",Ki),Zt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var bu=Nn.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Ei(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}jt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ge(this._map._container,"leaflet-grab"),ge(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=bt(this._map.options.maxBounds);this._offsetLimit=_t(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var u=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(u),this._prunePositions(u)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,u){return a-(a-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;a.x<u.min.x&&(a.x=this._viscousLimit(a.x,u.min.x)),a.y<u.min.y&&(a.y=this._viscousLimit(a.y,u.min.y)),a.x>u.max.x&&(a.x=this._viscousLimit(a.x,u.max.x)),a.y>u.max.y&&(a.y=this._viscousLimit(a.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,u=Math.round(a/2),m=this._initialWorldOffset,v=this._draggable._newPos.x,w=(v-u+m)%a+u-m,R=(v+u+m)%a-u-m,N=Math.abs(w+m)<Math.abs(R+m)?w:R;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=N},_onDragEnd:function(a){var u=this._map,m=u.options,v=!m.inertia||a.noInertia||this._times.length<2;if(u.fire("dragend",a),v)u.fire("moveend");else{this._prunePositions(+new Date);var w=this._lastPos.subtract(this._positions[0]),R=(this._lastTime-this._times[0])/1e3,N=m.easeLinearity,$=w.multiplyBy(N/R),rt=$.distanceTo([0,0]),dt=Math.min(m.inertiaMaxSpeed,rt),At=$.multiplyBy(dt/rt),Ct=dt/(m.inertiaDeceleration*N),Ot=At.multiplyBy(-Ct/2).round();!Ot.x&&!Ot.y?u.fire("moveend"):(Ot=u._limitOffset(Ot,u.options.maxBounds),q(function(){u.panBy(Ot,{duration:Ct,easeLinearity:N,noMoveStart:!0,animate:!0})}))}}});Zt.addInitHook("addHandler","dragging",bu),Zt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Ro=Nn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Nt(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ae(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,u=document.documentElement,m=a.scrollTop||u.scrollTop,v=a.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(v,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var u=this._panKeys={},m=this.keyCodes,v,w;for(v=0,w=m.left.length;v<w;v++)u[m.left[v]]=[-1*a,0];for(v=0,w=m.right.length;v<w;v++)u[m.right[v]]=[a,0];for(v=0,w=m.down.length;v<w;v++)u[m.down[v]]=[0,a];for(v=0,w=m.up.length;v<w;v++)u[m.up[v]]=[0,-1*a]},_setZoomDelta:function(a){var u=this._zoomKeys={},m=this.keyCodes,v,w;for(v=0,w=m.zoomIn.length;v<w;v++)u[m.zoomIn[v]]=a;for(v=0,w=m.zoomOut.length;v<w;v++)u[m.zoomOut[v]]=-a},_addHooks:function(){Nt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ae(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var u=a.keyCode,m=this._map,v;if(u in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(v=this._panKeys[u],a.shiftKey&&(v=D(v).multiplyBy(3)),m.options.maxBounds&&(v=m._limitOffset(D(v),m.options.maxBounds)),m.options.worldCopyJump){var w=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(v)));m.panTo(w)}else m.panBy(v)}else if(u in this._zoomKeys)m.setZoom(m.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;mn(a)}}});Zt.addInitHook("addHandler","keyboard",Ro),Zt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ur=Nn.extend({addHooks:function(){Nt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ae(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var u=us(a),m=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var v=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),v),mn(a)},_performZoom:function(){var a=this._map,u=a.getZoom(),m=this._map.options.zoomSnap||0;a._stop();var v=this._delta/(this._map.options.wheelPxPerZoomLevel*4),w=4*Math.log(2/(1+Math.exp(-Math.abs(v))))/Math.LN2,R=m?Math.ceil(w/m)*m:w,N=a._limitZoom(u+(this._delta>0?R:-R))-u;this._delta=0,this._startTime=null,N&&(a.options.scrollWheelZoom==="center"?a.setZoom(u+N):a.setZoomAround(this._lastMousePos,u+N))}});Zt.addInitHook("addHandler","scrollWheelZoom",Ur);var Au=600;Zt.mergeOptions({tapHold:Lt.touchNative&&Lt.safari&&Lt.mobile,tapTolerance:15});var vl=Nn.extend({addHooks:function(){Nt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ae(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var u=a.touches[0];this._startPos=this._newPos=new pt(u.clientX,u.clientY),this._holdTimeout=setTimeout(d(function(){this._cancel(),this._isTapValid()&&(Nt(document,"touchend",we),Nt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),Au),Nt(document,"touchend touchcancel contextmenu",this._cancel,this),Nt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){ae(document,"touchend",we),ae(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),ae(document,"touchend touchcancel contextmenu",this._cancel,this),ae(document,"touchmove",this._onMove,this)},_onMove:function(a){var u=a.touches[0];this._newPos=new pt(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,u){var m=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});m._simulated=!0,u.target.dispatchEvent(m)}});Zt.addInitHook("addHandler","tapHold",vl),Zt.mergeOptions({touchZoom:Lt.touch,bounceAtZoomLimits:!0});var ys=Nn.extend({addHooks:function(){jt(this._map._container,"leaflet-touch-zoom"),Nt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ge(this._map._container,"leaflet-touch-zoom"),ae(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var u=this._map;if(!(!a.touches||a.touches.length!==2||u._animatingZoom||this._zooming)){var m=u.mouseEventToContainerPoint(a.touches[0]),v=u.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(m.add(v)._divideBy(2))),this._startDist=m.distanceTo(v),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Nt(document,"touchmove",this._onTouchMove,this),Nt(document,"touchend touchcancel",this._onTouchEnd,this),we(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var u=this._map,m=u.mouseEventToContainerPoint(a.touches[0]),v=u.mouseEventToContainerPoint(a.touches[1]),w=m.distanceTo(v)/this._startDist;if(this._zoom=u.getScaleZoom(w,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&w<1||this._zoom>u.getMaxZoom()&&w>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,w===1)return}else{var R=m._add(v)._divideBy(2)._subtract(this._centerPoint);if(w===1&&R.x===0&&R.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(R),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),F(this._animRequest);var N=d(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=q(N,this,!0),we(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,F(this._animRequest),ae(document,"touchmove",this._onTouchMove,this),ae(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Zt.addInitHook("addHandler","touchZoom",ys),Zt.BoxZoom=yl,Zt.DoubleClickZoom=Ki,Zt.Drag=bu,Zt.Keyboard=Ro,Zt.ScrollWheelZoom=Ur,Zt.TapHold=vl,Zt.TouchZoom=ys,e.Bounds=ot,e.Browser=Lt,e.CRS=Ee,e.Canvas=bo,e.Circle=Tu,e.CircleMarker=yo,e.Class=pe,e.Control=an,e.DivIcon=wu,e.DivOverlay=bi,e.DomEvent=ol,e.DomUtil=fo,e.Draggable=Ei,e.Evented=yt,e.FeatureGroup=Ie,e.GeoJSON=Kn,e.GridLayer=ms,e.Handler=Nn,e.Icon=Gi,e.ImageOverlay=Zi,e.LatLng=Rt,e.LatLngBounds=mt,e.Layer=de,e.LayerGroup=Le,e.LineUtil=P,e.Map=Zt,e.Marker=sa,e.Mixin=hs,e.Path=dr,e.Point=pt,e.PolyUtil=ea,e.Polygon=aa,e.Polyline=mr,e.Popup=wo,e.PosAnimation=cs,e.Projection=vt,e.Rectangle=Xc,e.Renderer=Si,e.SVG=zr,e.SVGOverlay=Vr,e.TileLayer=ps,e.Tooltip=_l,e.Transformation=ci,e.Util=U,e.VideoOverlay=gl,e.bind=d,e.bounds=_t,e.canvas=Ao,e.circle=hd,e.circleMarker=Zc,e.control=pn,e.divIcon=$c,e.extend=l,e.featureGroup=Fi,e.geoJSON=pl,e.geoJson=Kc,e.gridLayer=Ai,e.icon=fl,e.imageOverlay=la,e.latLng=wt,e.latLngBounds=bt,e.layerGroup=fr,e.map=qi,e.marker=vu,e.point=D,e.polygon=Zn,e.polyline=fd,e.popup=dd,e.rectangle=$n,e.setOptions=G,e.stamp=y,e.svg=_s,e.svgOverlay=Qc,e.tileLayer=Yn,e.tooltip=md,e.transformation=hi,e.version=s,e.videoOverlay=Yc;var ha=window.L;e.noConflict=function(){return window.L=ha,this},window.L=e})}(lc,lc.exports)),lc.exports}var Nc=OR();const gE=Hp(Nc);function Xp(i,t,e){return Object.freeze({instance:i,context:t,container:e})}function Wp(i,t){return t==null?function(s,l){const h=Y.useRef(void 0);return h.current||(h.current=i(s,l)),h}:function(s,l){const h=Y.useRef(void 0);h.current||(h.current=i(s,l));const d=Y.useRef(s),{instance:_}=h.current;return Y.useEffect(function(){d.current!==s&&(t(_,s,d.current),d.current=s)},[_,s,t]),h}}function LR(i,t){Y.useEffect(function(){return(t.layerContainer??t.map).addLayer(i.instance),function(){var h;(h=t.layerContainer)==null||h.removeLayer(i.instance),t.map.removeLayer(i.instance)}},[t,i])}function _E(i){return function(e){const s=mE(),l=i($p(e,s),s);return dE(s.map,e.attribution),pE(l.current,e.eventHandlers),LR(l.current,s),l}}function MR(i,t){const e=Wp(i,t),s=_E(e);return RR(s)}function DR(i,t){const e=Wp(i),s=xR(e,t);return IR(s)}function NR(i,t){const e=Wp(i,t),s=_E(e);return CR(s)}function kR(i,t,e){const{opacity:s,zIndex:l}=t;s!=null&&s!==e.opacity&&i.setOpacity(s),l!=null&&l!==e.zIndex&&i.setZIndex(l)}function VR({bounds:i,boundsOptions:t,center:e,children:s,className:l,id:h,placeholder:d,style:_,whenReady:y,zoom:T,...A},I){const[C]=Y.useState({className:l,id:h,style:_}),[k,H]=Y.useState(null),G=Y.useRef(void 0);Y.useImperativeHandle(I,()=>(k==null?void 0:k.map)??null,[k]);const Z=Y.useCallback(W=>{if(W!==null&&!G.current){const nt=new Nc.Map(W,A);G.current=nt,e!=null&&T!=null?nt.setView(e,T):i!=null&&nt.fitBounds(i,t),y!=null&&nt.whenReady(y),H(AR(nt))}},[]);Y.useEffect(()=>()=>{k==null||k.map.remove()},[k]);const tt=k?Te.createElement(Qp,{value:k},s):d??null;return Te.createElement("div",{...C,ref:Z},tt)}const zR=Y.forwardRef(VR),UR=MR(function({position:t,...e},s){const l=new Nc.Marker(t,e);return Xp(l,SR(s,{overlayContainer:l}))},function(t,e,s){e.position!==s.position&&t.setLatLng(e.position),e.icon!=null&&e.icon!==s.icon&&t.setIcon(e.icon),e.zIndexOffset!=null&&e.zIndexOffset!==s.zIndexOffset&&t.setZIndexOffset(e.zIndexOffset),e.opacity!=null&&e.opacity!==s.opacity&&t.setOpacity(e.opacity),t.dragging!=null&&e.draggable!==s.draggable&&(e.draggable===!0?t.dragging.enable():t.dragging.disable())}),BR=DR(function(t,e){const s=new Nc.Popup(t,e.overlayContainer);return Xp(s,e)},function(t,e,{position:s},l){Y.useEffect(function(){const{instance:d}=t;function _(T){T.popup===d&&(d.update(),l(!0))}function y(T){T.popup===d&&l(!1)}return e.map.on({popupopen:_,popupclose:y}),e.overlayContainer==null?(s!=null&&d.setLatLng(s),d.openOn(e.map)):e.overlayContainer.bindPopup(d),function(){var A;e.map.off({popupopen:_,popupclose:y}),(A=e.overlayContainer)==null||A.unbindPopup(),e.map.removeLayer(d)}},[t,e,l,s])}),HR=NR(function({url:t,...e},s){const l=new Nc.TileLayer(t,$p(e,s));return Xp(l,s)},function(t,e,s){kR(t,e,s);const{url:l}=e;l!=null&&l!==s.url&&t.setUrl(l)}),qR=()=>{};var l0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=function(i){const t=[];let e=0;for(let s=0;s<i.length;s++){let l=i.charCodeAt(s);l<128?t[e++]=l:l<2048?(t[e++]=l>>6|192,t[e++]=l&63|128):(l&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++s)&1023),t[e++]=l>>18|240,t[e++]=l>>12&63|128,t[e++]=l>>6&63|128,t[e++]=l&63|128):(t[e++]=l>>12|224,t[e++]=l>>6&63|128,t[e++]=l&63|128)}return t},jR=function(i){const t=[];let e=0,s=0;for(;e<i.length;){const l=i[e++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const h=i[e++];t[s++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=i[e++],d=i[e++],_=i[e++],y=((l&7)<<18|(h&63)<<12|(d&63)<<6|_&63)-65536;t[s++]=String.fromCharCode(55296+(y>>10)),t[s++]=String.fromCharCode(56320+(y&1023))}else{const h=i[e++],d=i[e++];t[s++]=String.fromCharCode((l&15)<<12|(h&63)<<6|d&63)}}return t.join("")},vE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<i.length;l+=3){const h=i[l],d=l+1<i.length,_=d?i[l+1]:0,y=l+2<i.length,T=y?i[l+2]:0,A=h>>2,I=(h&3)<<4|_>>4;let C=(_&15)<<2|T>>6,k=T&63;y||(k=64,d||(C=64)),s.push(e[A],e[I],e[C],e[k])}return s.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(yE(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):jR(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<i.length;){const h=e[i.charAt(l++)],_=l<i.length?e[i.charAt(l)]:0;++l;const T=l<i.length?e[i.charAt(l)]:64;++l;const I=l<i.length?e[i.charAt(l)]:64;if(++l,h==null||_==null||T==null||I==null)throw new FR;const C=h<<2|_>>4;if(s.push(C),T!==64){const k=_<<4&240|T>>2;if(s.push(k),I!==64){const H=T<<6&192|I;s.push(H)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class FR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GR=function(i){const t=yE(i);return vE.encodeByteArray(t,!0)},gf=function(i){return GR(i).replace(/\./g,"")},TE=function(i){try{return vE.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=()=>ZR().__FIREBASE_DEFAULTS__,YR=()=>{if(typeof process>"u"||typeof l0>"u")return;const i=l0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},QR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&TE(i[1]);return t&&JSON.parse(t)},Uf=()=>{try{return qR()||KR()||YR()||QR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},EE=i=>{var t,e;return(e=(t=Uf())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[i]},$R=i=>{const t=EE(i);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),s]:[t.substring(0,e),s]},wE=()=>{var i;return(i=Uf())===null||i===void 0?void 0:i.config},bE=i=>{var t;return(t=Uf())===null||t===void 0?void 0:t[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,s)=>{e?this.reject(e):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(i){return i.endsWith(".cloudworkstations.dev")}async function AE(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},s=t||"demo-project",l=i.iat||0,h=i.sub||i.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},i);return[gf(JSON.stringify(e)),gf(JSON.stringify(d)),""].join(".")}const dc={};function JR(){const i={prod:[],emulator:[]};for(const t of Object.keys(dc))dc[t]?i.emulator.push(t):i.prod.push(t);return i}function tI(i){let t=document.getElementById(i),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),e=!0),{created:e,element:t}}let u0=!1;function SE(i,t){if(typeof window>"u"||typeof document>"u"||!lu(window.location.host)||dc[i]===t||dc[i]||u0)return;dc[i]=t;function e(C){return`__firebase__banner__${C}`}const s="__firebase__banner",h=JR().prod.length>0;function d(){const C=document.getElementById(s);C&&C.remove()}function _(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function y(C,k){C.setAttribute("width","24"),C.setAttribute("id",k),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function T(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{u0=!0,d()},C}function A(C,k){C.setAttribute("id",k),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function I(){const C=tI(s),k=e("text"),H=document.getElementById(k)||document.createElement("span"),G=e("learnmore"),Z=document.getElementById(G)||document.createElement("a"),tt=e("preprendIcon"),W=document.getElementById(tt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const nt=C.element;_(nt),A(Z,G);const gt=T();y(W,tt),nt.append(W,H,Z,gt),document.body.appendChild(nt)}h?(H.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",I):I()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qn())}function nI(){var i;const t=(i=Uf())===null||i===void 0?void 0:i.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Jp(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function rI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sI(){const i=qn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function aI(){return!nI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tg(){try{return typeof indexedDB=="object"}catch{return!1}}function eg(){return new Promise((i,t)=>{try{let e=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),e||self.indexedDB.deleteDatabase(s),i(!0)},l.onupgradeneeded=()=>{e=!1},l.onerror=()=>{var h;t(((h=l.error)===null||h===void 0?void 0:h.message)||"")}}catch(e){t(e)}})}function RE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI="FirebaseError";class Sr extends Error{constructor(t,e,s){super(e),this.code=t,this.customData=s,this.name=oI,Object.setPrototypeOf(this,Sr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$o.prototype.create)}}class $o{constructor(t,e,s){this.service=t,this.serviceName=e,this.errors=s}create(t,...e){const s=e[0]||{},l=`${this.service}/${t}`,h=this.errors[t],d=h?lI(h,s):"Error",_=`${this.serviceName}: ${d} (${l}).`;return new Sr(l,_,s)}}function lI(i,t){return i.replace(uI,(e,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const uI=/\{\$([^}]+)}/g;function cI(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function Ga(i,t){if(i===t)return!0;const e=Object.keys(i),s=Object.keys(t);for(const l of e){if(!s.includes(l))return!1;const h=i[l],d=t[l];if(c0(h)&&c0(d)){if(!Ga(h,d))return!1}else if(h!==d)return!1}for(const l of s)if(!e.includes(l))return!1;return!0}function c0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(i){const t=[];for(const[e,s]of Object.entries(i))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function hI(i,t){const e=new fI(i,t);return e.subscribe.bind(e)}class fI{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,s){let l;if(t===void 0&&e===void 0&&s===void 0)throw new Error("Missing Observer.");dI(t,["next","error","complete"])?l=t:l={next:t,error:e,complete:s},l.next===void 0&&(l.next=Qm),l.error===void 0&&(l.error=Qm),l.complete===void 0&&(l.complete=Qm);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dI(i,t){if(typeof i!="object"||i===null)return!1;for(const e of t)if(e in i&&typeof i[e]=="function")return!0;return!1}function Qm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=1e3,pI=2,gI=4*60*60*1e3,_I=.5;function h0(i,t=mI,e=pI){const s=t*Math.pow(e,i),l=Math.round(_I*s*(Math.random()-.5)*2);return Math.min(gI,s+l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(i){return i&&i._delegate?i._delegate:i}class br{constructor(t,e,s){this.name=t,this.instanceFactory=e,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const s=new XR;if(this.instancesDeferred.set(e,s),this.isInitialized(e)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:e});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(h){if(l)return null;throw h}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(TI(t))try{this.getOrInitializeService({instanceIdentifier:Vo})}catch{}for(const[e,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(e);try{const h=this.getOrInitializeService({instanceIdentifier:l});s.resolve(h)}catch{}}}}clearInstance(t=Vo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Vo){return this.instances.has(t)}getOptions(t=Vo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:e});for(const[h,d]of this.instancesDeferred.entries()){const _=this.normalizeInstanceIdentifier(h);s===_&&d.resolve(l)}return l}onInit(t,e){var s;const l=this.normalizeInstanceIdentifier(e),h=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;h.add(t),this.onInitCallbacks.set(l,h);const d=this.instances.get(l);return d&&t(d,l),()=>{h.delete(t)}}invokeOnInitCallbacks(t,e){const s=this.onInitCallbacks.get(e);if(s)for(const l of s)try{l(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:vI(t),options:e}),this.instances.set(t,s),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Vo){return this.component?this.component.multipleInstances?t:Vo:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vI(i){return i===Vo?void 0:i}function TI(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new yI(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ne;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ne||(ne={}));const wI={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},bI=ne.INFO,AI={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},SI=(i,t,...e)=>{if(t<i.logLevel)return;const s=new Date().toISOString(),l=AI[t];if(l)console[l](`[${s}]  ${i.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Bf{constructor(t){this.name=t,this._logLevel=bI,this._logHandler=SI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ne))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?wI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...t),this._logHandler(this,ne.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...t),this._logHandler(this,ne.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...t),this._logHandler(this,ne.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...t),this._logHandler(this,ne.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...t),this._logHandler(this,ne.ERROR,...t)}}const RI=(i,t)=>t.some(e=>i instanceof e);let f0,d0;function II(){return f0||(f0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CI(){return d0||(d0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IE=new WeakMap,hp=new WeakMap,CE=new WeakMap,$m=new WeakMap,ng=new WeakMap;function xI(i){const t=new Promise((e,s)=>{const l=()=>{i.removeEventListener("success",h),i.removeEventListener("error",d)},h=()=>{e(Ba(i.result)),l()},d=()=>{s(i.error),l()};i.addEventListener("success",h),i.addEventListener("error",d)});return t.then(e=>{e instanceof IDBCursor&&IE.set(e,i)}).catch(()=>{}),ng.set(t,i),t}function PI(i){if(hp.has(i))return;const t=new Promise((e,s)=>{const l=()=>{i.removeEventListener("complete",h),i.removeEventListener("error",d),i.removeEventListener("abort",d)},h=()=>{e(),l()},d=()=>{s(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",h),i.addEventListener("error",d),i.addEventListener("abort",d)});hp.set(i,t)}let fp={get(i,t,e){if(i instanceof IDBTransaction){if(t==="done")return hp.get(i);if(t==="objectStoreNames")return i.objectStoreNames||CE.get(i);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Ba(i[t])},set(i,t,e){return i[t]=e,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function OI(i){fp=i(fp)}function LI(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const s=i.call(Xm(this),t,...e);return CE.set(s,t.sort?t.sort():[t]),Ba(s)}:CI().includes(i)?function(...t){return i.apply(Xm(this),t),Ba(IE.get(this))}:function(...t){return Ba(i.apply(Xm(this),t))}}function MI(i){return typeof i=="function"?LI(i):(i instanceof IDBTransaction&&PI(i),RI(i,II())?new Proxy(i,fp):i)}function Ba(i){if(i instanceof IDBRequest)return xI(i);if($m.has(i))return $m.get(i);const t=MI(i);return t!==i&&($m.set(i,t),ng.set(t,i)),t}const Xm=i=>ng.get(i);function xE(i,t,{blocked:e,upgrade:s,blocking:l,terminated:h}={}){const d=indexedDB.open(i,t),_=Ba(d);return s&&d.addEventListener("upgradeneeded",y=>{s(Ba(d.result),y.oldVersion,y.newVersion,Ba(d.transaction),y)}),e&&d.addEventListener("blocked",y=>e(y.oldVersion,y.newVersion,y)),_.then(y=>{h&&y.addEventListener("close",()=>h()),l&&y.addEventListener("versionchange",T=>l(T.oldVersion,T.newVersion,T))}).catch(()=>{}),_}const DI=["get","getKey","getAll","getAllKeys","count"],NI=["put","add","delete","clear"],Wm=new Map;function m0(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Wm.get(t))return Wm.get(t);const e=t.replace(/FromIndex$/,""),s=t!==e,l=NI.includes(e);if(!(e in(s?IDBIndex:IDBObjectStore).prototype)||!(l||DI.includes(e)))return;const h=async function(d,..._){const y=this.transaction(d,l?"readwrite":"readonly");let T=y.store;return s&&(T=T.index(_.shift())),(await Promise.all([T[e](..._),l&&y.done]))[0]};return Wm.set(t,h),h}OI(i=>({...i,get:(t,e,s)=>m0(t,e)||i.get(t,e,s),has:(t,e)=>!!m0(t,e)||i.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(VI(e)){const s=e.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(e=>e).join(" ")}}function VI(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const dp="@firebase/app",p0="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=new Bf("@firebase/app"),zI="@firebase/app-compat",UI="@firebase/analytics-compat",BI="@firebase/analytics",HI="@firebase/app-check-compat",qI="@firebase/app-check",jI="@firebase/auth",FI="@firebase/auth-compat",GI="@firebase/database",ZI="@firebase/data-connect",KI="@firebase/database-compat",YI="@firebase/functions",QI="@firebase/functions-compat",$I="@firebase/installations",XI="@firebase/installations-compat",WI="@firebase/messaging",JI="@firebase/messaging-compat",tC="@firebase/performance",eC="@firebase/performance-compat",nC="@firebase/remote-config",iC="@firebase/remote-config-compat",rC="@firebase/storage",sC="@firebase/storage-compat",aC="@firebase/firestore",oC="@firebase/ai",lC="@firebase/firestore-compat",uC="firebase",cC="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp="[DEFAULT]",hC={[dp]:"fire-core",[zI]:"fire-core-compat",[BI]:"fire-analytics",[UI]:"fire-analytics-compat",[qI]:"fire-app-check",[HI]:"fire-app-check-compat",[jI]:"fire-auth",[FI]:"fire-auth-compat",[GI]:"fire-rtdb",[ZI]:"fire-data-connect",[KI]:"fire-rtdb-compat",[YI]:"fire-fn",[QI]:"fire-fn-compat",[$I]:"fire-iid",[XI]:"fire-iid-compat",[WI]:"fire-fcm",[JI]:"fire-fcm-compat",[tC]:"fire-perf",[eC]:"fire-perf-compat",[nC]:"fire-rc",[iC]:"fire-rc-compat",[rC]:"fire-gcs",[sC]:"fire-gcs-compat",[aC]:"fire-fst",[lC]:"fire-fst-compat",[oC]:"fire-vertex","fire-js":"fire-js",[uC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f=new Map,fC=new Map,pp=new Map;function g0(i,t){try{i.container.addComponent(t)}catch(e){Ds.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,e)}}function $r(i){const t=i.name;if(pp.has(t))return Ds.debug(`There were multiple attempts to register component ${t}.`),!1;pp.set(t,i);for(const e of _f.values())g0(e,i);for(const e of fC.values())g0(e,i);return!0}function Xo(i,t){const e=i.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),i.container.getProvider(t)}function vr(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ha=new $o("app","Firebase",dC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(t,e,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new br("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ha.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu=cC;function PE(i,t={}){let e=i;typeof t!="object"&&(t={name:t});const s=Object.assign({name:mp,automaticDataCollectionEnabled:!0},t),l=s.name;if(typeof l!="string"||!l)throw Ha.create("bad-app-name",{appName:String(l)});if(e||(e=wE()),!e)throw Ha.create("no-options");const h=_f.get(l);if(h){if(Ga(e,h.options)&&Ga(s,h.config))return h;throw Ha.create("duplicate-app",{appName:l})}const d=new EI(l);for(const y of pp.values())d.addComponent(y);const _=new mC(e,s,d);return _f.set(l,_),_}function ig(i=mp){const t=_f.get(i);if(!t&&i===mp&&wE())return PE();if(!t)throw Ha.create("no-app",{appName:i});return t}function Ji(i,t,e){var s;let l=(s=hC[i])!==null&&s!==void 0?s:i;e&&(l+=`-${e}`);const h=l.match(/\s|\//),d=t.match(/\s|\//);if(h||d){const _=[`Unable to register library "${l}" with version "${t}":`];h&&_.push(`library name "${l}" contains illegal characters (whitespace or "/")`),h&&d&&_.push("and"),d&&_.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ds.warn(_.join(" "));return}$r(new br(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC="firebase-heartbeat-database",gC=1,Ec="firebase-heartbeat-store";let Jm=null;function OE(){return Jm||(Jm=xE(pC,gC,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Ec)}catch(e){console.warn(e)}}}}).catch(i=>{throw Ha.create("idb-open",{originalErrorMessage:i.message})})),Jm}async function _C(i){try{const e=(await OE()).transaction(Ec),s=await e.objectStore(Ec).get(LE(i));return await e.done,s}catch(t){if(t instanceof Sr)Ds.warn(t.message);else{const e=Ha.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ds.warn(e.message)}}}async function _0(i,t){try{const s=(await OE()).transaction(Ec,"readwrite");await s.objectStore(Ec).put(t,LE(i)),await s.done}catch(e){if(e instanceof Sr)Ds.warn(e.message);else{const s=Ha.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});Ds.warn(s.message)}}}function LE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=1024,vC=30;class TC{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new wC(e),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,e;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=y0();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:l}),this._heartbeatsCache.heartbeats.length>vC){const d=bC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ds.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=y0(),{heartbeatsToSend:s,unsentEntries:l}=EC(this._heartbeatsCache.heartbeats),h=gf(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=e,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(e){return Ds.warn(e),""}}}function y0(){return new Date().toISOString().substring(0,10)}function EC(i,t=yC){const e=[];let s=i.slice();for(const l of i){const h=e.find(d=>d.agent===l.agent);if(h){if(h.dates.push(l.date),v0(e)>t){h.dates.pop();break}}else if(e.push({agent:l.agent,dates:[l.date]}),v0(e)>t){e.pop();break}s=s.slice(1)}return{heartbeatsToSend:e,unsentEntries:s}}class wC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tg()?eg().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await _C(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const l=await this.read();return _0(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const l=await this.read();return _0(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function v0(i){return gf(JSON.stringify({version:2,heartbeats:i})).length}function bC(i){if(i.length===0)return-1;let t=0,e=i[0].date;for(let s=1;s<i.length;s++)i[s].date<e&&(e=i[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(i){$r(new br("platform-logger",t=>new kI(t),"PRIVATE")),$r(new br("heartbeat",t=>new TC(t),"PRIVATE")),Ji(dp,p0,i),Ji(dp,p0,"esm2017"),Ji("fire-js","")}AC("");var T0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qa,ME;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(z,O){function M(){}M.prototype=O.prototype,z.D=O.prototype,z.prototype=new M,z.prototype.constructor=z,z.C=function(B,q,F){for(var U=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)U[pe-2]=arguments[pe];return O.prototype[q].apply(B,U)}}function e(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,e),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(z,O,M){M||(M=0);var B=Array(16);if(typeof O=="string")for(var q=0;16>q;++q)B[q]=O.charCodeAt(M++)|O.charCodeAt(M++)<<8|O.charCodeAt(M++)<<16|O.charCodeAt(M++)<<24;else for(q=0;16>q;++q)B[q]=O[M++]|O[M++]<<8|O[M++]<<16|O[M++]<<24;O=z.g[0],M=z.g[1],q=z.g[2];var F=z.g[3],U=O+(F^M&(q^F))+B[0]+3614090360&4294967295;O=M+(U<<7&4294967295|U>>>25),U=F+(q^O&(M^q))+B[1]+3905402710&4294967295,F=O+(U<<12&4294967295|U>>>20),U=q+(M^F&(O^M))+B[2]+606105819&4294967295,q=F+(U<<17&4294967295|U>>>15),U=M+(O^q&(F^O))+B[3]+3250441966&4294967295,M=q+(U<<22&4294967295|U>>>10),U=O+(F^M&(q^F))+B[4]+4118548399&4294967295,O=M+(U<<7&4294967295|U>>>25),U=F+(q^O&(M^q))+B[5]+1200080426&4294967295,F=O+(U<<12&4294967295|U>>>20),U=q+(M^F&(O^M))+B[6]+2821735955&4294967295,q=F+(U<<17&4294967295|U>>>15),U=M+(O^q&(F^O))+B[7]+4249261313&4294967295,M=q+(U<<22&4294967295|U>>>10),U=O+(F^M&(q^F))+B[8]+1770035416&4294967295,O=M+(U<<7&4294967295|U>>>25),U=F+(q^O&(M^q))+B[9]+2336552879&4294967295,F=O+(U<<12&4294967295|U>>>20),U=q+(M^F&(O^M))+B[10]+4294925233&4294967295,q=F+(U<<17&4294967295|U>>>15),U=M+(O^q&(F^O))+B[11]+2304563134&4294967295,M=q+(U<<22&4294967295|U>>>10),U=O+(F^M&(q^F))+B[12]+1804603682&4294967295,O=M+(U<<7&4294967295|U>>>25),U=F+(q^O&(M^q))+B[13]+4254626195&4294967295,F=O+(U<<12&4294967295|U>>>20),U=q+(M^F&(O^M))+B[14]+2792965006&4294967295,q=F+(U<<17&4294967295|U>>>15),U=M+(O^q&(F^O))+B[15]+1236535329&4294967295,M=q+(U<<22&4294967295|U>>>10),U=O+(q^F&(M^q))+B[1]+4129170786&4294967295,O=M+(U<<5&4294967295|U>>>27),U=F+(M^q&(O^M))+B[6]+3225465664&4294967295,F=O+(U<<9&4294967295|U>>>23),U=q+(O^M&(F^O))+B[11]+643717713&4294967295,q=F+(U<<14&4294967295|U>>>18),U=M+(F^O&(q^F))+B[0]+3921069994&4294967295,M=q+(U<<20&4294967295|U>>>12),U=O+(q^F&(M^q))+B[5]+3593408605&4294967295,O=M+(U<<5&4294967295|U>>>27),U=F+(M^q&(O^M))+B[10]+38016083&4294967295,F=O+(U<<9&4294967295|U>>>23),U=q+(O^M&(F^O))+B[15]+3634488961&4294967295,q=F+(U<<14&4294967295|U>>>18),U=M+(F^O&(q^F))+B[4]+3889429448&4294967295,M=q+(U<<20&4294967295|U>>>12),U=O+(q^F&(M^q))+B[9]+568446438&4294967295,O=M+(U<<5&4294967295|U>>>27),U=F+(M^q&(O^M))+B[14]+3275163606&4294967295,F=O+(U<<9&4294967295|U>>>23),U=q+(O^M&(F^O))+B[3]+4107603335&4294967295,q=F+(U<<14&4294967295|U>>>18),U=M+(F^O&(q^F))+B[8]+1163531501&4294967295,M=q+(U<<20&4294967295|U>>>12),U=O+(q^F&(M^q))+B[13]+2850285829&4294967295,O=M+(U<<5&4294967295|U>>>27),U=F+(M^q&(O^M))+B[2]+4243563512&4294967295,F=O+(U<<9&4294967295|U>>>23),U=q+(O^M&(F^O))+B[7]+1735328473&4294967295,q=F+(U<<14&4294967295|U>>>18),U=M+(F^O&(q^F))+B[12]+2368359562&4294967295,M=q+(U<<20&4294967295|U>>>12),U=O+(M^q^F)+B[5]+4294588738&4294967295,O=M+(U<<4&4294967295|U>>>28),U=F+(O^M^q)+B[8]+2272392833&4294967295,F=O+(U<<11&4294967295|U>>>21),U=q+(F^O^M)+B[11]+1839030562&4294967295,q=F+(U<<16&4294967295|U>>>16),U=M+(q^F^O)+B[14]+4259657740&4294967295,M=q+(U<<23&4294967295|U>>>9),U=O+(M^q^F)+B[1]+2763975236&4294967295,O=M+(U<<4&4294967295|U>>>28),U=F+(O^M^q)+B[4]+1272893353&4294967295,F=O+(U<<11&4294967295|U>>>21),U=q+(F^O^M)+B[7]+4139469664&4294967295,q=F+(U<<16&4294967295|U>>>16),U=M+(q^F^O)+B[10]+3200236656&4294967295,M=q+(U<<23&4294967295|U>>>9),U=O+(M^q^F)+B[13]+681279174&4294967295,O=M+(U<<4&4294967295|U>>>28),U=F+(O^M^q)+B[0]+3936430074&4294967295,F=O+(U<<11&4294967295|U>>>21),U=q+(F^O^M)+B[3]+3572445317&4294967295,q=F+(U<<16&4294967295|U>>>16),U=M+(q^F^O)+B[6]+76029189&4294967295,M=q+(U<<23&4294967295|U>>>9),U=O+(M^q^F)+B[9]+3654602809&4294967295,O=M+(U<<4&4294967295|U>>>28),U=F+(O^M^q)+B[12]+3873151461&4294967295,F=O+(U<<11&4294967295|U>>>21),U=q+(F^O^M)+B[15]+530742520&4294967295,q=F+(U<<16&4294967295|U>>>16),U=M+(q^F^O)+B[2]+3299628645&4294967295,M=q+(U<<23&4294967295|U>>>9),U=O+(q^(M|~F))+B[0]+4096336452&4294967295,O=M+(U<<6&4294967295|U>>>26),U=F+(M^(O|~q))+B[7]+1126891415&4294967295,F=O+(U<<10&4294967295|U>>>22),U=q+(O^(F|~M))+B[14]+2878612391&4294967295,q=F+(U<<15&4294967295|U>>>17),U=M+(F^(q|~O))+B[5]+4237533241&4294967295,M=q+(U<<21&4294967295|U>>>11),U=O+(q^(M|~F))+B[12]+1700485571&4294967295,O=M+(U<<6&4294967295|U>>>26),U=F+(M^(O|~q))+B[3]+2399980690&4294967295,F=O+(U<<10&4294967295|U>>>22),U=q+(O^(F|~M))+B[10]+4293915773&4294967295,q=F+(U<<15&4294967295|U>>>17),U=M+(F^(q|~O))+B[1]+2240044497&4294967295,M=q+(U<<21&4294967295|U>>>11),U=O+(q^(M|~F))+B[8]+1873313359&4294967295,O=M+(U<<6&4294967295|U>>>26),U=F+(M^(O|~q))+B[15]+4264355552&4294967295,F=O+(U<<10&4294967295|U>>>22),U=q+(O^(F|~M))+B[6]+2734768916&4294967295,q=F+(U<<15&4294967295|U>>>17),U=M+(F^(q|~O))+B[13]+1309151649&4294967295,M=q+(U<<21&4294967295|U>>>11),U=O+(q^(M|~F))+B[4]+4149444226&4294967295,O=M+(U<<6&4294967295|U>>>26),U=F+(M^(O|~q))+B[11]+3174756917&4294967295,F=O+(U<<10&4294967295|U>>>22),U=q+(O^(F|~M))+B[2]+718787259&4294967295,q=F+(U<<15&4294967295|U>>>17),U=M+(F^(q|~O))+B[9]+3951481745&4294967295,z.g[0]=z.g[0]+O&4294967295,z.g[1]=z.g[1]+(q+(U<<21&4294967295|U>>>11))&4294967295,z.g[2]=z.g[2]+q&4294967295,z.g[3]=z.g[3]+F&4294967295}s.prototype.u=function(z,O){O===void 0&&(O=z.length);for(var M=O-this.blockSize,B=this.B,q=this.h,F=0;F<O;){if(q==0)for(;F<=M;)l(this,z,F),F+=this.blockSize;if(typeof z=="string"){for(;F<O;)if(B[q++]=z.charCodeAt(F++),q==this.blockSize){l(this,B),q=0;break}}else for(;F<O;)if(B[q++]=z[F++],q==this.blockSize){l(this,B),q=0;break}}this.h=q,this.o+=O},s.prototype.v=function(){var z=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);z[0]=128;for(var O=1;O<z.length-8;++O)z[O]=0;var M=8*this.o;for(O=z.length-8;O<z.length;++O)z[O]=M&255,M/=256;for(this.u(z),z=Array(16),O=M=0;4>O;++O)for(var B=0;32>B;B+=8)z[M++]=this.g[O]>>>B&255;return z};function h(z,O){var M=_;return Object.prototype.hasOwnProperty.call(M,z)?M[z]:M[z]=O(z)}function d(z,O){this.h=O;for(var M=[],B=!0,q=z.length-1;0<=q;q--){var F=z[q]|0;B&&F==O||(M[q]=F,B=!1)}this.g=M}var _={};function y(z){return-128<=z&&128>z?h(z,function(O){return new d([O|0],0>O?-1:0)}):new d([z|0],0>z?-1:0)}function T(z){if(isNaN(z)||!isFinite(z))return I;if(0>z)return Z(T(-z));for(var O=[],M=1,B=0;z>=M;B++)O[B]=z/M|0,M*=4294967296;return new d(O,0)}function A(z,O){if(z.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(z.charAt(0)=="-")return Z(A(z.substring(1),O));if(0<=z.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=T(Math.pow(O,8)),B=I,q=0;q<z.length;q+=8){var F=Math.min(8,z.length-q),U=parseInt(z.substring(q,q+F),O);8>F?(F=T(Math.pow(O,F)),B=B.j(F).add(T(U))):(B=B.j(M),B=B.add(T(U)))}return B}var I=y(0),C=y(1),k=y(16777216);i=d.prototype,i.m=function(){if(G(this))return-Z(this).m();for(var z=0,O=1,M=0;M<this.g.length;M++){var B=this.i(M);z+=(0<=B?B:4294967296+B)*O,O*=4294967296}return z},i.toString=function(z){if(z=z||10,2>z||36<z)throw Error("radix out of range: "+z);if(H(this))return"0";if(G(this))return"-"+Z(this).toString(z);for(var O=T(Math.pow(z,6)),M=this,B="";;){var q=gt(M,O).g;M=tt(M,q.j(O));var F=((0<M.g.length?M.g[0]:M.h)>>>0).toString(z);if(M=q,H(M))return F+B;for(;6>F.length;)F="0"+F;B=F+B}},i.i=function(z){return 0>z?0:z<this.g.length?this.g[z]:this.h};function H(z){if(z.h!=0)return!1;for(var O=0;O<z.g.length;O++)if(z.g[O]!=0)return!1;return!0}function G(z){return z.h==-1}i.l=function(z){return z=tt(this,z),G(z)?-1:H(z)?0:1};function Z(z){for(var O=z.g.length,M=[],B=0;B<O;B++)M[B]=~z.g[B];return new d(M,~z.h).add(C)}i.abs=function(){return G(this)?Z(this):this},i.add=function(z){for(var O=Math.max(this.g.length,z.g.length),M=[],B=0,q=0;q<=O;q++){var F=B+(this.i(q)&65535)+(z.i(q)&65535),U=(F>>>16)+(this.i(q)>>>16)+(z.i(q)>>>16);B=U>>>16,F&=65535,U&=65535,M[q]=U<<16|F}return new d(M,M[M.length-1]&-2147483648?-1:0)};function tt(z,O){return z.add(Z(O))}i.j=function(z){if(H(this)||H(z))return I;if(G(this))return G(z)?Z(this).j(Z(z)):Z(Z(this).j(z));if(G(z))return Z(this.j(Z(z)));if(0>this.l(k)&&0>z.l(k))return T(this.m()*z.m());for(var O=this.g.length+z.g.length,M=[],B=0;B<2*O;B++)M[B]=0;for(B=0;B<this.g.length;B++)for(var q=0;q<z.g.length;q++){var F=this.i(B)>>>16,U=this.i(B)&65535,pe=z.i(q)>>>16,Re=z.i(q)&65535;M[2*B+2*q]+=U*Re,W(M,2*B+2*q),M[2*B+2*q+1]+=F*Re,W(M,2*B+2*q+1),M[2*B+2*q+1]+=U*pe,W(M,2*B+2*q+1),M[2*B+2*q+2]+=F*pe,W(M,2*B+2*q+2)}for(B=0;B<O;B++)M[B]=M[2*B+1]<<16|M[2*B];for(B=O;B<2*O;B++)M[B]=0;return new d(M,0)};function W(z,O){for(;(z[O]&65535)!=z[O];)z[O+1]+=z[O]>>>16,z[O]&=65535,O++}function nt(z,O){this.g=z,this.h=O}function gt(z,O){if(H(O))throw Error("division by zero");if(H(z))return new nt(I,I);if(G(z))return O=gt(Z(z),O),new nt(Z(O.g),Z(O.h));if(G(O))return O=gt(z,Z(O)),new nt(Z(O.g),O.h);if(30<z.g.length){if(G(z)||G(O))throw Error("slowDivide_ only works with positive integers.");for(var M=C,B=O;0>=B.l(z);)M=Tt(M),B=Tt(B);var q=Pt(M,1),F=Pt(B,1);for(B=Pt(B,2),M=Pt(M,2);!H(B);){var U=F.add(B);0>=U.l(z)&&(q=q.add(M),F=U),B=Pt(B,1),M=Pt(M,1)}return O=tt(z,q.j(O)),new nt(q,O)}for(q=I;0<=z.l(O);){for(M=Math.max(1,Math.floor(z.m()/O.m())),B=Math.ceil(Math.log(M)/Math.LN2),B=48>=B?1:Math.pow(2,B-48),F=T(M),U=F.j(O);G(U)||0<U.l(z);)M-=B,F=T(M),U=F.j(O);H(F)&&(F=C),q=q.add(F),z=tt(z,U)}return new nt(q,z)}i.A=function(z){return gt(this,z).h},i.and=function(z){for(var O=Math.max(this.g.length,z.g.length),M=[],B=0;B<O;B++)M[B]=this.i(B)&z.i(B);return new d(M,this.h&z.h)},i.or=function(z){for(var O=Math.max(this.g.length,z.g.length),M=[],B=0;B<O;B++)M[B]=this.i(B)|z.i(B);return new d(M,this.h|z.h)},i.xor=function(z){for(var O=Math.max(this.g.length,z.g.length),M=[],B=0;B<O;B++)M[B]=this.i(B)^z.i(B);return new d(M,this.h^z.h)};function Tt(z){for(var O=z.g.length+1,M=[],B=0;B<O;B++)M[B]=z.i(B)<<1|z.i(B-1)>>>31;return new d(M,z.h)}function Pt(z,O){var M=O>>5;O%=32;for(var B=z.g.length-M,q=[],F=0;F<B;F++)q[F]=0<O?z.i(F+M)>>>O|z.i(F+M+1)<<32-O:z.i(F+M);return new d(q,z.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,ME=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=T,d.fromString=A,qa=d}).apply(typeof T0<"u"?T0:typeof self<"u"?self:typeof window<"u"?window:{});var Qh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var DE,uc,NE,rf,gp,kE,VE,zE;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,E,b){return f==Array.prototype||f==Object.prototype||(f[E]=b.value),f};function e(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qh=="object"&&Qh];for(var E=0;E<f.length;++E){var b=f[E];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=e(this);function l(f,E){if(E)t:{var b=s;f=f.split(".");for(var P=0;P<f.length-1;P++){var Q=f[P];if(!(Q in b))break t;b=b[Q]}f=f[f.length-1],P=b[f],E=E(P),E!=P&&E!=null&&t(b,f,{configurable:!0,writable:!0,value:E})}}function h(f,E){f instanceof String&&(f+="");var b=0,P=!1,Q={next:function(){if(!P&&b<f.length){var st=b++;return{value:E(st,f[st]),done:!1}}return P=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}l("Array.prototype.values",function(f){return f||function(){return h(this,function(E,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},_=this||self;function y(f){var E=typeof f;return E=E!="object"?E:f?Array.isArray(f)?"array":E:"null",E=="array"||E=="object"&&typeof f.length=="number"}function T(f){var E=typeof f;return E=="object"&&f!=null||E=="function"}function A(f,E,b){return f.call.apply(f.bind,arguments)}function I(f,E,b){if(!f)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,P),f.apply(E,Q)}}return function(){return f.apply(E,arguments)}}function C(f,E,b){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:I,C.apply(null,arguments)}function k(f,E){var b=Array.prototype.slice.call(arguments,1);return function(){var P=b.slice();return P.push.apply(P,arguments),f.apply(this,P)}}function H(f,E){function b(){}b.prototype=E.prototype,f.aa=E.prototype,f.prototype=new b,f.prototype.constructor=f,f.Qb=function(P,Q,st){for(var vt=Array(arguments.length-2),te=2;te<arguments.length;te++)vt[te-2]=arguments[te];return E.prototype[Q].apply(P,vt)}}function G(f){const E=f.length;if(0<E){const b=Array(E);for(let P=0;P<E;P++)b[P]=f[P];return b}return[]}function Z(f,E){for(let b=1;b<arguments.length;b++){const P=arguments[b];if(y(P)){const Q=f.length||0,st=P.length||0;f.length=Q+st;for(let vt=0;vt<st;vt++)f[Q+vt]=P[vt]}else f.push(P)}}class tt{constructor(E,b){this.i=E,this.j=b,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function W(f){return/^[\s\xa0]*$/.test(f)}function nt(){var f=_.navigator;return f&&(f=f.userAgent)?f:""}function gt(f){return gt[" "](f),f}gt[" "]=function(){};var Tt=nt().indexOf("Gecko")!=-1&&!(nt().toLowerCase().indexOf("webkit")!=-1&&nt().indexOf("Edge")==-1)&&!(nt().indexOf("Trident")!=-1||nt().indexOf("MSIE")!=-1)&&nt().indexOf("Edge")==-1;function Pt(f,E,b){for(const P in f)E.call(b,f[P],P,f)}function z(f,E){for(const b in f)E.call(void 0,f[b],b,f)}function O(f){const E={};for(const b in f)E[b]=f[b];return E}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(f,E){let b,P;for(let Q=1;Q<arguments.length;Q++){P=arguments[Q];for(b in P)f[b]=P[b];for(let st=0;st<M.length;st++)b=M[st],Object.prototype.hasOwnProperty.call(P,b)&&(f[b]=P[b])}}function q(f){var E=1;f=f.split(":");const b=[];for(;0<E&&f.length;)b.push(f.shift()),E--;return f.length&&b.push(f.join(":")),b}function F(f){_.setTimeout(()=>{throw f},0)}function U(){var f=se;let E=null;return f.g&&(E=f.g,f.g=f.g.next,f.g||(f.h=null),E.next=null),E}class pe{constructor(){this.h=this.g=null}add(E,b){const P=Re.get();P.set(E,b),this.h?this.h.next=P:this.g=P,this.h=P}}var Re=new tt(()=>new at,f=>f.reset());class at{constructor(){this.next=this.g=this.h=null}set(E,b){this.h=E,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let yt,pt=!1,se=new pe,D=()=>{const f=_.Promise.resolve(void 0);yt=()=>{f.then(ot)}};var ot=()=>{for(var f;f=U();){try{f.h.call(f.g)}catch(b){F(b)}var E=Re;E.j(f),100>E.h&&(E.h++,f.next=E.g,E.g=f)}pt=!1};function _t(){this.s=this.s,this.C=this.C}_t.prototype.s=!1,_t.prototype.ma=function(){this.s||(this.s=!0,this.N())},_t.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function mt(f,E){this.type=f,this.g=this.target=E,this.defaultPrevented=!1}mt.prototype.h=function(){this.defaultPrevented=!0};var bt=function(){if(!_.addEventListener||!Object.defineProperty)return!1;var f=!1,E=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const b=()=>{};_.addEventListener("test",b,E),_.removeEventListener("test",b,E)}catch{}return f}();function Rt(f,E){if(mt.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var b=this.type=f.type,P=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=E,E=f.relatedTarget){if(Tt){t:{try{gt(E.nodeName);var Q=!0;break t}catch{}Q=!1}Q||(E=null)}}else b=="mouseover"?E=f.fromElement:b=="mouseout"&&(E=f.toElement);this.relatedTarget=E,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:wt[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Rt.aa.h.call(this)}}H(Rt,mt);var wt={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ee="closure_listenable_"+(1e6*Math.random()|0),re=0;function ui(f,E,b,P,Q){this.listener=f,this.proxy=null,this.src=E,this.type=b,this.capture=!!P,this.ha=Q,this.key=++re,this.da=this.fa=!1}function Li(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ci(f){this.src=f,this.g={},this.h=0}ci.prototype.add=function(f,E,b,P,Q){var st=f.toString();f=this.g[st],f||(f=this.g[st]=[],this.h++);var vt=tr(f,E,P,Q);return-1<vt?(E=f[vt],b||(E.fa=!1)):(E=new ui(E,this.src,st,!!P,Q),E.fa=b,f.push(E)),E};function hi(f,E){var b=E.type;if(b in f.g){var P=f.g[b],Q=Array.prototype.indexOf.call(P,E,void 0),st;(st=0<=Q)&&Array.prototype.splice.call(P,Q,1),st&&(Li(E),f.g[b].length==0&&(delete f.g[b],f.h--))}}function tr(f,E,b,P){for(var Q=0;Q<f.length;++Q){var st=f[Q];if(!st.da&&st.listener==E&&st.capture==!!b&&st.ha==P)return Q}return-1}var ts="closure_lm_"+(1e6*Math.random()|0),Bs={};function to(f,E,b,P,Q){if(Array.isArray(E)){for(var st=0;st<E.length;st++)to(f,E[st],b,P,Q);return null}return b=il(b),f&&f[Ee]?f.K(E,b,T(P)?!!P.capture:!1,Q):Pn(f,E,b,!1,P,Q)}function Pn(f,E,b,P,Q,st){if(!E)throw Error("Invalid event type");var vt=T(Q)?!!Q.capture:!!Q,te=ns(f);if(te||(f[ts]=te=new ci(f)),b=te.add(E,b,P,vt,st),b.proxy)return b;if(P=Hs(),b.proxy=P,P.src=f,P.listener=b,f.addEventListener)bt||(Q=vt),Q===void 0&&(Q=!1),f.addEventListener(E.toString(),P,Q);else if(f.attachEvent)f.attachEvent(er(E.toString()),P);else if(f.addListener&&f.removeListener)f.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Hs(){function f(b){return E.call(f.src,f.listener,b)}const E=nl;return f}function eo(f,E,b,P,Q){if(Array.isArray(E))for(var st=0;st<E.length;st++)eo(f,E[st],b,P,Q);else P=T(P)?!!P.capture:!!P,b=il(b),f&&f[Ee]?(f=f.i,E=String(E).toString(),E in f.g&&(st=f.g[E],b=tr(st,b,P,Q),-1<b&&(Li(st[b]),Array.prototype.splice.call(st,b,1),st.length==0&&(delete f.g[E],f.h--)))):f&&(f=ns(f))&&(E=f.g[E.toString()],f=-1,E&&(f=tr(E,b,P,Q)),(b=-1<f?E[f]:null)&&es(b))}function es(f){if(typeof f!="number"&&f&&!f.da){var E=f.src;if(E&&E[Ee])hi(E.i,f);else{var b=f.type,P=f.proxy;E.removeEventListener?E.removeEventListener(b,P,f.capture):E.detachEvent?E.detachEvent(er(b),P):E.addListener&&E.removeListener&&E.removeListener(P),(b=ns(E))?(hi(b,f),b.h==0&&(b.src=null,E[ts]=null)):Li(f)}}}function er(f){return f in Bs?Bs[f]:Bs[f]="on"+f}function nl(f,E){if(f.da)f=!0;else{E=new Rt(E,this);var b=f.listener,P=f.ha||f.src;f.fa&&es(f),f=b.call(P,E)}return f}function ns(f){return f=f[ts],f instanceof ci?f:null}var no="__closure_events_fn_"+(1e9*Math.random()>>>0);function il(f){return typeof f=="function"?f:(f[no]||(f[no]=function(E){return f.handleEvent(E)}),f[no])}function xe(){_t.call(this),this.i=new ci(this),this.M=this,this.F=null}H(xe,_t),xe.prototype[Ee]=!0,xe.prototype.removeEventListener=function(f,E,b,P){eo(this,f,E,b,P)};function ue(f,E){var b,P=f.F;if(P)for(b=[];P;P=P.F)b.push(P);if(f=f.M,P=E.type||E,typeof E=="string")E=new mt(E,f);else if(E instanceof mt)E.target=E.target||f;else{var Q=E;E=new mt(P,f),B(E,Q)}if(Q=!0,b)for(var st=b.length-1;0<=st;st--){var vt=E.g=b[st];Q=On(vt,P,!0,E)&&Q}if(vt=E.g=f,Q=On(vt,P,!0,E)&&Q,Q=On(vt,P,!1,E)&&Q,b)for(st=0;st<b.length;st++)vt=E.g=b[st],Q=On(vt,P,!1,E)&&Q}xe.prototype.N=function(){if(xe.aa.N.call(this),this.i){var f=this.i,E;for(E in f.g){for(var b=f.g[E],P=0;P<b.length;P++)Li(b[P]);delete f.g[E],f.h--}}this.F=null},xe.prototype.K=function(f,E,b,P){return this.i.add(String(f),E,!1,b,P)},xe.prototype.L=function(f,E,b,P){return this.i.add(String(f),E,!0,b,P)};function On(f,E,b,P){if(E=f.i.g[String(E)],!E)return!0;E=E.concat();for(var Q=!0,st=0;st<E.length;++st){var vt=E[st];if(vt&&!vt.da&&vt.capture==b){var te=vt.listener,Ge=vt.ha||vt.src;vt.fa&&hi(f.i,vt),Q=te.call(Ge,P)!==!1&&Q}}return Q&&!P.defaultPrevented}function hn(f,E,b){if(typeof f=="function")b&&(f=C(f,b));else if(f&&typeof f.handleEvent=="function")f=C(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:_.setTimeout(f,E||0)}function io(f){f.g=hn(()=>{f.g=null,f.i&&(f.i=!1,io(f))},f.l);const E=f.h;f.h=null,f.m.apply(null,E)}class rl extends _t{constructor(E,b){super(),this.m=E,this.l=b,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:io(this)}N(){super.N(),this.g&&(_.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function is(f){_t.call(this),this.h=f,this.g={}}H(is,_t);var Rr=[];function nr(f){Pt(f.g,function(E,b){this.g.hasOwnProperty(b)&&es(E)},f),f.g={}}is.prototype.N=function(){is.aa.N.call(this),nr(this)},is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wn=_.JSON.stringify,qs=_.JSON.parse,fi=class{stringify(f){return _.JSON.stringify(f,void 0)}parse(f){return _.JSON.parse(f,void 0)}};function ro(){}ro.prototype.h=null;function so(f){return f.h||(f.h=f.i())}function js(){}var Mi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Di(){mt.call(this,"d")}H(Di,mt);function ao(){mt.call(this,"c")}H(ao,mt);var Ni={},oo=null;function Ir(){return oo=oo||new xe}Ni.La="serverreachability";function Fs(f){mt.call(this,Ni.La,f)}H(Fs,mt);function Cr(f){const E=Ir();ue(E,new Fs(E))}Ni.STAT_EVENT="statevent";function Gs(f,E){mt.call(this,Ni.STAT_EVENT,f),this.stat=E}H(Gs,mt);function Pe(f){const E=Ir();ue(E,new Gs(E,f))}Ni.Ma="timingevent";function Ke(f,E){mt.call(this,Ni.Ma,f),this.size=E}H(Ke,mt);function Fe(f,E){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return _.setTimeout(function(){f()},E)}function Jn(){this.g=!0}Jn.prototype.xa=function(){this.g=!1};function Ln(f,E,b,P,Q,st){f.info(function(){if(f.g)if(st)for(var vt="",te=st.split("&"),Ge=0;Ge<te.length;Ge++){var ee=te[Ge].split("=");if(1<ee.length){var de=ee[0];ee=ee[1];var Le=de.split("_");vt=2<=Le.length&&Le[1]=="type"?vt+(de+"="+ee+"&"):vt+(de+"=redacted&")}}else vt=null;else vt=st;return"XMLHTTP REQ ("+P+") [attempt "+Q+"]: "+E+`
`+b+`
`+vt})}function Lt(f,E,b,P,Q,st,vt){f.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+Q+"]: "+E+`
`+b+`
`+st+" "+vt})}function ir(f,E,b,P){f.info(function(){return"XMLHTTP TEXT ("+E+"): "+xr(f,b)+(P?" "+P:"")})}function lo(f,E){f.info(function(){return"TIMEOUT: "+E})}Jn.prototype.info=function(){};function xr(f,E){if(!f.g)return E;if(!E)return null;try{var b=JSON.parse(E);if(b){for(f=0;f<b.length;f++)if(Array.isArray(b[f])){var P=b[f];if(!(2>P.length)){var Q=P[1];if(Array.isArray(Q)&&!(1>Q.length)){var st=Q[0];if(st!="noop"&&st!="stop"&&st!="close")for(var vt=1;vt<Q.length;vt++)Q[vt]=""}}}}return Wn(b)}catch{return E}}var rr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},di={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mi;function En(){}H(En,ro),En.prototype.g=function(){return new XMLHttpRequest},En.prototype.i=function(){return{}},mi=new En;function fn(f,E,b,P){this.j=f,this.i=E,this.l=b,this.R=P||1,this.U=new is(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ue}function Ue(){this.i=null,this.g="",this.h=!1}var uo={},Zs={};function pi(f,E,b){f.L=1,f.v=Fn(Oe(E)),f.m=b,f.P=!0,ki(f,null)}function ki(f,E){f.F=Date.now(),ss(f),f.A=Oe(f.v);var b=f.A,P=f.R;Array.isArray(P)||(P=[String(P)]),fo(b.i,"t",P),f.C=0,b=f.j.J,f.h=new Ue,f.g=cl(f.j,b?E:null,!f.m),0<f.O&&(f.M=new rl(C(f.Y,f,f.g),f.O)),E=f.U,b=f.g,P=f.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(Rr[0]=Q.toString()),Q=Rr);for(var st=0;st<Q.length;st++){var vt=to(b,Q[st],P||E.handleEvent,!1,E.h||E);if(!vt)break;E.g[vt.key]=vt}E=f.H?O(f.H):{},f.m?(f.u||(f.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,E)):(f.u="GET",f.g.ea(f.A,f.u,null,E)),Cr(),Ln(f.i,f.u,f.A,f.l,f.R,f.m)}fn.prototype.ca=function(f){f=f.target;const E=this.M;E&&pn(f)==3?E.j():this.Y(f)},fn.prototype.Y=function(f){try{if(f==this.g)t:{const Le=pn(this.g);var E=this.g.Ba();const fr=this.g.Z();if(!(3>Le)&&(Le!=3||this.g&&(this.h.h||this.g.oa()||mo(this.g)))){this.J||Le!=4||E==7||(E==8||0>=fr?Cr(3):Cr(2)),Pr(this);var b=this.g.Z();this.X=b;e:if(sl(this)){var P=mo(this.g);f="";var Q=P.length,st=pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sn(this),Vi(this);var vt="";break e}this.h.i=new _.TextDecoder}for(E=0;E<Q;E++)this.h.h=!0,f+=this.h.i.decode(P[E],{stream:!(st&&E==Q-1)});P.length=0,this.h.g+=f,this.C=0,vt=this.h.g}else vt=this.g.oa();if(this.o=b==200,Lt(this.i,this.u,this.A,this.l,this.R,Le,b),this.o){if(this.T&&!this.K){e:{if(this.g){var te,Ge=this.g;if((te=Ge.g?Ge.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(te)){var ee=te;break e}}ee=null}if(b=ee)ir(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sr(this,b);else{this.o=!1,this.s=3,Pe(12),sn(this),Vi(this);break t}}if(this.P){b=!0;let Ie;for(;!this.J&&this.C<vt.length;)if(Ie=rs(this,vt),Ie==Zs){Le==4&&(this.s=4,Pe(14),b=!1),ir(this.i,this.l,null,"[Incomplete Response]");break}else if(Ie==uo){this.s=4,Pe(15),ir(this.i,this.l,vt,"[Invalid Chunk]"),b=!1;break}else ir(this.i,this.l,Ie,null),sr(this,Ie);if(sl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Le!=4||vt.length!=0||this.h.h||(this.s=1,Pe(16),b=!1),this.o=this.o&&b,!b)ir(this.i,this.l,vt,"[Invalid Chunked Response]"),sn(this),Vi(this);else if(0<vt.length&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.ba&&!de.M&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+vt.length),kr(de),de.M=!0,Pe(11))}}else ir(this.i,this.l,vt,null),sr(this,vt);Le==4&&sn(this),this.o&&!this.J&&(Le==4?go(this.j,this):(this.o=!1,ss(this)))}else gu(this.g),b==400&&0<vt.indexOf("Unknown SID")?(this.s=3,Pe(12)):(this.s=0,Pe(13)),sn(this),Vi(this)}}}catch{}finally{}};function sl(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function rs(f,E){var b=f.C,P=E.indexOf(`
`,b);return P==-1?Zs:(b=Number(E.substring(b,P)),isNaN(b)?uo:(P+=1,P+b>E.length?Zs:(E=E.slice(P,P+b),f.C=P+b,E)))}fn.prototype.cancel=function(){this.J=!0,sn(this)};function ss(f){f.S=Date.now()+f.I,al(f,f.I)}function al(f,E){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Fe(C(f.ba,f),E)}function Pr(f){f.B&&(_.clearTimeout(f.B),f.B=null)}fn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(lo(this.i,this.A),this.L!=2&&(Cr(),Pe(17)),sn(this),this.s=2,Vi(this)):al(this,this.S-f)};function Vi(f){f.j.G==0||f.J||go(f.j,f)}function sn(f){Pr(f);var E=f.M;E&&typeof E.ma=="function"&&E.ma(),f.M=null,nr(f.U),f.g&&(E=f.g,f.g=null,E.abort(),E.ma())}function sr(f,E){try{var b=f.j;if(b.G!=0&&(b.g==f||$t(b.h,f))){if(!f.K&&$t(b.h,f)&&b.G==3){try{var P=b.Da.g.parse(E)}catch{P=null}if(Array.isArray(P)&&P.length==3){var Q=P;if(Q[0]==0){t:if(!b.u){if(b.g)if(b.g.F+3e3<f.F)ea(b),Ws(b);else break t;Js(b),Pe(18)}}else b.za=Q[1],0<b.za-b.T&&37500>Q[2]&&b.F&&b.v==0&&!b.C&&(b.C=Fe(C(b.Za,b),6e3));if(1>=Ui(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else hr(b,11)}else if((f.K||b.g==f)&&ea(b),!W(E))for(Q=b.Da.g.parse(E),E=0;E<Q.length;E++){let ee=Q[E];if(b.T=ee[0],ee=ee[1],b.G==2)if(ee[0]=="c"){b.K=ee[1],b.ia=ee[2];const de=ee[3];de!=null&&(b.la=de,b.j.info("VER="+b.la));const Le=ee[4];Le!=null&&(b.Aa=Le,b.j.info("SVER="+b.Aa));const fr=ee[5];fr!=null&&typeof fr=="number"&&0<fr&&(P=1.5*fr,b.L=P,b.j.info("backChannelRequestTimeoutMs_="+P)),P=b;const Ie=f.g;if(Ie){const Fi=Ie.g?Ie.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fi){var st=P.h;st.g||Fi.indexOf("spdy")==-1&&Fi.indexOf("quic")==-1&&Fi.indexOf("h2")==-1||(st.j=st.l,st.g=new Set,st.h&&(fe(st,st.h),st.h=null))}if(P.D){const Gi=Ie.g?Ie.g.getResponseHeader("X-HTTP-Session-Id"):null;Gi&&(P.ya=Gi,zt(P.I,P.D,Gi))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-f.F,b.j.info("Handshake RTT: "+b.R+"ms")),P=b;var vt=f;if(P.qa=ia(P,P.J?P.ia:null,P.W),vt.K){We(P.h,vt);var te=vt,Ge=P.L;Ge&&(te.I=Ge),te.B&&(Pr(te),ss(te)),P.g=vt}else Ei(P);0<b.i.length&&Nr(b)}else ee[0]!="stop"&&ee[0]!="close"||hr(b,7);else b.G==3&&(ee[0]=="stop"||ee[0]=="close"?ee[0]=="stop"?hr(b,7):Xs(b):ee[0]!="noop"&&b.l&&b.l.ta(ee),b.v=0)}}Cr(4)}catch{}}var Or=class{constructor(f,E){this.g=f,this.map=E}};function zi(f){this.l=f||10,_.PerformanceNavigationTiming?(f=_.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(_.chrome&&_.chrome.loadTimes&&_.chrome.loadTimes()&&_.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function as(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Ui(f){return f.h?1:f.g?f.g.size:0}function $t(f,E){return f.h?f.h==E:f.g?f.g.has(E):!1}function fe(f,E){f.g?f.g.add(E):f.h=E}function We(f,E){f.h&&f.h==E?f.h=null:f.g&&f.g.has(E)&&f.g.delete(E)}zi.prototype.cancel=function(){if(this.i=Bi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Bi(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let E=f.i;for(const b of f.g.values())E=E.concat(b.D);return E}return G(f.i)}function Lr(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(y(f)){for(var E=[],b=f.length,P=0;P<b;P++)E.push(f[P]);return E}E=[],b=0;for(P in f)E[b++]=f[P];return E}function Mr(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(y(f)||typeof f=="string"){var E=[];f=f.length;for(var b=0;b<f;b++)E.push(b);return E}E=[],b=0;for(const P in f)E[b++]=P;return E}}}function jt(f,E){if(f.forEach&&typeof f.forEach=="function")f.forEach(E,void 0);else if(y(f)||typeof f=="string")Array.prototype.forEach.call(f,E,void 0);else for(var b=Mr(f),P=Lr(f),Q=P.length,st=0;st<Q;st++)E.call(void 0,P[st],b&&b[st],f)}var ge=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function co(f,E){if(f){f=f.split("&");for(var b=0;b<f.length;b++){var P=f[b].indexOf("="),Q=null;if(0<=P){var st=f[b].substring(0,P);Q=f[b].substring(P+1)}else st=f[b];E(st,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function Ne(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Ne){this.h=f.h,os(this,f.j),this.o=f.o,this.g=f.g,gi(this,f.s),this.l=f.l;var E=f.i,b=new yi;b.i=E.i,E.g&&(b.g=new Map(E.g),b.h=E.h),wn(this,b),this.m=f.m}else f&&(E=String(f).match(ge))?(this.h=!1,os(this,E[1]||"",!0),this.o=dn(E[2]||""),this.g=dn(E[3]||"",!0),gi(this,E[4]),this.l=dn(E[5]||"",!0),wn(this,E[6]||"",!0),this.m=dn(E[7]||"")):(this.h=!1,this.i=new yi(null,this.h))}Ne.prototype.toString=function(){var f=[],E=this.j;E&&f.push(_i(E,ar,!0),":");var b=this.g;return(b||E=="file")&&(f.push("//"),(E=this.o)&&f.push(_i(E,ar,!0),"@"),f.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&f.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&f.push("/"),f.push(_i(b,b.charAt(0)=="/"?ho:ls,!0))),(b=this.i.toString())&&f.push("?",b),(b=this.m)&&f.push("#",_i(b,Dr)),f.join("")};function Oe(f){return new Ne(f)}function os(f,E,b){f.j=b?dn(E,!0):E,f.j&&(f.j=f.j.replace(/:$/,""))}function gi(f,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);f.s=E}else f.s=null}function wn(f,E,b){E instanceof yi?(f.i=E,Gn(f.i,f.h)):(b||(E=_i(E,Ys)),f.i=new yi(E,f.h))}function zt(f,E,b){f.i.set(E,b)}function Fn(f){return zt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function dn(f,E){return f?E?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function _i(f,E,b){return typeof f=="string"?(f=encodeURI(f).replace(E,Ks),b&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Ks(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ar=/[#\/\?@]/g,ls=/[#\?:]/g,ho=/[#\?]/g,Ys=/[#\?@]/g,Dr=/#/g;function yi(f,E){this.h=this.g=null,this.i=f||null,this.j=!!E}function bn(f){f.g||(f.g=new Map,f.h=0,f.i&&co(f.i,function(E,b){f.add(decodeURIComponent(E.replace(/\+/g," ")),b)}))}i=yi.prototype,i.add=function(f,E){bn(this),this.i=null,f=Nt(this,f);var b=this.g.get(f);return b||this.g.set(f,b=[]),b.push(E),this.h+=1,this};function Hi(f,E){bn(f),E=Nt(f,E),f.g.has(E)&&(f.i=null,f.h-=f.g.get(E).length,f.g.delete(E))}function vi(f,E){return bn(f),E=Nt(f,E),f.g.has(E)}i.forEach=function(f,E){bn(this),this.g.forEach(function(b,P){b.forEach(function(Q){f.call(E,Q,P,this)},this)},this)},i.na=function(){bn(this);const f=Array.from(this.g.values()),E=Array.from(this.g.keys()),b=[];for(let P=0;P<E.length;P++){const Q=f[P];for(let st=0;st<Q.length;st++)b.push(E[P])}return b},i.V=function(f){bn(this);let E=[];if(typeof f=="string")vi(this,f)&&(E=E.concat(this.g.get(Nt(this,f))));else{f=Array.from(this.g.values());for(let b=0;b<f.length;b++)E=E.concat(f[b])}return E},i.set=function(f,E){return bn(this),this.i=null,f=Nt(this,f),vi(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[E]),this.h+=1,this},i.get=function(f,E){return f?(f=this.V(f),0<f.length?String(f[0]):E):E};function fo(f,E,b){Hi(f,E),0<b.length&&(f.i=null,f.g.set(Nt(f,E),G(b)),f.h+=b.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],E=Array.from(this.g.keys());for(var b=0;b<E.length;b++){var P=E[b];const st=encodeURIComponent(String(P)),vt=this.V(P);for(P=0;P<vt.length;P++){var Q=st;vt[P]!==""&&(Q+="="+encodeURIComponent(String(vt[P]))),f.push(Q)}}return this.i=f.join("&")};function Nt(f,E){return E=String(E),f.j&&(E=E.toLowerCase()),E}function Gn(f,E){E&&!f.j&&(bn(f),f.i=null,f.g.forEach(function(b,P){var Q=P.toLowerCase();P!=Q&&(Hi(this,P),fo(this,Q,b))},f)),f.j=E}function ae(f,E){const b=new Jn;if(_.Image){const P=new Image;P.onload=k(Mn,b,"TestLoadImage: loaded",!0,E,P),P.onerror=k(Mn,b,"TestLoadImage: error",!1,E,P),P.onabort=k(Mn,b,"TestLoadImage: abort",!1,E,P),P.ontimeout=k(Mn,b,"TestLoadImage: timeout",!1,E,P),_.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=f}else E(!1)}function ti(f,E){const b=new Jn,P=new AbortController,Q=setTimeout(()=>{P.abort(),Mn(b,"TestPingServer: timeout",!1,E)},1e4);fetch(f,{signal:P.signal}).then(st=>{clearTimeout(Q),st.ok?Mn(b,"TestPingServer: ok",!0,E):Mn(b,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(Q),Mn(b,"TestPingServer: error",!1,E)})}function Mn(f,E,b,P,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),P(b)}catch{}}function or(){this.g=new fi}function ei(f,E,b){const P=b||"";try{jt(f,function(Q,st){let vt=Q;T(Q)&&(vt=Wn(Q)),E.push(P+st+"="+encodeURIComponent(vt))})}catch(Q){throw E.push(P+"type="+encodeURIComponent("_badmap")),Q}}function Dn(f){this.l=f.Ub||null,this.j=f.eb||!1}H(Dn,ro),Dn.prototype.g=function(){return new Ti(this.l,this.j)},Dn.prototype.i=function(f){return function(){return f}}({});function Ti(f,E){xe.call(this),this.D=f,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}H(Ti,xe),i=Ti.prototype,i.open=function(f,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=E,this.readyState=1,mn(this)},i.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(E.body=f),(this.D||_).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,we(this)),this.readyState=0},i.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,mn(this)),this.g&&(this.readyState=3,mn(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof _.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;lr(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function lr(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}i.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var E=f.value?f.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!f.done}))&&(this.response=this.responseText+=E)}f.done?we(this):mn(this),this.readyState==3&&lr(this)}},i.Ra=function(f){this.g&&(this.response=this.responseText=f,we(this))},i.Qa=function(f){this.g&&(this.response=f,we(this))},i.ga=function(){this.g&&we(this)};function we(f){f.readyState=4,f.l=null,f.j=null,f.v=null,mn(f)}i.setRequestHeader=function(f,E){this.u.append(f,E)},i.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],E=this.h.entries();for(var b=E.next();!b.done;)b=b.value,f.push(b[0]+": "+b[1]),b=E.next();return f.join(`\r
`)};function mn(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Ti.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Qs(f){let E="";return Pt(f,function(b,P){E+=P,E+=":",E+=b,E+=`\r
`}),E}function Ye(f,E,b){t:{for(P in b){var P=!1;break t}P=!0}P||(b=Qs(b),typeof f=="string"?b!=null&&encodeURIComponent(String(b)):zt(f,E,b))}function ce(f){xe.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}H(ce,xe);var us=/^https?$/i,ur=["POST","PUT"];i=ce.prototype,i.Ha=function(f){this.J=f},i.ea=function(f,E,b,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);E=E?E.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mi.g(),this.v=this.o?so(this.o):so(mi),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(E,String(f),!0),this.B=!1}catch(st){ol(this,st);return}if(f=b||"",b=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var Q in P)b.set(Q,P[Q]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const st of P.keys())b.set(st,P.get(st));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(b.keys()).find(st=>st.toLowerCase()=="content-type"),Q=_.FormData&&f instanceof _.FormData,!(0<=Array.prototype.indexOf.call(ur,E,void 0))||P||Q||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[st,vt]of b)this.g.setRequestHeader(st,vt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{an(this),this.u=!0,this.g.send(f),this.u=!1}catch(st){ol(this,st)}};function ol(f,E){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=E,f.m=5,cs(f),qi(f)}function cs(f){f.A||(f.A=!0,ue(f,"complete"),ue(f,"error"))}i.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,ue(this,"complete"),ue(this,"abort"),qi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qi(this,!0)),ce.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Zt(this):this.bb())},i.bb=function(){Zt(this)};function Zt(f){if(f.h&&typeof d<"u"&&(!f.v[1]||pn(f)!=4||f.Z()!=2)){if(f.u&&pn(f)==4)hn(f.Ea,0,f);else if(ue(f,"readystatechange"),pn(f)==4){f.h=!1;try{const vt=f.Z();t:switch(vt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break t;default:E=!1}var b;if(!(b=E)){var P;if(P=vt===0){var Q=String(f.D).match(ge)[1]||null;!Q&&_.self&&_.self.location&&(Q=_.self.location.protocol.slice(0,-1)),P=!us.test(Q?Q.toLowerCase():"")}b=P}if(b)ue(f,"complete"),ue(f,"success");else{f.m=6;try{var st=2<pn(f)?f.g.statusText:""}catch{st=""}f.l=st+" ["+f.Z()+"]",cs(f)}}finally{qi(f)}}}}function qi(f,E){if(f.g){an(f);const b=f.g,P=f.v[0]?()=>{}:null;f.g=null,f.v=null,E||ue(f,"ready");try{b.onreadystatechange=P}catch{}}}function an(f){f.I&&(_.clearTimeout(f.I),f.I=null)}i.isActive=function(){return!!this.g};function pn(f){return f.g?f.g.readyState:0}i.Z=function(){try{return 2<pn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(f){if(this.g){var E=this.g.responseText;return f&&E.indexOf(f)==0&&(E=E.substring(f.length)),qs(E)}};function mo(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function gu(f){const E={};f=(f.g&&2<=pn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<f.length;P++){if(W(f[P]))continue;var b=q(f[P]);const Q=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const st=E[Q]||[];E[Q]=st,st.push(b)}z(E,function(P){return P.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function cr(f,E,b){return b&&b.internalChannelParams&&b.internalChannelParams[f]||E}function $s(f){this.Aa=0,this.i=[],this.j=new Jn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=cr("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=cr("baseRetryDelayMs",5e3,f),this.cb=cr("retryDelaySeedMs",1e4,f),this.Wa=cr("forwardChannelMaxRetries",2,f),this.wa=cr("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new zi(f&&f.concurrentRequestLimit),this.Da=new or,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=$s.prototype,i.la=8,i.G=1,i.connect=function(f,E,b,P){Pe(0),this.W=f,this.H=E||{},b&&P!==void 0&&(this.H.OSID=b,this.H.OAID=P),this.F=this.X,this.I=ia(this,null,this.W),Nr(this)};function Xs(f){if(ll(f),f.G==3){var E=f.U++,b=Oe(f.I);if(zt(b,"SID",f.K),zt(b,"RID",E),zt(b,"TYPE","terminate"),hs(f,b),E=new fn(f,f.j,E),E.L=2,E.v=Fn(Oe(b)),b=!1,_.navigator&&_.navigator.sendBeacon)try{b=_.navigator.sendBeacon(E.v.toString(),"")}catch{}!b&&_.Image&&(new Image().src=E.v,b=!0),b||(E.g=cl(E.j,null),E.g.ea(E.v)),E.F=Date.now(),ss(E)}ul(f)}function Ws(f){f.g&&(kr(f),f.g.cancel(),f.g=null)}function ll(f){Ws(f),f.u&&(_.clearTimeout(f.u),f.u=null),ea(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&_.clearTimeout(f.s),f.s=null)}function Nr(f){if(!as(f.h)&&!f.s){f.s=!0;var E=f.Ga;yt||D(),pt||(yt(),pt=!0),se.add(E,f),f.B=0}}function _u(f,E){return Ui(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=E.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Fe(C(f.Ga,f,E),na(f,f.B)),f.B++,!0)}i.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Q=new fn(this,this.j,f);let st=this.o;if(this.S&&(st?(st=O(st),B(st,this.S)):st=this.S),this.m!==null||this.O||(Q.H=st,st=null),this.P)t:{for(var E=0,b=0;b<this.i.length;b++){e:{var P=this.i[b];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break e}P=void 0}if(P===void 0)break;if(E+=P,4096<E){E=b;break t}if(E===4096||b===this.i.length-1){E=b+1;break t}}E=1e3}else E=1e3;E=po(this,Q,E),b=Oe(this.I),zt(b,"RID",f),zt(b,"CVER",22),this.D&&zt(b,"X-HTTP-Session-Id",this.D),hs(this,b),st&&(this.O?E="headers="+encodeURIComponent(String(Qs(st)))+"&"+E:this.m&&Ye(b,this.m,st)),fe(this.h,Q),this.Ua&&zt(b,"TYPE","init"),this.P?(zt(b,"$req",E),zt(b,"SID","null"),Q.T=!0,pi(Q,b,null)):pi(Q,b,E),this.G=2}}else this.G==3&&(f?Nn(this,f):this.i.length==0||as(this.h)||Nn(this))};function Nn(f,E){var b;E?b=E.l:b=f.U++;const P=Oe(f.I);zt(P,"SID",f.K),zt(P,"RID",b),zt(P,"AID",f.T),hs(f,P),f.m&&f.o&&Ye(P,f.m,f.o),b=new fn(f,f.j,b,f.B+1),f.m===null&&(b.H=f.o),E&&(f.i=E.D.concat(f.i)),E=po(f,b,1e3),b.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),fe(f.h,b),pi(b,P,E)}function hs(f,E){f.H&&Pt(f.H,function(b,P){zt(E,P,b)}),f.l&&jt({},function(b,P){zt(E,P,b)})}function po(f,E,b){b=Math.min(f.i.length,b);var P=f.l?C(f.l.Na,f.l,f):null;t:{var Q=f.i;let st=-1;for(;;){const vt=["count="+b];st==-1?0<b?(st=Q[0].g,vt.push("ofs="+st)):st=0:vt.push("ofs="+st);let te=!0;for(let Ge=0;Ge<b;Ge++){let ee=Q[Ge].g;const de=Q[Ge].map;if(ee-=st,0>ee)st=Math.max(0,Q[Ge].g-100),te=!1;else try{ei(de,vt,"req"+ee+"_")}catch{P&&P(de)}}if(te){P=vt.join("&");break t}}}return f=f.i.splice(0,b),E.D=f,P}function Ei(f){if(!f.g&&!f.u){f.Y=1;var E=f.Fa;yt||D(),pt||(yt(),pt=!0),se.add(E,f),f.v=0}}function Js(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Fe(C(f.Fa,f),na(f,f.v)),f.v++,!0)}i.Fa=function(){if(this.u=null,ta(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Fe(C(this.ab,this),f)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pe(10),Ws(this),ta(this))};function kr(f){f.A!=null&&(_.clearTimeout(f.A),f.A=null)}function ta(f){f.g=new fn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var E=Oe(f.qa);zt(E,"RID","rpc"),zt(E,"SID",f.K),zt(E,"AID",f.T),zt(E,"CI",f.F?"0":"1"),!f.F&&f.ja&&zt(E,"TO",f.ja),zt(E,"TYPE","xmlhttp"),hs(f,E),f.m&&f.o&&Ye(E,f.m,f.o),f.L&&(f.g.I=f.L);var b=f.g;f=f.ia,b.L=1,b.v=Fn(Oe(E)),b.m=null,b.P=!0,ki(b,f)}i.Za=function(){this.C!=null&&(this.C=null,Ws(this),Js(this),Pe(19))};function ea(f){f.C!=null&&(_.clearTimeout(f.C),f.C=null)}function go(f,E){var b=null;if(f.g==E){ea(f),kr(f),f.g=null;var P=2}else if($t(f.h,E))b=E.D,We(f.h,E),P=1;else return;if(f.G!=0){if(E.o)if(P==1){b=E.m?E.m.length:0,E=Date.now()-E.F;var Q=f.B;P=Ir(),ue(P,new Ke(P,b)),Nr(f)}else Ei(f);else if(Q=E.s,Q==3||Q==0&&0<E.X||!(P==1&&_u(f,E)||P==2&&Js(f)))switch(b&&0<b.length&&(E=f.h,E.i=E.i.concat(b)),Q){case 1:hr(f,5);break;case 4:hr(f,10);break;case 3:hr(f,6);break;default:hr(f,2)}}}function na(f,E){let b=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(b*=2),b*E}function hr(f,E){if(f.j.info("Error code "+E),E==2){var b=C(f.fb,f),P=f.Xa;const Q=!P;P=new Ne(P||"//www.google.com/images/cleardot.gif"),_.location&&_.location.protocol=="http"||os(P,"https"),Fn(P),Q?ae(P.toString(),b):ti(P.toString(),b)}else Pe(2);f.G=0,f.l&&f.l.sa(E),ul(f),ll(f)}i.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Pe(2)):(this.j.info("Failed to ping google.com"),Pe(1))};function ul(f){if(f.G=0,f.ka=[],f.l){const E=Bi(f.h);(E.length!=0||f.i.length!=0)&&(Z(f.ka,E),Z(f.ka,f.i),f.h.i.length=0,G(f.i),f.i.length=0),f.l.ra()}}function ia(f,E,b){var P=b instanceof Ne?Oe(b):new Ne(b);if(P.g!="")E&&(P.g=E+"."+P.g),gi(P,P.s);else{var Q=_.location;P=Q.protocol,E=E?E+"."+Q.hostname:Q.hostname,Q=+Q.port;var st=new Ne(null);P&&os(st,P),E&&(st.g=E),Q&&gi(st,Q),b&&(st.l=b),P=st}return b=f.D,E=f.ya,b&&E&&zt(P,b,E),zt(P,"VER",f.la),hs(f,P),P}function cl(f,E,b){if(E&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=f.Ca&&!f.pa?new ce(new Dn({eb:b})):new ce(f.pa),E.Ha(f.J),E}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function _o(){}i=_o.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function fs(){}fs.prototype.g=function(f,E){return new Je(f,E)};function Je(f,E){xe.call(this),this.g=new $s(E),this.l=f,this.h=E&&E.messageUrlParams||null,f=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(f?f["X-WebChannel-Content-Type"]=E.messageContentType:f={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(f?f["X-WebChannel-Client-Profile"]=E.va:f={"X-WebChannel-Client-Profile":E.va}),this.g.S=f,(f=E&&E.Sb)&&!W(f)&&(this.g.m=f),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!W(E)&&(this.g.D=E,f=this.h,f!==null&&E in f&&(f=this.h,E in f&&delete f[E])),this.j=new kn(this)}H(Je,xe),Je.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){Xs(this.g)},Je.prototype.o=function(f){var E=this.g;if(typeof f=="string"){var b={};b.__data__=f,f=b}else this.u&&(b={},b.__data__=Wn(f),f=b);E.i.push(new Or(E.Ya++,f)),E.G==3&&Nr(E)},Je.prototype.N=function(){this.g.l=null,delete this.j,Xs(this.g),delete this.g,Je.aa.N.call(this)};function ji(f){Di.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var E=f.__sm__;if(E){t:{for(const b in E){f=b;break t}f=void 0}(this.i=f)&&(f=this.i,E=E!==null&&f in E?E[f]:void 0),this.data=E}else this.data=f}H(ji,Di);function hl(){ao.call(this),this.status=1}H(hl,ao);function kn(f){this.g=f}H(kn,_o),kn.prototype.ua=function(){ue(this.g,"a")},kn.prototype.ta=function(f){ue(this.g,new ji(f))},kn.prototype.sa=function(f){ue(this.g,new hl)},kn.prototype.ra=function(){ue(this.g,"b")},fs.prototype.createWebChannel=fs.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,zE=function(){return new fs},VE=function(){return Ir()},kE=Ni,gp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rr.NO_ERROR=0,rr.TIMEOUT=8,rr.HTTP_ERROR=6,rf=rr,di.COMPLETE="complete",NE=di,js.EventType=Mi,Mi.OPEN="a",Mi.CLOSE="b",Mi.ERROR="c",Mi.MESSAGE="d",xe.prototype.listen=xe.prototype.K,uc=js,ce.prototype.listenOnce=ce.prototype.L,ce.prototype.getLastError=ce.prototype.Ka,ce.prototype.getLastErrorCode=ce.prototype.Ba,ce.prototype.getStatus=ce.prototype.Z,ce.prototype.getResponseJson=ce.prototype.Oa,ce.prototype.getResponseText=ce.prototype.oa,ce.prototype.send=ce.prototype.ea,ce.prototype.setWithCredentials=ce.prototype.Ha,DE=ce}).apply(typeof Qh<"u"?Qh:typeof self<"u"?self:typeof window<"u"?window:{});const E0="@firebase/firestore",w0="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Bn.UNAUTHENTICATED=new Bn(null),Bn.GOOGLE_CREDENTIALS=new Bn("google-credentials-uid"),Bn.FIRST_PARTY=new Bn("first-party-uid"),Bn.MOCK_USER=new Bn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cu="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=new Bf("@firebase/firestore");function jl(){return qo.logLevel}function St(i,...t){if(qo.logLevel<=ne.DEBUG){const e=t.map(rg);qo.debug(`Firestore (${cu}): ${i}`,...e)}}function Ns(i,...t){if(qo.logLevel<=ne.ERROR){const e=t.map(rg);qo.error(`Firestore (${cu}): ${i}`,...e)}}function Wl(i,...t){if(qo.logLevel<=ne.WARN){const e=t.map(rg);qo.warn(`Firestore (${cu}): ${i}`,...e)}}function rg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(i,t,e){let s="Unexpected state";typeof t=="string"?s=t:e=t,UE(i,s,e)}function UE(i,t,e){let s=`FIRESTORE (${cu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(e!==void 0)try{s+=" CONTEXT: "+JSON.stringify(e)}catch{s+=" CONTEXT: "+e}throw Ns(s),new Error(s)}function me(i,t,e,s){let l="Unexpected state";typeof e=="string"?l=e:s=e,i||UE(t,l,s)}function Gt(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ht={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class It extends Sr{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class SC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Bn.UNAUTHENTICATED))}shutdown(){}}class RC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class IC{constructor(t){this.t=t,this.currentUser=Bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){me(this.o===void 0,42304);let s=this.i;const l=y=>this.i!==s?(s=this.i,e(y)):Promise.resolve();let h=new Ps;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Ps,t.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const y=h;t.enqueueRetryable(async()=>{await y.promise,await l(this.currentUser)})},_=y=>{St("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(y=>_(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?_(y):(St("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Ps)}},0),d()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(s=>this.i!==t?(St("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(me(typeof s.accessToken=="string",31837,{l:s}),new BE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return me(t===null||typeof t=="string",2055,{h:t}),new Bn(t)}}class CC{constructor(t,e,s){this.P=t,this.T=e,this.I=s,this.type="FirstParty",this.user=Bn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class xC{constructor(t,e,s){this.P=t,this.T=e,this.I=s}getToken(){return Promise.resolve(new CC(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(Bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class b0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PC{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,vr(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){me(this.o===void 0,3512);const s=h=>{h.error!=null&&St("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,St("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?e(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable(()=>s(h))};const l=h=>{St("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>l(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):St("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new b0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(me(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new b0(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let s=0;s<i;s++)e[s]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=OC(40);for(let h=0;h<l.length;++h)s.length<20&&l[h]<e&&(s+=t.charAt(l[h]%62))}return s}}function Qt(i,t){return i<t?-1:i>t?1:0}function _p(i,t){let e=0;for(;e<i.length&&e<t.length;){const s=i.codePointAt(e),l=t.codePointAt(e);if(s!==l){if(s<128&&l<128)return Qt(s,l);{const h=HE(),d=LC(h.encode(A0(i,e)),h.encode(A0(t,e)));return d!==0?d:Qt(s,l)}}e+=s>65535?2:1}return Qt(i.length,t.length)}function A0(i,t){return i.codePointAt(t)>65535?i.substring(t,t+2):i.substring(t,t+1)}function LC(i,t){for(let e=0;e<i.length&&e<t.length;++e)if(i[e]!==t[e])return Qt(i[e],t[e]);return Qt(i.length,t.length)}function Jl(i,t,e){return i.length===t.length&&i.every((s,l)=>e(s,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0=-62135596800,R0=1e6;class un{static now(){return un.fromMillis(Date.now())}static fromDate(t){return un.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),s=Math.floor((t-1e3*e)*R0);return new un(e,s)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new It(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new It(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<S0)throw new It(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new It(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/R0}_compareTo(t){return this.seconds===t.seconds?Qt(this.nanoseconds,t.nanoseconds):Qt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-S0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{static fromTimestamp(t){return new Ft(t)}static min(){return new Ft(new un(0,0))}static max(){return new Ft(new un(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="__name__";class Gr{constructor(t,e,s){e===void 0?e=0:e>t.length&&Ut(637,{offset:e,range:t.length}),s===void 0?s=t.length-e:s>t.length-e&&Ut(1746,{length:s,range:t.length-e}),this.segments=t,this.offset=e,this.len=s}get length(){return this.len}isEqual(t){return Gr.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Gr?t.forEach(s=>{e.push(s)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,s=this.limit();e<s;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const s=Math.min(t.length,e.length);for(let l=0;l<s;l++){const h=Gr.compareSegments(t.get(l),e.get(l));if(h!==0)return h}return Qt(t.length,e.length)}static compareSegments(t,e){const s=Gr.isNumericId(t),l=Gr.isNumericId(e);return s&&!l?-1:!s&&l?1:s&&l?Gr.extractNumericId(t).compare(Gr.extractNumericId(e)):_p(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return qa.fromString(t.substring(4,t.length-2))}}class ke extends Gr{construct(t,e,s){return new ke(t,e,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const s of t){if(s.indexOf("//")>=0)throw new It(ht.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);e.push(...s.split("/").filter(l=>l.length>0))}return new ke(e)}static emptyPath(){return new ke([])}}const MC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cn extends Gr{construct(t,e,s){return new Cn(t,e,s)}static isValidIdentifier(t){return MC.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===I0}static keyField(){return new Cn([I0])}static fromServerFormat(t){const e=[];let s="",l=0;const h=()=>{if(s.length===0)throw new It(ht.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(s),s=""};let d=!1;for(;l<t.length;){const _=t[l];if(_==="\\"){if(l+1===t.length)throw new It(ht.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new It(ht.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=y,l+=2}else _==="`"?(d=!d,l++):_!=="."||d?(s+=_,l++):(h(),l++)}if(h(),d)throw new It(ht.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Cn(e)}static emptyPath(){return new Cn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(t){this.path=t}static fromPath(t){return new Dt(ke.fromString(t))}static fromName(t){return new Dt(ke.fromString(t).popFirst(5))}static empty(){return new Dt(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ke.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ke.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Dt(new ke(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc=-1;function DC(i,t){const e=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,l=Ft.fromTimestamp(s===1e9?new un(e+1,0):new un(e,s));return new Za(l,Dt.empty(),t)}function NC(i){return new Za(i.readTime,i.key,wc)}class Za{constructor(t,e,s){this.readTime=t,this.documentKey=e,this.largestBatchId=s}static min(){return new Za(Ft.min(),Dt.empty(),wc)}static max(){return new Za(Ft.max(),Dt.empty(),wc)}}function kC(i,t){let e=i.readTime.compareTo(t.readTime);return e!==0?e:(e=Dt.comparator(i.documentKey,t.documentKey),e!==0?e:Qt(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hu(i){if(i.code!==ht.FAILED_PRECONDITION||i.message!==VC)throw i;St("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Ut(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ft((s,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(s,l)},this.catchCallback=h=>{this.wrapFailure(e,h).next(s,l)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ft?e:ft.resolve(e)}catch(e){return ft.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ft.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ft.reject(e)}static resolve(t){return new ft((e,s)=>{e(t)})}static reject(t){return new ft((e,s)=>{s(t)})}static waitFor(t){return new ft((e,s)=>{let l=0,h=0,d=!1;t.forEach(_=>{++l,_.next(()=>{++h,d&&h===l&&e()},y=>s(y))}),d=!0,h===l&&e()})}static or(t){let e=ft.resolve(!1);for(const s of t)e=e.next(l=>l?ft.resolve(l):s());return e}static forEach(t,e){const s=[];return t.forEach((l,h)=>{s.push(e.call(this,l,h))}),this.waitFor(s)}static mapArray(t,e){return new ft((s,l)=>{const h=t.length,d=new Array(h);let _=0;for(let y=0;y<h;y++){const T=y;e(t[T]).next(A=>{d[T]=A,++_,_===h&&s(d)},A=>l(A))}})}static doWhile(t,e){return new ft((s,l)=>{const h=()=>{t()===!0?e().next(()=>{h()},l):s()};h()})}}function UC(i){const t=i.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function fu(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>e.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Hf.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg=-1;function qf(i){return i==null}function yf(i){return i===0&&1/i==-1/0}function BC(i){return typeof i=="number"&&Number.isInteger(i)&&!yf(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="";function HC(i){let t="";for(let e=0;e<i.length;e++)t.length>0&&(t=C0(t)),t=qC(i.get(e),t);return C0(t)}function qC(i,t){let e=t;const s=i.length;for(let l=0;l<s;l++){const h=i.charAt(l);switch(h){case"\0":e+="";break;case jE:e+="";break;default:e+=h}}return e}function C0(i){return i+jE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(i){let t=0;for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t++;return t}function Wo(i,t){for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t(e,i[e])}function FE(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(t,e){this.comparator=t,this.root=e||In.EMPTY}insert(t,e){return new je(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,In.BLACK,null,null))}remove(t){return new je(this.comparator,this.root.remove(t,this.comparator).copy(null,null,In.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const s=this.comparator(t,e.key);if(s===0)return e.value;s<0?e=e.left:s>0&&(e=e.right)}return null}indexOf(t){let e=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return e+s.left.size;l<0?s=s.left:(e+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,s)=>(t(e,s),!1))}toString(){const t=[];return this.inorderTraversal((e,s)=>(t.push(`${e}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new $h(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new $h(this.root,t,this.comparator,!1)}getReverseIterator(){return new $h(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new $h(this.root,t,this.comparator,!0)}}class $h{constructor(t,e,s,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=e?s(t.key,e):1,e&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class In{constructor(t,e,s,l,h){this.key=t,this.value=e,this.color=s??In.RED,this.left=l??In.EMPTY,this.right=h??In.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,s,l,h){return new In(t??this.key,e??this.value,s??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,s){let l=this;const h=s(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,e,s),null):h===0?l.copy(null,e,null,null,null):l.copy(null,null,null,null,l.right.insert(t,e,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return In.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let s,l=this;if(e(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,e),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),e(t,l.key)===0){if(l.right.isEmpty())return In.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,e))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,In.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,In.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ut(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ut(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Ut(27949);return t+(this.isRed()?0:1)}}In.EMPTY=null,In.RED=!0,In.BLACK=!1;In.EMPTY=new class{constructor(){this.size=0}get key(){throw Ut(57766)}get value(){throw Ut(16141)}get color(){throw Ut(16727)}get left(){throw Ut(29726)}get right(){throw Ut(36894)}copy(t,e,s,l,h){return this}insert(t,e,s){return new In(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(t){this.comparator=t,this.data=new je(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,s)=>(t(e),!1))}forEachInRange(t,e){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;e(l.key)}}forEachWhile(t,e){let s;for(s=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new P0(this.data.getIterator())}getIteratorFrom(t){return new P0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(s=>{e=e.add(s)}),e}isEqual(t){if(!(t instanceof cn)||this.size!==t.size)return!1;const e=this.data.getIterator(),s=t.data.getIterator();for(;e.hasNext();){const l=e.getNext().key,h=s.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new cn(this.comparator);return e.data=t,e}}class P0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(t){this.fields=t,t.sort(Cn.comparator)}static empty(){return new Tr([])}unionWith(t){let e=new cn(Cn.comparator);for(const s of this.fields)e=e.add(s);for(const s of t)e=e.add(s);return new Tr(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Jl(this.fields,t.fields,(e,s)=>e.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new GE("Invalid base64 string: "+h):h}}(t);return new xn(e)}static fromUint8Array(t){const e=function(l){let h="";for(let d=0;d<l.length;++d)h+=String.fromCharCode(l[d]);return h}(t);return new xn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const s=new Uint8Array(e.length);for(let l=0;l<e.length;l++)s[l]=e.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Qt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}xn.EMPTY_BYTE_STRING=new xn("");const jC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ka(i){if(me(!!i,39018),typeof i=="string"){let t=0;const e=jC.exec(i);if(me(!!e,46558,{timestamp:i}),e[1]){let l=e[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Xe(i.seconds),nanos:Xe(i.nanos)}}function Xe(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Ya(i){return typeof i=="string"?xn.fromBase64String(i):xn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE="server_timestamp",KE="__type__",YE="__previous_value__",QE="__local_write_time__";function ag(i){var t,e;return((e=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[KE])===null||e===void 0?void 0:e.stringValue)===ZE}function jf(i){const t=i.mapValue.fields[YE];return ag(t)?jf(t):t}function bc(i){const t=Ka(i.mapValue.fields[QE].timestampValue);return new un(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(t,e,s,l,h,d,_,y,T,A){this.databaseId=t,this.appId=e,this.persistenceKey=s,this.host=l,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=_,this.longPollingOptions=y,this.useFetchStreams=T,this.isUsingEmulator=A}}const vf="(default)";class Ac{constructor(t,e){this.projectId=t,this.database=e||vf}static empty(){return new Ac("","")}get isDefaultDatabase(){return this.database===vf}isEqual(t){return t instanceof Ac&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="__type__",GC="__max__",Xh={mapValue:{}},XE="__vector__",Tf="value";function Qa(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ag(i)?4:KC(i)?9007199254740991:ZC(i)?10:11:Ut(28295,{value:i})}function Xr(i,t){if(i===t)return!0;const e=Qa(i);if(e!==Qa(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return bc(i).isEqual(bc(t));case 3:return function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const d=Ka(l.timestampValue),_=Ka(h.timestampValue);return d.seconds===_.seconds&&d.nanos===_.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return function(l,h){return Ya(l.bytesValue).isEqual(Ya(h.bytesValue))}(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return function(l,h){return Xe(l.geoPointValue.latitude)===Xe(h.geoPointValue.latitude)&&Xe(l.geoPointValue.longitude)===Xe(h.geoPointValue.longitude)}(i,t);case 2:return function(l,h){if("integerValue"in l&&"integerValue"in h)return Xe(l.integerValue)===Xe(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const d=Xe(l.doubleValue),_=Xe(h.doubleValue);return d===_?yf(d)===yf(_):isNaN(d)&&isNaN(_)}return!1}(i,t);case 9:return Jl(i.arrayValue.values||[],t.arrayValue.values||[],Xr);case 10:case 11:return function(l,h){const d=l.mapValue.fields||{},_=h.mapValue.fields||{};if(x0(d)!==x0(_))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(_[y]===void 0||!Xr(d[y],_[y])))return!1;return!0}(i,t);default:return Ut(52216,{left:i})}}function Sc(i,t){return(i.values||[]).find(e=>Xr(e,t))!==void 0}function tu(i,t){if(i===t)return 0;const e=Qa(i),s=Qa(t);if(e!==s)return Qt(e,s);switch(e){case 0:case 9007199254740991:return 0;case 1:return Qt(i.booleanValue,t.booleanValue);case 2:return function(h,d){const _=Xe(h.integerValue||h.doubleValue),y=Xe(d.integerValue||d.doubleValue);return _<y?-1:_>y?1:_===y?0:isNaN(_)?isNaN(y)?0:-1:1}(i,t);case 3:return O0(i.timestampValue,t.timestampValue);case 4:return O0(bc(i),bc(t));case 5:return _p(i.stringValue,t.stringValue);case 6:return function(h,d){const _=Ya(h),y=Ya(d);return _.compareTo(y)}(i.bytesValue,t.bytesValue);case 7:return function(h,d){const _=h.split("/"),y=d.split("/");for(let T=0;T<_.length&&T<y.length;T++){const A=Qt(_[T],y[T]);if(A!==0)return A}return Qt(_.length,y.length)}(i.referenceValue,t.referenceValue);case 8:return function(h,d){const _=Qt(Xe(h.latitude),Xe(d.latitude));return _!==0?_:Qt(Xe(h.longitude),Xe(d.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return L0(i.arrayValue,t.arrayValue);case 10:return function(h,d){var _,y,T,A;const I=h.fields||{},C=d.fields||{},k=(_=I[Tf])===null||_===void 0?void 0:_.arrayValue,H=(y=C[Tf])===null||y===void 0?void 0:y.arrayValue,G=Qt(((T=k==null?void 0:k.values)===null||T===void 0?void 0:T.length)||0,((A=H==null?void 0:H.values)===null||A===void 0?void 0:A.length)||0);return G!==0?G:L0(k,H)}(i.mapValue,t.mapValue);case 11:return function(h,d){if(h===Xh.mapValue&&d===Xh.mapValue)return 0;if(h===Xh.mapValue)return 1;if(d===Xh.mapValue)return-1;const _=h.fields||{},y=Object.keys(_),T=d.fields||{},A=Object.keys(T);y.sort(),A.sort();for(let I=0;I<y.length&&I<A.length;++I){const C=_p(y[I],A[I]);if(C!==0)return C;const k=tu(_[y[I]],T[A[I]]);if(k!==0)return k}return Qt(y.length,A.length)}(i.mapValue,t.mapValue);default:throw Ut(23264,{Pe:e})}}function O0(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Qt(i,t);const e=Ka(i),s=Ka(t),l=Qt(e.seconds,s.seconds);return l!==0?l:Qt(e.nanos,s.nanos)}function L0(i,t){const e=i.values||[],s=t.values||[];for(let l=0;l<e.length&&l<s.length;++l){const h=tu(e[l],s[l]);if(h)return h}return Qt(e.length,s.length)}function eu(i){return yp(i)}function yp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(e){const s=Ka(e);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(e){return Ya(e).toBase64()}(i.bytesValue):"referenceValue"in i?function(e){return Dt.fromName(e).toString()}(i.referenceValue):"geoPointValue"in i?function(e){return`geo(${e.latitude},${e.longitude})`}(i.geoPointValue):"arrayValue"in i?function(e){let s="[",l=!0;for(const h of e.values||[])l?l=!1:s+=",",s+=yp(h);return s+"]"}(i.arrayValue):"mapValue"in i?function(e){const s=Object.keys(e.fields||{}).sort();let l="{",h=!0;for(const d of s)h?h=!1:l+=",",l+=`${d}:${yp(e.fields[d])}`;return l+"}"}(i.mapValue):Ut(61005,{value:i})}function sf(i){switch(Qa(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=jf(i);return t?16+sf(t):16;case 5:return 2*i.stringValue.length;case 6:return Ya(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,h)=>l+sf(h),0)}(i.arrayValue);case 10:case 11:return function(s){let l=0;return Wo(s.fields,(h,d)=>{l+=h.length+sf(d)}),l}(i.mapValue);default:throw Ut(13486,{value:i})}}function M0(i,t){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${t.path.canonicalString()}`}}function vp(i){return!!i&&"integerValue"in i}function og(i){return!!i&&"arrayValue"in i}function D0(i){return!!i&&"nullValue"in i}function N0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function af(i){return!!i&&"mapValue"in i}function ZC(i){var t,e;return((e=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[$E])===null||e===void 0?void 0:e.stringValue)===XE}function mc(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return Wo(i.mapValue.fields,(e,s)=>t.mapValue.fields[e]=mc(s)),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(i.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=mc(i.arrayValue.values[e]);return t}return Object.assign({},i)}function KC(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===GC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(t){this.value=t}static empty(){return new Wi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let s=0;s<t.length-1;++s)if(e=(e.mapValue.fields||{})[t.get(s)],!af(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=mc(e)}setAll(t){let e=Cn.emptyPath(),s={},l=[];t.forEach((d,_)=>{if(!e.isImmediateParentOf(_)){const y=this.getFieldsMap(e);this.applyChanges(y,s,l),s={},l=[],e=_.popLast()}d?s[_.lastSegment()]=mc(d):l.push(_.lastSegment())});const h=this.getFieldsMap(e);this.applyChanges(h,s,l)}delete(t){const e=this.field(t.popLast());af(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Xr(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=e.mapValue.fields[t.get(s)];af(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},e.mapValue.fields[t.get(s)]=l),e=l}return e.mapValue.fields}applyChanges(t,e,s){Wo(e,(l,h)=>t[l]=h);for(const l of s)delete t[l]}clone(){return new Wi(mc(this.value))}}function WE(i){const t=[];return Wo(i.fields,(e,s)=>{const l=new Cn([e]);if(af(s)){const h=WE(s.mapValue).fields;if(h.length===0)t.push(l);else for(const d of h)t.push(l.child(d))}else t.push(l)}),new Tr(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(t,e,s,l,h,d,_){this.key=t,this.documentType=e,this.version=s,this.readTime=l,this.createTime=h,this.data=d,this.documentState=_}static newInvalidDocument(t){return new Hn(t,0,Ft.min(),Ft.min(),Ft.min(),Wi.empty(),0)}static newFoundDocument(t,e,s,l){return new Hn(t,1,e,Ft.min(),s,l,0)}static newNoDocument(t,e){return new Hn(t,2,e,Ft.min(),Ft.min(),Wi.empty(),0)}static newUnknownDocument(t,e){return new Hn(t,3,e,Ft.min(),Ft.min(),Wi.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Ft.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Wi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Wi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ft.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Hn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(t,e){this.position=t,this.inclusive=e}}function k0(i,t,e){let s=0;for(let l=0;l<i.position.length;l++){const h=t[l],d=i.position[l];if(h.field.isKeyField()?s=Dt.comparator(Dt.fromName(d.referenceValue),e.key):s=tu(d,e.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function V0(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let e=0;e<i.position.length;e++)if(!Xr(i.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(t,e="asc"){this.field=t,this.dir=e}}function YC(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{}class rn extends JE{constructor(t,e,s){super(),this.field=t,this.op=e,this.value=s}static create(t,e,s){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,s):new $C(t,e,s):e==="array-contains"?new JC(t,s):e==="in"?new tx(t,s):e==="not-in"?new ex(t,s):e==="array-contains-any"?new nx(t,s):new rn(t,e,s)}static createKeyFieldInFilter(t,e,s){return e==="in"?new XC(t,s):new WC(t,s)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(tu(e,this.value)):e!==null&&Qa(this.value)===Qa(e)&&this.matchesComparison(tu(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ut(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ar extends JE{constructor(t,e){super(),this.filters=t,this.op=e,this.Te=null}static create(t,e){return new Ar(t,e)}matches(t){return tw(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function tw(i){return i.op==="and"}function ew(i){return QC(i)&&tw(i)}function QC(i){for(const t of i.filters)if(t instanceof Ar)return!1;return!0}function Tp(i){if(i instanceof rn)return i.field.canonicalString()+i.op.toString()+eu(i.value);if(ew(i))return i.filters.map(t=>Tp(t)).join(",");{const t=i.filters.map(e=>Tp(e)).join(",");return`${i.op}(${t})`}}function nw(i,t){return i instanceof rn?function(s,l){return l instanceof rn&&s.op===l.op&&s.field.isEqual(l.field)&&Xr(s.value,l.value)}(i,t):i instanceof Ar?function(s,l){return l instanceof Ar&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((h,d,_)=>h&&nw(d,l.filters[_]),!0):!1}(i,t):void Ut(19439)}function iw(i){return i instanceof rn?function(e){return`${e.field.canonicalString()} ${e.op} ${eu(e.value)}`}(i):i instanceof Ar?function(e){return e.op.toString()+" {"+e.getFilters().map(iw).join(" ,")+"}"}(i):"Filter"}class $C extends rn{constructor(t,e,s){super(t,e,s),this.key=Dt.fromName(s.referenceValue)}matches(t){const e=Dt.comparator(t.key,this.key);return this.matchesComparison(e)}}class XC extends rn{constructor(t,e){super(t,"in",e),this.keys=rw("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class WC extends rn{constructor(t,e){super(t,"not-in",e),this.keys=rw("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function rw(i,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(s=>Dt.fromName(s.referenceValue))}class JC extends rn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return og(e)&&Sc(e.arrayValue,this.value)}}class tx extends rn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Sc(this.value.arrayValue,e)}}class ex extends rn{constructor(t,e){super(t,"not-in",e)}matches(t){if(Sc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Sc(this.value.arrayValue,e)}}class nx extends rn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!og(e)||!e.arrayValue.values)&&e.arrayValue.values.some(s=>Sc(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(t,e=null,s=[],l=[],h=null,d=null,_=null){this.path=t,this.collectionGroup=e,this.orderBy=s,this.filters=l,this.limit=h,this.startAt=d,this.endAt=_,this.Ie=null}}function z0(i,t=null,e=[],s=[],l=null,h=null,d=null){return new ix(i,t,e,s,l,h,d)}function lg(i){const t=Gt(i);if(t.Ie===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(s=>Tp(s)).join(","),e+="|ob:",e+=t.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),qf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(s=>eu(s)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(s=>eu(s)).join(",")),t.Ie=e}return t.Ie}function ug(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<i.orderBy.length;e++)if(!YC(i.orderBy[e],t.orderBy[e]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let e=0;e<i.filters.length;e++)if(!nw(i.filters[e],t.filters[e]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!V0(i.startAt,t.startAt)&&V0(i.endAt,t.endAt)}function Ep(i){return Dt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du{constructor(t,e=null,s=[],l=[],h=null,d="F",_=null,y=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=s,this.filters=l,this.limit=h,this.limitType=d,this.startAt=_,this.endAt=y,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function rx(i,t,e,s,l,h,d,_){return new du(i,t,e,s,l,h,d,_)}function Ff(i){return new du(i)}function U0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function sw(i){return i.collectionGroup!==null}function pc(i){const t=Gt(i);if(t.Ee===null){t.Ee=[];const e=new Set;for(const h of t.explicitOrderBy)t.Ee.push(h),e.add(h.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let _=new cn(Cn.comparator);return d.filters.forEach(y=>{y.getFlattenedFilters().forEach(T=>{T.isInequality()&&(_=_.add(T.field))})}),_})(t).forEach(h=>{e.has(h.canonicalString())||h.isKeyField()||t.Ee.push(new Rc(h,s))}),e.has(Cn.keyField().canonicalString())||t.Ee.push(new Rc(Cn.keyField(),s))}return t.Ee}function Zr(i){const t=Gt(i);return t.de||(t.de=sx(t,pc(i))),t.de}function sx(i,t){if(i.limitType==="F")return z0(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map(l=>{const h=l.dir==="desc"?"asc":"desc";return new Rc(l.field,h)});const e=i.endAt?new Ef(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Ef(i.startAt.position,i.startAt.inclusive):null;return z0(i.path,i.collectionGroup,t,i.filters,i.limit,e,s)}}function wp(i,t){const e=i.filters.concat([t]);return new du(i.path,i.collectionGroup,i.explicitOrderBy.slice(),e,i.limit,i.limitType,i.startAt,i.endAt)}function bp(i,t,e){return new du(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,e,i.startAt,i.endAt)}function Gf(i,t){return ug(Zr(i),Zr(t))&&i.limitType===t.limitType}function aw(i){return`${lg(Zr(i))}|lt:${i.limitType}`}function Fl(i){return`Query(target=${function(e){let s=e.path.canonicalString();return e.collectionGroup!==null&&(s+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(s+=`, filters: [${e.filters.map(l=>iw(l)).join(", ")}]`),qf(e.limit)||(s+=", limit: "+e.limit),e.orderBy.length>0&&(s+=`, orderBy: [${e.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),e.startAt&&(s+=", startAt: ",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map(l=>eu(l)).join(",")),e.endAt&&(s+=", endAt: ",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map(l=>eu(l)).join(",")),`Target(${s})`}(Zr(i))}; limitType=${i.limitType})`}function Zf(i,t){return t.isFoundDocument()&&function(s,l){const h=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):Dt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(i,t)&&function(s,l){for(const h of pc(s))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0}(i,t)&&function(s,l){for(const h of s.filters)if(!h.matches(l))return!1;return!0}(i,t)&&function(s,l){return!(s.startAt&&!function(d,_,y){const T=k0(d,_,y);return d.inclusive?T<=0:T<0}(s.startAt,pc(s),l)||s.endAt&&!function(d,_,y){const T=k0(d,_,y);return d.inclusive?T>=0:T>0}(s.endAt,pc(s),l))}(i,t)}function ax(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function ow(i){return(t,e)=>{let s=!1;for(const l of pc(i)){const h=ox(l,t,e);if(h!==0)return h;s=s||l.field.isKeyField()}return 0}}function ox(i,t,e){const s=i.field.isKeyField()?Dt.comparator(t.key,e.key):function(h,d,_){const y=d.data.field(h),T=_.data.field(h);return y!==null&&T!==null?tu(y,T):Ut(42886)}(i.field,t,e);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ut(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s!==void 0){for(const[l,h]of s)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,e){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,e]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,e]);l.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[e]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Wo(this.inner,(e,s)=>{for(const[l,h]of s)t(l,h)})}isEmpty(){return FE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx=new je(Dt.comparator);function ks(){return lx}const lw=new je(Dt.comparator);function cc(...i){let t=lw;for(const e of i)t=t.insert(e.key,e);return t}function uw(i){let t=lw;return i.forEach((e,s)=>t=t.insert(e,s.overlayedDocument)),t}function zo(){return gc()}function cw(){return gc()}function gc(){return new Jo(i=>i.toString(),(i,t)=>i.isEqual(t))}const ux=new je(Dt.comparator),cx=new cn(Dt.comparator);function ie(...i){let t=cx;for(const e of i)t=t.add(e);return t}const hx=new cn(Qt);function fx(){return hx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yf(t)?"-0":t}}function hw(i){return{integerValue:""+i}}function dx(i,t){return BC(t)?hw(t):cg(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(){this._=void 0}}function mx(i,t,e){return i instanceof Ic?function(l,h){const d={fields:{[KE]:{stringValue:ZE},[QE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&ag(h)&&(h=jf(h)),h&&(d.fields[YE]=h),{mapValue:d}}(e,t):i instanceof Cc?dw(i,t):i instanceof xc?mw(i,t):function(l,h){const d=fw(l,h),_=B0(d)+B0(l.Re);return vp(d)&&vp(l.Re)?hw(_):cg(l.serializer,_)}(i,t)}function px(i,t,e){return i instanceof Cc?dw(i,t):i instanceof xc?mw(i,t):e}function fw(i,t){return i instanceof wf?function(s){return vp(s)||function(h){return!!h&&"doubleValue"in h}(s)}(t)?t:{integerValue:0}:null}class Ic extends Kf{}class Cc extends Kf{constructor(t){super(),this.elements=t}}function dw(i,t){const e=pw(t);for(const s of i.elements)e.some(l=>Xr(l,s))||e.push(s);return{arrayValue:{values:e}}}class xc extends Kf{constructor(t){super(),this.elements=t}}function mw(i,t){let e=pw(t);for(const s of i.elements)e=e.filter(l=>!Xr(l,s));return{arrayValue:{values:e}}}class wf extends Kf{constructor(t,e){super(),this.serializer=t,this.Re=e}}function B0(i){return Xe(i.integerValue||i.doubleValue)}function pw(i){return og(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(t,e){this.field=t,this.transform=e}}function _x(i,t){return i.field.isEqual(t.field)&&function(s,l){return s instanceof Cc&&l instanceof Cc||s instanceof xc&&l instanceof xc?Jl(s.elements,l.elements,Xr):s instanceof wf&&l instanceof wf?Xr(s.Re,l.Re):s instanceof Ic&&l instanceof Ic}(i.transform,t.transform)}class yx{constructor(t,e){this.version=t,this.transformResults=e}}class Os{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Os}static exists(t){return new Os(void 0,t)}static updateTime(t){return new Os(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function of(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class Yf{}function gw(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new yw(i.key,Os.none()):new Vc(i.key,i.data,Os.none());{const e=i.data,s=Wi.empty();let l=new cn(Cn.comparator);for(let h of t.fields)if(!l.has(h)){let d=e.field(h);d===null&&h.length>1&&(h=h.popLast(),d=e.field(h)),d===null?s.delete(h):s.set(h,d),l=l.add(h)}return new tl(i.key,s,new Tr(l.toArray()),Os.none())}}function vx(i,t,e){i instanceof Vc?function(l,h,d){const _=l.value.clone(),y=q0(l.fieldTransforms,h,d.transformResults);_.setAll(y),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(i,t,e):i instanceof tl?function(l,h,d){if(!of(l.precondition,h))return void h.convertToUnknownDocument(d.version);const _=q0(l.fieldTransforms,h,d.transformResults),y=h.data;y.setAll(_w(l)),y.setAll(_),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()}(i,t,e):function(l,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,e)}function _c(i,t,e,s){return i instanceof Vc?function(h,d,_,y){if(!of(h.precondition,d))return _;const T=h.value.clone(),A=j0(h.fieldTransforms,y,d);return T.setAll(A),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),null}(i,t,e,s):i instanceof tl?function(h,d,_,y){if(!of(h.precondition,d))return _;const T=j0(h.fieldTransforms,y,d),A=d.data;return A.setAll(_w(h)),A.setAll(T),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),_===null?null:_.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(I=>I.field))}(i,t,e,s):function(h,d,_){return of(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):_}(i,t,e)}function Tx(i,t){let e=null;for(const s of i.fieldTransforms){const l=t.data.field(s.field),h=fw(s.transform,l||null);h!=null&&(e===null&&(e=Wi.empty()),e.set(s.field,h))}return e||null}function H0(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Jl(s,l,(h,d)=>_x(h,d))}(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class Vc extends Yf{constructor(t,e,s,l=[]){super(),this.key=t,this.value=e,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class tl extends Yf{constructor(t,e,s,l,h=[]){super(),this.key=t,this.data=e,this.fieldMask=s,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function _w(i){const t=new Map;return i.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const s=i.data.field(e);t.set(e,s)}}),t}function q0(i,t,e){const s=new Map;me(i.length===e.length,32656,{Ve:e.length,me:i.length});for(let l=0;l<e.length;l++){const h=i[l],d=h.transform,_=t.data.field(h.field);s.set(h.field,px(d,_,e[l]))}return s}function j0(i,t,e){const s=new Map;for(const l of i){const h=l.transform,d=e.data.field(l.field);s.set(l.field,mx(h,d,t))}return s}class yw extends Yf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ex extends Yf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(t,e,s,l){this.batchId=t,this.localWriteTime=e,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,e){const s=e.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&vx(h,t,s[l])}}applyToLocalView(t,e){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(e=_c(s,t,e,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(e=_c(s,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const s=cw();return this.mutations.forEach(l=>{const h=t.get(l.key),d=h.overlayedDocument;let _=this.applyToLocalView(d,h.mutatedFields);_=e.has(l.key)?null:_;const y=gw(d,_);y!==null&&s.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(Ft.min())}),s}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),ie())}isEqual(t){return this.batchId===t.batchId&&Jl(this.mutations,t.mutations,(e,s)=>H0(e,s))&&Jl(this.baseMutations,t.baseMutations,(e,s)=>H0(e,s))}}class hg{constructor(t,e,s,l){this.batch=t,this.commitVersion=e,this.mutationResults=s,this.docVersions=l}static from(t,e,s){me(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let l=function(){return ux}();const h=t.mutations;for(let d=0;d<h.length;d++)l=l.insert(h[d].key,s[d].version);return new hg(t,e,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn,le;function Sx(i){switch(i){case ht.OK:return Ut(64938);case ht.CANCELLED:case ht.UNKNOWN:case ht.DEADLINE_EXCEEDED:case ht.RESOURCE_EXHAUSTED:case ht.INTERNAL:case ht.UNAVAILABLE:case ht.UNAUTHENTICATED:return!1;case ht.INVALID_ARGUMENT:case ht.NOT_FOUND:case ht.ALREADY_EXISTS:case ht.PERMISSION_DENIED:case ht.FAILED_PRECONDITION:case ht.ABORTED:case ht.OUT_OF_RANGE:case ht.UNIMPLEMENTED:case ht.DATA_LOSS:return!0;default:return Ut(15467,{code:i})}}function vw(i){if(i===void 0)return Ns("GRPC error has no .code"),ht.UNKNOWN;switch(i){case nn.OK:return ht.OK;case nn.CANCELLED:return ht.CANCELLED;case nn.UNKNOWN:return ht.UNKNOWN;case nn.DEADLINE_EXCEEDED:return ht.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return ht.RESOURCE_EXHAUSTED;case nn.INTERNAL:return ht.INTERNAL;case nn.UNAVAILABLE:return ht.UNAVAILABLE;case nn.UNAUTHENTICATED:return ht.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return ht.INVALID_ARGUMENT;case nn.NOT_FOUND:return ht.NOT_FOUND;case nn.ALREADY_EXISTS:return ht.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return ht.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return ht.FAILED_PRECONDITION;case nn.ABORTED:return ht.ABORTED;case nn.OUT_OF_RANGE:return ht.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return ht.UNIMPLEMENTED;case nn.DATA_LOSS:return ht.DATA_LOSS;default:return Ut(39323,{code:i})}}(le=nn||(nn={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=new qa([4294967295,4294967295],0);function F0(i){const t=HE().encode(i),e=new ME;return e.update(t),new Uint8Array(e.digest())}function G0(i){const t=new DataView(i.buffer),e=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new qa([e,s],0),new qa([l,h],0)]}class fg{constructor(t,e,s){if(this.bitmap=t,this.padding=e,this.hashCount=s,e<0||e>=8)throw new hc(`Invalid padding: ${e}`);if(s<0)throw new hc(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new hc(`Invalid hash count: ${s}`);if(t.length===0&&e!==0)throw new hc(`Invalid padding when bitmap length is 0: ${e}`);this.pe=8*t.length-e,this.ye=qa.fromNumber(this.pe)}we(t,e,s){let l=t.add(e.multiply(qa.fromNumber(s)));return l.compare(Rx)===1&&(l=new qa([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const e=F0(t),[s,l]=G0(e);for(let h=0;h<this.hashCount;h++){const d=this.we(s,l,h);if(!this.be(d))return!1}return!0}static create(t,e,s){const l=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),d=new fg(h,l,e);return s.forEach(_=>d.insert(_)),d}insert(t){if(this.pe===0)return;const e=F0(t),[s,l]=G0(e);for(let h=0;h<this.hashCount;h++){const d=this.we(s,l,h);this.Se(d)}}Se(t){const e=Math.floor(t/8),s=t%8;this.bitmap[e]|=1<<s}}class hc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(t,e,s,l,h){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,e,s){const l=new Map;return l.set(t,zc.createSynthesizedTargetChangeForCurrentChange(t,e,s)),new Qf(Ft.min(),l,new je(Qt),ks(),ie())}}class zc{constructor(t,e,s,l,h){this.resumeToken=t,this.current=e,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,e,s){return new zc(s,e,ie(),ie(),ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(t,e,s,l){this.De=t,this.removedTargetIds=e,this.key=s,this.ve=l}}class Tw{constructor(t,e){this.targetId=t,this.Ce=e}}class Ew{constructor(t,e,s=xn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=e,this.resumeToken=s,this.cause=l}}class Z0{constructor(){this.Fe=0,this.Me=K0(),this.xe=xn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=ie(),e=ie(),s=ie();return this.Me.forEach((l,h)=>{switch(h){case 0:t=t.add(l);break;case 2:e=e.add(l);break;case 1:s=s.add(l);break;default:Ut(38017,{changeType:h})}}),new zc(this.xe,this.Oe,t,e,s)}Qe(){this.Ne=!1,this.Me=K0()}$e(t,e){this.Ne=!0,this.Me=this.Me.insert(t,e)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,me(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Ix{constructor(t){this.ze=t,this.je=new Map,this.He=ks(),this.Je=Wh(),this.Ye=Wh(),this.Ze=new je(Qt)}Xe(t){for(const e of t.De)t.ve&&t.ve.isFoundDocument()?this.et(e,t.ve):this.tt(e,t.key,t.ve);for(const e of t.removedTargetIds)this.tt(e,t.key,t.ve)}nt(t){this.forEachTarget(t,e=>{const s=this.rt(e);switch(t.state){case 0:this.it(e)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(e);break;case 3:this.it(e)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(e)&&(this.st(e),s.ke(t.resumeToken));break;default:Ut(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.je.forEach((s,l)=>{this.it(l)&&e(l)})}ot(t){const e=t.targetId,s=t.Ce.count,l=this._t(e);if(l){const h=l.target;if(Ep(h))if(s===0){const d=new Dt(h.path);this.tt(e,d,Hn.newNoDocument(d,Ft.min()))}else me(s===1,20013,{expectedCount:s});else{const d=this.ut(e);if(d!==s){const _=this.ct(t),y=_?this.lt(_,t,d):1;if(y!==0){this.st(e);const T=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,T)}}}}}ct(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:h=0}=e;let d,_;try{d=Ya(s).toUint8Array()}catch(y){if(y instanceof GE)return Wl("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{_=new fg(d,l,h)}catch(y){return Wl(y instanceof hc?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return _.pe===0?null:_}lt(t,e,s){return e.Ce.count===s-this.Tt(t,e.targetId)?0:2}Tt(t,e){const s=this.ze.getRemoteKeysForTarget(e);let l=0;return s.forEach(h=>{const d=this.ze.Pt(),_=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;t.mightContain(_)||(this.tt(e,h,null),l++)}),l}It(t){const e=new Map;this.je.forEach((h,d)=>{const _=this._t(d);if(_){if(h.current&&Ep(_.target)){const y=new Dt(_.target.path);this.Et(y).has(d)||this.dt(d,y)||this.tt(d,y,Hn.newNoDocument(y,t))}h.Le&&(e.set(d,h.qe()),h.Qe())}});let s=ie();this.Ye.forEach((h,d)=>{let _=!0;d.forEachWhile(y=>{const T=this._t(y);return!T||T.purpose==="TargetPurposeLimboResolution"||(_=!1,!1)}),_&&(s=s.add(h))}),this.He.forEach((h,d)=>d.setReadTime(t));const l=new Qf(t,e,this.Ze,this.He,s);return this.He=ks(),this.Je=Wh(),this.Ye=Wh(),this.Ze=new je(Qt),l}et(t,e){if(!this.it(t))return;const s=this.dt(t,e.key)?2:0;this.rt(t).$e(e.key,s),this.He=this.He.insert(e.key,e),this.Je=this.Je.insert(e.key,this.Et(e.key).add(t)),this.Ye=this.Ye.insert(e.key,this.At(e.key).add(t))}tt(t,e,s){if(!this.it(t))return;const l=this.rt(t);this.dt(t,e)?l.$e(e,1):l.Ue(e),this.Ye=this.Ye.insert(e,this.At(e).delete(t)),this.Ye=this.Ye.insert(e,this.At(e).add(t)),s&&(this.He=this.He.insert(e,s))}removeTarget(t){this.je.delete(t)}ut(t){const e=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let e=this.je.get(t);return e||(e=new Z0,this.je.set(t,e)),e}At(t){let e=this.Ye.get(t);return e||(e=new cn(Qt),this.Ye=this.Ye.insert(t,e)),e}Et(t){let e=this.Je.get(t);return e||(e=new cn(Qt),this.Je=this.Je.insert(t,e)),e}it(t){const e=this._t(t)!==null;return e||St("WatchChangeAggregator","Detected inactive target",t),e}_t(t){const e=this.je.get(t);return e&&e.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new Z0),this.ze.getRemoteKeysForTarget(t).forEach(e=>{this.tt(t,e,null)})}dt(t,e){return this.ze.getRemoteKeysForTarget(t).has(e)}}function Wh(){return new je(Dt.comparator)}function K0(){return new je(Dt.comparator)}const Cx={asc:"ASCENDING",desc:"DESCENDING"},xx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Px={and:"AND",or:"OR"};class Ox{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Ap(i,t){return i.useProto3Json||qf(t)?t:{value:t}}function bf(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ww(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function Lx(i,t){return bf(i,t.toTimestamp())}function Kr(i){return me(!!i,49232),Ft.fromTimestamp(function(e){const s=Ka(e);return new un(s.seconds,s.nanos)}(i))}function dg(i,t){return Sp(i,t).canonicalString()}function Sp(i,t){const e=function(l){return new ke(["projects",l.projectId,"databases",l.database])}(i).child("documents");return t===void 0?e:e.child(t)}function bw(i){const t=ke.fromString(i);return me(Cw(t),10190,{key:t.toString()}),t}function Rp(i,t){return dg(i.databaseId,t.path)}function tp(i,t){const e=bw(t);if(e.get(1)!==i.databaseId.projectId)throw new It(ht.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+i.databaseId.projectId);if(e.get(3)!==i.databaseId.database)throw new It(ht.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+i.databaseId.database);return new Dt(Sw(e))}function Aw(i,t){return dg(i.databaseId,t)}function Mx(i){const t=bw(i);return t.length===4?ke.emptyPath():Sw(t)}function Ip(i){return new ke(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Sw(i){return me(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function Y0(i,t,e){return{name:Rp(i,t),fields:e.value.mapValue.fields}}function Dx(i,t){let e;if("targetChange"in t){t.targetChange;const s=function(T){return T==="NO_CHANGE"?0:T==="ADD"?1:T==="REMOVE"?2:T==="CURRENT"?3:T==="RESET"?4:Ut(39313,{state:T})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],h=function(T,A){return T.useProto3Json?(me(A===void 0||typeof A=="string",58123),xn.fromBase64String(A||"")):(me(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),xn.fromUint8Array(A||new Uint8Array))}(i,t.targetChange.resumeToken),d=t.targetChange.cause,_=d&&function(T){const A=T.code===void 0?ht.UNKNOWN:vw(T.code);return new It(A,T.message||"")}(d);e=new Ew(s,l,h,_||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=tp(i,s.document.name),h=Kr(s.document.updateTime),d=s.document.createTime?Kr(s.document.createTime):Ft.min(),_=new Wi({mapValue:{fields:s.document.fields}}),y=Hn.newFoundDocument(l,h,d,_),T=s.targetIds||[],A=s.removedTargetIds||[];e=new lf(T,A,y.key,y)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=tp(i,s.document),h=s.readTime?Kr(s.readTime):Ft.min(),d=Hn.newNoDocument(l,h),_=s.removedTargetIds||[];e=new lf([],_,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=tp(i,s.document),h=s.removedTargetIds||[];e=new lf([],h,l,null)}else{if(!("filter"in t))return Ut(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:h}=s,d=new Ax(l,h),_=s.targetId;e=new Tw(_,d)}}return e}function Nx(i,t){let e;if(t instanceof Vc)e={update:Y0(i,t.key,t.value)};else if(t instanceof yw)e={delete:Rp(i,t.key)};else if(t instanceof tl)e={update:Y0(i,t.key,t.data),updateMask:Fx(t.fieldMask)};else{if(!(t instanceof Ex))return Ut(16599,{ft:t.type});e={verify:Rp(i,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(s=>function(h,d){const _=d.transform;if(_ instanceof Ic)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof Cc)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof xc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof wf)return{fieldPath:d.field.canonicalString(),increment:_.Re};throw Ut(20930,{transform:d.transform})}(0,s))),t.precondition.isNone||(e.currentDocument=function(l,h){return h.updateTime!==void 0?{updateTime:Lx(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Ut(27497)}(i,t.precondition)),e}function kx(i,t){return i&&i.length>0?(me(t!==void 0,14353),i.map(e=>function(l,h){let d=l.updateTime?Kr(l.updateTime):Kr(h);return d.isEqual(Ft.min())&&(d=Kr(h)),new yx(d,l.transformResults||[])}(e,t))):[]}function Vx(i,t){return{documents:[Aw(i,t.path)]}}function zx(i,t){const e={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),e.structuredQuery.from=[{collectionId:s.lastSegment()}]),e.parent=Aw(i,l);const h=function(T){if(T.length!==0)return Iw(Ar.create(T,"and"))}(t.filters);h&&(e.structuredQuery.where=h);const d=function(T){if(T.length!==0)return T.map(A=>function(C){return{field:Gl(C.field),direction:Hx(C.dir)}}(A))}(t.orderBy);d&&(e.structuredQuery.orderBy=d);const _=Ap(i,t.limit);return _!==null&&(e.structuredQuery.limit=_),t.startAt&&(e.structuredQuery.startAt=function(T){return{before:T.inclusive,values:T.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(T){return{before:!T.inclusive,values:T.position}}(t.endAt)),{gt:e,parent:l}}function Ux(i){let t=Mx(i.parent);const e=i.structuredQuery,s=e.from?e.from.length:0;let l=null;if(s>0){me(s===1,65062);const A=e.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let h=[];e.where&&(h=function(I){const C=Rw(I);return C instanceof Ar&&ew(C)?C.getFilters():[C]}(e.where));let d=[];e.orderBy&&(d=function(I){return I.map(C=>function(H){return new Rc(Zl(H.field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(H.direction))}(C))}(e.orderBy));let _=null;e.limit&&(_=function(I){let C;return C=typeof I=="object"?I.value:I,qf(C)?null:C}(e.limit));let y=null;e.startAt&&(y=function(I){const C=!!I.before,k=I.values||[];return new Ef(k,C)}(e.startAt));let T=null;return e.endAt&&(T=function(I){const C=!I.before,k=I.values||[];return new Ef(k,C)}(e.endAt)),rx(t,l,d,h,_,"F",y,T)}function Bx(i,t){const e=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ut(28987,{purpose:l})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function Rw(i){return i.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const s=Zl(e.unaryFilter.field);return rn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Zl(e.unaryFilter.field);return rn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Zl(e.unaryFilter.field);return rn.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Zl(e.unaryFilter.field);return rn.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ut(61313);default:return Ut(60726)}}(i):i.fieldFilter!==void 0?function(e){return rn.create(Zl(e.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ut(58110);default:return Ut(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(e){return Ar.create(e.compositeFilter.filters.map(s=>Rw(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ut(1026)}}(e.compositeFilter.op))}(i):Ut(30097,{filter:i})}function Hx(i){return Cx[i]}function qx(i){return xx[i]}function jx(i){return Px[i]}function Gl(i){return{fieldPath:i.canonicalString()}}function Zl(i){return Cn.fromServerFormat(i.fieldPath)}function Iw(i){return i instanceof rn?function(e){if(e.op==="=="){if(N0(e.value))return{unaryFilter:{field:Gl(e.field),op:"IS_NAN"}};if(D0(e.value))return{unaryFilter:{field:Gl(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(N0(e.value))return{unaryFilter:{field:Gl(e.field),op:"IS_NOT_NAN"}};if(D0(e.value))return{unaryFilter:{field:Gl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gl(e.field),op:qx(e.op),value:e.value}}}(i):i instanceof Ar?function(e){const s=e.getFilters().map(l=>Iw(l));return s.length===1?s[0]:{compositeFilter:{op:jx(e.op),filters:s}}}(i):Ut(54877,{filter:i})}function Fx(i){const t=[];return i.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Cw(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(t,e,s,l,h=Ft.min(),d=Ft.min(),_=xn.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=e,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=_,this.expectedCount=y}withSequenceNumber(t){return new Ua(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Ua(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(t){this.wt=t}}function Zx(i){const t=Ux({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?bp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(){this.Cn=new Yx}addToCollectionParentIndex(t,e){return this.Cn.add(e),ft.resolve()}getCollectionParents(t,e){return ft.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return ft.resolve()}deleteFieldIndex(t,e){return ft.resolve()}deleteAllFieldIndexes(t){return ft.resolve()}createTargetIndexes(t,e){return ft.resolve()}getDocumentsMatchingTarget(t,e){return ft.resolve(null)}getIndexType(t,e){return ft.resolve(0)}getFieldIndexes(t,e){return ft.resolve([])}getNextCollectionGroupToUpdate(t){return ft.resolve(null)}getMinOffset(t,e){return ft.resolve(Za.min())}getMinOffsetFromCollectionGroup(t,e){return ft.resolve(Za.min())}updateCollectionGroup(t,e,s){return ft.resolve()}updateIndexEntries(t,e){return ft.resolve()}}class Yx{constructor(){this.index={}}add(t){const e=t.lastSegment(),s=t.popLast(),l=this.index[e]||new cn(ke.comparator),h=!l.has(s);return this.index[e]=l.add(s),h}has(t){const e=t.lastSegment(),s=t.popLast(),l=this.index[e];return l&&l.has(s)}getEntries(t){return(this.index[t]||new cn(ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xw=41943040;class ai{static withCacheSize(t){return new ai(t,ai.DEFAULT_COLLECTION_PERCENTILE,ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ai.DEFAULT_COLLECTION_PERCENTILE=10,ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ai.DEFAULT=new ai(xw,ai.DEFAULT_COLLECTION_PERCENTILE,ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ai.DISABLED=new ai(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new nu(0)}static lr(){return new nu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="LruGarbageCollector",Qx=1048576;function X0([i,t],[e,s]){const l=Qt(i,e);return l===0?Qt(t,s):l}class $x{constructor(t){this.Er=t,this.buffer=new cn(X0),this.dr=0}Ar(){return++this.dr}Rr(t){const e=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(e);else{const s=this.buffer.last();X0(e,s)<0&&(this.buffer=this.buffer.delete(s).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Xx{constructor(t,e,s){this.garbageCollector=t,this.asyncQueue=e,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){St($0,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){fu(e)?St($0,"Ignoring IndexedDB error during garbage collection: ",e):await hu(e)}await this.mr(3e5)})}}class Wx{constructor(t,e){this.gr=t,this.params=e}calculateTargetCount(t,e){return this.gr.pr(t).next(s=>Math.floor(e/100*s))}nthSequenceNumber(t,e){if(e===0)return ft.resolve(Hf.le);const s=new $x(e);return this.gr.forEachTarget(t,l=>s.Rr(l.sequenceNumber)).next(()=>this.gr.yr(t,l=>s.Rr(l))).next(()=>s.maxValue)}removeTargets(t,e,s){return this.gr.removeTargets(t,e,s)}removeOrphanedDocuments(t,e){return this.gr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(St("LruGarbageCollector","Garbage collection skipped; disabled"),ft.resolve(Q0)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(St("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Q0):this.wr(t,e))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,e){let s,l,h,d,_,y,T;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(St("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),l=this.params.maximumSequenceNumbersToCollect):l=I,d=Date.now(),this.nthSequenceNumber(t,l))).next(I=>(s=I,_=Date.now(),this.removeTargets(t,s,e))).next(I=>(h=I,y=Date.now(),this.removeOrphanedDocuments(t,s))).next(I=>(T=Date.now(),jl()<=ne.DEBUG&&St("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(_-d)+`ms
	Removed ${h} targets in `+(y-_)+`ms
	Removed ${I} documents in `+(T-y)+`ms
Total Duration: ${T-A}ms`),ft.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:I})))}}function Jx(i,t){return new Wx(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(){this.changes=new Jo(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Hn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const s=this.changes.get(e);return s!==void 0?ft.resolve(s):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(t,e,s,l){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,e){let s=null;return this.documentOverlayCache.getOverlay(t,e).next(l=>(s=l,this.remoteDocumentCache.getEntry(t,e))).next(l=>(s!==null&&_c(s.mutation,l,Tr.empty(),un.now()),l))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(s=>this.getLocalViewOfDocuments(t,s,ie()).next(()=>s))}getLocalViewOfDocuments(t,e,s=ie()){const l=zo();return this.populateOverlays(t,l,e).next(()=>this.computeViews(t,e,l,s).next(h=>{let d=cc();return h.forEach((_,y)=>{d=d.insert(_,y.overlayedDocument)}),d}))}getOverlayedDocuments(t,e){const s=zo();return this.populateOverlays(t,s,e).next(()=>this.computeViews(t,e,s,ie()))}populateOverlays(t,e,s){const l=[];return s.forEach(h=>{e.has(h)||l.push(h)}),this.documentOverlayCache.getOverlays(t,l).next(h=>{h.forEach((d,_)=>{e.set(d,_)})})}computeViews(t,e,s,l){let h=ks();const d=gc(),_=function(){return gc()}();return e.forEach((y,T)=>{const A=s.get(T.key);l.has(T.key)&&(A===void 0||A.mutation instanceof tl)?h=h.insert(T.key,T):A!==void 0?(d.set(T.key,A.mutation.getFieldMask()),_c(A.mutation,T,A.mutation.getFieldMask(),un.now())):d.set(T.key,Tr.empty())}),this.recalculateAndSaveOverlays(t,h).next(y=>(y.forEach((T,A)=>d.set(T,A)),e.forEach((T,A)=>{var I;return _.set(T,new e2(A,(I=d.get(T))!==null&&I!==void 0?I:null))}),_))}recalculateAndSaveOverlays(t,e){const s=gc();let l=new je((d,_)=>d-_),h=ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(d=>{for(const _ of d)_.keys().forEach(y=>{const T=e.get(y);if(T===null)return;let A=s.get(y)||Tr.empty();A=_.applyToLocalView(T,A),s.set(y,A);const I=(l.get(_.batchId)||ie()).add(y);l=l.insert(_.batchId,I)})}).next(()=>{const d=[],_=l.getReverseIterator();for(;_.hasNext();){const y=_.getNext(),T=y.key,A=y.value,I=cw();A.forEach(C=>{if(!h.has(C)){const k=gw(e.get(C),s.get(C));k!==null&&I.set(C,k),h=h.add(C)}}),d.push(this.documentOverlayCache.saveOverlays(t,T,I))}return ft.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,e,s,l){return function(d){return Dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):sw(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,s,l):this.getDocumentsMatchingCollectionQuery(t,e,s,l)}getNextDocuments(t,e,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,s,l).next(h=>{const d=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,s.largestBatchId,l-h.size):ft.resolve(zo());let _=wc,y=h;return d.next(T=>ft.forEach(T,(A,I)=>(_<I.largestBatchId&&(_=I.largestBatchId),h.get(A)?ft.resolve():this.remoteDocumentCache.getEntry(t,A).next(C=>{y=y.insert(A,C)}))).next(()=>this.populateOverlays(t,T,h)).next(()=>this.computeViews(t,y,T,ie())).next(A=>({batchId:_,changes:uw(A)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Dt(e)).next(s=>{let l=cc();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(t,e,s,l){const h=e.collectionGroup;let d=cc();return this.indexManager.getCollectionParents(t,h).next(_=>ft.forEach(_,y=>{const T=function(I,C){return new du(C,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)}(e,y.child(h));return this.getDocumentsMatchingCollectionQuery(t,T,s,l).next(A=>{A.forEach((I,C)=>{d=d.insert(I,C)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,e,s,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,s.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,s,h,l))).next(d=>{h.forEach((y,T)=>{const A=T.getKey();d.get(A)===null&&(d=d.insert(A,Hn.newInvalidDocument(A)))});let _=cc();return d.forEach((y,T)=>{const A=h.get(y);A!==void 0&&_c(A.mutation,T,Tr.empty(),un.now()),Zf(e,T)&&(_=_.insert(y,T))}),_})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,e){return ft.resolve(this.kr.get(e))}saveBundleMetadata(t,e){return this.kr.set(e.id,function(l){return{id:l.id,version:l.version,createTime:Kr(l.createTime)}}(e)),ft.resolve()}getNamedQuery(t,e){return ft.resolve(this.qr.get(e))}saveNamedQuery(t,e){return this.qr.set(e.name,function(l){return{name:l.name,query:Zx(l.bundledQuery),readTime:Kr(l.readTime)}}(e)),ft.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(){this.overlays=new je(Dt.comparator),this.Qr=new Map}getOverlay(t,e){return ft.resolve(this.overlays.get(e))}getOverlays(t,e){const s=zo();return ft.forEach(e,l=>this.getOverlay(t,l).next(h=>{h!==null&&s.set(l,h)})).next(()=>s)}saveOverlays(t,e,s){return s.forEach((l,h)=>{this.St(t,e,h)}),ft.resolve()}removeOverlaysForBatchId(t,e,s){const l=this.Qr.get(s);return l!==void 0&&(l.forEach(h=>this.overlays=this.overlays.remove(h)),this.Qr.delete(s)),ft.resolve()}getOverlaysForCollection(t,e,s){const l=zo(),h=e.length+1,d=new Dt(e.child("")),_=this.overlays.getIteratorFrom(d);for(;_.hasNext();){const y=_.getNext().value,T=y.getKey();if(!e.isPrefixOf(T.path))break;T.path.length===h&&y.largestBatchId>s&&l.set(y.getKey(),y)}return ft.resolve(l)}getOverlaysForCollectionGroup(t,e,s,l){let h=new je((T,A)=>T-A);const d=this.overlays.getIterator();for(;d.hasNext();){const T=d.getNext().value;if(T.getKey().getCollectionGroup()===e&&T.largestBatchId>s){let A=h.get(T.largestBatchId);A===null&&(A=zo(),h=h.insert(T.largestBatchId,A)),A.set(T.getKey(),T)}}const _=zo(),y=h.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((T,A)=>_.set(T,A)),!(_.size()>=l)););return ft.resolve(_)}St(t,e,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.Qr.get(l.largestBatchId).delete(s.key);this.Qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new bx(e,s));let h=this.Qr.get(e);h===void 0&&(h=ie(),this.Qr.set(e,h)),this.Qr.set(e,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(){this.sessionToken=xn.EMPTY_BYTE_STRING}getSessionToken(t){return ft.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,ft.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(){this.$r=new cn(Tn.Ur),this.Kr=new cn(Tn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,e){const s=new Tn(t,e);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(t,e){t.forEach(s=>this.addReference(s,e))}removeReference(t,e){this.zr(new Tn(t,e))}jr(t,e){t.forEach(s=>this.removeReference(s,e))}Hr(t){const e=new Dt(new ke([])),s=new Tn(e,t),l=new Tn(e,t+1),h=[];return this.Kr.forEachInRange([s,l],d=>{this.zr(d),h.push(d.key)}),h}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const e=new Dt(new ke([])),s=new Tn(e,t),l=new Tn(e,t+1);let h=ie();return this.Kr.forEachInRange([s,l],d=>{h=h.add(d.key)}),h}containsKey(t){const e=new Tn(t,0),s=this.$r.firstAfterOrEqual(e);return s!==null&&t.isEqual(s.key)}}class Tn{constructor(t,e){this.key=t,this.Zr=e}static Ur(t,e){return Dt.comparator(t.key,e.key)||Qt(t.Zr,e.Zr)}static Wr(t,e){return Qt(t.Zr,e.Zr)||Dt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nr=1,this.Xr=new cn(Tn.Ur)}checkEmpty(t){return ft.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,s,l){const h=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new wx(h,e,s,l);this.mutationQueue.push(d);for(const _ of l)this.Xr=this.Xr.add(new Tn(_.key,h)),this.indexManager.addToCollectionParentIndex(t,_.key.path.popLast());return ft.resolve(d)}lookupMutationBatch(t,e){return ft.resolve(this.ei(e))}getNextMutationBatchAfterBatchId(t,e){const s=e+1,l=this.ti(s),h=l<0?0:l;return ft.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return ft.resolve(this.mutationQueue.length===0?sg:this.nr-1)}getAllMutationBatches(t){return ft.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const s=new Tn(e,0),l=new Tn(e,Number.POSITIVE_INFINITY),h=[];return this.Xr.forEachInRange([s,l],d=>{const _=this.ei(d.Zr);h.push(_)}),ft.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,e){let s=new cn(Qt);return e.forEach(l=>{const h=new Tn(l,0),d=new Tn(l,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([h,d],_=>{s=s.add(_.Zr)})}),ft.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(t,e){const s=e.path,l=s.length+1;let h=s;Dt.isDocumentKey(h)||(h=h.child(""));const d=new Tn(new Dt(h),0);let _=new cn(Qt);return this.Xr.forEachWhile(y=>{const T=y.key.path;return!!s.isPrefixOf(T)&&(T.length===l&&(_=_.add(y.Zr)),!0)},d),ft.resolve(this.ni(_))}ni(t){const e=[];return t.forEach(s=>{const l=this.ei(s);l!==null&&e.push(l)}),e}removeMutationBatch(t,e){me(this.ri(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return ft.forEach(e.mutations,l=>{const h=new Tn(l.key,e.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Xr=s})}sr(t){}containsKey(t,e){const s=new Tn(e,0),l=this.Xr.firstAfterOrEqual(s);return ft.resolve(e.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,ft.resolve()}ri(t,e){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const e=this.ti(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(t){this.ii=t,this.docs=function(){return new je(Dt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const s=e.key,l=this.docs.get(s),h=l?l.size:0,d=this.ii(e);return this.docs=this.docs.insert(s,{document:e.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const s=this.docs.get(e);return ft.resolve(s?s.document.mutableCopy():Hn.newInvalidDocument(e))}getEntries(t,e){let s=ks();return e.forEach(l=>{const h=this.docs.get(l);s=s.insert(l,h?h.document.mutableCopy():Hn.newInvalidDocument(l))}),ft.resolve(s)}getDocumentsMatchingQuery(t,e,s,l){let h=ks();const d=e.path,_=new Dt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(_);for(;y.hasNext();){const{key:T,value:{document:A}}=y.getNext();if(!d.isPrefixOf(T.path))break;T.path.length>d.length+1||kC(NC(A),s)<=0||(l.has(A.key)||Zf(e,A))&&(h=h.insert(A.key,A.mutableCopy()))}return ft.resolve(h)}getAllFromCollectionGroup(t,e,s,l){Ut(9500)}si(t,e){return ft.forEach(this.docs,s=>e(s))}newChangeBuffer(t){return new l2(this)}getSize(t){return ft.resolve(this.size)}}class l2 extends t2{constructor(t){super(),this.Br=t}applyChanges(t){const e=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?e.push(this.Br.addEntry(t,l)):this.Br.removeEntry(s)}),ft.waitFor(e)}getFromCache(t,e){return this.Br.getEntry(t,e)}getAllFromCache(t,e){return this.Br.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(t){this.persistence=t,this.oi=new Jo(e=>lg(e),ug),this.lastRemoteSnapshotVersion=Ft.min(),this.highestTargetId=0,this._i=0,this.ai=new mg,this.targetCount=0,this.ui=nu.cr()}forEachTarget(t,e){return this.oi.forEach((s,l)=>e(l)),ft.resolve()}getLastRemoteSnapshotVersion(t){return ft.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ft.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),ft.resolve(this.highestTargetId)}setTargetsMetadata(t,e,s){return s&&(this.lastRemoteSnapshotVersion=s),e>this._i&&(this._i=e),ft.resolve()}Tr(t){this.oi.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ui=new nu(e),this.highestTargetId=e),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,e){return this.Tr(e),this.targetCount+=1,ft.resolve()}updateTargetData(t,e){return this.Tr(e),ft.resolve()}removeTargetData(t,e){return this.oi.delete(e.target),this.ai.Hr(e.targetId),this.targetCount-=1,ft.resolve()}removeTargets(t,e,s){let l=0;const h=[];return this.oi.forEach((d,_)=>{_.sequenceNumber<=e&&s.get(_.targetId)===null&&(this.oi.delete(d),h.push(this.removeMatchingKeysForTargetId(t,_.targetId)),l++)}),ft.waitFor(h).next(()=>l)}getTargetCount(t){return ft.resolve(this.targetCount)}getTargetData(t,e){const s=this.oi.get(e)||null;return ft.resolve(s)}addMatchingKeys(t,e,s){return this.ai.Gr(e,s),ft.resolve()}removeMatchingKeys(t,e,s){this.ai.jr(e,s);const l=this.persistence.referenceDelegate,h=[];return l&&e.forEach(d=>{h.push(l.markPotentiallyOrphaned(t,d))}),ft.waitFor(h)}removeMatchingKeysForTargetId(t,e){return this.ai.Hr(e),ft.resolve()}getMatchingKeysForTargetId(t,e){const s=this.ai.Yr(e);return ft.resolve(s)}containsKey(t,e){return ft.resolve(this.ai.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(t,e){this.ci={},this.overlays={},this.li=new Hf(0),this.hi=!1,this.hi=!0,this.Pi=new s2,this.referenceDelegate=t(this),this.Ti=new u2(this),this.indexManager=new Kx,this.remoteDocumentCache=function(l){return new o2(l)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new Gx(e),this.Ei=new i2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new r2,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let s=this.ci[t.toKey()];return s||(s=new a2(e,this.referenceDelegate),this.ci[t.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,e,s){St("MemoryPersistence","Starting transaction:",t);const l=new c2(this.li.next());return this.referenceDelegate.di(),s(l).next(h=>this.referenceDelegate.Ai(l).next(()=>h)).toPromise().then(h=>(l.raiseOnCommittedEvent(),h))}Ri(t,e){return ft.or(Object.values(this.ci).map(s=>()=>s.containsKey(t,e)))}}class c2 extends zC{constructor(t){super(),this.currentSequenceNumber=t}}class pg{constructor(t){this.persistence=t,this.Vi=new mg,this.mi=null}static fi(t){return new pg(t)}get gi(){if(this.mi)return this.mi;throw Ut(60996)}addReference(t,e,s){return this.Vi.addReference(s,e),this.gi.delete(s.toString()),ft.resolve()}removeReference(t,e,s){return this.Vi.removeReference(s,e),this.gi.add(s.toString()),ft.resolve()}markPotentiallyOrphaned(t,e){return this.gi.add(e.toString()),ft.resolve()}removeTarget(t,e){this.Vi.Hr(e.targetId).forEach(l=>this.gi.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,e.targetId).next(l=>{l.forEach(h=>this.gi.add(h.toString()))}).next(()=>s.removeTargetData(t,e))}di(){this.mi=new Set}Ai(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ft.forEach(this.gi,s=>{const l=Dt.fromPath(s);return this.pi(t,l).next(h=>{h||e.removeEntry(l,Ft.min())})}).next(()=>(this.mi=null,e.apply(t)))}updateLimboDocument(t,e){return this.pi(t,e).next(s=>{s?this.gi.delete(e.toString()):this.gi.add(e.toString())})}Ii(t){return 0}pi(t,e){return ft.or([()=>ft.resolve(this.Vi.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ri(t,e)])}}class Af{constructor(t,e){this.persistence=t,this.yi=new Jo(s=>HC(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=Jx(this,e)}static fi(t,e){return new Af(t,e)}di(){}Ai(t){return ft.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}pr(t){const e=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>e.next(l=>s+l))}br(t){let e=0;return this.yr(t,s=>{e++}).next(()=>e)}yr(t,e){return ft.forEach(this.yi,(s,l)=>this.Dr(t,s,l).next(h=>h?ft.resolve():e(l)))}removeTargets(t,e,s){return this.persistence.getTargetCache().removeTargets(t,e,s)}removeOrphanedDocuments(t,e){let s=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.si(t,d=>this.Dr(t,d,e).next(_=>{_||(s++,h.removeEntry(d,Ft.min()))})).next(()=>h.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,e){return this.yi.set(e,t.currentSequenceNumber),ft.resolve()}removeTarget(t,e){const s=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,e,s){return this.yi.set(s,t.currentSequenceNumber),ft.resolve()}removeReference(t,e,s){return this.yi.set(s,t.currentSequenceNumber),ft.resolve()}updateLimboDocument(t,e){return this.yi.set(e,t.currentSequenceNumber),ft.resolve()}Ii(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=sf(t.data.value)),e}Dr(t,e,s){return ft.or([()=>this.persistence.Ri(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const l=this.yi.get(e);return ft.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(t,e,s,l){this.targetId=t,this.fromCache=e,this.ds=s,this.As=l}static Rs(t,e){let s=ie(),l=ie();for(const h of e.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new gg(t,e.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return aI()?8:UC(qn())>0?6:4}()}initialize(t,e){this.ys=t,this.indexManager=e,this.Vs=!0}getDocumentsMatchingQuery(t,e,s,l){const h={result:null};return this.ws(t,e).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.bs(t,e,l,s).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new h2;return this.Ss(t,e,d).next(_=>{if(h.result=_,this.fs)return this.Ds(t,e,d,_.size)})}).next(()=>h.result)}Ds(t,e,s,l){return s.documentReadCount<this.gs?(jl()<=ne.DEBUG&&St("QueryEngine","SDK will not create cache indexes for query:",Fl(e),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ft.resolve()):(jl()<=ne.DEBUG&&St("QueryEngine","Query:",Fl(e),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ps*l?(jl()<=ne.DEBUG&&St("QueryEngine","The SDK decides to create cache indexes for query:",Fl(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Zr(e))):ft.resolve())}ws(t,e){if(U0(e))return ft.resolve(null);let s=Zr(e);return this.indexManager.getIndexType(t,s).next(l=>l===0?null:(e.limit!==null&&l===1&&(e=bp(e,null,"F"),s=Zr(e)),this.indexManager.getDocumentsMatchingTarget(t,s).next(h=>{const d=ie(...h);return this.ys.getDocuments(t,d).next(_=>this.indexManager.getMinOffset(t,s).next(y=>{const T=this.vs(e,_);return this.Cs(e,T,d,y.readTime)?this.ws(t,bp(e,null,"F")):this.Fs(t,T,e,y)}))})))}bs(t,e,s,l){return U0(e)||l.isEqual(Ft.min())?ft.resolve(null):this.ys.getDocuments(t,s).next(h=>{const d=this.vs(e,h);return this.Cs(e,d,s,l)?ft.resolve(null):(jl()<=ne.DEBUG&&St("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Fl(e)),this.Fs(t,d,e,DC(l,wc)).next(_=>_))})}vs(t,e){let s=new cn(ow(t));return e.forEach((l,h)=>{Zf(t,h)&&(s=s.add(h))}),s}Cs(t,e,s,l){if(t.limit===null)return!1;if(s.size!==e.size)return!0;const h=t.limitType==="F"?e.last():e.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Ss(t,e,s){return jl()<=ne.DEBUG&&St("QueryEngine","Using full collection scan to execute query:",Fl(e)),this.ys.getDocumentsMatchingQuery(t,e,Za.min(),s)}Fs(t,e,s,l){return this.ys.getDocumentsMatchingQuery(t,s,l).next(h=>(e.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g="LocalStore",d2=3e8;class m2{constructor(t,e,s,l){this.persistence=t,this.Ms=e,this.serializer=l,this.xs=new je(Qt),this.Os=new Jo(h=>lg(h),ug),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(s)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new n2(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.xs))}}function p2(i,t,e,s){return new m2(i,t,e,s)}async function Ow(i,t){const e=Gt(i);return await e.persistence.runTransaction("Handle user change","readonly",s=>{let l;return e.mutationQueue.getAllMutationBatches(s).next(h=>(l=h,e.Ls(t),e.mutationQueue.getAllMutationBatches(s))).next(h=>{const d=[],_=[];let y=ie();for(const T of l){d.push(T.batchId);for(const A of T.mutations)y=y.add(A.key)}for(const T of h){_.push(T.batchId);for(const A of T.mutations)y=y.add(A.key)}return e.localDocuments.getDocuments(s,y).next(T=>({ks:T,removedBatchIds:d,addedBatchIds:_}))})})}function g2(i,t){const e=Gt(i);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=t.batch.keys(),h=e.Bs.newChangeBuffer({trackRemovals:!0});return function(_,y,T,A){const I=T.batch,C=I.keys();let k=ft.resolve();return C.forEach(H=>{k=k.next(()=>A.getEntry(y,H)).next(G=>{const Z=T.docVersions.get(H);me(Z!==null,48541),G.version.compareTo(Z)<0&&(I.applyToRemoteDocument(G,T),G.isValidDocument()&&(G.setReadTime(T.commitVersion),A.addEntry(G)))})}),k.next(()=>_.mutationQueue.removeMutationBatch(y,I))}(e,s,t,h).next(()=>h.apply(s)).next(()=>e.mutationQueue.performConsistencyCheck(s)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(_){let y=ie();for(let T=0;T<_.mutationResults.length;++T)_.mutationResults[T].transformResults.length>0&&(y=y.add(_.batch.mutations[T].key));return y}(t))).next(()=>e.localDocuments.getDocuments(s,l))})}function Lw(i){const t=Gt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ti.getLastRemoteSnapshotVersion(e))}function _2(i,t){const e=Gt(i),s=t.snapshotVersion;let l=e.xs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=e.Bs.newChangeBuffer({trackRemovals:!0});l=e.xs;const _=[];t.targetChanges.forEach((A,I)=>{const C=l.get(I);if(!C)return;_.push(e.Ti.removeMatchingKeys(h,A.removedDocuments,I).next(()=>e.Ti.addMatchingKeys(h,A.addedDocuments,I)));let k=C.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(I)!==null?k=k.withResumeToken(xn.EMPTY_BYTE_STRING,Ft.min()).withLastLimboFreeSnapshotVersion(Ft.min()):A.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(A.resumeToken,s)),l=l.insert(I,k),function(G,Z,tt){return G.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=d2?!0:tt.addedDocuments.size+tt.modifiedDocuments.size+tt.removedDocuments.size>0}(C,k,A)&&_.push(e.Ti.updateTargetData(h,k))});let y=ks(),T=ie();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&_.push(e.persistence.referenceDelegate.updateLimboDocument(h,A))}),_.push(y2(h,d,t.documentUpdates).next(A=>{y=A.qs,T=A.Qs})),!s.isEqual(Ft.min())){const A=e.Ti.getLastRemoteSnapshotVersion(h).next(I=>e.Ti.setTargetsMetadata(h,h.currentSequenceNumber,s));_.push(A)}return ft.waitFor(_).next(()=>d.apply(h)).next(()=>e.localDocuments.getLocalViewOfDocuments(h,y,T)).next(()=>y)}).then(h=>(e.xs=l,h))}function y2(i,t,e){let s=ie(),l=ie();return e.forEach(h=>s=s.add(h)),t.getEntries(i,s).next(h=>{let d=ks();return e.forEach((_,y)=>{const T=h.get(_);y.isFoundDocument()!==T.isFoundDocument()&&(l=l.add(_)),y.isNoDocument()&&y.version.isEqual(Ft.min())?(t.removeEntry(_,y.readTime),d=d.insert(_,y)):!T.isValidDocument()||y.version.compareTo(T.version)>0||y.version.compareTo(T.version)===0&&T.hasPendingWrites?(t.addEntry(y),d=d.insert(_,y)):St(_g,"Ignoring outdated watch update for ",_,". Current version:",T.version," Watch version:",y.version)}),{qs:d,Qs:l}})}function v2(i,t){const e=Gt(i);return e.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=sg),e.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function T2(i,t){const e=Gt(i);return e.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return e.Ti.getTargetData(s,t).next(h=>h?(l=h,ft.resolve(l)):e.Ti.allocateTargetId(s).next(d=>(l=new Ua(t,d,"TargetPurposeListen",s.currentSequenceNumber),e.Ti.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=e.xs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(e.xs=e.xs.insert(s.targetId,s),e.Os.set(t,s.targetId)),s})}async function Cp(i,t,e){const s=Gt(i),l=s.xs.get(t),h=e?"readwrite":"readwrite-primary";try{e||await s.persistence.runTransaction("Release target",h,d=>s.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!fu(d))throw d;St(_g,`Failed to update sequence numbers for target ${t}: ${d}`)}s.xs=s.xs.remove(t),s.Os.delete(l.target)}function W0(i,t,e){const s=Gt(i);let l=Ft.min(),h=ie();return s.persistence.runTransaction("Execute query","readwrite",d=>function(y,T,A){const I=Gt(y),C=I.Os.get(A);return C!==void 0?ft.resolve(I.xs.get(C)):I.Ti.getTargetData(T,A)}(s,d,Zr(t)).next(_=>{if(_)return l=_.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(d,_.targetId).next(y=>{h=y})}).next(()=>s.Ms.getDocumentsMatchingQuery(d,t,e?l:Ft.min(),e?h:ie())).next(_=>(E2(s,ax(t),_),{documents:_,$s:h})))}function E2(i,t,e){let s=i.Ns.get(t)||Ft.min();e.forEach((l,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),i.Ns.set(t,s)}class J0{constructor(){this.activeTargetIds=fx()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class w2{constructor(){this.xo=new J0,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,s){}addLocalQueryTarget(t,e=!0){return e&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,e,s){this.Oo[t]=e}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new J0,Promise.resolve()}handleUserChange(t,e,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="ConnectivityMonitor";class eT{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){St(tT,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){St(tT,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jh=null;function xp(){return Jh===null?Jh=function(){return 268435456+Math.round(2147483648*Math.random())}():Jh++,"0x"+Jh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="RestConnection",A2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class S2{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Ko=e+"://"+t.host,this.Wo=`projects/${s}/databases/${l}`,this.Go=this.databaseId.database===vf?`project_id=${s}`:`project_id=${s}&database_id=${l}`}zo(t,e,s,l,h){const d=xp(),_=this.jo(t,e.toUriEncodedString());St(ep,`Sending RPC '${t}' ${d}:`,_,s);const y={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(y,l,h);const{host:T}=new URL(_),A=lu(T);return this.Jo(t,_,y,s,A).then(I=>(St(ep,`Received RPC '${t}' ${d}: `,I),I),I=>{throw Wl(ep,`RPC '${t}' ${d} failed with error: `,I,"url: ",_,"request:",s),I})}Yo(t,e,s,l,h,d){return this.zo(t,e,s,l,h)}Ho(t,e,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+cu}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((l,h)=>t[h]=l),s&&s.headers.forEach((l,h)=>t[h]=l)}jo(t,e){const s=A2[t];return`${this.Ko}/v1/${e}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Un="WebChannelConnection";class I2 extends S2{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,s,l,h){const d=xp();return new Promise((_,y)=>{const T=new DE;T.setWithCredentials(!0),T.listenOnce(NE.COMPLETE,()=>{try{switch(T.getLastErrorCode()){case rf.NO_ERROR:const I=T.getResponseJson();St(Un,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(I)),_(I);break;case rf.TIMEOUT:St(Un,`RPC '${t}' ${d} timed out`),y(new It(ht.DEADLINE_EXCEEDED,"Request time out"));break;case rf.HTTP_ERROR:const C=T.getStatus();if(St(Un,`RPC '${t}' ${d} failed with status:`,C,"response text:",T.getResponseText()),C>0){let k=T.getResponseJson();Array.isArray(k)&&(k=k[0]);const H=k==null?void 0:k.error;if(H&&H.status&&H.message){const G=function(tt){const W=tt.toLowerCase().replace(/_/g,"-");return Object.values(ht).indexOf(W)>=0?W:ht.UNKNOWN}(H.status);y(new It(G,H.message))}else y(new It(ht.UNKNOWN,"Server responded with status "+T.getStatus()))}else y(new It(ht.UNAVAILABLE,"Connection failed."));break;default:Ut(9055,{h_:t,streamId:d,P_:T.getLastErrorCode(),T_:T.getLastError()})}}finally{St(Un,`RPC '${t}' ${d} completed.`)}});const A=JSON.stringify(l);St(Un,`RPC '${t}' ${d} sending request:`,l),T.send(e,"POST",A,s,15)})}I_(t,e,s){const l=xp(),h=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=zE(),_=VE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},T=this.longPollingOptions.timeoutSeconds;T!==void 0&&(y.longPollingTimeout=Math.round(1e3*T)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Ho(y.initMessageHeaders,e,s),y.encodeInitMessageHeaders=!0;const A=h.join("");St(Un,`Creating RPC '${t}' stream ${l}: ${A}`,y);const I=d.createWebChannel(A,y);this.E_(I);let C=!1,k=!1;const H=new R2({Zo:Z=>{k?St(Un,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(C||(St(Un,`Opening RPC '${t}' stream ${l} transport.`),I.open(),C=!0),St(Un,`RPC '${t}' stream ${l} sending:`,Z),I.send(Z))},Xo:()=>I.close()}),G=(Z,tt,W)=>{Z.listen(tt,nt=>{try{W(nt)}catch(gt){setTimeout(()=>{throw gt},0)}})};return G(I,uc.EventType.OPEN,()=>{k||(St(Un,`RPC '${t}' stream ${l} transport opened.`),H.__())}),G(I,uc.EventType.CLOSE,()=>{k||(k=!0,St(Un,`RPC '${t}' stream ${l} transport closed`),H.u_(),this.d_(I))}),G(I,uc.EventType.ERROR,Z=>{k||(k=!0,Wl(Un,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),H.u_(new It(ht.UNAVAILABLE,"The operation could not be completed")))}),G(I,uc.EventType.MESSAGE,Z=>{var tt;if(!k){const W=Z.data[0];me(!!W,16349);const nt=W,gt=(nt==null?void 0:nt.error)||((tt=nt[0])===null||tt===void 0?void 0:tt.error);if(gt){St(Un,`RPC '${t}' stream ${l} received error:`,gt);const Tt=gt.status;let Pt=function(M){const B=nn[M];if(B!==void 0)return vw(B)}(Tt),z=gt.message;Pt===void 0&&(Pt=ht.INTERNAL,z="Unknown error status: "+Tt+" with message "+gt.message),k=!0,H.u_(new It(Pt,z)),I.close()}else St(Un,`RPC '${t}' stream ${l} received:`,W),H.c_(W)}}),G(_,kE.STAT_EVENT,Z=>{Z.stat===gp.PROXY?St(Un,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===gp.NOPROXY&&St(Un,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{H.a_()},0),H}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(e=>e===t)}}function np(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $f(i){return new Ox(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(t,e,s=1e3,l=1.5,h=6e4){this.xi=t,this.timerId=e,this.A_=s,this.R_=l,this.V_=h,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const e=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),l=Math.max(0,e-s);l>0&&St("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.m_} ms, delay with jitter: ${e} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,l,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="PersistentStream";class Dw{constructor(t,e,s,l,h,d,_,y){this.xi=t,this.S_=s,this.D_=l,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=_,this.listener=y,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new Mw(t,e)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,e){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():e&&e.code===ht.RESOURCE_EXHAUSTED?(Ns(e.toString()),Ns("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):e&&e.code===ht.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(e)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),e=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.v_===e&&this.z_(s,l)},s=>{t(()=>{const l=new It(ht.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(l)})})}z_(t,e){const s=this.G_(this.v_);this.stream=this.H_(t,e),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(l=>{s(()=>this.j_(l))}),this.stream.onMessage(l=>{s(()=>++this.M_==1?this.J_(l):this.onNext(l))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return St(nT,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return e=>{this.xi.enqueueAndForget(()=>this.v_===t?e():(St(nT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class C2 extends Dw{constructor(t,e,s,l,h,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,s,l,d),this.serializer=h}H_(t,e){return this.connection.I_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const e=Dx(this.serializer,t),s=function(h){if(!("targetChange"in h))return Ft.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Ft.min():d.readTime?Kr(d.readTime):Ft.min()}(t);return this.listener.Y_(e,s)}Z_(t){const e={};e.database=Ip(this.serializer),e.addTarget=function(h,d){let _;const y=d.target;if(_=Ep(y)?{documents:Vx(h,y)}:{query:zx(h,y).gt},_.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){_.resumeToken=ww(h,d.resumeToken);const T=Ap(h,d.expectedCount);T!==null&&(_.expectedCount=T)}else if(d.snapshotVersion.compareTo(Ft.min())>0){_.readTime=bf(h,d.snapshotVersion.toTimestamp());const T=Ap(h,d.expectedCount);T!==null&&(_.expectedCount=T)}return _}(this.serializer,t);const s=Bx(this.serializer,t);s&&(e.labels=s),this.Q_(e)}X_(t){const e={};e.database=Ip(this.serializer),e.removeTarget=t,this.Q_(e)}}class x2 extends Dw{constructor(t,e,s,l,h,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,s,l,d),this.serializer=h}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,e){return this.connection.I_("Write",t,e)}J_(t){return me(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,me(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){me(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const e=kx(t.writeResults,t.commitTime),s=Kr(t.commitTime);return this.listener.ra(s,e)}ia(){const t={};t.database=Ip(this.serializer),this.Q_(t)}ta(t){const e={streamToken:this.lastStreamToken,writes:t.map(s=>Nx(this.serializer,s))};this.Q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{}class O2 extends P2{constructor(t,e,s,l){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=s,this.serializer=l,this.sa=!1}oa(){if(this.sa)throw new It(ht.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,e,s,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.zo(t,Sp(e,s),l,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new It(ht.UNKNOWN,h.toString())})}Yo(t,e,s,l,h){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,_])=>this.connection.Yo(t,Sp(e,s),l,d,_,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new It(ht.UNKNOWN,d.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class L2{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ns(e),this.ua=!1):St("OnlineStateTracker",e)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo="RemoteStore";class M2{constructor(t,e,s,l,h){this.localStore=t,this.datastore=e,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=h,this.Ra.No(d=>{s.enqueueAndForget(async()=>{el(this)&&(St(jo,"Restarting streams for network reachability change."),await async function(y){const T=Gt(y);T.da.add(4),await Uc(T),T.Va.set("Unknown"),T.da.delete(4),await Xf(T)}(this))})}),this.Va=new L2(s,l)}}async function Xf(i){if(el(i))for(const t of i.Aa)await t(!0)}async function Uc(i){for(const t of i.Aa)await t(!1)}function Nw(i,t){const e=Gt(i);e.Ea.has(t.targetId)||(e.Ea.set(t.targetId,t),Eg(e)?Tg(e):mu(e).N_()&&vg(e,t))}function yg(i,t){const e=Gt(i),s=mu(e);e.Ea.delete(t),s.N_()&&kw(e,t),e.Ea.size===0&&(s.N_()?s.k_():el(e)&&e.Va.set("Unknown"))}function vg(i,t){if(i.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ft.min())>0){const e=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}mu(i).Z_(t)}function kw(i,t){i.ma.Ke(t),mu(i).X_(t)}function Tg(i){i.ma=new Ix({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>i.Ea.get(t)||null,Pt:()=>i.datastore.serializer.databaseId}),mu(i).start(),i.Va.ca()}function Eg(i){return el(i)&&!mu(i).O_()&&i.Ea.size>0}function el(i){return Gt(i).da.size===0}function Vw(i){i.ma=void 0}async function D2(i){i.Va.set("Online")}async function N2(i){i.Ea.forEach((t,e)=>{vg(i,t)})}async function k2(i,t){Vw(i),Eg(i)?(i.Va.Pa(t),Tg(i)):i.Va.set("Unknown")}async function V2(i,t,e){if(i.Va.set("Online"),t instanceof Ew&&t.state===2&&t.cause)try{await async function(l,h){const d=h.cause;for(const _ of h.targetIds)l.Ea.has(_)&&(await l.remoteSyncer.rejectListen(_,d),l.Ea.delete(_),l.ma.removeTarget(_))}(i,t)}catch(s){St(jo,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Sf(i,s)}else if(t instanceof lf?i.ma.Xe(t):t instanceof Tw?i.ma.ot(t):i.ma.nt(t),!e.isEqual(Ft.min()))try{const s=await Lw(i.localStore);e.compareTo(s)>=0&&await function(h,d){const _=h.ma.It(d);return _.targetChanges.forEach((y,T)=>{if(y.resumeToken.approximateByteSize()>0){const A=h.Ea.get(T);A&&h.Ea.set(T,A.withResumeToken(y.resumeToken,d))}}),_.targetMismatches.forEach((y,T)=>{const A=h.Ea.get(y);if(!A)return;h.Ea.set(y,A.withResumeToken(xn.EMPTY_BYTE_STRING,A.snapshotVersion)),kw(h,y);const I=new Ua(A.target,y,T,A.sequenceNumber);vg(h,I)}),h.remoteSyncer.applyRemoteEvent(_)}(i,e)}catch(s){St(jo,"Failed to raise snapshot:",s),await Sf(i,s)}}async function Sf(i,t,e){if(!fu(t))throw t;i.da.add(1),await Uc(i),i.Va.set("Offline"),e||(e=()=>Lw(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{St(jo,"Retrying IndexedDB access"),await e(),i.da.delete(1),await Xf(i)})}function zw(i,t){return t().catch(e=>Sf(i,e,t))}async function Wf(i){const t=Gt(i),e=$a(t);let s=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:sg;for(;z2(t);)try{const l=await v2(t.localStore,s);if(l===null){t.Ia.length===0&&e.k_();break}s=l.batchId,U2(t,l)}catch(l){await Sf(t,l)}Uw(t)&&Bw(t)}function z2(i){return el(i)&&i.Ia.length<10}function U2(i,t){i.Ia.push(t);const e=$a(i);e.N_()&&e.ea&&e.ta(t.mutations)}function Uw(i){return el(i)&&!$a(i).O_()&&i.Ia.length>0}function Bw(i){$a(i).start()}async function B2(i){$a(i).ia()}async function H2(i){const t=$a(i);for(const e of i.Ia)t.ta(e.mutations)}async function q2(i,t,e){const s=i.Ia.shift(),l=hg.from(s,t,e);await zw(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),await Wf(i)}async function j2(i,t){t&&$a(i).ea&&await async function(s,l){if(function(d){return Sx(d)&&d!==ht.ABORTED}(l.code)){const h=s.Ia.shift();$a(s).L_(),await zw(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,l)),await Wf(s)}}(i,t),Uw(i)&&Bw(i)}async function iT(i,t){const e=Gt(i);e.asyncQueue.verifyOperationInProgress(),St(jo,"RemoteStore received new credentials");const s=el(e);e.da.add(3),await Uc(e),s&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.da.delete(3),await Xf(e)}async function F2(i,t){const e=Gt(i);t?(e.da.delete(2),await Xf(e)):t||(e.da.add(2),await Uc(e),e.Va.set("Unknown"))}function mu(i){return i.fa||(i.fa=function(e,s,l){const h=Gt(e);return h.oa(),new C2(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)}(i.datastore,i.asyncQueue,{e_:D2.bind(null,i),n_:N2.bind(null,i),i_:k2.bind(null,i),Y_:V2.bind(null,i)}),i.Aa.push(async t=>{t?(i.fa.L_(),Eg(i)?Tg(i):i.Va.set("Unknown")):(await i.fa.stop(),Vw(i))})),i.fa}function $a(i){return i.ga||(i.ga=function(e,s,l){const h=Gt(e);return h.oa(),new x2(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)}(i.datastore,i.asyncQueue,{e_:()=>Promise.resolve(),n_:B2.bind(null,i),i_:j2.bind(null,i),na:H2.bind(null,i),ra:q2.bind(null,i)}),i.Aa.push(async t=>{t?(i.ga.L_(),await Wf(i)):(await i.ga.stop(),i.Ia.length>0&&(St(jo,`Stopping write stream with ${i.Ia.length} pending writes`),i.Ia=[]))})),i.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(t,e,s,l,h){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=s,this.op=l,this.removalCallback=h,this.deferred=new Ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,s,l,h){const d=Date.now()+s,_=new wg(t,e,d,l,h);return _.start(s),_}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new It(ht.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bg(i,t){if(Ns("AsyncQueue",`${t}: ${i}`),fu(i))return new It(ht.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{static emptySet(t){return new Yl(t.comparator)}constructor(t){this.comparator=t?(e,s)=>t(e,s)||Dt.comparator(e.key,s.key):(e,s)=>Dt.comparator(e.key,s.key),this.keyedMap=cc(),this.sortedSet=new je(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,s)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Yl)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;e.hasNext();){const l=e.getNext().key,h=s.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const s=new Yl;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=e,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(){this.pa=new je(Dt.comparator)}track(t){const e=t.doc.key,s=this.pa.get(e);s?t.type!==0&&s.type===3?this.pa=this.pa.insert(e,t):t.type===3&&s.type!==1?this.pa=this.pa.insert(e,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.pa=this.pa.insert(e,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.pa=this.pa.insert(e,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.pa=this.pa.remove(e):t.type===1&&s.type===2?this.pa=this.pa.insert(e,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.pa=this.pa.insert(e,{type:2,doc:t.doc}):Ut(63341,{Vt:t,ya:s}):this.pa=this.pa.insert(e,t)}wa(){const t=[];return this.pa.inorderTraversal((e,s)=>{t.push(s)}),t}}class iu{constructor(t,e,s,l,h,d,_,y,T){this.query=t,this.docs=e,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=_,this.excludesMetadataChanges=y,this.hasCachedResults=T}static fromInitialDocuments(t,e,s,l,h){const d=[];return e.forEach(_=>{d.push({type:0,doc:_})}),new iu(t,e,Yl.emptySet(e),d,s,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Gf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,s=t.docChanges;if(e.length!==s.length)return!1;for(let l=0;l<e.length;l++)if(e[l].type!==s[l].type||!e[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class Z2{constructor(){this.queries=sT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,s){const l=Gt(e),h=l.queries;l.queries=sT(),h.forEach((d,_)=>{for(const y of _.Sa)y.onError(s)})})(this,new It(ht.ABORTED,"Firestore shutting down"))}}function sT(){return new Jo(i=>aw(i),Gf)}async function Ag(i,t){const e=Gt(i);let s=3;const l=t.query;let h=e.queries.get(l);h?!h.Da()&&t.va()&&(s=2):(h=new G2,s=t.va()?0:1);try{switch(s){case 0:h.ba=await e.onListen(l,!0);break;case 1:h.ba=await e.onListen(l,!1);break;case 2:await e.onFirstRemoteStoreListen(l)}}catch(d){const _=bg(d,`Initialization of query '${Fl(t.query)}' failed`);return void t.onError(_)}e.queries.set(l,h),h.Sa.push(t),t.Fa(e.onlineState),h.ba&&t.Ma(h.ba)&&Rg(e)}async function Sg(i,t){const e=Gt(i),s=t.query;let l=3;const h=e.queries.get(s);if(h){const d=h.Sa.indexOf(t);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?l=t.va()?0:1:!h.Da()&&t.va()&&(l=2))}switch(l){case 0:return e.queries.delete(s),e.onUnlisten(s,!0);case 1:return e.queries.delete(s),e.onUnlisten(s,!1);case 2:return e.onLastRemoteStoreUnlisten(s);default:return}}function K2(i,t){const e=Gt(i);let s=!1;for(const l of t){const h=l.query,d=e.queries.get(h);if(d){for(const _ of d.Sa)_.Ma(l)&&(s=!0);d.ba=l}}s&&Rg(e)}function Y2(i,t,e){const s=Gt(i),l=s.queries.get(t);if(l)for(const h of l.Sa)h.onError(e);s.queries.delete(t)}function Rg(i){i.Ca.forEach(t=>{t.next()})}var Pp,aT;(aT=Pp||(Pp={})).xa="default",aT.Cache="cache";class Ig{constructor(t,e,s){this.query=t,this.Oa=e,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new iu(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Na?this.La(t)&&(this.Oa.next(t),e=!0):this.ka(t,this.onlineState)&&(this.qa(t),e=!0),this.Ba=t,e}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let e=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),e=!0),e}ka(t,e){if(!t.fromCache||!this.va())return!0;const s=e!=="Offline";return(!this.options.Qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}La(t){if(t.docChanges.length>0)return!0;const e=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}qa(t){t=iu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==Pp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(t){this.key=t}}class qw{constructor(t){this.key=t}}class Q2{constructor(t,e){this.query=t,this.Ha=e,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ie(),this.mutatedKeys=ie(),this.Za=ow(t),this.Xa=new Yl(this.Za)}get eu(){return this.Ha}tu(t,e){const s=e?e.nu:new rT,l=e?e.Xa:this.Xa;let h=e?e.mutatedKeys:this.mutatedKeys,d=l,_=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,T=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((A,I)=>{const C=l.get(A),k=Zf(this.query,I)?I:null,H=!!C&&this.mutatedKeys.has(C.key),G=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let Z=!1;C&&k?C.data.isEqual(k.data)?H!==G&&(s.track({type:3,doc:k}),Z=!0):this.ru(C,k)||(s.track({type:2,doc:k}),Z=!0,(y&&this.Za(k,y)>0||T&&this.Za(k,T)<0)&&(_=!0)):!C&&k?(s.track({type:0,doc:k}),Z=!0):C&&!k&&(s.track({type:1,doc:C}),Z=!0,(y||T)&&(_=!0)),Z&&(k?(d=d.add(k),h=G?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),s.track({type:1,doc:A})}return{Xa:d,nu:s,Cs:_,mutatedKeys:h}}ru(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,s,l){const h=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const d=t.nu.wa();d.sort((A,I)=>function(k,H){const G=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ut(20277,{Vt:Z})}};return G(k)-G(H)}(A.type,I.type)||this.Za(A.doc,I.doc)),this.iu(s),l=l!=null&&l;const _=e&&!l?this.su():[],y=this.Ya.size===0&&this.current&&!l?1:0,T=y!==this.Ja;return this.Ja=y,d.length!==0||T?{snapshot:new iu(this.query,t.Xa,h,d,t.mutatedKeys,y===0,T,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:_}:{ou:_}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new rT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=ie(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const e=[];return t.forEach(s=>{this.Ya.has(s)||e.push(new qw(s))}),this.Ya.forEach(s=>{t.has(s)||e.push(new Hw(s))}),e}au(t){this.Ha=t.$s,this.Ya=ie();const e=this.tu(t.documents);return this.applyChanges(e,!0)}uu(){return iu.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Cg="SyncEngine";class $2{constructor(t,e,s){this.query=t,this.targetId=e,this.view=s}}class X2{constructor(t){this.key=t,this.cu=!1}}class W2{constructor(t,e,s,l,h,d){this.localStore=t,this.remoteStore=e,this.eventManager=s,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.lu={},this.hu=new Jo(_=>aw(_),Gf),this.Pu=new Map,this.Tu=new Set,this.Iu=new je(Dt.comparator),this.Eu=new Map,this.du=new mg,this.Au={},this.Ru=new Map,this.Vu=nu.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function J2(i,t,e=!0){const s=Yw(i);let l;const h=s.hu.get(t);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.uu()):l=await jw(s,t,e,!0),l}async function tP(i,t){const e=Yw(i);await jw(e,t,!0,!1)}async function jw(i,t,e,s){const l=await T2(i.localStore,Zr(t)),h=l.targetId,d=i.sharedClientState.addLocalQueryTarget(h,e);let _;return s&&(_=await eP(i,t,h,d==="current",l.resumeToken)),i.isPrimaryClient&&e&&Nw(i.remoteStore,l),_}async function eP(i,t,e,s,l){i.fu=(I,C,k)=>async function(G,Z,tt,W){let nt=Z.view.tu(tt);nt.Cs&&(nt=await W0(G.localStore,Z.query,!1).then(({documents:z})=>Z.view.tu(z,nt)));const gt=W&&W.targetChanges.get(Z.targetId),Tt=W&&W.targetMismatches.get(Z.targetId)!=null,Pt=Z.view.applyChanges(nt,G.isPrimaryClient,gt,Tt);return lT(G,Z.targetId,Pt.ou),Pt.snapshot}(i,I,C,k);const h=await W0(i.localStore,t,!0),d=new Q2(t,h.$s),_=d.tu(h.documents),y=zc.createSynthesizedTargetChangeForCurrentChange(e,s&&i.onlineState!=="Offline",l),T=d.applyChanges(_,i.isPrimaryClient,y);lT(i,e,T.ou);const A=new $2(t,e,d);return i.hu.set(t,A),i.Pu.has(e)?i.Pu.get(e).push(t):i.Pu.set(e,[t]),T.snapshot}async function nP(i,t,e){const s=Gt(i),l=s.hu.get(t),h=s.Pu.get(l.targetId);if(h.length>1)return s.Pu.set(l.targetId,h.filter(d=>!Gf(d,t))),void s.hu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Cp(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),e&&yg(s.remoteStore,l.targetId),Op(s,l.targetId)}).catch(hu)):(Op(s,l.targetId),await Cp(s.localStore,l.targetId,!0))}async function iP(i,t){const e=Gt(i),s=e.hu.get(t),l=e.Pu.get(s.targetId);e.isPrimaryClient&&l.length===1&&(e.sharedClientState.removeLocalQueryTarget(s.targetId),yg(e.remoteStore,s.targetId))}async function rP(i,t,e){const s=hP(i);try{const l=await function(d,_){const y=Gt(d),T=un.now(),A=_.reduce((k,H)=>k.add(H.key),ie());let I,C;return y.persistence.runTransaction("Locally write mutations","readwrite",k=>{let H=ks(),G=ie();return y.Bs.getEntries(k,A).next(Z=>{H=Z,H.forEach((tt,W)=>{W.isValidDocument()||(G=G.add(tt))})}).next(()=>y.localDocuments.getOverlayedDocuments(k,H)).next(Z=>{I=Z;const tt=[];for(const W of _){const nt=Tx(W,I.get(W.key).overlayedDocument);nt!=null&&tt.push(new tl(W.key,nt,WE(nt.value.mapValue),Os.exists(!0)))}return y.mutationQueue.addMutationBatch(k,T,tt,_)}).next(Z=>{C=Z;const tt=Z.applyToLocalDocumentSet(I,G);return y.documentOverlayCache.saveOverlays(k,Z.batchId,tt)})}).then(()=>({batchId:C.batchId,changes:uw(I)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),function(d,_,y){let T=d.Au[d.currentUser.toKey()];T||(T=new je(Qt)),T=T.insert(_,y),d.Au[d.currentUser.toKey()]=T}(s,l.batchId,e),await Bc(s,l.changes),await Wf(s.remoteStore)}catch(l){const h=bg(l,"Failed to persist write");e.reject(h)}}async function Fw(i,t){const e=Gt(i);try{const s=await _2(e.localStore,t);t.targetChanges.forEach((l,h)=>{const d=e.Eu.get(h);d&&(me(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.cu=!0:l.modifiedDocuments.size>0?me(d.cu,14607):l.removedDocuments.size>0&&(me(d.cu,42227),d.cu=!1))}),await Bc(e,s,t)}catch(s){await hu(s)}}function oT(i,t,e){const s=Gt(i);if(s.isPrimaryClient&&e===0||!s.isPrimaryClient&&e===1){const l=[];s.hu.forEach((h,d)=>{const _=d.view.Fa(t);_.snapshot&&l.push(_.snapshot)}),function(d,_){const y=Gt(d);y.onlineState=_;let T=!1;y.queries.forEach((A,I)=>{for(const C of I.Sa)C.Fa(_)&&(T=!0)}),T&&Rg(y)}(s.eventManager,t),l.length&&s.lu.Y_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function sP(i,t,e){const s=Gt(i);s.sharedClientState.updateQueryState(t,"rejected",e);const l=s.Eu.get(t),h=l&&l.key;if(h){let d=new je(Dt.comparator);d=d.insert(h,Hn.newNoDocument(h,Ft.min()));const _=ie().add(h),y=new Qf(Ft.min(),new Map,new je(Qt),d,_);await Fw(s,y),s.Iu=s.Iu.remove(h),s.Eu.delete(t),xg(s)}else await Cp(s.localStore,t,!1).then(()=>Op(s,t,e)).catch(hu)}async function aP(i,t){const e=Gt(i),s=t.batch.batchId;try{const l=await g2(e.localStore,t);Zw(e,s,null),Gw(e,s),e.sharedClientState.updateMutationState(s,"acknowledged"),await Bc(e,l)}catch(l){await hu(l)}}async function oP(i,t,e){const s=Gt(i);try{const l=await function(d,_){const y=Gt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",T=>{let A;return y.mutationQueue.lookupMutationBatch(T,_).next(I=>(me(I!==null,37113),A=I.keys(),y.mutationQueue.removeMutationBatch(T,I))).next(()=>y.mutationQueue.performConsistencyCheck(T)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(T,A,_)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(T,A)).next(()=>y.localDocuments.getDocuments(T,A))})}(s.localStore,t);Zw(s,t,e),Gw(s,t),s.sharedClientState.updateMutationState(t,"rejected",e),await Bc(s,l)}catch(l){await hu(l)}}function Gw(i,t){(i.Ru.get(t)||[]).forEach(e=>{e.resolve()}),i.Ru.delete(t)}function Zw(i,t,e){const s=Gt(i);let l=s.Au[s.currentUser.toKey()];if(l){const h=l.get(t);h&&(e?h.reject(e):h.resolve(),l=l.remove(t)),s.Au[s.currentUser.toKey()]=l}}function Op(i,t,e=null){i.sharedClientState.removeLocalQueryTarget(t);for(const s of i.Pu.get(t))i.hu.delete(s),e&&i.lu.gu(s,e);i.Pu.delete(t),i.isPrimaryClient&&i.du.Hr(t).forEach(s=>{i.du.containsKey(s)||Kw(i,s)})}function Kw(i,t){i.Tu.delete(t.path.canonicalString());const e=i.Iu.get(t);e!==null&&(yg(i.remoteStore,e),i.Iu=i.Iu.remove(t),i.Eu.delete(e),xg(i))}function lT(i,t,e){for(const s of e)s instanceof Hw?(i.du.addReference(s.key,t),lP(i,s)):s instanceof qw?(St(Cg,"Document no longer in limbo: "+s.key),i.du.removeReference(s.key,t),i.du.containsKey(s.key)||Kw(i,s.key)):Ut(19791,{pu:s})}function lP(i,t){const e=t.key,s=e.path.canonicalString();i.Iu.get(e)||i.Tu.has(s)||(St(Cg,"New document in limbo: "+e),i.Tu.add(s),xg(i))}function xg(i){for(;i.Tu.size>0&&i.Iu.size<i.maxConcurrentLimboResolutions;){const t=i.Tu.values().next().value;i.Tu.delete(t);const e=new Dt(ke.fromString(t)),s=i.Vu.next();i.Eu.set(s,new X2(e)),i.Iu=i.Iu.insert(e,s),Nw(i.remoteStore,new Ua(Zr(Ff(e.path)),s,"TargetPurposeLimboResolution",Hf.le))}}async function Bc(i,t,e){const s=Gt(i),l=[],h=[],d=[];s.hu.isEmpty()||(s.hu.forEach((_,y)=>{d.push(s.fu(y,t,e).then(T=>{var A;if((T||e)&&s.isPrimaryClient){const I=T?!T.fromCache:(A=e==null?void 0:e.targetChanges.get(y.targetId))===null||A===void 0?void 0:A.current;s.sharedClientState.updateQueryState(y.targetId,I?"current":"not-current")}if(T){l.push(T);const I=gg.Rs(y.targetId,T);h.push(I)}}))}),await Promise.all(d),s.lu.Y_(l),await async function(y,T){const A=Gt(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>ft.forEach(T,C=>ft.forEach(C.ds,k=>A.persistence.referenceDelegate.addReference(I,C.targetId,k)).next(()=>ft.forEach(C.As,k=>A.persistence.referenceDelegate.removeReference(I,C.targetId,k)))))}catch(I){if(!fu(I))throw I;St(_g,"Failed to update sequence numbers: "+I)}for(const I of T){const C=I.targetId;if(!I.fromCache){const k=A.xs.get(C),H=k.snapshotVersion,G=k.withLastLimboFreeSnapshotVersion(H);A.xs=A.xs.insert(C,G)}}}(s.localStore,h))}async function uP(i,t){const e=Gt(i);if(!e.currentUser.isEqual(t)){St(Cg,"User change. New user:",t.toKey());const s=await Ow(e.localStore,t);e.currentUser=t,function(h,d){h.Ru.forEach(_=>{_.forEach(y=>{y.reject(new It(ht.CANCELLED,d))})}),h.Ru.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Bc(e,s.ks)}}function cP(i,t){const e=Gt(i),s=e.Eu.get(t);if(s&&s.cu)return ie().add(s.key);{let l=ie();const h=e.Pu.get(t);if(!h)return l;for(const d of h){const _=e.hu.get(d);l=l.unionWith(_.view.eu)}return l}}function Yw(i){const t=Gt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=Fw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=cP.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=sP.bind(null,t),t.lu.Y_=K2.bind(null,t.eventManager),t.lu.gu=Y2.bind(null,t.eventManager),t}function hP(i){const t=Gt(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=aP.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=oP.bind(null,t),t}class Rf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=$f(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,e){return null}Cu(t,e){return null}Du(t){return p2(this.persistence,new f2,t.initialUser,this.serializer)}Su(t){return new Pw(pg.fi,this.serializer)}bu(t){return new w2}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rf.provider={build:()=>new Rf};class fP extends Rf{constructor(t){super(),this.cacheSizeBytes=t}vu(t,e){me(this.persistence.referenceDelegate instanceof Af,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Xx(s,t.asyncQueue,e)}Su(t){const e=this.cacheSizeBytes!==void 0?ai.withCacheSize(this.cacheSizeBytes):ai.DEFAULT;return new Pw(s=>Af.fi(s,e),this.serializer)}}class Lp{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>oT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=uP.bind(null,this.syncEngine),await F2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new Z2}()}createDatastore(t){const e=$f(t.databaseInfo.databaseId),s=function(h){return new I2(h)}(t.databaseInfo);return function(h,d,_,y){return new O2(h,d,_,y)}(t.authCredentials,t.appCheckCredentials,s,e)}createRemoteStore(t){return function(s,l,h,d,_){return new M2(s,l,h,d,_)}(this.localStore,this.datastore,t.asyncQueue,e=>oT(this.syncEngine,e,0),function(){return eT.C()?new eT:new b2}())}createSyncEngine(t,e){return function(l,h,d,_,y,T,A){const I=new W2(l,h,d,_,y,T);return A&&(I.mu=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(l){const h=Gt(l);St(jo,"RemoteStore shutting down."),h.da.add(5),await Uc(h),h.Ra.shutdown(),h.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}Lp.provider={build:()=>new Lp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):Ns("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa="FirestoreClient";class dP{constructor(t,e,s,l,h){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=s,this.databaseInfo=l,this.user=Bn.UNAUTHENTICATED,this.clientId=qE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async d=>{St(Xa,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(St(Xa,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const s=bg(e,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function ip(i,t){i.asyncQueue.verifyOperationInProgress(),St(Xa,"Initializing OfflineComponentProvider");const e=i.configuration;await t.initialize(e);let s=e.initialUser;i.setCredentialChangeListener(async l=>{s.isEqual(l)||(await Ow(t.localStore,l),s=l)}),t.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=t}async function uT(i,t){i.asyncQueue.verifyOperationInProgress();const e=await mP(i);St(Xa,"Initializing OnlineComponentProvider"),await t.initialize(e,i.configuration),i.setCredentialChangeListener(s=>iT(t.remoteStore,s)),i.setAppCheckTokenChangeListener((s,l)=>iT(t.remoteStore,l)),i._onlineComponents=t}async function mP(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){St(Xa,"Using user provided OfflineComponentProvider");try{await ip(i,i._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(l){return l.name==="FirebaseError"?l.code===ht.FAILED_PRECONDITION||l.code===ht.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(e))throw e;Wl("Error using user provided cache. Falling back to memory cache: "+e),await ip(i,new Rf)}}else St(Xa,"Using default OfflineComponentProvider"),await ip(i,new fP(void 0));return i._offlineComponents}async function Qw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(St(Xa,"Using user provided OnlineComponentProvider"),await uT(i,i._uninitializedComponentsProvider._online)):(St(Xa,"Using default OnlineComponentProvider"),await uT(i,new Lp))),i._onlineComponents}function pP(i){return Qw(i).then(t=>t.syncEngine)}async function If(i){const t=await Qw(i),e=t.eventManager;return e.onListen=J2.bind(null,t.syncEngine),e.onUnlisten=nP.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=tP.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=iP.bind(null,t.syncEngine),e}function gP(i,t,e={}){const s=new Ps;return i.asyncQueue.enqueueAndForget(async()=>function(h,d,_,y,T){const A=new Pg({next:C=>{A.xu(),d.enqueueAndForget(()=>Sg(h,I));const k=C.docs.has(_);!k&&C.fromCache?T.reject(new It(ht.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&C.fromCache&&y&&y.source==="server"?T.reject(new It(ht.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):T.resolve(C)},error:C=>T.reject(C)}),I=new Ig(Ff(_.path),A,{includeMetadataChanges:!0,Qa:!0});return Ag(h,I)}(await If(i),i.asyncQueue,t,e,s)),s.promise}function _P(i,t,e={}){const s=new Ps;return i.asyncQueue.enqueueAndForget(async()=>function(h,d,_,y,T){const A=new Pg({next:C=>{A.xu(),d.enqueueAndForget(()=>Sg(h,I)),C.fromCache&&y.source==="server"?T.reject(new It(ht.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):T.resolve(C)},error:C=>T.reject(C)}),I=new Ig(_,A,{includeMetadataChanges:!0,Qa:!0});return Ag(h,I)}(await If(i),i.asyncQueue,t,e,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(i,t,e){if(!e)throw new It(ht.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function yP(i,t,e,s){if(t===!0&&s===!0)throw new It(ht.INVALID_ARGUMENT,`${i} and ${e} cannot be used together.`)}function hT(i){if(!Dt.isDocumentKey(i))throw new It(ht.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function fT(i){if(Dt.isDocumentKey(i))throw new It(ht.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Jf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":Ut(12329,{type:typeof i})}function Ls(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new It(ht.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Jf(i);throw new It(ht.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww="firestore.googleapis.com",dT=!0;class mT{constructor(t){var e,s;if(t.host===void 0){if(t.ssl!==void 0)throw new It(ht.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Ww,this.ssl=dT}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:dT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=xw;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Qx)throw new It(ht.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}yP("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$w((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new It(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new It(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new It(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class td{constructor(t,e,s,l){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new It(ht.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new It(ht.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new SC;switch(s.type){case"firstParty":return new xC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new It(ht.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const s=cT.get(e);s&&(St("ComponentProvider","Removing Datastore"),cT.delete(e),s.terminate())}(this),Promise.resolve()}}function vP(i,t,e,s={}){var l;i=Ls(i,td);const h=lu(t),d=i._getSettings(),_=Object.assign(Object.assign({},d),{emulatorOptions:i._getEmulatorOptions()}),y=`${t}:${e}`;h&&(AE(`https://${y}`),SE("Firestore",!0)),d.host!==Ww&&d.host!==y&&Wl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const T=Object.assign(Object.assign({},d),{host:y,ssl:h,emulatorOptions:s});if(!Ga(T,_)&&(i._setSettings(T),s.mockUserToken)){let A,I;if(typeof s.mockUserToken=="string")A=s.mockUserToken,I=Bn.MOCK_USER;else{A=WR(s.mockUserToken,(l=i._app)===null||l===void 0?void 0:l.options.projectId);const C=s.mockUserToken.sub||s.mockUserToken.user_id;if(!C)throw new It(ht.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");I=new Bn(C)}i._authCredentials=new RC(new BE(A,I))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(t,e,s){this.converter=e,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Ja(this.firestore,t,this._query)}}class oi{constructor(t,e,s){this.converter=e,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ja(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new oi(this.firestore,t,this._key)}}class ja extends Ja{constructor(t,e,s){super(t,e,Ff(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new oi(this.firestore,null,new Dt(t))}withConverter(t){return new ja(this.firestore,t,this._path)}}function ru(i,t,...e){if(i=jn(i),Xw("collection","path",t),i instanceof td){const s=ke.fromString(t,...e);return fT(s),new ja(i,null,s)}{if(!(i instanceof oi||i instanceof ja))throw new It(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ke.fromString(t,...e));return fT(s),new ja(i.firestore,null,s)}}function Jw(i,t,...e){if(i=jn(i),arguments.length===1&&(t=qE.newId()),Xw("doc","path",t),i instanceof td){const s=ke.fromString(t,...e);return hT(s),new oi(i,null,new Dt(s))}{if(!(i instanceof oi||i instanceof ja))throw new It(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ke.fromString(t,...e));return hT(s),new oi(i.firestore,i instanceof ja?i.converter:null,new Dt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="AsyncQueue";class gT{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new Mw(this,"async_queue_retry"),this.rc=()=>{const s=np();s&&St(pT,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=t;const e=np();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const e=np();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const e=new Ps;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!fu(t))throw t;St(pT,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const e=this.sc.then(()=>(this.ec=!0,t().catch(s=>{throw this.Xu=s,this.ec=!1,Ns("INTERNAL UNHANDLED ERROR: ",_T(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=e,e}enqueueAfterDelay(t,e,s){this.oc(),this.nc.indexOf(t)>-1&&(e=0);const l=wg.createAndSchedule(this,t,e,s,h=>this.uc(h));return this.Zu.push(l),l}oc(){this.Xu&&Ut(47125,{cc:_T(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const e of this.Zu)if(e.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((e,s)=>e.targetTimeMs-s.targetTimeMs);for(const e of this.Zu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const e=this.Zu.indexOf(t);this.Zu.splice(e,1)}}function _T(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(i){return function(e,s){if(typeof e!="object"||e===null)return!1;const l=e;for(const h of s)if(h in l&&typeof l[h]=="function")return!0;return!1}(i,["next","error","complete"])}class su extends td{constructor(t,e,s,l){super(t,e,s,l),this.type="firestore",this._queue=new gT,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new gT(t),this._firestoreClient=void 0,await t}}}function TP(i,t){const e=typeof i=="object"?i:ig(),s=typeof i=="string"?i:vf,l=Xo(e,"firestore").getImmediate({identifier:s});if(!l._initialized){const h=$R("firestore");h&&vP(l,...h)}return l}function ed(i){if(i._terminated)throw new It(ht.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||EP(i),i._firestoreClient}function EP(i){var t,e,s;const l=i._freezeSettings(),h=function(_,y,T,A){return new FC(_,y,T,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,$w(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(i._databaseId,((t=i._app)===null||t===void 0?void 0:t.options.appId)||"",i._persistenceKey,l);i._componentsProvider||!((e=l.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),i._firestoreClient=new dP(i._authCredentials,i._appCheckCredentials,i._queue,h,i._componentsProvider&&function(_){const y=_==null?void 0:_._online.build();return{_offline:_==null?void 0:_._offline.build(y),_online:y}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(t){this._byteString=t}static fromBase64String(t){try{return new au(xn.fromBase64String(t))}catch(e){throw new It(ht.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new au(xn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new It(ht.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new It(ht.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new It(ht.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Qt(this._lat,t._lat)||Qt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,l){if(s.length!==l.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==l[h])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP=/^__.*__$/;class bP{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return this.fieldMask!==null?new tl(t,this.data,this.fieldMask,e,this.fieldTransforms):new Vc(t,this.data,e,this.fieldTransforms)}}function tb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ut(40011,{Ic:i})}}class Ng{constructor(t,e,s,l,h,d){this.settings=t,this.databaseId=e,this.serializer=s,this.ignoreUndefinedProperties=l,h===void 0&&this.Ec(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new Ng(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var e;const s=(e=this.path)===null||e===void 0?void 0:e.child(t),l=this.dc({path:s,Rc:!1});return l.Vc(t),l}mc(t){var e;const s=(e=this.path)===null||e===void 0?void 0:e.child(t),l=this.dc({path:s,Rc:!1});return l.Ec(),l}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return Cf(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(tb(this.Ic)&&wP.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class AP{constructor(t,e,s){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=s||$f(t)}bc(t,e,s,l=!1){return new Ng({Ic:t,methodName:e,wc:s,path:Cn.emptyPath(),Rc:!1,yc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function eb(i){const t=i._freezeSettings(),e=$f(i._databaseId);return new AP(i._databaseId,!!t.ignoreUndefinedProperties,e)}function SP(i,t,e,s,l,h={}){const d=i.bc(h.merge||h.mergeFields?2:0,t,e,l);rb("Data must be an object, but it was:",d,s);const _=nb(s,d);let y,T;if(h.merge)y=new Tr(d.fieldMask),T=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const I of h.mergeFields){const C=IP(t,I,e);if(!d.contains(C))throw new It(ht.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);xP(A,C)||A.push(C)}y=new Tr(A),T=d.fieldTransforms.filter(I=>y.covers(I.field))}else y=null,T=d.fieldTransforms;return new bP(new Wi(_),y,T)}class kg extends Lg{_toFieldTransform(t){return new gx(t.path,new Ic)}isEqual(t){return t instanceof kg}}function RP(i,t,e,s=!1){return Vg(e,i.bc(s?4:3,t))}function Vg(i,t){if(ib(i=jn(i)))return rb("Unsupported field value:",t,i),nb(i,t);if(i instanceof Lg)return function(s,l){if(!tb(l.Ic))throw l.gc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.gc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(l);h&&l.fieldTransforms.push(h)}(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(s,l){const h=[];let d=0;for(const _ of s){let y=Vg(_,l.fc(d));y==null&&(y={nullValue:"NULL_VALUE"}),h.push(y),d++}return{arrayValue:{values:h}}}(i,t)}return function(s,l){if((s=jn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return dx(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=un.fromDate(s);return{timestampValue:bf(l.serializer,h)}}if(s instanceof un){const h=new un(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:bf(l.serializer,h)}}if(s instanceof Mg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof au)return{bytesValue:ww(l.serializer,s._byteString)};if(s instanceof oi){const h=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw l.gc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:dg(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Dg)return function(d,_){return{mapValue:{fields:{[$E]:{stringValue:XE},[Tf]:{arrayValue:{values:d.toArray().map(T=>{if(typeof T!="number")throw _.gc("VectorValues must only contain numeric values.");return cg(_.serializer,T)})}}}}}}(s,l);throw l.gc(`Unsupported field value: ${Jf(s)}`)}(i,t)}function nb(i,t){const e={};return FE(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Wo(i,(s,l)=>{const h=Vg(l,t.Ac(s));h!=null&&(e[s]=h)}),{mapValue:{fields:e}}}function ib(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof un||i instanceof Mg||i instanceof au||i instanceof oi||i instanceof Lg||i instanceof Dg)}function rb(i,t,e){if(!ib(e)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(e)){const s=Jf(e);throw s==="an object"?t.gc(i+" a custom object"):t.gc(i+" "+s)}}function IP(i,t,e){if((t=jn(t))instanceof Og)return t._internalPath;if(typeof t=="string")return sb(i,t);throw Cf("Field path arguments must be of type string or ",i,!1,void 0,e)}const CP=new RegExp("[~\\*/\\[\\]]");function sb(i,t,e){if(t.search(CP)>=0)throw Cf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,e);try{return new Og(...t.split("."))._internalPath}catch{throw Cf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,e)}}function Cf(i,t,e,s,l){const h=s&&!s.isEmpty(),d=l!==void 0;let _=`Function ${t}() called with invalid data`;e&&(_+=" (via `toFirestore()`)"),_+=". ";let y="";return(h||d)&&(y+=" (found",h&&(y+=` in field ${s}`),d&&(y+=` in document ${l}`),y+=")"),new It(ht.INVALID_ARGUMENT,_+i+y)}function xP(i,t){return i.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(t,e,s,l,h){this._firestore=t,this._userDataWriter=e,this._key=s,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new oi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new PP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(zg("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class PP extends ab{data(){return super.data()}}function zg(i,t){return typeof t=="string"?sb(i,t):t instanceof Og?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new It(ht.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ug{}class lb extends Ug{}function ub(i,t,...e){let s=[];t instanceof Ug&&s.push(t),s=s.concat(e),function(h){const d=h.filter(y=>y instanceof Hg).length,_=h.filter(y=>y instanceof Bg).length;if(d>1||d>0&&_>0)throw new It(ht.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)i=l._apply(i);return i}class Bg extends lb{constructor(t,e,s){super(),this._field=t,this._op=e,this._value=s,this.type="where"}static _create(t,e,s){return new Bg(t,e,s)}_apply(t){const e=this._parse(t);return cb(t._query,e),new Ja(t.firestore,t.converter,wp(t._query,e))}_parse(t){const e=eb(t.firestore);return function(h,d,_,y,T,A,I){let C;if(T.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new It(ht.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){TT(I,A);const H=[];for(const G of I)H.push(vT(y,h,G));C={arrayValue:{values:H}}}else C=vT(y,h,I)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||TT(I,A),C=RP(_,d,I,A==="in"||A==="not-in");return rn.create(T,A,C)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class Hg extends Ug{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Hg(t,e)}_parse(t){const e=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return e.length===1?e[0]:Ar.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(l,h){let d=l;const _=h.getFlattenedFilters();for(const y of _)cb(d,y),d=wp(d,y)}(t._query,e),new Ja(t.firestore,t.converter,wp(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class qg extends lb{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new qg(t,e)}_apply(t){const e=function(l,h,d){if(l.startAt!==null)throw new It(ht.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new It(ht.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Rc(h,d)}(t._query,this._field,this._direction);return new Ja(t.firestore,t.converter,function(l,h){const d=l.explicitOrderBy.concat([h]);return new du(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(t._query,e))}}function OP(i,t="asc"){const e=t,s=zg("orderBy",i);return qg._create(s,e)}function vT(i,t,e){if(typeof(e=jn(e))=="string"){if(e==="")throw new It(ht.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sw(t)&&e.indexOf("/")!==-1)throw new It(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const s=t.path.child(ke.fromString(e));if(!Dt.isDocumentKey(s))throw new It(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return M0(i,new Dt(s))}if(e instanceof oi)return M0(i,e._key);throw new It(ht.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jf(e)}.`)}function TT(i,t){if(!Array.isArray(i)||i.length===0)throw new It(ht.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function cb(i,t){const e=function(l,h){for(const d of l)for(const _ of d.getFlattenedFilters())if(h.indexOf(_.op)>=0)return _.op;return null}(i.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new It(ht.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new It(ht.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class LP{convertValue(t,e="none"){switch(Qa(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Xe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Ya(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Ut(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const s={};return Wo(t,(l,h)=>{s[l]=this.convertValue(h,e)}),s}convertVectorValue(t){var e,s,l;const h=(l=(s=(e=t.fields)===null||e===void 0?void 0:e[Tf].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(d=>Xe(d.doubleValue));return new Dg(h)}convertGeoPoint(t){return new Mg(Xe(t.latitude),Xe(t.longitude))}convertArray(t,e){return(t.values||[]).map(s=>this.convertValue(s,e))}convertServerTimestamp(t,e){switch(e){case"previous":const s=jf(t);return s==null?null:this.convertValue(s,e);case"estimate":return this.convertTimestamp(bc(t));default:return null}}convertTimestamp(t){const e=Ka(t);return new un(e.seconds,e.nanos)}convertDocumentKey(t,e){const s=ke.fromString(t);me(Cw(s),9688,{name:t});const l=new Ac(s.get(1),s.get(3)),h=new Dt(s.popFirst(5));return l.isEqual(e)||Ns(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(i,t,e){let s;return s=i?i.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class hb extends ab{constructor(t,e,s,l,h,d){super(t,e,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new uf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const s=this._document.data.field(zg("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,e.serverTimestamps)}}}class uf extends hb{data(t={}){return super.data(t)}}class fb{constructor(t,e,s,l){this._firestore=t,this._userDataWriter=e,this._snapshot=l,this.metadata=new fc(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(s=>{t.call(e,new uf(this._firestore,this._userDataWriter,s.key,s,new fc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new It(ht.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(l,h){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map(_=>{const y=new uf(l._firestore,l._userDataWriter,_.doc.key,_.doc,new fc(l._snapshot.mutatedKeys.has(_.doc.key),l._snapshot.fromCache),l.query.converter);return _.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}})}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(_=>h||_.type!==3).map(_=>{const y=new uf(l._firestore,l._userDataWriter,_.doc.key,_.doc,new fc(l._snapshot.mutatedKeys.has(_.doc.key),l._snapshot.fromCache),l.query.converter);let T=-1,A=-1;return _.type!==0&&(T=d.indexOf(_.doc.key),d=d.delete(_.doc.key)),_.type!==1&&(d=d.add(_.doc),A=d.indexOf(_.doc.key)),{type:DP(_.type),doc:y,oldIndex:T,newIndex:A}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function DP(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ut(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(i){i=Ls(i,oi);const t=Ls(i.firestore,su);return gP(ed(t),i._key).then(e=>pb(t,i,e))}class jg extends LP{constructor(t){super(),this.firestore=t}convertBytes(t){return new au(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new oi(this.firestore,null,e)}}function ET(i){i=Ls(i,Ja);const t=Ls(i.firestore,su),e=ed(t),s=new jg(t);return ob(i._query),_P(e,i._query).then(l=>new fb(t,s,i,l))}function db(i,t){const e=Ls(i.firestore,su),s=Jw(i),l=MP(i.converter,t);return kP(e,[SP(eb(i.firestore),"addDoc",s._key,l,i.converter!==null,{}).toMutation(s._key,Os.exists(!1))]).then(()=>s)}function mb(i,...t){var e,s,l;i=jn(i);let h={includeMetadataChanges:!1,source:"default"},d=0;typeof t[d]!="object"||yT(t[d])||(h=t[d],d++);const _={includeMetadataChanges:h.includeMetadataChanges,source:h.source};if(yT(t[d])){const I=t[d];t[d]=(e=I.next)===null||e===void 0?void 0:e.bind(I),t[d+1]=(s=I.error)===null||s===void 0?void 0:s.bind(I),t[d+2]=(l=I.complete)===null||l===void 0?void 0:l.bind(I)}let y,T,A;if(i instanceof oi)T=Ls(i.firestore,su),A=Ff(i._key.path),y={next:I=>{t[d]&&t[d](pb(T,i,I))},error:t[d+1],complete:t[d+2]};else{const I=Ls(i,Ja);T=Ls(I.firestore,su),A=I._query;const C=new jg(T);y={next:k=>{t[d]&&t[d](new fb(T,C,I,k))},error:t[d+1],complete:t[d+2]},ob(i._query)}return function(C,k,H,G){const Z=new Pg(G),tt=new Ig(k,Z,H);return C.asyncQueue.enqueueAndForget(async()=>Ag(await If(C),tt)),()=>{Z.xu(),C.asyncQueue.enqueueAndForget(async()=>Sg(await If(C),tt))}}(ed(T),A,_,y)}function kP(i,t){return function(s,l){const h=new Ps;return s.asyncQueue.enqueueAndForget(async()=>rP(await pP(s),l,h)),h.promise}(ed(i),t)}function pb(i,t,e){const s=e.docs.get(t._key),l=new jg(i);return new hb(i,l,t._key,s,new fc(e.hasPendingWrites,e.fromCache),t.converter)}function VP(){return new kg("serverTimestamp")}(function(t,e=!0){(function(l){cu=l})(uu),$r(new br("firestore",(s,{instanceIdentifier:l,options:h})=>{const d=s.getProvider("app").getImmediate(),_=new su(new IC(s.getProvider("auth-internal")),new PC(d,s.getProvider("app-check-internal")),function(T,A){if(!Object.prototype.hasOwnProperty.apply(T.options,["projectId"]))throw new It(ht.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ac(T.options.projectId,A)}(d,l),d);return h=Object.assign({useFetchStreams:e},h),_._setSettings(h),_},"PUBLIC").setMultipleInstances(!0)),Ji(E0,w0,t),Ji(E0,w0,"esm2017")})();var zP="firebase",UP="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ji(zP,UP,"app");const gb="@firebase/installations",Fg="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b=1e4,yb=`w:${Fg}`,vb="FIS_v2",BP="https://firebaseinstallations.googleapis.com/v1",HP=60*60*1e3,qP="installations",jP="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Fo=new $o(qP,jP,FP);function Tb(i){return i instanceof Sr&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb({projectId:i}){return`${BP}/projects/${i}/installations`}function wb(i){return{token:i.token,requestStatus:2,expiresIn:ZP(i.expiresIn),creationTime:Date.now()}}async function bb(i,t){const s=(await t.json()).error;return Fo.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Ab({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function GP(i,{refreshToken:t}){const e=Ab(i);return e.append("Authorization",KP(t)),e}async function Sb(i){const t=await i();return t.status>=500&&t.status<600?i():t}function ZP(i){return Number(i.replace("s","000"))}function KP(i){return`${vb} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YP({appConfig:i,heartbeatServiceProvider:t},{fid:e}){const s=Eb(i),l=Ab(i),h=t.getImmediate({optional:!0});if(h){const T=await h.getHeartbeatsHeader();T&&l.append("x-firebase-client",T)}const d={fid:e,authVersion:vb,appId:i.appId,sdkVersion:yb},_={method:"POST",headers:l,body:JSON.stringify(d)},y=await Sb(()=>fetch(s,_));if(y.ok){const T=await y.json();return{fid:T.fid||e,registrationStatus:2,refreshToken:T.refreshToken,authToken:wb(T.authToken)}}else throw await bb("Create Installation",y)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(i){return new Promise(t=>{setTimeout(t,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QP(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P=/^[cdef][\w-]{21}$/,Mp="";function XP(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const e=WP(i);return $P.test(e)?e:Mp}catch{return Mp}}function WP(i){return QP(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib=new Map;function Cb(i,t){const e=nd(i);xb(e,t),JP(e,t)}function xb(i,t){const e=Ib.get(i);if(e)for(const s of e)s(t)}function JP(i,t){const e=tO();e&&e.postMessage({key:i,fid:t}),eO()}let Uo=null;function tO(){return!Uo&&"BroadcastChannel"in self&&(Uo=new BroadcastChannel("[Firebase] FID Change"),Uo.onmessage=i=>{xb(i.data.key,i.data.fid)}),Uo}function eO(){Ib.size===0&&Uo&&(Uo.close(),Uo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO="firebase-installations-database",iO=1,Go="firebase-installations-store";let rp=null;function Gg(){return rp||(rp=xE(nO,iO,{upgrade:(i,t)=>{switch(t){case 0:i.createObjectStore(Go)}}})),rp}async function xf(i,t){const e=nd(i),l=(await Gg()).transaction(Go,"readwrite"),h=l.objectStore(Go),d=await h.get(e);return await h.put(t,e),await l.done,(!d||d.fid!==t.fid)&&Cb(i,t.fid),t}async function Pb(i){const t=nd(i),s=(await Gg()).transaction(Go,"readwrite");await s.objectStore(Go).delete(t),await s.done}async function id(i,t){const e=nd(i),l=(await Gg()).transaction(Go,"readwrite"),h=l.objectStore(Go),d=await h.get(e),_=t(d);return _===void 0?await h.delete(e):await h.put(_,e),await l.done,_&&(!d||d.fid!==_.fid)&&Cb(i,_.fid),_}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zg(i){let t;const e=await id(i.appConfig,s=>{const l=rO(s),h=sO(i,l);return t=h.registrationPromise,h.installationEntry});return e.fid===Mp?{installationEntry:await t}:{installationEntry:e,registrationPromise:t}}function rO(i){const t=i||{fid:XP(),registrationStatus:0};return Ob(t)}function sO(i,t){if(t.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(Fo.create("app-offline"));return{installationEntry:t,registrationPromise:l}}const e={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},s=aO(i,e);return{installationEntry:e,registrationPromise:s}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:oO(i)}:{installationEntry:t}}async function aO(i,t){try{const e=await YP(i,t);return xf(i.appConfig,e)}catch(e){throw Tb(e)&&e.customData.serverCode===409?await Pb(i.appConfig):await xf(i.appConfig,{fid:t.fid,registrationStatus:0}),e}}async function oO(i){let t=await wT(i.appConfig);for(;t.registrationStatus===1;)await Rb(100),t=await wT(i.appConfig);if(t.registrationStatus===0){const{installationEntry:e,registrationPromise:s}=await Zg(i);return s||e}return t}function wT(i){return id(i,t=>{if(!t)throw Fo.create("installation-not-found");return Ob(t)})}function Ob(i){return lO(i)?{fid:i.fid,registrationStatus:0}:i}function lO(i){return i.registrationStatus===1&&i.registrationTime+_b<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uO({appConfig:i,heartbeatServiceProvider:t},e){const s=cO(i,e),l=GP(i,e),h=t.getImmediate({optional:!0});if(h){const T=await h.getHeartbeatsHeader();T&&l.append("x-firebase-client",T)}const d={installation:{sdkVersion:yb,appId:i.appId}},_={method:"POST",headers:l,body:JSON.stringify(d)},y=await Sb(()=>fetch(s,_));if(y.ok){const T=await y.json();return wb(T)}else throw await bb("Generate Auth Token",y)}function cO(i,{fid:t}){return`${Eb(i)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kg(i,t=!1){let e;const s=await id(i.appConfig,h=>{if(!Lb(h))throw Fo.create("not-registered");const d=h.authToken;if(!t&&dO(d))return h;if(d.requestStatus===1)return e=hO(i,t),h;{if(!navigator.onLine)throw Fo.create("app-offline");const _=pO(h);return e=fO(i,_),_}});return e?await e:s.authToken}async function hO(i,t){let e=await bT(i.appConfig);for(;e.authToken.requestStatus===1;)await Rb(100),e=await bT(i.appConfig);const s=e.authToken;return s.requestStatus===0?Kg(i,t):s}function bT(i){return id(i,t=>{if(!Lb(t))throw Fo.create("not-registered");const e=t.authToken;return gO(e)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function fO(i,t){try{const e=await uO(i,t),s=Object.assign(Object.assign({},t),{authToken:e});return await xf(i.appConfig,s),e}catch(e){if(Tb(e)&&(e.customData.serverCode===401||e.customData.serverCode===404))await Pb(i.appConfig);else{const s=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await xf(i.appConfig,s)}throw e}}function Lb(i){return i!==void 0&&i.registrationStatus===2}function dO(i){return i.requestStatus===2&&!mO(i)}function mO(i){const t=Date.now();return t<i.creationTime||i.creationTime+i.expiresIn<t+HP}function pO(i){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:t})}function gO(i){return i.requestStatus===1&&i.requestTime+_b<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _O(i){const t=i,{installationEntry:e,registrationPromise:s}=await Zg(t);return s?s.catch(console.error):Kg(t).catch(console.error),e.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yO(i,t=!1){const e=i;return await vO(e),(await Kg(e,t)).token}async function vO(i){const{registrationPromise:t}=await Zg(i);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(i){if(!i||!i.options)throw sp("App Configuration");if(!i.name)throw sp("App Name");const t=["projectId","apiKey","appId"];for(const e of t)if(!i.options[e])throw sp(e);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function sp(i){return Fo.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb="installations",EO="installations-internal",wO=i=>{const t=i.getProvider("app").getImmediate(),e=TO(t),s=Xo(t,"heartbeat");return{app:t,appConfig:e,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},bO=i=>{const t=i.getProvider("app").getImmediate(),e=Xo(t,Mb).getImmediate();return{getId:()=>_O(e),getToken:l=>yO(e,l)}};function AO(){$r(new br(Mb,wO,"PUBLIC")),$r(new br(EO,bO,"PRIVATE"))}AO();Ji(gb,Fg);Ji(gb,Fg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf="analytics",SO="firebase_id",RO="origin",IO=60*1e3,CO="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Yg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li=new Bf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Oi=new $o("analytics","Analytics",xO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(i){if(!i.startsWith(Yg)){const t=Oi.create("invalid-gtag-resource",{gtagURL:i});return li.warn(t.message),""}return i}function Db(i){return Promise.all(i.map(t=>t.catch(e=>e)))}function OO(i,t){let e;return window.trustedTypes&&(e=window.trustedTypes.createPolicy(i,t)),e}function LO(i,t){const e=OO("firebase-js-sdk-policy",{createScriptURL:PO}),s=document.createElement("script"),l=`${Yg}?l=${i}&id=${t}`;s.src=e?e==null?void 0:e.createScriptURL(l):l,s.async=!0,document.head.appendChild(s)}function MO(i){let t=[];return Array.isArray(window[i])?t=window[i]:window[i]=t,t}async function DO(i,t,e,s,l,h){const d=s[l];try{if(d)await t[d];else{const y=(await Db(e)).find(T=>T.measurementId===l);y&&await t[y.appId]}}catch(_){li.error(_)}i("config",l,h)}async function NO(i,t,e,s,l){try{let h=[];if(l&&l.send_to){let d=l.send_to;Array.isArray(d)||(d=[d]);const _=await Db(e);for(const y of d){const T=_.find(I=>I.measurementId===y),A=T&&t[T.appId];if(A)h.push(A);else{h=[];break}}}h.length===0&&(h=Object.values(t)),await Promise.all(h),i("event",s,l||{})}catch(h){li.error(h)}}function kO(i,t,e,s){async function l(h,...d){try{if(h==="event"){const[_,y]=d;await NO(i,t,e,_,y)}else if(h==="config"){const[_,y]=d;await DO(i,t,e,s,_,y)}else if(h==="consent"){const[_,y]=d;i("consent",_,y)}else if(h==="get"){const[_,y,T]=d;i("get",_,y,T)}else if(h==="set"){const[_]=d;i("set",_)}else i(h,...d)}catch(_){li.error(_)}}return l}function VO(i,t,e,s,l){let h=function(...d){window[s].push(arguments)};return window[l]&&typeof window[l]=="function"&&(h=window[l]),window[l]=kO(h,i,t,e),{gtagCore:h,wrappedGtag:window[l]}}function zO(i){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(Yg)&&e.src.includes(i))return e;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO=30,BO=1e3;class HO{constructor(t={},e=BO){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const Nb=new HO;function qO(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function jO(i){var t;const{appId:e,apiKey:s}=i,l={method:"GET",headers:qO(s)},h=CO.replace("{app-id}",e),d=await fetch(h,l);if(d.status!==200&&d.status!==304){let _="";try{const y=await d.json();!((t=y.error)===null||t===void 0)&&t.message&&(_=y.error.message)}catch{}throw Oi.create("config-fetch-failed",{httpStatus:d.status,responseMessage:_})}return d.json()}async function FO(i,t=Nb,e){const{appId:s,apiKey:l,measurementId:h}=i.options;if(!s)throw Oi.create("no-app-id");if(!l){if(h)return{measurementId:h,appId:s};throw Oi.create("no-api-key")}const d=t.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},_=new KO;return setTimeout(async()=>{_.abort()},IO),kb({appId:s,apiKey:l,measurementId:h},d,_,t)}async function kb(i,{throttleEndTimeMillis:t,backoffCount:e},s,l=Nb){var h;const{appId:d,measurementId:_}=i;try{await GO(s,t)}catch(y){if(_)return li.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:d,measurementId:_};throw y}try{const y=await jO(i);return l.deleteThrottleMetadata(d),y}catch(y){const T=y;if(!ZO(T)){if(l.deleteThrottleMetadata(d),_)return li.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_} provided in the "measurementId" field in the local Firebase config. [${T==null?void 0:T.message}]`),{appId:d,measurementId:_};throw y}const A=Number((h=T==null?void 0:T.customData)===null||h===void 0?void 0:h.httpStatus)===503?h0(e,l.intervalMillis,UO):h0(e,l.intervalMillis),I={throttleEndTimeMillis:Date.now()+A,backoffCount:e+1};return l.setThrottleMetadata(d,I),li.debug(`Calling attemptFetch again in ${A} millis`),kb(i,I,s,l)}}function GO(i,t){return new Promise((e,s)=>{const l=Math.max(t-Date.now(),0),h=setTimeout(e,l);i.addEventListener(()=>{clearTimeout(h),s(Oi.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function ZO(i){if(!(i instanceof Sr)||!i.customData)return!1;const t=Number(i.customData.httpStatus);return t===429||t===500||t===503||t===504}class KO{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function YO(i,t,e,s,l){if(l&&l.global){i("event",e,s);return}else{const h=await t,d=Object.assign(Object.assign({},s),{send_to:h});i("event",e,d)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QO(){if(tg())try{await eg()}catch(i){return li.warn(Oi.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return li.warn(Oi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function $O(i,t,e,s,l,h,d){var _;const y=FO(i);y.then(k=>{e[k.measurementId]=k.appId,i.options.measurementId&&k.measurementId!==i.options.measurementId&&li.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${k.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(k=>li.error(k)),t.push(y);const T=QO().then(k=>{if(k)return s.getId()}),[A,I]=await Promise.all([y,T]);zO(h)||LO(h,A.measurementId),l("js",new Date);const C=(_=d==null?void 0:d.config)!==null&&_!==void 0?_:{};return C[RO]="firebase",C.update=!0,I!=null&&(C[SO]=I),l("config",A.measurementId,C),A.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(t){this.app=t}_delete(){return delete yc[this.app.options.appId],Promise.resolve()}}let yc={},AT=[];const ST={};let ap="dataLayer",WO="gtag",RT,Vb,IT=!1;function JO(){const i=[];if(Jp()&&i.push("This is a browser extension environment."),RE()||i.push("Cookies are not available."),i.length>0){const t=i.map((s,l)=>`(${l+1}) ${s}`).join(" "),e=Oi.create("invalid-analytics-context",{errorInfo:t});li.warn(e.message)}}function tL(i,t,e){JO();const s=i.options.appId;if(!s)throw Oi.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)li.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Oi.create("no-api-key");if(yc[s]!=null)throw Oi.create("already-exists",{id:s});if(!IT){MO(ap);const{wrappedGtag:h,gtagCore:d}=VO(yc,AT,ST,ap,WO);Vb=h,RT=d,IT=!0}return yc[s]=$O(i,AT,ST,t,RT,ap,e),new XO(i)}function eL(i=ig()){i=jn(i);const t=Xo(i,Pf);return t.isInitialized()?t.getImmediate():nL(i)}function nL(i,t={}){const e=Xo(i,Pf);if(e.isInitialized()){const l=e.getImmediate();if(Ga(t,e.getOptions()))return l;throw Oi.create("already-initialized")}return e.initialize({options:t})}async function iL(){if(Jp()||!RE()||!tg())return!1;try{return await eg()}catch{return!1}}function rL(i,t,e,s){i=jn(i),YO(Vb,yc[i.app.options.appId],t,e,s).catch(l=>li.error(l))}const CT="@firebase/analytics",xT="0.10.16";function sL(){$r(new br(Pf,(t,{options:e})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("installations-internal").getImmediate();return tL(s,l,e)},"PUBLIC")),$r(new br("analytics-internal",i,"PRIVATE")),Ji(CT,xT),Ji(CT,xT,"esm2017");function i(t){try{const e=t.getProvider(Pf).getImmediate();return{logEvent:(s,l,h)=>rL(e,s,l,h)}}catch(e){throw Oi.create("interop-component-reg-failed",{reason:e})}}}sL();function Qg(i,t){var e={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(e[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(i);l<s.length;l++)t.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(i,s[l])&&(e[s[l]]=i[s[l]]);return e}function zb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const aL=zb,Ub=new $o("auth","Firebase",zb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of=new Bf("@firebase/auth");function oL(i,...t){Of.logLevel<=ne.WARN&&Of.warn(`Auth (${uu}): ${i}`,...t)}function cf(i,...t){Of.logLevel<=ne.ERROR&&Of.error(`Auth (${uu}): ${i}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vs(i,...t){throw $g(i,...t)}function Yr(i,...t){return $g(i,...t)}function Bb(i,t,e){const s=Object.assign(Object.assign({},aL()),{[t]:e});return new $o("auth","Firebase",s).create(t,{appName:i.name})}function Fa(i){return Bb(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $g(i,...t){if(typeof i!="string"){const e=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(e,...s)}return Ub.create(i,...t)}function qt(i,t,...e){if(!i)throw $g(t,...e)}function Is(i){const t="INTERNAL ASSERTION FAILED: "+i;throw cf(t),new Error(t)}function zs(i,t){i||Is(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function lL(){return PT()==="http:"||PT()==="https:"}function PT(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lL()||Jp()||"connection"in navigator)?navigator.onLine:!0}function cL(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(t,e){this.shortDelay=t,this.longDelay=e,zs(e>t,"Short delay should be less than long delay!"),this.isMobile=eI()||rI()}get(){return uL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(i,t){zs(i.emulator,"Emulator should always be set here");const{url:e}=i.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{static initialize(t,e,s){this.fetchImpl=t,e&&(this.headersImpl=e),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],dL=new Hc(3e4,6e4);function rd(i,t){return i.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:i.tenantId}):t}async function pu(i,t,e,s,l={}){return qb(i,l,async()=>{let h={},d={};s&&(t==="GET"?d=s:h={body:JSON.stringify(s)});const _=kc(Object.assign({key:i.config.apiKey},d)).slice(1),y=await i._getAdditionalHeaders();y["Content-Type"]="application/json",i.languageCode&&(y["X-Firebase-Locale"]=i.languageCode);const T=Object.assign({method:t,headers:y},h);return iI()||(T.referrerPolicy="no-referrer"),i.emulatorConfig&&lu(i.emulatorConfig.host)&&(T.credentials="include"),Hb.fetch()(await Fb(i,i.config.apiHost,e,_),T)})}async function qb(i,t,e){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},hL),t);try{const l=new mL(i),h=await Promise.race([e(),l.promise]);l.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw tf(i,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const _=h.ok?d.errorMessage:d.error.message,[y,T]=_.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw tf(i,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw tf(i,"email-already-in-use",d);if(y==="USER_DISABLED")throw tf(i,"user-disabled",d);const A=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(T)throw Bb(i,A,T);Vs(i,A)}}catch(l){if(l instanceof Sr)throw l;Vs(i,"network-request-failed",{message:String(l)})}}async function jb(i,t,e,s,l={}){const h=await pu(i,t,e,s,l);return"mfaPendingCredential"in h&&Vs(i,"multi-factor-auth-required",{_serverResponse:h}),h}async function Fb(i,t,e,s){const l=`${t}${e}?${s}`,h=i,d=h.config.emulator?Xg(i.config,l):`${i.config.apiScheme}://${l}`;return fL.includes(e)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}class mL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,s)=>{this.timer=setTimeout(()=>s(Yr(this.auth,"network-request-failed")),dL.get())})}}function tf(i,t,e){const s={appName:i.name};e.email&&(s.email=e.email),e.phoneNumber&&(s.phoneNumber=e.phoneNumber);const l=Yr(i,t,s);return l.customData._tokenResponse=e,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pL(i,t){return pu(i,"POST","/v1/accounts:delete",t)}async function Lf(i,t){return pu(i,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function gL(i,t=!1){const e=jn(i),s=await e.getIdToken(t),l=Wg(s);qt(l&&l.exp&&l.auth_time&&l.iat,e.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,d=h==null?void 0:h.sign_in_provider;return{claims:l,token:s,authTime:vc(op(l.auth_time)),issuedAtTime:vc(op(l.iat)),expirationTime:vc(op(l.exp)),signInProvider:d||null,signInSecondFactor:(h==null?void 0:h.sign_in_second_factor)||null}}function op(i){return Number(i)*1e3}function Wg(i){const[t,e,s]=i.split(".");if(t===void 0||e===void 0||s===void 0)return cf("JWT malformed, contained fewer than 3 sections"),null;try{const l=TE(e);return l?JSON.parse(l):(cf("Failed to decode base64 JWT payload"),null)}catch(l){return cf("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function OT(i){const t=Wg(i);return qt(t,"internal-error"),qt(typeof t.exp<"u","internal-error"),qt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pc(i,t,e=!1){if(e)return t;try{return await t}catch(s){throw s instanceof Sr&&_L(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function _L({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=vc(this.lastLoginAt),this.creationTime=vc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mf(i){var t;const e=i.auth,s=await i.getIdToken(),l=await Pc(i,Lf(e,{idToken:s}));qt(l==null?void 0:l.users.length,e,"internal-error");const h=l.users[0];i._notifyReloadListener(h);const d=!((t=h.providerUserInfo)===null||t===void 0)&&t.length?Gb(h.providerUserInfo):[],_=TL(i.providerData,d),y=i.isAnonymous,T=!(i.email&&h.passwordHash)&&!(_!=null&&_.length),A=y?T:!1,I={uid:h.localId,displayName:h.displayName||null,photoURL:h.photoUrl||null,email:h.email||null,emailVerified:h.emailVerified||!1,phoneNumber:h.phoneNumber||null,tenantId:h.tenantId||null,providerData:_,metadata:new Np(h.createdAt,h.lastLoginAt),isAnonymous:A};Object.assign(i,I)}async function vL(i){const t=jn(i);await Mf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function TL(i,t){return[...i.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function Gb(i){return i.map(t=>{var{providerId:e}=t,s=Qg(t,["providerId"]);return{providerId:e,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EL(i,t){const e=await qb(i,{},async()=>{const s=kc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=i.config,d=await Fb(i,l,"/v1/token",`key=${h}`),_=await i._getAdditionalHeaders();_["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:_,body:s};return i.emulatorConfig&&lu(i.emulatorConfig.host)&&(y.credentials="include"),Hb.fetch()(d,y)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function wL(i,t){return pu(i,"POST","/v2/accounts:revokeToken",rd(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){qt(t.idToken,"internal-error"),qt(typeof t.idToken<"u","internal-error"),qt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):OT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){qt(t.length!==0,"internal-error");const e=OT(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(qt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:s,refreshToken:l,expiresIn:h}=await EL(t,e);this.updateTokensAndExpiration(s,l,Number(h))}updateTokensAndExpiration(t,e,s){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,e){const{refreshToken:s,accessToken:l,expirationTime:h}=e,d=new Ql;return s&&(qt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(qt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),h&&(qt(typeof h=="number","internal-error",{appName:t}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ql,this.toJSON())}_performRefresh(){return Is("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Da(i,t){qt(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class Er{constructor(t){var{uid:e,auth:s,stsTokenManager:l}=t,h=Qg(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=h.displayName||null,this.email=h.email||null,this.emailVerified=h.emailVerified||!1,this.phoneNumber=h.phoneNumber||null,this.photoURL=h.photoURL||null,this.isAnonymous=h.isAnonymous||!1,this.tenantId=h.tenantId||null,this.providerData=h.providerData?[...h.providerData]:[],this.metadata=new Np(h.createdAt||void 0,h.lastLoginAt||void 0)}async getIdToken(t){const e=await Pc(this,this.stsTokenManager.getToken(this.auth,t));return qt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return gL(this,t)}reload(){return vL(this)}_assign(t){this!==t&&(qt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Er(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){qt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),e&&await Mf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vr(this.auth.app))return Promise.reject(Fa(this.auth));const t=await this.getIdToken();return await Pc(this,pL(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var s,l,h,d,_,y,T,A;const I=(s=e.displayName)!==null&&s!==void 0?s:void 0,C=(l=e.email)!==null&&l!==void 0?l:void 0,k=(h=e.phoneNumber)!==null&&h!==void 0?h:void 0,H=(d=e.photoURL)!==null&&d!==void 0?d:void 0,G=(_=e.tenantId)!==null&&_!==void 0?_:void 0,Z=(y=e._redirectEventId)!==null&&y!==void 0?y:void 0,tt=(T=e.createdAt)!==null&&T!==void 0?T:void 0,W=(A=e.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:nt,emailVerified:gt,isAnonymous:Tt,providerData:Pt,stsTokenManager:z}=e;qt(nt&&z,t,"internal-error");const O=Ql.fromJSON(this.name,z);qt(typeof nt=="string",t,"internal-error"),Da(I,t.name),Da(C,t.name),qt(typeof gt=="boolean",t,"internal-error"),qt(typeof Tt=="boolean",t,"internal-error"),Da(k,t.name),Da(H,t.name),Da(G,t.name),Da(Z,t.name),Da(tt,t.name),Da(W,t.name);const M=new Er({uid:nt,auth:t,email:C,emailVerified:gt,displayName:I,isAnonymous:Tt,photoURL:H,phoneNumber:k,tenantId:G,stsTokenManager:O,createdAt:tt,lastLoginAt:W});return Pt&&Array.isArray(Pt)&&(M.providerData=Pt.map(B=>Object.assign({},B))),Z&&(M._redirectEventId=Z),M}static async _fromIdTokenResponse(t,e,s=!1){const l=new Ql;l.updateFromServerResponse(e);const h=new Er({uid:e.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Mf(h),h}static async _fromGetAccountInfoResponse(t,e,s){const l=e.users[0];qt(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?Gb(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(h!=null&&h.length),_=new Ql;_.updateFromIdToken(s);const y=new Er({uid:l.localId,auth:t,stsTokenManager:_,isAnonymous:d}),T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new Np(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(h!=null&&h.length)};return Object.assign(y,T),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT=new Map;function Cs(i){zs(i instanceof Function,"Expected a class definition");let t=LT.get(i);return t?(zs(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,LT.set(i,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}Zb.type="NONE";const MT=Zb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(i,t,e){return`firebase:${i}:${t}:${e}`}class $l{constructor(t,e,s){this.persistence=t,this.auth=e,this.userKey=s;const{config:l,name:h}=this.auth;this.fullUserKey=hf(this.userKey,l.apiKey,h),this.fullPersistenceKey=hf("persistence",l.apiKey,h),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Lf(this.auth,{idToken:t}).catch(()=>{});return e?Er._fromGetAccountInfoResponse(this.auth,e,t):null}return Er._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,s="authUser"){if(!e.length)return new $l(Cs(MT),t,s);const l=(await Promise.all(e.map(async T=>{if(await T._isAvailable())return T}))).filter(T=>T);let h=l[0]||Cs(MT);const d=hf(s,t.config.apiKey,t.name);let _=null;for(const T of e)try{const A=await T._get(d);if(A){let I;if(typeof A=="string"){const C=await Lf(t,{idToken:A}).catch(()=>{});if(!C)break;I=await Er._fromGetAccountInfoResponse(t,C,A)}else I=Er._fromJSON(t,A);T!==h&&(_=I),h=T;break}}catch{}const y=l.filter(T=>T._shouldAllowMigration);return!h._shouldAllowMigration||!y.length?new $l(h,t,s):(h=y[0],_&&await h._set(d,_.toJSON()),await Promise.all(e.map(async T=>{if(T!==h)try{await T._remove(d)}catch{}})),new $l(h,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if($b(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Kb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Wb(t))return"Blackberry";if(Jb(t))return"Webos";if(Yb(t))return"Safari";if((t.includes("chrome/")||Qb(t))&&!t.includes("edge/"))return"Chrome";if(Xb(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(e);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Kb(i=qn()){return/firefox\//i.test(i)}function Yb(i=qn()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Qb(i=qn()){return/crios\//i.test(i)}function $b(i=qn()){return/iemobile/i.test(i)}function Xb(i=qn()){return/android/i.test(i)}function Wb(i=qn()){return/blackberry/i.test(i)}function Jb(i=qn()){return/webos/i.test(i)}function Jg(i=qn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function bL(i=qn()){var t;return Jg(i)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function AL(){return sI()&&document.documentMode===10}function t1(i=qn()){return Jg(i)||Xb(i)||Jb(i)||Wb(i)||/windows phone/i.test(i)||$b(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(i,t=[]){let e;switch(i){case"Browser":e=DT(qn());break;case"Worker":e=`${DT(qn())}-${i}`;break;default:e=i}const s=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${uu}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const s=h=>new Promise((d,_)=>{try{const y=t(h);d(y)}catch(y){_(y)}});s.onAbort=e,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const s of this.queue)await s(t),s.onAbort&&e.push(s.onAbort)}catch(s){e.reverse();for(const l of e)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RL(i,t={}){return pu(i,"GET","/v2/passwordPolicy",rd(i,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IL=6;class CL{constructor(t){var e,s,l,h;const d=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=d.minPasswordLength)!==null&&e!==void 0?e:IL,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(h=t.forceUpgradeOnSignin)!==null&&h!==void 0?h:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,s,l,h,d,_;const y={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,y),this.validatePasswordCharacterOptions(t,y),y.isValid&&(y.isValid=(e=y.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),y.isValid&&(y.isValid=(s=y.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),y.isValid&&(y.isValid=(l=y.containsLowercaseLetter)!==null&&l!==void 0?l:!0),y.isValid&&(y.isValid=(h=y.containsUppercaseLetter)!==null&&h!==void 0?h:!0),y.isValid&&(y.isValid=(d=y.containsNumericCharacter)!==null&&d!==void 0?d:!0),y.isValid&&(y.isValid=(_=y.containsNonAlphanumericCharacter)!==null&&_!==void 0?_:!0),y}validatePasswordLengthOptions(t,e){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(e.meetsMinPasswordLength=t.length>=s),l&&(e.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(e,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,e,s,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(t,e,s,l){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new NT(this),this.idTokenSubscription=new NT(this),this.beforeStateQueue=new SL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ub,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Cs(e)),this._initializationPromise=this.queue(async()=>{var s,l,h;if(!this._deleted&&(this.persistenceManager=await $l.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((h=this.currentUser)===null||h===void 0?void 0:h.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Lf(this,{idToken:t}),s=await Er._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(s)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(vr(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(_=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(_,_))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,h=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,_=l==null?void 0:l._redirectEventId,y=await this.tryRedirectSignIn(t);(!d||d===_)&&(y!=null&&y.user)&&(l=y.user,h=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(h)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return qt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Mf(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=cL()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(vr(this.app))return Promise.reject(Fa(this));const e=t?jn(t):null;return e&&qt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&qt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return vr(this.app)?Promise.reject(Fa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return vr(this.app)?Promise.reject(Fa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await RL(this),e=new CL(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new $o("auth","Firebase",t())}onAuthStateChanged(t,e,s){return this.registerStateListener(this.authStateSubscription,t,e,s)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,s){return this.registerStateListener(this.idTokenSubscription,t,e,s)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(s.tenantId=this.tenantId),await wL(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const s=await this.getOrInitRedirectPersistenceManager(e);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Cs(t)||this._popupRedirectResolver;qt(e,this,"argument-error"),this.redirectPersistenceManager=await $l.create(this,[Cs(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,s;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,s,l){if(this._deleted)return()=>{};const h=typeof e=="function"?e:e.next.bind(e);let d=!1;const _=this._isInitialized?Promise.resolve():this._initializationPromise;if(qt(_,this,"internal-error"),_.then(()=>{d||h(this.currentUser)}),typeof e=="function"){const y=t.addObserver(e,s,l);return()=>{d=!0,y()}}else{const y=t.addObserver(e);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return qt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=e1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(e["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(e["X-Firebase-AppCheck"]=l),e}async _getAppCheckToken(){var t;if(vr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&oL(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function sd(i){return jn(i)}class NT{constructor(t){this.auth=t,this.observer=null,this.addObserver=hI(e=>this.observer=e)}get next(){return qt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let t_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PL(i){t_=i}function OL(i){return t_.loadJS(i)}function LL(){return t_.gapiScript}function ML(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DL(i,t){const e=Xo(i,"auth");if(e.isInitialized()){const l=e.getImmediate(),h=e.getOptions();if(Ga(h,t??{}))return l;Vs(l,"already-initialized")}return e.initialize({options:t})}function NL(i,t){const e=(t==null?void 0:t.persistence)||[],s=(Array.isArray(e)?e:[e]).map(Cs);t!=null&&t.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function kL(i,t,e){const s=sd(i);qt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,h=n1(t),{host:d,port:_}=VL(t),y=_===null?"":`:${_}`,T={url:`${h}//${d}${y}/`},A=Object.freeze({host:d,port:_,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){qt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),qt(Ga(T,s.config.emulator)&&Ga(A,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=T,s.emulatorConfig=A,s.settings.appVerificationDisabledForTesting=!0,lu(d)?(AE(`${h}//${d}${y}`),SE("Auth",!0)):zL()}function n1(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function VL(i){const t=n1(i),e=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!e)return{host:"",port:null};const s=e[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const h=l[1];return{host:h,port:kT(s.substr(h.length+1))}}else{const[h,d]=s.split(":");return{host:h,port:kT(d)}}}function kT(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function zL(){function i(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Is("not implemented")}_getIdTokenResponse(t){return Is("not implemented")}_linkToIdToken(t,e){return Is("not implemented")}_getReauthenticationResolver(t){return Is("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xl(i,t){return jb(i,"POST","/v1/accounts:signInWithIdp",rd(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL="http://localhost";class Zo extends i1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Zo(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Vs("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l}=e,h=Qg(e,["providerId","signInMethod"]);if(!s||!l)return null;const d=new Zo(s,l);return d.idToken=h.idToken||void 0,d.accessToken=h.accessToken||void 0,d.secret=h.secret,d.nonce=h.nonce,d.pendingToken=h.pendingToken||null,d}_getIdTokenResponse(t){const e=this.buildRequest();return Xl(t,e)}_linkToIdToken(t,e){const s=this.buildRequest();return s.idToken=e,Xl(t,s)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Xl(t,e)}buildRequest(){const t={requestUri:UL,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=kc(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc extends r1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends qc{constructor(){super("facebook.com")}static credential(t){return Zo._fromParams({providerId:Na.PROVIDER_ID,signInMethod:Na.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Na.credentialFromTaggedObject(t)}static credentialFromError(t){return Na.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Na.credential(t.oauthAccessToken)}catch{return null}}}Na.FACEBOOK_SIGN_IN_METHOD="facebook.com";Na.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka extends qc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Zo._fromParams({providerId:ka.PROVIDER_ID,signInMethod:ka.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return ka.credentialFromTaggedObject(t)}static credentialFromError(t){return ka.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:s}=t;if(!e&&!s)return null;try{return ka.credential(e,s)}catch{return null}}}ka.GOOGLE_SIGN_IN_METHOD="google.com";ka.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va extends qc{constructor(){super("github.com")}static credential(t){return Zo._fromParams({providerId:Va.PROVIDER_ID,signInMethod:Va.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Va.credentialFromTaggedObject(t)}static credentialFromError(t){return Va.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Va.credential(t.oauthAccessToken)}catch{return null}}}Va.GITHUB_SIGN_IN_METHOD="github.com";Va.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za extends qc{constructor(){super("twitter.com")}static credential(t,e){return Zo._fromParams({providerId:za.PROVIDER_ID,signInMethod:za.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return za.credentialFromTaggedObject(t)}static credentialFromError(t){return za.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:s}=t;if(!e||!s)return null;try{return za.credential(e,s)}catch{return null}}}za.TWITTER_SIGN_IN_METHOD="twitter.com";za.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BL(i,t){return jb(i,"POST","/v1/accounts:signUp",rd(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,s,l=!1){const h=await Er._fromIdTokenResponse(t,s,l),d=VT(s);return new Wa({user:h,providerId:d,_tokenResponse:s,operationType:e})}static async _forOperation(t,e,s){await t._updateTokensIfNecessary(s,!0);const l=VT(s);return new Wa({user:t,providerId:l,_tokenResponse:s,operationType:e})}}function VT(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HL(i){var t;if(vr(i.app))return Promise.reject(Fa(i));const e=sd(i);if(await e._initializationPromise,!((t=e.currentUser)===null||t===void 0)&&t.isAnonymous)return new Wa({user:e.currentUser,providerId:null,operationType:"signIn"});const s=await BL(e,{returnSecureToken:!0}),l=await Wa._fromIdTokenResponse(e,"signIn",s,!0);return await e._updateCurrentUser(l.user),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df extends Sr{constructor(t,e,s,l){var h;super(e.code,e.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Df.prototype),this.customData={appName:t.name,tenantId:(h=t.tenantId)!==null&&h!==void 0?h:void 0,_serverResponse:e.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,e,s,l){return new Df(t,e,s,l)}}function s1(i,t,e,s){return(t==="reauthenticate"?e._getReauthenticationResolver(i):e._getIdTokenResponse(i)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?Df._fromErrorAndOperation(i,h,t,s):h})}async function qL(i,t,e=!1){const s=await Pc(i,t._linkToIdToken(i.auth,await i.getIdToken()),e);return Wa._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jL(i,t,e=!1){const{auth:s}=i;if(vr(s.app))return Promise.reject(Fa(s));const l="reauthenticate";try{const h=await Pc(i,s1(s,l,t,i),e);qt(h.idToken,s,"internal-error");const d=Wg(h.idToken);qt(d,s,"internal-error");const{sub:_}=d;return qt(i.uid===_,s,"user-mismatch"),Wa._forOperation(i,l,h)}catch(h){throw(h==null?void 0:h.code)==="auth/user-not-found"&&Vs(s,"user-mismatch"),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FL(i,t,e=!1){if(vr(i.app))return Promise.reject(Fa(i));const s="signIn",l=await s1(i,s,t),h=await Wa._fromIdTokenResponse(i,s,l);return e||await i._updateCurrentUser(h.user),h}function GL(i,t,e,s){return jn(i).onIdTokenChanged(t,e,s)}function ZL(i,t,e){return jn(i).beforeAuthStateChanged(t,e)}function KL(i,t,e,s){return jn(i).onAuthStateChanged(t,e,s)}const Nf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Nf,"1"),this.storage.removeItem(Nf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL=1e3,QL=10;class o1 extends a1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=t1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const s=this.storage.getItem(e),l=this.localCache[e];s!==l&&t(e,l,s)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((d,_,y)=>{this.notifyListeners(d,y)});return}const s=t.key;e?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!e&&this.localCache[s]===d||this.notifyListeners(s,d)},h=this.storage.getItem(s);AL()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,QL):l()}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:s}),!0)})},YL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}o1.type="LOCAL";const $L=o1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1 extends a1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}l1.type="SESSION";const u1=l1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(l=>l.isListeningto(t));if(e)return e;const s=new ad(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:s,eventType:l,data:h}=e.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;e.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const _=Array.from(d).map(async T=>T(e.origin,h)),y=await XL(_);e.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:y})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ad.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(i="",t=10){let e="";for(let s=0;s<t;s++)e+=Math.floor(Math.random()*10);return i+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,d;return new Promise((_,y)=>{const T=e_("",20);l.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(I){const C=I;if(C.data.eventId===T)switch(C.data.status){case"ack":clearTimeout(A),h=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),_(C.data.response);break;default:clearTimeout(A),clearTimeout(h),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:T,data:e},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qr(){return window}function JL(i){Qr().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(){return typeof Qr().WorkerGlobalScope<"u"&&typeof Qr().importScripts=="function"}async function tM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function eM(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function nM(){return c1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="firebaseLocalStorageDb",iM=1,kf="firebaseLocalStorage",f1="fbase_key";class jc{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function od(i,t){return i.transaction([kf],t?"readwrite":"readonly").objectStore(kf)}function rM(){const i=indexedDB.deleteDatabase(h1);return new jc(i).toPromise()}function kp(){const i=indexedDB.open(h1,iM);return new Promise((t,e)=>{i.addEventListener("error",()=>{e(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(kf,{keyPath:f1})}catch(l){e(l)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(kf)?t(s):(s.close(),await rM(),t(await kp()))})})}async function zT(i,t,e){const s=od(i,!0).put({[f1]:t,value:e});return new jc(s).toPromise()}async function sM(i,t){const e=od(i,!1).get(t),s=await new jc(e).toPromise();return s===void 0?null:s.value}function UT(i,t){const e=od(i,!0).delete(t);return new jc(e).toPromise()}const aM=800,oM=3;class d1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await kp(),this.db)}async _withRetries(t){let e=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(e++>oM)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return c1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ad._getInstance(nM()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await tM(),!this.activeServiceWorker)return;this.sender=new WL(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((e=s[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||eM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await kp();return await zT(t,Nf,"1"),await UT(t,Nf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(s=>zT(s,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(s=>sM(s,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>UT(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=od(l,!1).getAll();return new jc(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),e.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),e.push(l));return e}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}d1.type="LOCAL";const lM=d1;new Hc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uM(i,t){return t?Cs(t):(qt(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_ extends i1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Xl(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Xl(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Xl(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function cM(i){return FL(i.auth,new n_(i),i.bypassAuthState)}function hM(i){const{auth:t,user:e}=i;return qt(e,t,"internal-error"),jL(e,new n_(i),i.bypassAuthState)}async function fM(i){const{auth:t,user:e}=i;return qt(e,t,"internal-error"),qL(e,new n_(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(t,e,s,l,h=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:s,postBody:l,tenantId:h,error:d,type:_}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:e,sessionId:s,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(_)(y))}catch(T){this.reject(T)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return cM;case"linkViaPopup":case"linkViaRedirect":return fM;case"reauthViaPopup":case"reauthViaRedirect":return hM;default:Vs(this.auth,"internal-error")}}resolve(t){zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM=new Hc(2e3,1e4);class Kl extends m1{constructor(t,e,s,l,h){super(t,e,l,h),this.provider=s,this.authWindow=null,this.pollId=null,Kl.currentPopupAction&&Kl.currentPopupAction.cancel(),Kl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return qt(t,this.auth,"internal-error"),t}async onExecution(){zs(this.filter.length===1,"Popup operations only handle one event");const t=e_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Yr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Kl.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,s;if(!((s=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,dM.get())};t()}}Kl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM="pendingRedirect",ff=new Map;class pM extends m1{constructor(t,e,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,s),this.eventId=null}async execute(){let t=ff.get(this.auth._key());if(!t){try{const s=await gM(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(e){t=()=>Promise.reject(e)}ff.set(this.auth._key(),t)}return this.bypassAuthState||ff.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gM(i,t){const e=vM(t),s=yM(i);if(!await s._isAvailable())return!1;const l=await s._get(e)==="true";return await s._remove(e),l}function _M(i,t){ff.set(i._key(),t)}function yM(i){return Cs(i._redirectPersistence)}function vM(i){return hf(mM,i.config.apiKey,i.name)}async function TM(i,t,e=!1){if(vr(i.app))return Promise.reject(Fa(i));const s=sd(i),l=uM(s,t),d=await new pM(s,l,e).execute();return d&&!e&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM=10*60*1e3;class wM{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(e=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!bM(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var s;if(t.error&&!p1(t)){const l=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";e.onError(Yr(this.auth,l))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const s=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=EM&&this.cachedEventUids.clear(),this.cachedEventUids.has(BT(t))}saveEventToCache(t){this.cachedEventUids.add(BT(t)),this.lastProcessedEventTime=Date.now()}}function BT(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function p1({type:i,error:t}){return i==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function bM(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return p1(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AM(i,t={}){return pu(i,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RM=/^https?/;async function IM(i){if(i.config.emulator)return;const{authorizedDomains:t}=await AM(i);for(const e of t)try{if(CM(e))return}catch{}Vs(i,"unauthorized-domain")}function CM(i){const t=Dp(),{protocol:e,hostname:s}=new URL(t);if(i.startsWith("chrome-extension://")){const d=new URL(i);return d.hostname===""&&s===""?e==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&d.hostname===s}if(!RM.test(e))return!1;if(SM.test(i))return s===i;const l=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM=new Hc(3e4,6e4);function HT(){const i=Qr().___jsl;if(i!=null&&i.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let e=0;e<i.CP.length;e++)i.CP[e]=null}}function PM(i){return new Promise((t,e)=>{var s,l,h;function d(){HT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{HT(),e(Yr(i,"network-request-failed"))},timeout:xM.get()})}if(!((l=(s=Qr().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((h=Qr().gapi)===null||h===void 0)&&h.load)d();else{const _=ML("iframefcb");return Qr()[_]=()=>{gapi.load?d():e(Yr(i,"network-request-failed"))},OL(`${LL()}?onload=${_}`).catch(y=>e(y))}}).catch(t=>{throw df=null,t})}let df=null;function OM(i){return df=df||PM(i),df}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM=new Hc(5e3,15e3),MM="__/auth/iframe",DM="emulator/auth/iframe",NM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VM(i){const t=i.config;qt(t.authDomain,i,"auth-domain-config-required");const e=t.emulator?Xg(t,DM):`https://${i.config.authDomain}/${MM}`,s={apiKey:t.apiKey,appName:i.name,v:uu},l=kM.get(i.config.apiHost);l&&(s.eid=l);const h=i._getFrameworks();return h.length&&(s.fw=h.join(",")),`${e}?${kc(s).slice(1)}`}async function zM(i){const t=await OM(i),e=Qr().gapi;return qt(e,i,"internal-error"),t.open({where:document.body,url:VM(i),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NM,dontclear:!0},s=>new Promise(async(l,h)=>{await s.restyle({setHideOnLeave:!1});const d=Yr(i,"network-request-failed"),_=Qr().setTimeout(()=>{h(d)},LM.get());function y(){Qr().clearTimeout(_),l(s)}s.ping(y).then(y,()=>{h(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BM=500,HM=600,qM="_blank",jM="http://localhost";class qT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FM(i,t,e,s=BM,l=HM){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let _="";const y=Object.assign(Object.assign({},UM),{width:s.toString(),height:l.toString(),top:h,left:d}),T=qn().toLowerCase();e&&(_=Qb(T)?qM:e),Kb(T)&&(t=t||jM,y.scrollbars="yes");const A=Object.entries(y).reduce((C,[k,H])=>`${C}${k}=${H},`,"");if(bL(T)&&_!=="_self")return GM(t||"",_),new qT(null);const I=window.open(t||"",_,A);qt(I,i,"popup-blocked");try{I.focus()}catch{}return new qT(I)}function GM(i,t){const e=document.createElement("a");e.href=i,e.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM="__/auth/handler",KM="emulator/auth/handler",YM=encodeURIComponent("fac");async function jT(i,t,e,s,l,h){qt(i.config.authDomain,i,"auth-domain-config-required"),qt(i.config.apiKey,i,"invalid-api-key");const d={apiKey:i.config.apiKey,appName:i.name,authType:e,redirectUrl:s,v:uu,eventId:l};if(t instanceof r1){t.setDefaultLanguage(i.languageCode),d.providerId=t.providerId||"",cI(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,I]of Object.entries({}))d[A]=I}if(t instanceof qc){const A=t.getScopes().filter(I=>I!=="");A.length>0&&(d.scopes=A.join(","))}i.tenantId&&(d.tid=i.tenantId);const _=d;for(const A of Object.keys(_))_[A]===void 0&&delete _[A];const y=await i._getAppCheckToken(),T=y?`#${YM}=${encodeURIComponent(y)}`:"";return`${QM(i)}?${kc(_).slice(1)}${T}`}function QM({config:i}){return i.emulator?Xg(i,KM):`https://${i.authDomain}/${ZM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp="webStorageSupport";class $M{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=u1,this._completeRedirectFn=TM,this._overrideRedirectResult=_M}async _openPopup(t,e,s,l){var h;zs((h=this.eventManagers[t._key()])===null||h===void 0?void 0:h.manager,"_initialize() not called before _openPopup()");const d=await jT(t,e,s,Dp(),l);return FM(t,d,e_())}async _openRedirect(t,e,s,l){await this._originValidation(t);const h=await jT(t,e,s,Dp(),l);return JL(h),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:l,promise:h}=this.eventManagers[e];return l?Promise.resolve(l):(zs(h,"If manager is not set, promise should be"),h)}const s=this.initAndGetManager(t);return this.eventManagers[e]={promise:s},s.catch(()=>{delete this.eventManagers[e]}),s}async initAndGetManager(t){const e=await zM(t),s=new wM(t);return e.register("authEvent",l=>(qt(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=e,s}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(lp,{type:lp},l=>{var h;const d=(h=l==null?void 0:l[0])===null||h===void 0?void 0:h[lp];d!==void 0&&e(!!d),Vs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=IM(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return t1()||Yb()||Jg()}}const XM=$M;var FT="@firebase/auth",GT="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){qt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JM(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tD(i){$r(new br("auth",(t,{options:e})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:d,authDomain:_}=s.options;qt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:d,authDomain:_,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:e1(i)},T=new xL(s,l,h,y);return NL(T,e),T},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,s)=>{t.getProvider("auth-internal").initialize()})),$r(new br("auth-internal",t=>{const e=sd(t.getProvider("auth").getImmediate());return(s=>new WM(s))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ji(FT,GT,JM(i)),Ji(FT,GT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=5*60,nD=bE("authIdTokenMaxAge")||eD;let ZT=null;const iD=i=>async t=>{const e=t&&await t.getIdTokenResult(),s=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(s&&s>nD)return;const l=e==null?void 0:e.token;ZT!==l&&(ZT=l,await fetch(i,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function rD(i=ig()){const t=Xo(i,"auth");if(t.isInitialized())return t.getImmediate();const e=DL(i,{popupRedirectResolver:XM,persistence:[lM,$L,u1]}),s=bE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(s,location.origin);if(location.origin===h.origin){const d=iD(h.toString());ZL(e,d,()=>d(e.currentUser)),GL(e,_=>d(_))}}const l=EE("auth");return l&&kL(e,`http://${l}`),e}function sD(){var i,t;return(t=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&t!==void 0?t:document}PL({loadJS(i){return new Promise((t,e)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=t,s.onerror=l=>{const h=Yr("internal-error");h.customData=l,e(h)},s.type="text/javascript",s.charset="UTF-8",sD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tD("Browser");const aD={apiKey:"AIzaSyB34vwxqdgDvGctHQfEfrBJSk04a1rzQgg",authDomain:"tapasradar.firebaseapp.com",projectId:"tapasradar",storageBucket:"tapasradar.appspot.com",messagingSenderId:"164963298374",appId:"1:164963298374:web:5e29f30e084ede3ecdae47",measurementId:"G-0GS8PM4XGB"},i_=PE(aD);iL().then(i=>{i&&eL(i_)});const KT=rD(i_),Bo=TP(i_);delete gE.Icon.Default.prototype._getIconUrl;gE.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.3/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.3/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.3/dist/images/marker-shadow.png"});const oD=()=>{const[i,t]=Y.useState([]),e=[40.4168,-3.7038];return Y.useEffect(()=>{(async()=>{const l=await ET(ru(Bo,"bars")),h=[];for(const d of l.docs){const _=d.data(),T=(await ET(ru(Bo,`bars/${d.id}/comments`))).docs.map(I=>I.data()),A=T.length>0?T.reduce((I,C)=>I+C.rating,0)/T.length:null;h.push({id:d.id,nom:_.nom,lat:_.lat,lng:_.lng,note:A??null})}t(h)})()},[]),Et.jsxs("div",{className:"container",children:[Et.jsx("h2",{className:"title",children:"Mapa de bares en Madrid"}),Et.jsx("div",{className:"map",children:Et.jsxs(zR,{center:e,zoom:13,style:{height:"100%",width:"100%"},children:[Et.jsx(HR,{attribution:' <a href="https://openstreetmap.org/copyright">OpenStreetMap</a>',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),i.map(s=>Et.jsx(UR,{position:[s.lat,s.lng],children:Et.jsxs(BR,{children:[Et.jsx("strong",{children:s.nom}),Et.jsx("br",{}),s.note!==null?` ${s.note.toFixed(1)} / 5`:"Sin valoraciones",Et.jsx("br",{}),Et.jsx(pf,{to:`/bar/${s.id}`,children:"Ver ficha"})]})},s.id))]})}),Et.jsx(pf,{to:"/",className:"back-link",children:"Volver al inicio"})]})},lD=()=>{const[i,t]=Y.useState([]),[e,s]=Y.useState(!0);return Y.useEffect(()=>{const h=ub(ru(Bo,"bars")),d=mb(h,_=>{const y=_.docs.map(T=>({id:T.id,...T.data()}));console.log("Bars rcuprs :",y),t(y),s(!1)});return()=>d()},[]),{bars:i,ajouterBar:async h=>{await db(ru(Bo,"bars"),h)},loading:e}};function g1(i){var t,e,s="";if(typeof i=="string"||typeof i=="number")s+=i;else if(typeof i=="object")if(Array.isArray(i)){var l=i.length;for(t=0;t<l;t++)i[t]&&(e=g1(i[t]))&&(s&&(s+=" "),s+=e)}else for(e in i)i[e]&&(s&&(s+=" "),s+=e);return s}function Ho(){for(var i,t,e=0,s="",l=arguments.length;e<l;e++)(i=arguments[e])&&(t=g1(i))&&(s&&(s+=" "),s+=t);return s}function uD(i){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e),e.styleSheet?e.styleSheet.cssText=i:e.appendChild(document.createTextNode(i))}uD(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Fc=i=>typeof i=="number"&&!isNaN(i),Ko=i=>typeof i=="string",Us=i=>typeof i=="function",cD=i=>Ko(i)||Fc(i),Vp=i=>Ko(i)||Us(i)?i:null,hD=(i,t)=>i===!1||Fc(i)&&i>0?i:t,zp=i=>Y.isValidElement(i)||Ko(i)||Us(i)||Fc(i);function fD(i,t,e=300){let{scrollHeight:s,style:l}=i;requestAnimationFrame(()=>{l.minHeight="initial",l.height=s+"px",l.transition=`all ${e}ms`,requestAnimationFrame(()=>{l.height="0",l.padding="0",l.margin="0",setTimeout(t,e)})})}function dD({enter:i,exit:t,appendPosition:e=!1,collapse:s=!0,collapseDuration:l=300}){return function({children:h,position:d,preventExitTransition:_,done:y,nodeRef:T,isIn:A,playToast:I}){let C=e?`${i}--${d}`:i,k=e?`${t}--${d}`:t,H=Y.useRef(0);return Y.useLayoutEffect(()=>{let G=T.current,Z=C.split(" "),tt=W=>{W.target===T.current&&(I(),G.removeEventListener("animationend",tt),G.removeEventListener("animationcancel",tt),H.current===0&&W.type!=="animationcancel"&&G.classList.remove(...Z))};G.classList.add(...Z),G.addEventListener("animationend",tt),G.addEventListener("animationcancel",tt)},[]),Y.useEffect(()=>{let G=T.current,Z=()=>{G.removeEventListener("animationend",Z),s?fD(G,y,l):y()};A||(_?Z():(H.current=1,G.className+=` ${k}`,G.addEventListener("animationend",Z)))},[A]),Te.createElement(Te.Fragment,null,h)}}function YT(i,t){return{content:_1(i.content,i.props),containerId:i.props.containerId,id:i.props.toastId,theme:i.props.theme,type:i.props.type,data:i.props.data||{},isLoading:i.props.isLoading,icon:i.props.icon,reason:i.removalReason,status:t}}function _1(i,t,e=!1){return Y.isValidElement(i)&&!Ko(i.type)?Y.cloneElement(i,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:e}):Us(i)?i({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:e}):i}function mD({closeToast:i,theme:t,ariaLabel:e="close"}){return Te.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:s=>{s.stopPropagation(),i(!0)},"aria-label":e},Te.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Te.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function pD({delay:i,isRunning:t,closeToast:e,type:s="default",hide:l,className:h,controlledProgress:d,progress:_,rtl:y,isIn:T,theme:A}){let I=l||d&&_===0,C={animationDuration:`${i}ms`,animationPlayState:t?"running":"paused"};d&&(C.transform=`scaleX(${_})`);let k=Ho("Toastify__progress-bar",d?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${A}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":y}),H=Us(h)?h({rtl:y,type:s,defaultClassName:k}):Ho(k,h),G={[d&&_>=1?"onTransitionEnd":"onAnimationEnd"]:d&&_<1?null:()=>{T&&e()}};return Te.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":I},Te.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${A} Toastify__progress-bar--${s}`}),Te.createElement("div",{role:"progressbar","aria-hidden":I?"true":"false","aria-label":"notification timer",className:H,style:C,...G}))}var gD=1,y1=()=>`${gD++}`;function _D(i,t,e){let s=1,l=0,h=[],d=[],_=t,y=new Map,T=new Set,A=W=>(T.add(W),()=>T.delete(W)),I=()=>{d=Array.from(y.values()),T.forEach(W=>W())},C=({containerId:W,toastId:nt,updateId:gt})=>{let Tt=W?W!==i:i!==1,Pt=y.has(nt)&&gt==null;return Tt||Pt},k=(W,nt)=>{y.forEach(gt=>{var Tt;(nt==null||nt===gt.props.toastId)&&((Tt=gt.toggle)==null||Tt.call(gt,W))})},H=W=>{var nt,gt;(gt=(nt=W.props)==null?void 0:nt.onClose)==null||gt.call(nt,W.removalReason),W.isActive=!1},G=W=>{if(W==null)y.forEach(H);else{let nt=y.get(W);nt&&H(nt)}I()},Z=()=>{l-=h.length,h=[]},tt=W=>{var nt,gt;let{toastId:Tt,updateId:Pt}=W.props,z=Pt==null;W.staleId&&y.delete(W.staleId),W.isActive=!0,y.set(Tt,W),I(),e(YT(W,z?"added":"updated")),z&&((gt=(nt=W.props).onOpen)==null||gt.call(nt))};return{id:i,props:_,observe:A,toggle:k,removeToast:G,toasts:y,clearQueue:Z,buildToast:(W,nt)=>{if(C(nt))return;let{toastId:gt,updateId:Tt,data:Pt,staleId:z,delay:O}=nt,M=Tt==null;M&&l++;let B={..._,style:_.toastStyle,key:s++,...Object.fromEntries(Object.entries(nt).filter(([F,U])=>U!=null)),toastId:gt,updateId:Tt,data:Pt,isIn:!1,className:Vp(nt.className||_.toastClassName),progressClassName:Vp(nt.progressClassName||_.progressClassName),autoClose:nt.isLoading?!1:hD(nt.autoClose,_.autoClose),closeToast(F){y.get(gt).removalReason=F,G(gt)},deleteToast(){let F=y.get(gt);if(F!=null){if(e(YT(F,"removed")),y.delete(gt),l--,l<0&&(l=0),h.length>0){tt(h.shift());return}I()}}};B.closeButton=_.closeButton,nt.closeButton===!1||zp(nt.closeButton)?B.closeButton=nt.closeButton:nt.closeButton===!0&&(B.closeButton=zp(_.closeButton)?_.closeButton:!0);let q={content:W,props:B,staleId:z};_.limit&&_.limit>0&&l>_.limit&&M?h.push(q):Fc(O)?setTimeout(()=>{tt(q)},O):tt(q)},setProps(W){_=W},setToggle:(W,nt)=>{let gt=y.get(W);gt&&(gt.toggle=nt)},isToastActive:W=>{var nt;return(nt=y.get(W))==null?void 0:nt.isActive},getSnapshot:()=>d}}var Xn=new Map,Oc=[],Up=new Set,yD=i=>Up.forEach(t=>t(i)),v1=()=>Xn.size>0;function vD(){Oc.forEach(i=>E1(i.content,i.options)),Oc=[]}var TD=(i,{containerId:t})=>{var e;return(e=Xn.get(t||1))==null?void 0:e.toasts.get(i)};function T1(i,t){var e;if(t)return!!((e=Xn.get(t))!=null&&e.isToastActive(i));let s=!1;return Xn.forEach(l=>{l.isToastActive(i)&&(s=!0)}),s}function ED(i){if(!v1()){Oc=Oc.filter(t=>i!=null&&t.options.toastId!==i);return}if(i==null||cD(i))Xn.forEach(t=>{t.removeToast(i)});else if(i&&("containerId"in i||"id"in i)){let t=Xn.get(i.containerId);t?t.removeToast(i.id):Xn.forEach(e=>{e.removeToast(i.id)})}}var wD=(i={})=>{Xn.forEach(t=>{t.props.limit&&(!i.containerId||t.id===i.containerId)&&t.clearQueue()})};function E1(i,t){zp(i)&&(v1()||Oc.push({content:i,options:t}),Xn.forEach(e=>{e.buildToast(i,t)}))}function bD(i){var t;(t=Xn.get(i.containerId||1))==null||t.setToggle(i.id,i.fn)}function w1(i,t){Xn.forEach(e=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===e.id)&&e.toggle(i,t==null?void 0:t.id)})}function AD(i){let t=i.containerId||1;return{subscribe(e){let s=_D(t,i,yD);Xn.set(t,s);let l=s.observe(e);return vD(),()=>{l(),Xn.delete(t)}},setProps(e){var s;(s=Xn.get(t))==null||s.setProps(e)},getSnapshot(){var e;return(e=Xn.get(t))==null?void 0:e.getSnapshot()}}}function SD(i){return Up.add(i),()=>{Up.delete(i)}}function RD(i){return i&&(Ko(i.toastId)||Fc(i.toastId))?i.toastId:y1()}function Gc(i,t){return E1(i,t),t.toastId}function ld(i,t){return{...t,type:t&&t.type||i,toastId:RD(t)}}function ud(i){return(t,e)=>Gc(t,ld(i,e))}function ve(i,t){return Gc(i,ld("default",t))}ve.loading=(i,t)=>Gc(i,ld("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function ID(i,{pending:t,error:e,success:s},l){let h;t&&(h=Ko(t)?ve.loading(t,l):ve.loading(t.render,{...l,...t}));let d={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},_=(T,A,I)=>{if(A==null){ve.dismiss(h);return}let C={type:T,...d,...l,data:I},k=Ko(A)?{render:A}:A;return h?ve.update(h,{...C,...k}):ve(k.render,{...C,...k}),I},y=Us(i)?i():i;return y.then(T=>_("success",s,T)).catch(T=>_("error",e,T)),y}ve.promise=ID;ve.success=ud("success");ve.info=ud("info");ve.error=ud("error");ve.warning=ud("warning");ve.warn=ve.warning;ve.dark=(i,t)=>Gc(i,ld("default",{theme:"dark",...t}));function CD(i){ED(i)}ve.dismiss=CD;ve.clearWaitingQueue=wD;ve.isActive=T1;ve.update=(i,t={})=>{let e=TD(i,t);if(e){let{props:s,content:l}=e,h={delay:100,...s,...t,toastId:t.toastId||i,updateId:y1()};h.toastId!==i&&(h.staleId=i);let d=h.render||l;delete h.render,Gc(d,h)}};ve.done=i=>{ve.update(i,{progress:1})};ve.onChange=SD;ve.play=i=>w1(!0,i);ve.pause=i=>w1(!1,i);function xD(i){var t;let{subscribe:e,getSnapshot:s,setProps:l}=Y.useRef(AD(i)).current;l(i);let h=(t=Y.useSyncExternalStore(e,s,s))==null?void 0:t.slice();function d(_){if(!h)return[];let y=new Map;return i.newestOnTop&&h.reverse(),h.forEach(T=>{let{position:A}=T.props;y.has(A)||y.set(A,[]),y.get(A).push(T)}),Array.from(y,T=>_(T[0],T[1]))}return{getToastToRender:d,isToastActive:T1,count:h==null?void 0:h.length}}function PD(i){let[t,e]=Y.useState(!1),[s,l]=Y.useState(!1),h=Y.useRef(null),d=Y.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:_,pauseOnHover:y,closeToast:T,onClick:A,closeOnClick:I}=i;bD({id:i.toastId,containerId:i.containerId,fn:e}),Y.useEffect(()=>{if(i.pauseOnFocusLoss)return C(),()=>{k()}},[i.pauseOnFocusLoss]);function C(){document.hasFocus()||tt(),window.addEventListener("focus",Z),window.addEventListener("blur",tt)}function k(){window.removeEventListener("focus",Z),window.removeEventListener("blur",tt)}function H(z){if(i.draggable===!0||i.draggable===z.pointerType){W();let O=h.current;d.canCloseOnClick=!0,d.canDrag=!0,O.style.transition="none",i.draggableDirection==="x"?(d.start=z.clientX,d.removalDistance=O.offsetWidth*(i.draggablePercent/100)):(d.start=z.clientY,d.removalDistance=O.offsetHeight*(i.draggablePercent===80?i.draggablePercent*1.5:i.draggablePercent)/100)}}function G(z){let{top:O,bottom:M,left:B,right:q}=h.current.getBoundingClientRect();z.nativeEvent.type!=="touchend"&&i.pauseOnHover&&z.clientX>=B&&z.clientX<=q&&z.clientY>=O&&z.clientY<=M?tt():Z()}function Z(){e(!0)}function tt(){e(!1)}function W(){d.didMove=!1,document.addEventListener("pointermove",gt),document.addEventListener("pointerup",Tt)}function nt(){document.removeEventListener("pointermove",gt),document.removeEventListener("pointerup",Tt)}function gt(z){let O=h.current;if(d.canDrag&&O){d.didMove=!0,t&&tt(),i.draggableDirection==="x"?d.delta=z.clientX-d.start:d.delta=z.clientY-d.start,d.start!==z.clientX&&(d.canCloseOnClick=!1);let M=i.draggableDirection==="x"?`${d.delta}px, var(--y)`:`0, calc(${d.delta}px + var(--y))`;O.style.transform=`translate3d(${M},0)`,O.style.opacity=`${1-Math.abs(d.delta/d.removalDistance)}`}}function Tt(){nt();let z=h.current;if(d.canDrag&&d.didMove&&z){if(d.canDrag=!1,Math.abs(d.delta)>d.removalDistance){l(!0),i.closeToast(!0),i.collapseAll();return}z.style.transition="transform 0.2s, opacity 0.2s",z.style.removeProperty("transform"),z.style.removeProperty("opacity")}}let Pt={onPointerDown:H,onPointerUp:G};return _&&y&&(Pt.onMouseEnter=tt,i.stacked||(Pt.onMouseLeave=Z)),I&&(Pt.onClick=z=>{A&&A(z),d.canCloseOnClick&&T(!0)}),{playToast:Z,pauseToast:tt,isRunning:t,preventExitTransition:s,toastRef:h,eventHandlers:Pt}}var OD=typeof window<"u"?Y.useLayoutEffect:Y.useEffect,cd=({theme:i,type:t,isLoading:e,...s})=>Te.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:i==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...s});function LD(i){return Te.createElement(cd,{...i},Te.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function MD(i){return Te.createElement(cd,{...i},Te.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function DD(i){return Te.createElement(cd,{...i},Te.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function ND(i){return Te.createElement(cd,{...i},Te.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function kD(){return Te.createElement("div",{className:"Toastify__spinner"})}var Bp={info:MD,warning:LD,success:DD,error:ND,spinner:kD},VD=i=>i in Bp;function zD({theme:i,type:t,isLoading:e,icon:s}){let l=null,h={theme:i,type:t};return s===!1||(Us(s)?l=s({...h,isLoading:e}):Y.isValidElement(s)?l=Y.cloneElement(s,h):e?l=Bp.spinner():VD(t)&&(l=Bp[t](h))),l}var UD=i=>{let{isRunning:t,preventExitTransition:e,toastRef:s,eventHandlers:l,playToast:h}=PD(i),{closeButton:d,children:_,autoClose:y,onClick:T,type:A,hideProgressBar:I,closeToast:C,transition:k,position:H,className:G,style:Z,progressClassName:tt,updateId:W,role:nt,progress:gt,rtl:Tt,toastId:Pt,deleteToast:z,isIn:O,isLoading:M,closeOnClick:B,theme:q,ariaLabel:F}=i,U=Ho("Toastify__toast",`Toastify__toast-theme--${q}`,`Toastify__toast--${A}`,{"Toastify__toast--rtl":Tt},{"Toastify__toast--close-on-click":B}),pe=Us(G)?G({rtl:Tt,position:H,type:A,defaultClassName:U}):Ho(U,G),Re=zD(i),at=!!gt||!y,yt={closeToast:C,type:A,theme:q},pt=null;return d===!1||(Us(d)?pt=d(yt):Y.isValidElement(d)?pt=Y.cloneElement(d,yt):pt=mD(yt)),Te.createElement(k,{isIn:O,done:z,position:H,preventExitTransition:e,nodeRef:s,playToast:h},Te.createElement("div",{id:Pt,tabIndex:0,onClick:T,"data-in":O,className:pe,...l,style:Z,ref:s,...O&&{role:nt,"aria-label":F}},Re!=null&&Te.createElement("div",{className:Ho("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!M})},Re),_1(_,i,!t),pt,!i.customProgressBar&&Te.createElement(pD,{...W&&!at?{key:`p-${W}`}:{},rtl:Tt,theme:q,delay:y,isRunning:t,isIn:O,closeToast:C,hide:I,type:A,className:tt,controlledProgress:at,progress:gt||0})))},BD=(i,t=!1)=>({enter:`Toastify--animate Toastify__${i}-enter`,exit:`Toastify--animate Toastify__${i}-exit`,appendPosition:t}),HD=dD(BD("bounce",!0)),qD={position:"top-right",transition:HD,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:i=>i.altKey&&i.code==="KeyT"};function jD(i){let t={...qD,...i},e=i.stacked,[s,l]=Y.useState(!0),h=Y.useRef(null),{getToastToRender:d,isToastActive:_,count:y}=xD(t),{className:T,style:A,rtl:I,containerId:C,hotKeys:k}=t;function H(Z){let tt=Ho("Toastify__toast-container",`Toastify__toast-container--${Z}`,{"Toastify__toast-container--rtl":I});return Us(T)?T({position:Z,rtl:I,defaultClassName:tt}):Ho(tt,Vp(T))}function G(){e&&(l(!0),ve.play())}return OD(()=>{var Z;if(e){let tt=h.current.querySelectorAll('[data-in="true"]'),W=12,nt=(Z=t.position)==null?void 0:Z.includes("top"),gt=0,Tt=0;Array.from(tt).reverse().forEach((Pt,z)=>{let O=Pt;O.classList.add("Toastify__toast--stacked"),z>0&&(O.dataset.collapsed=`${s}`),O.dataset.pos||(O.dataset.pos=nt?"top":"bot");let M=gt*(s?.2:1)+(s?0:W*z);O.style.setProperty("--y",`${nt?M:M*-1}px`),O.style.setProperty("--g",`${W}`),O.style.setProperty("--s",`${1-(s?Tt:0)}`),gt+=O.offsetHeight,Tt+=.025})}},[s,y,e]),Y.useEffect(()=>{function Z(tt){var W;let nt=h.current;k(tt)&&((W=nt.querySelector('[tabIndex="0"]'))==null||W.focus(),l(!1),ve.pause()),tt.key==="Escape"&&(document.activeElement===nt||nt!=null&&nt.contains(document.activeElement))&&(l(!0),ve.play())}return document.addEventListener("keydown",Z),()=>{document.removeEventListener("keydown",Z)}},[k]),Te.createElement("section",{ref:h,className:"Toastify",id:C,onMouseEnter:()=>{e&&(l(!1),ve.pause())},onMouseLeave:G,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},d((Z,tt)=>{let W=tt.length?{...A}:{...A,pointerEvents:"none"};return Te.createElement("div",{tabIndex:-1,className:H(Z),"data-stacked":e,style:W,key:`c-${Z}`},tt.map(({content:nt,props:gt})=>Te.createElement(UD,{...gt,stacked:e,collapseAll:G,isIn:_(gt.toastId,gt.containerId),key:`t-${gt.key}`},nt)))}))}const FD=()=>{const[i,t]=Y.useState(""),[e,s]=Y.useState(""),[l,h]=Y.useState(""),[d,_]=Y.useState(!1),{ajouterBar:y}=lD(),T=Fp(),A=()=>{T("/")},I=async k=>{if(k.preventDefault(),!i||!e||!l)return alert("Por favor, completa todos los campos.");try{await y({nom:i,lat:parseFloat(e),lng:parseFloat(l)}),T("/mapa"),ve.success("Formulario enviado correctamente ")}catch(H){console.error("Error al aadir bar:",H),alert("Hubo un error al guardar el bar.")}},C=()=>{window.confirm("Ests seguro de que quieres borrar el formulario?")&&(_(!0),setTimeout(()=>{t(""),s(""),h(""),_(!1),ve.info("Formulario limpiado correctamente ")},300))};return Et.jsx("div",{className:"form-container",children:Et.jsxs("form",{onSubmit:I,children:[Et.jsx("input",{type:"text",placeholder:"Nombre del bar",value:i,onChange:k=>t(k.target.value),className:d?"resetting":""}),Et.jsx("input",{type:"number",placeholder:"Latitud",value:e,onChange:k=>s(k.target.value),className:d?"resetting":""}),Et.jsx("input",{type:"number",placeholder:"Longitud",value:l,onChange:k=>h(k.target.value),className:d?"resetting":""}),Et.jsx("button",{type:"submit",children:"Guardar"}),Et.jsx("button",{type:"button",onClick:C,children:"Resetear"}),Et.jsx("button",{type:"button",onClick:A,children:"Ir a inicio"})]})})};function b1(){const[i,t]=Y.useState(null),[e,s]=Y.useState(!0);return Y.useEffect(()=>{const l=KL(KT,h=>{t(h?{uid:h.uid,isAnonymous:h.isAnonymous}:null),s(!1)});return HL(KT).catch(h=>{console.error("Erreur lors de la connexion anonyme",h),s(!1)}),()=>l()},[]),{user:i,loading:e}}const GD=i=>{const t=Math.floor(i),e=i-t>=.5,s=5-t-(e?1:0),l=[];for(let h=0;h<t;h++)l.push(Et.jsx("span",{className:"star active",children:""},`full-${h}`));e&&l.push(Et.jsx("span",{className:"star half",children:""},"half"));for(let h=0;h<s;h++)l.push(Et.jsx("span",{className:"star",children:""},`empty-${h}`));return l},ZD=()=>{const{id:i}=AS(),{user:t}=b1(),[e,s]=Y.useState(""),[l,h]=Y.useState([]),[d,_]=Y.useState(""),[y,T]=Y.useState(0);Y.useEffect(()=>{const C=async()=>{const G=Jw(Bo,"bars",i),Z=await NP(G);Z.exists()&&s(Z.data().nom)},k=ub(ru(Bo,`bars/${i}/comments`),OP("timestamp","desc")),H=mb(k,G=>{const Z=G.docs.map(tt=>tt.data());h(Z)});return C(),()=>H()},[i]);const A=l.length?(l.reduce((C,k)=>C+k.rating,0)/l.length).toFixed(1):"Sin valoraciones",I=async C=>{if(C.preventDefault(),!d||y===0){alert("Completa todos los campos.");return}try{await db(ru(Bo,`bars/${i}/comments`),{uid:(t==null?void 0:t.uid)||"anon",nom:"Annimo",message:d,rating:y,timestamp:VP()}),_(""),T(0)}catch(k){console.error("Error al enviar comentario:",k),alert("Hubo un problema al enviar el comentario.")}};return Et.jsxs("div",{className:"bar-page",children:[Et.jsx("h2",{children:e}),Et.jsxs("div",{className:"rating",children:[Et.jsx("span",{className:"label",children:"Nota media:"}),typeof A=="string"?Et.jsxs("span",{children:[" ",A]}):Et.jsxs(Et.Fragment,{children:[GD(parseFloat(A)),Et.jsxs("span",{style:{marginLeft:"0.5rem"},children:["(",A," / 5)"]}),Et.jsxs("span",{style:{marginLeft:"0.5rem",fontSize:"1rem"},children:[" ",l.length," ",l.length===1?"comentario":"comentarios"]})]})]}),Et.jsx("h3",{children:"Comentarios:"}),Et.jsx("ul",{children:l.map((C,k)=>Et.jsxs("li",{children:[Et.jsx("strong",{children:C.nom}),"   ",C.rating,Et.jsx("br",{}),C.message]},k))}),Et.jsx("h3",{children:"Aadir comentario:"}),Et.jsxs("form",{onSubmit:I,className:"comment-form",children:[Et.jsx("textarea",{placeholder:"Escribe tu comentario...",value:d,onChange:C=>_(C.target.value),required:!0}),Et.jsx("div",{className:"stars",children:[1,2,3,4,5].map(C=>Et.jsx("span",{onClick:()=>T(C),className:C<=y?"star active":"star",children:""},C))}),Et.jsx("button",{type:"submit",children:"Enviar"})]})]})},KD="Mael Develop",YD=1;let QD=new Date().getFullYear();function $D(){return"Beta"}const XD=` ${QD}, ${KD} in version ${YD} ${$D()}`,WD=()=>Et.jsx("div",{className:"footer",children:Et.jsxs("p",{className:"credits",children:[" ",XD]})}),JD=()=>{const[i,t]=Y.useState(()=>localStorage.getItem("darkMode")==="true"),e=()=>{const l=!i;t(l),localStorage.setItem("darkMode",String(l)),document.documentElement.classList.toggle("dark-mode",l)},s=()=>{window.confirm("Ests seguro de que quieres borrar los datos locales?")&&(localStorage.clear(),alert("Datos locales eliminados."))};return Y.useEffect(()=>{document.documentElement.classList.toggle("dark-mode",i)},[i]),Et.jsxs("div",{className:"settings-page",children:[Et.jsx("h2",{children:" Ajustes"}),Et.jsx("div",{className:"setting",children:Et.jsxs("label",{children:[Et.jsx("input",{type:"checkbox",checked:i,onChange:e}),"Modo oscuro"]})}),Et.jsx("div",{className:"setting",children:Et.jsx("button",{onClick:s,children:" Borrar datos locales"})}),Et.jsx("div",{className:"setting small",children:Et.jsx("p",{children:"Versin: 1.0.0"})})]})},tN=()=>{const{user:i,loading:t}=b1();return t?Et.jsx("p",{children:"Cargando..."}):i?(console.log(`Conectado annimamente con UID ${i.uid}`),Et.jsx(Et.Fragment,{children:Et.jsxs(uR,{children:[Et.jsxs(US,{children:[Et.jsx(ql,{path:"/",element:Et.jsx(wR,{})}),Et.jsx(ql,{path:"/mapa",element:Et.jsx(oD,{})}),Et.jsx(ql,{path:"/aadir",element:Et.jsx(FD,{})}),Et.jsx(ql,{path:"/bar/:id",element:Et.jsx(ZD,{})})," ",Et.jsx(ql,{path:"/settings",element:Et.jsx(JD,{})})]}),Et.jsx(WD,{}),Et.jsx(jD,{})]})})):Et.jsx("p",{children:"Problema con la autenticacin"})},eN="modulepreload",nN=function(i){return"/TapasMadrid/"+i},QT={},iN=function(t,e,s){let l=Promise.resolve();if(e&&e.length>0){let d=function(T){return Promise.all(T.map(A=>Promise.resolve(A).then(I=>({status:"fulfilled",value:I}),I=>({status:"rejected",reason:I}))))};document.getElementsByTagName("link");const _=document.querySelector("meta[property=csp-nonce]"),y=(_==null?void 0:_.nonce)||(_==null?void 0:_.getAttribute("nonce"));l=d(e.map(T=>{if(T=nN(T),T in QT)return;QT[T]=!0;const A=T.endsWith(".css"),I=A?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${T}"]${I}`))return;const C=document.createElement("link");if(C.rel=A?"stylesheet":eN,A||(C.as="script"),C.crossOrigin="",C.href=T,y&&C.setAttribute("nonce",y),document.head.appendChild(C),A)return new Promise((k,H)=>{C.addEventListener("load",k),C.addEventListener("error",()=>H(new Error(`Unable to preload CSS for ${T}`)))})}))}function h(d){const _=new Event("vite:preloadError",{cancelable:!0});if(_.payload=d,window.dispatchEvent(_),!_.defaultPrevented)throw d}return l.then(d=>{for(const _ of d||[])_.status==="rejected"&&h(_.reason);return t().catch(h)})};function rN(i={}){const{immediate:t=!1,onNeedRefresh:e,onOfflineReady:s,onRegistered:l,onRegisteredSW:h,onRegisterError:d}=i;let _,y;const T=async(I=!0)=>{await y};async function A(){if("serviceWorker"in navigator){if(_=await iN(async()=>{const{Workbox:I}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:I}},[]).then(({Workbox:I})=>new I("/TapasMadrid/sw.js",{scope:"/TapasMadrid/",type:"classic"})).catch(I=>{d==null||d(I)}),!_)return;_.addEventListener("activated",I=>{(I.isUpdate||I.isExternal)&&window.location.reload()}),_.addEventListener("installed",I=>{I.isUpdate||s==null||s()}),_.register({immediate:t}).then(I=>{h?h("/TapasMadrid/sw.js",I):l==null||l(I)}).catch(I=>{d==null||d(I)})}}return y=A(),T}KA.createRoot(document.getElementById("root")).render(Et.jsx(Te.StrictMode,{children:Et.jsx(tN,{})}));rN({onNeedRefresh(){confirm("Nueva versin disponible. Recargar la pgina?")&&window.location.reload()},onOfflineReady(){console.log("TapasRadar est disponible sin conexin.")}});
