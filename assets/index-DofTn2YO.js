(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function e(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(l){if(l.ep)return;l.ep=!0;const h=e(l);fetch(l.href,h)}})();function Hp(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Hm={exports:{}},ic={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gv;function VA(){if(Gv)return ic;Gv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,l,h){var d=null;if(h!==void 0&&(d=""+h),l.key!==void 0&&(d=""+l.key),"key"in l){h={};for(var _ in l)_!=="key"&&(h[_]=l[_])}else h=l;return l=h.ref,{$$typeof:i,type:s,key:d,ref:l!==void 0?l:null,props:h}}return ic.Fragment=t,ic.jsx=e,ic.jsxs=e,ic}var Zv;function zA(){return Zv||(Zv=1,Hm.exports=VA()),Hm.exports}var At=zA(),qm={exports:{}},$t={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v;function UA(){if($v)return $t;$v=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),T=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),x=Symbol.iterator;function C(D){return D===null||typeof D!="object"?null:(D=x&&D[x]||D["@@iterator"],typeof D=="function"?D:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,G={};function Z(D,ot,_t){this.props=D,this.context=ot,this.refs=G,this.updater=_t||V}Z.prototype.isReactComponent={},Z.prototype.setState=function(D,ot){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,ot,"setState")},Z.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function tt(){}tt.prototype=Z.prototype;function W(D,ot,_t){this.props=D,this.context=ot,this.refs=G,this.updater=_t||V}var nt=W.prototype=new tt;nt.constructor=W,q(nt,Z.prototype),nt.isPureReactComponent=!0;var gt=Array.isArray,Tt={H:null,A:null,T:null,S:null,V:null},Pt=Object.prototype.hasOwnProperty;function z(D,ot,_t,mt,wt,It){return _t=It.ref,{$$typeof:i,type:D,key:ot,ref:_t!==void 0?_t:null,props:It}}function O(D,ot){return z(D.type,ot,void 0,void 0,void 0,D.props)}function M(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function B(D){var ot={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(_t){return ot[_t]})}var H=/\/+/g;function F(D,ot){return typeof D=="object"&&D!==null&&D.key!=null?B(""+D.key):ot.toString(36)}function U(){}function pe(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(U,U):(D.status="pending",D.then(function(ot){D.status==="pending"&&(D.status="fulfilled",D.value=ot)},function(ot){D.status==="pending"&&(D.status="rejected",D.reason=ot)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function Ie(D,ot,_t,mt,wt){var It=typeof D;(It==="undefined"||It==="boolean")&&(D=null);var Et=!1;if(D===null)Et=!0;else switch(It){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(D.$$typeof){case i:case t:Et=!0;break;case S:return Et=D._init,Ie(Et(D._payload),ot,_t,mt,wt)}}if(Et)return wt=wt(D),Et=mt===""?"."+F(D,0):mt,gt(wt)?(_t="",Et!=null&&(_t=Et.replace(H,"$&/")+"/"),Ie(wt,ot,_t,"",function(ui){return ui})):wt!=null&&(M(wt)&&(wt=O(wt,_t+(wt.key==null||D&&D.key===wt.key?"":(""+wt.key).replace(H,"$&/")+"/")+Et)),ot.push(wt)),1;Et=0;var Ee=mt===""?".":mt+":";if(gt(D))for(var re=0;re<D.length;re++)mt=D[re],It=Ee+F(mt,re),Et+=Ie(mt,ot,_t,It,wt);else if(re=C(D),typeof re=="function")for(D=re.call(D),re=0;!(mt=D.next()).done;)mt=mt.value,It=Ee+F(mt,re++),Et+=Ie(mt,ot,_t,It,wt);else if(It==="object"){if(typeof D.then=="function")return Ie(pe(D),ot,_t,mt,wt);throw ot=String(D),Error("Objects are not valid as a React child (found: "+(ot==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":ot)+"). If you meant to render a collection of children, use an array instead.")}return Et}function at(D,ot,_t){if(D==null)return D;var mt=[],wt=0;return Ie(D,mt,"","",function(It){return ot.call(_t,It,wt++)}),mt}function yt(D){if(D._status===-1){var ot=D._result;ot=ot(),ot.then(function(_t){(D._status===0||D._status===-1)&&(D._status=1,D._result=_t)},function(_t){(D._status===0||D._status===-1)&&(D._status=2,D._result=_t)}),D._status===-1&&(D._status=0,D._result=ot)}if(D._status===1)return D._result.default;throw D._result}var pt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ot=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(ot))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function se(){}return $t.Children={map:at,forEach:function(D,ot,_t){at(D,function(){ot.apply(this,arguments)},_t)},count:function(D){var ot=0;return at(D,function(){ot++}),ot},toArray:function(D){return at(D,function(ot){return ot})||[]},only:function(D){if(!M(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},$t.Component=Z,$t.Fragment=e,$t.Profiler=l,$t.PureComponent=W,$t.StrictMode=s,$t.Suspense=y,$t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Tt,$t.__COMPILER_RUNTIME={__proto__:null,c:function(D){return Tt.H.useMemoCache(D)}},$t.cache=function(D){return function(){return D.apply(null,arguments)}},$t.cloneElement=function(D,ot,_t){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var mt=q({},D.props),wt=D.key,It=void 0;if(ot!=null)for(Et in ot.ref!==void 0&&(It=void 0),ot.key!==void 0&&(wt=""+ot.key),ot)!Pt.call(ot,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&ot.ref===void 0||(mt[Et]=ot[Et]);var Et=arguments.length-2;if(Et===1)mt.children=_t;else if(1<Et){for(var Ee=Array(Et),re=0;re<Et;re++)Ee[re]=arguments[re+2];mt.children=Ee}return z(D.type,wt,void 0,void 0,It,mt)},$t.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:h,_context:D},D},$t.createElement=function(D,ot,_t){var mt,wt={},It=null;if(ot!=null)for(mt in ot.key!==void 0&&(It=""+ot.key),ot)Pt.call(ot,mt)&&mt!=="key"&&mt!=="__self"&&mt!=="__source"&&(wt[mt]=ot[mt]);var Et=arguments.length-2;if(Et===1)wt.children=_t;else if(1<Et){for(var Ee=Array(Et),re=0;re<Et;re++)Ee[re]=arguments[re+2];wt.children=Ee}if(D&&D.defaultProps)for(mt in Et=D.defaultProps,Et)wt[mt]===void 0&&(wt[mt]=Et[mt]);return z(D,It,void 0,void 0,null,wt)},$t.createRef=function(){return{current:null}},$t.forwardRef=function(D){return{$$typeof:_,render:D}},$t.isValidElement=M,$t.lazy=function(D){return{$$typeof:S,_payload:{_status:-1,_result:D},_init:yt}},$t.memo=function(D,ot){return{$$typeof:T,type:D,compare:ot===void 0?null:ot}},$t.startTransition=function(D){var ot=Tt.T,_t={};Tt.T=_t;try{var mt=D(),wt=Tt.S;wt!==null&&wt(_t,mt),typeof mt=="object"&&mt!==null&&typeof mt.then=="function"&&mt.then(se,pt)}catch(It){pt(It)}finally{Tt.T=ot}},$t.unstable_useCacheRefresh=function(){return Tt.H.useCacheRefresh()},$t.use=function(D){return Tt.H.use(D)},$t.useActionState=function(D,ot,_t){return Tt.H.useActionState(D,ot,_t)},$t.useCallback=function(D,ot){return Tt.H.useCallback(D,ot)},$t.useContext=function(D){return Tt.H.useContext(D)},$t.useDebugValue=function(){},$t.useDeferredValue=function(D,ot){return Tt.H.useDeferredValue(D,ot)},$t.useEffect=function(D,ot,_t){var mt=Tt.H;if(typeof _t=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return mt.useEffect(D,ot)},$t.useId=function(){return Tt.H.useId()},$t.useImperativeHandle=function(D,ot,_t){return Tt.H.useImperativeHandle(D,ot,_t)},$t.useInsertionEffect=function(D,ot){return Tt.H.useInsertionEffect(D,ot)},$t.useLayoutEffect=function(D,ot){return Tt.H.useLayoutEffect(D,ot)},$t.useMemo=function(D,ot){return Tt.H.useMemo(D,ot)},$t.useOptimistic=function(D,ot){return Tt.H.useOptimistic(D,ot)},$t.useReducer=function(D,ot,_t){return Tt.H.useReducer(D,ot,_t)},$t.useRef=function(D){return Tt.H.useRef(D)},$t.useState=function(D){return Tt.H.useState(D)},$t.useSyncExternalStore=function(D,ot,_t){return Tt.H.useSyncExternalStore(D,ot,_t)},$t.useTransition=function(){return Tt.H.useTransition()},$t.version="19.1.0",$t}var Kv;function qp(){return Kv||(Kv=1,qm.exports=UA()),qm.exports}var K=qp();const Te=Hp(K);var jm={exports:{}},rc={},Fm={exports:{}},Gm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv;function BA(){return Yv||(Yv=1,function(i){function t(at,yt){var pt=at.length;at.push(yt);t:for(;0<pt;){var se=pt-1>>>1,D=at[se];if(0<l(D,yt))at[se]=yt,at[pt]=D,pt=se;else break t}}function e(at){return at.length===0?null:at[0]}function s(at){if(at.length===0)return null;var yt=at[0],pt=at.pop();if(pt!==yt){at[0]=pt;t:for(var se=0,D=at.length,ot=D>>>1;se<ot;){var _t=2*(se+1)-1,mt=at[_t],wt=_t+1,It=at[wt];if(0>l(mt,pt))wt<D&&0>l(It,mt)?(at[se]=It,at[wt]=pt,se=wt):(at[se]=mt,at[_t]=pt,se=_t);else if(wt<D&&0>l(It,pt))at[se]=It,at[wt]=pt,se=wt;else break t}}return yt}function l(at,yt){var pt=at.sortIndex-yt.sortIndex;return pt!==0?pt:at.id-yt.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;i.unstable_now=function(){return h.now()}}else{var d=Date,_=d.now();i.unstable_now=function(){return d.now()-_}}var y=[],T=[],S=1,x=null,C=3,V=!1,q=!1,G=!1,Z=!1,tt=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,nt=typeof setImmediate<"u"?setImmediate:null;function gt(at){for(var yt=e(T);yt!==null;){if(yt.callback===null)s(T);else if(yt.startTime<=at)s(T),yt.sortIndex=yt.expirationTime,t(y,yt);else break;yt=e(T)}}function Tt(at){if(G=!1,gt(at),!q)if(e(y)!==null)q=!0,Pt||(Pt=!0,F());else{var yt=e(T);yt!==null&&Ie(Tt,yt.startTime-at)}}var Pt=!1,z=-1,O=5,M=-1;function B(){return Z?!0:!(i.unstable_now()-M<O)}function H(){if(Z=!1,Pt){var at=i.unstable_now();M=at;var yt=!0;try{t:{q=!1,G&&(G=!1,W(z),z=-1),V=!0;var pt=C;try{e:{for(gt(at),x=e(y);x!==null&&!(x.expirationTime>at&&B());){var se=x.callback;if(typeof se=="function"){x.callback=null,C=x.priorityLevel;var D=se(x.expirationTime<=at);if(at=i.unstable_now(),typeof D=="function"){x.callback=D,gt(at),yt=!0;break e}x===e(y)&&s(y),gt(at)}else s(y);x=e(y)}if(x!==null)yt=!0;else{var ot=e(T);ot!==null&&Ie(Tt,ot.startTime-at),yt=!1}}break t}finally{x=null,C=pt,V=!1}yt=void 0}}finally{yt?F():Pt=!1}}}var F;if(typeof nt=="function")F=function(){nt(H)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,pe=U.port2;U.port1.onmessage=H,F=function(){pe.postMessage(null)}}else F=function(){tt(H,0)};function Ie(at,yt){z=tt(function(){at(i.unstable_now())},yt)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(at){at.callback=null},i.unstable_forceFrameRate=function(at){0>at||125<at?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<at?Math.floor(1e3/at):5},i.unstable_getCurrentPriorityLevel=function(){return C},i.unstable_next=function(at){switch(C){case 1:case 2:case 3:var yt=3;break;default:yt=C}var pt=C;C=yt;try{return at()}finally{C=pt}},i.unstable_requestPaint=function(){Z=!0},i.unstable_runWithPriority=function(at,yt){switch(at){case 1:case 2:case 3:case 4:case 5:break;default:at=3}var pt=C;C=at;try{return yt()}finally{C=pt}},i.unstable_scheduleCallback=function(at,yt,pt){var se=i.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?se+pt:se):pt=se,at){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=pt+D,at={id:S++,callback:yt,priorityLevel:at,startTime:pt,expirationTime:D,sortIndex:-1},pt>se?(at.sortIndex=pt,t(T,at),e(y)===null&&at===e(T)&&(G?(W(z),z=-1):G=!0,Ie(Tt,pt-se))):(at.sortIndex=D,t(y,at),q||V||(q=!0,Pt||(Pt=!0,F()))),at},i.unstable_shouldYield=B,i.unstable_wrapCallback=function(at){var yt=C;return function(){var pt=C;C=yt;try{return at.apply(this,arguments)}finally{C=pt}}}}(Gm)),Gm}var Qv;function HA(){return Qv||(Qv=1,Fm.exports=BA()),Fm.exports}var Zm={exports:{}},zn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xv;function qA(){if(Xv)return zn;Xv=1;var i=qp();function t(y){var T="https://react.dev/errors/"+y;if(1<arguments.length){T+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)T+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+y+"; visit "+T+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(y,T,S){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:x==null?null:""+x,children:y,containerInfo:T,implementation:S}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function _(y,T){if(y==="font")return"";if(typeof T=="string")return T==="use-credentials"?T:""}return zn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,zn.createPortal=function(y,T){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!T||T.nodeType!==1&&T.nodeType!==9&&T.nodeType!==11)throw Error(t(299));return h(y,T,null,S)},zn.flushSync=function(y){var T=d.T,S=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=T,s.p=S,s.d.f()}},zn.preconnect=function(y,T){typeof y=="string"&&(T?(T=T.crossOrigin,T=typeof T=="string"?T==="use-credentials"?T:"":void 0):T=null,s.d.C(y,T))},zn.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},zn.preinit=function(y,T){if(typeof y=="string"&&T&&typeof T.as=="string"){var S=T.as,x=_(S,T.crossOrigin),C=typeof T.integrity=="string"?T.integrity:void 0,V=typeof T.fetchPriority=="string"?T.fetchPriority:void 0;S==="style"?s.d.S(y,typeof T.precedence=="string"?T.precedence:void 0,{crossOrigin:x,integrity:C,fetchPriority:V}):S==="script"&&s.d.X(y,{crossOrigin:x,integrity:C,fetchPriority:V,nonce:typeof T.nonce=="string"?T.nonce:void 0})}},zn.preinitModule=function(y,T){if(typeof y=="string")if(typeof T=="object"&&T!==null){if(T.as==null||T.as==="script"){var S=_(T.as,T.crossOrigin);s.d.M(y,{crossOrigin:S,integrity:typeof T.integrity=="string"?T.integrity:void 0,nonce:typeof T.nonce=="string"?T.nonce:void 0})}}else T==null&&s.d.M(y)},zn.preload=function(y,T){if(typeof y=="string"&&typeof T=="object"&&T!==null&&typeof T.as=="string"){var S=T.as,x=_(S,T.crossOrigin);s.d.L(y,S,{crossOrigin:x,integrity:typeof T.integrity=="string"?T.integrity:void 0,nonce:typeof T.nonce=="string"?T.nonce:void 0,type:typeof T.type=="string"?T.type:void 0,fetchPriority:typeof T.fetchPriority=="string"?T.fetchPriority:void 0,referrerPolicy:typeof T.referrerPolicy=="string"?T.referrerPolicy:void 0,imageSrcSet:typeof T.imageSrcSet=="string"?T.imageSrcSet:void 0,imageSizes:typeof T.imageSizes=="string"?T.imageSizes:void 0,media:typeof T.media=="string"?T.media:void 0})}},zn.preloadModule=function(y,T){if(typeof y=="string")if(T){var S=_(T.as,T.crossOrigin);s.d.m(y,{as:typeof T.as=="string"&&T.as!=="script"?T.as:void 0,crossOrigin:S,integrity:typeof T.integrity=="string"?T.integrity:void 0})}else s.d.m(y)},zn.requestFormReset=function(y){s.d.r(y)},zn.unstable_batchedUpdates=function(y,T){return y(T)},zn.useFormState=function(y,T,S){return d.H.useFormState(y,T,S)},zn.useFormStatus=function(){return d.H.useHostTransitionStatus()},zn.version="19.1.0",zn}var Wv;function YT(){if(Wv)return Zm.exports;Wv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Zm.exports=qA(),Zm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jv;function jA(){if(Jv)return rc;Jv=1;var i=HA(),t=qp(),e=YT();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function h(n){var r=n,o=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(o=r.return),n=r.return;while(n)}return r.tag===3?o:null}function d(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function _(n){if(h(n)!==n)throw Error(s(188))}function y(n){var r=n.alternate;if(!r){if(r=h(n),r===null)throw Error(s(188));return r!==n?null:n}for(var o=n,c=r;;){var p=o.return;if(p===null)break;var g=p.alternate;if(g===null){if(c=p.return,c!==null){o=c;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===o)return _(p),n;if(g===c)return _(p),r;g=g.sibling}throw Error(s(188))}if(o.return!==c.return)o=p,c=g;else{for(var A=!1,R=p.child;R;){if(R===o){A=!0,o=p,c=g;break}if(R===c){A=!0,c=p,o=g;break}R=R.sibling}if(!A){for(R=g.child;R;){if(R===o){A=!0,o=g,c=p;break}if(R===c){A=!0,c=g,o=p;break}R=R.sibling}if(!A)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?n:r}function T(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=T(n),r!==null)return r;n=n.sibling}return null}var S=Object.assign,x=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),V=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),tt=Symbol.for("react.provider"),W=Symbol.for("react.consumer"),nt=Symbol.for("react.context"),gt=Symbol.for("react.forward_ref"),Tt=Symbol.for("react.suspense"),Pt=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function F(n){return n===null||typeof n!="object"?null:(n=H&&n[H]||n["@@iterator"],typeof n=="function"?n:null)}var U=Symbol.for("react.client.reference");function pe(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===U?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case q:return"Fragment";case Z:return"Profiler";case G:return"StrictMode";case Tt:return"Suspense";case Pt:return"SuspenseList";case M:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case V:return"Portal";case nt:return(n.displayName||"Context")+".Provider";case W:return(n._context.displayName||"Context")+".Consumer";case gt:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case z:return r=n.displayName||null,r!==null?r:pe(n.type)||"Memo";case O:r=n._payload,n=n._init;try{return pe(n(r))}catch{}}return null}var Ie=Array.isArray,at=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},se=[],D=-1;function ot(n){return{current:n}}function _t(n){0>D||(n.current=se[D],se[D]=null,D--)}function mt(n,r){D++,se[D]=n.current,n.current=r}var wt=ot(null),It=ot(null),Et=ot(null),Ee=ot(null);function re(n,r){switch(mt(Et,r),mt(It,n),mt(wt,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?vv(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=vv(r),n=Tv(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}_t(wt),mt(wt,n)}function ui(){_t(wt),_t(It),_t(Et)}function Li(n){n.memoizedState!==null&&mt(Ee,n);var r=wt.current,o=Tv(r,n.type);r!==o&&(mt(It,n),mt(wt,o))}function ci(n){It.current===n&&(_t(wt),_t(It)),Ee.current===n&&(_t(Ee),Wu._currentValue=pt)}var hi=Object.prototype.hasOwnProperty,tr=i.unstable_scheduleCallback,ts=i.unstable_cancelCallback,Bs=i.unstable_shouldYield,to=i.unstable_requestPaint,Pn=i.unstable_now,Hs=i.unstable_getCurrentPriorityLevel,eo=i.unstable_ImmediatePriority,es=i.unstable_UserBlockingPriority,er=i.unstable_NormalPriority,nl=i.unstable_LowPriority,ns=i.unstable_IdlePriority,no=i.log,il=i.unstable_setDisableYieldValue,xe=null,ue=null;function On(n){if(typeof no=="function"&&il(n),ue&&typeof ue.setStrictMode=="function")try{ue.setStrictMode(xe,n)}catch{}}var hn=Math.clz32?Math.clz32:is,io=Math.log,rl=Math.LN2;function is(n){return n>>>=0,n===0?32:31-(io(n)/rl|0)|0}var Ir=256,nr=4194304;function Wn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function qs(n,r,o){var c=n.pendingLanes;if(c===0)return 0;var p=0,g=n.suspendedLanes,A=n.pingedLanes;n=n.warmLanes;var R=c&134217727;return R!==0?(c=R&~g,c!==0?p=Wn(c):(A&=R,A!==0?p=Wn(A):o||(o=R&~n,o!==0&&(p=Wn(o))))):(R=c&~g,R!==0?p=Wn(R):A!==0?p=Wn(A):o||(o=c&~n,o!==0&&(p=Wn(o)))),p===0?0:r!==0&&r!==p&&(r&g)===0&&(g=p&-p,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:p}function fi(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function ro(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function so(){var n=Ir;return Ir<<=1,(Ir&4194048)===0&&(Ir=256),n}function js(){var n=nr;return nr<<=1,(nr&62914560)===0&&(nr=4194304),n}function Mi(n){for(var r=[],o=0;31>o;o++)r.push(n);return r}function Di(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function ao(n,r,o,c,p,g){var A=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var R=n.entanglements,k=n.expirationTimes,J=n.hiddenUpdates;for(o=A&~o;0<o;){var lt=31-hn(o),ct=1<<lt;R[lt]=0,k[lt]=-1;var et=J[lt];if(et!==null)for(J[lt]=null,lt=0;lt<et.length;lt++){var it=et[lt];it!==null&&(it.lane&=-536870913)}o&=~ct}c!==0&&Ni(n,c,0),g!==0&&p===0&&n.tag!==0&&(n.suspendedLanes|=g&~(A&~r))}function Ni(n,r,o){n.pendingLanes|=r,n.suspendedLanes&=~r;var c=31-hn(r);n.entangledLanes|=r,n.entanglements[c]=n.entanglements[c]|1073741824|o&4194090}function oo(n,r){var o=n.entangledLanes|=r;for(n=n.entanglements;o;){var c=31-hn(o),p=1<<c;p&r|n[c]&r&&(n[c]|=r),o&=~p}}function Rr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Fs(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Cr(){var n=yt.p;return n!==0?n:(n=window.event,n===void 0?32:Uv(n.type))}function Gs(n,r){var o=yt.p;try{return yt.p=n,r()}finally{yt.p=o}}var Pe=Math.random().toString(36).slice(2),$e="__reactFiber$"+Pe,Fe="__reactProps$"+Pe,Jn="__reactContainer$"+Pe,Ln="__reactEvents$"+Pe,Lt="__reactListeners$"+Pe,ir="__reactHandles$"+Pe,lo="__reactResources$"+Pe,xr="__reactMarker$"+Pe;function rr(n){delete n[$e],delete n[Fe],delete n[Ln],delete n[Lt],delete n[ir]}function di(n){var r=n[$e];if(r)return r;for(var o=n.parentNode;o;){if(r=o[Jn]||o[$e]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(n=Av(n);n!==null;){if(o=n[$e])return o;n=Av(n)}return r}n=o,o=n.parentNode}return null}function mi(n){if(n=n[$e]||n[Jn]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function En(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function fn(n){var r=n[lo];return r||(r=n[lo]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ue(n){n[xr]=!0}var uo=new Set,Zs={};function pi(n,r){ki(n,r),ki(n+"Capture",r)}function ki(n,r){for(Zs[n]=r,n=0;n<r.length;n++)uo.add(r[n])}var sl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rs={},ss={};function al(n){return hi.call(ss,n)?!0:hi.call(rs,n)?!1:sl.test(n)?ss[n]=!0:(rs[n]=!0,!1)}function Pr(n,r,o){if(al(r))if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+o)}}function Vi(n,r,o){if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+o)}}function sn(n,r,o,c){if(c===null)n.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(r,o,""+c)}}var sr,Or;function zi(n){if(sr===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);sr=r&&r[1]||"",Or=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+sr+n+Or}var as=!1;function Ui(n,r){if(!n||as)return"";as=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var ct=function(){throw Error()};if(Object.defineProperty(ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ct,[])}catch(it){var et=it}Reflect.construct(n,[],ct)}else{try{ct.call()}catch(it){et=it}n.call(ct.prototype)}}else{try{throw Error()}catch(it){et=it}(ct=n())&&typeof ct.catch=="function"&&ct.catch(function(){})}}catch(it){if(it&&et&&typeof it.stack=="string")return[it.stack,et.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),A=g[0],R=g[1];if(A&&R){var k=A.split(`
`),J=R.split(`
`);for(p=c=0;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;for(;p<J.length&&!J[p].includes("DetermineComponentFrameRoot");)p++;if(c===k.length||p===J.length)for(c=k.length-1,p=J.length-1;1<=c&&0<=p&&k[c]!==J[p];)p--;for(;1<=c&&0<=p;c--,p--)if(k[c]!==J[p]){if(c!==1||p!==1)do if(c--,p--,0>p||k[c]!==J[p]){var lt=`
`+k[c].replace(" at new "," at ");return n.displayName&&lt.includes("<anonymous>")&&(lt=lt.replace("<anonymous>",n.displayName)),lt}while(1<=c&&0<=p);break}}}finally{as=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?zi(o):""}function Qt(n){switch(n.tag){case 26:case 27:case 5:return zi(n.type);case 16:return zi("Lazy");case 13:return zi("Suspense");case 19:return zi("SuspenseList");case 0:case 15:return Ui(n.type,!1);case 11:return Ui(n.type.render,!1);case 1:return Ui(n.type,!0);case 31:return zi("Activity");default:return""}}function fe(n){try{var r="";do r+=Qt(n),n=n.return;while(n);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function We(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Bi(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Lr(n){var r=Bi(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),c=""+n[r];if(!n.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var p=o.get,g=o.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return p.call(this)},set:function(A){c=""+A,g.call(this,A)}}),Object.defineProperty(n,r,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(A){c=""+A},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Mr(n){n._valueTracker||(n._valueTracker=Lr(n))}function jt(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return n&&(c=Bi(n)?n.checked?"true":"false":n.value),n=c,n!==o?(r.setValue(n),!0):!1}function ge(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var co=/[\n"\\]/g;function Ne(n){return n.replace(co,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Oe(n,r,o,c,p,g,A,R){n.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.type=A:n.removeAttribute("type"),r!=null?A==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+We(r)):n.value!==""+We(r)&&(n.value=""+We(r)):A!=="submit"&&A!=="reset"||n.removeAttribute("value"),r!=null?gi(n,A,We(r)):o!=null?gi(n,A,We(o)):c!=null&&n.removeAttribute("value"),p==null&&g!=null&&(n.defaultChecked=!!g),p!=null&&(n.checked=p&&typeof p!="function"&&typeof p!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?n.name=""+We(R):n.removeAttribute("name")}function os(n,r,o,c,p,g,A,R){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null))return;o=o!=null?""+We(o):"",r=r!=null?""+We(r):o,R||r===n.value||(n.value=r),n.defaultValue=r}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=R?n.checked:!!c,n.defaultChecked=!!c,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(n.name=A)}function gi(n,r,o){r==="number"&&ge(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function wn(n,r,o,c){if(n=n.options,r){r={};for(var p=0;p<o.length;p++)r["$"+o[p]]=!0;for(o=0;o<n.length;o++)p=r.hasOwnProperty("$"+n[o].value),n[o].selected!==p&&(n[o].selected=p),p&&c&&(n[o].defaultSelected=!0)}else{for(o=""+We(o),r=null,p=0;p<n.length;p++){if(n[p].value===o){n[p].selected=!0,c&&(n[p].defaultSelected=!0);return}r!==null||n[p].disabled||(r=n[p])}r!==null&&(r.selected=!0)}}function zt(n,r,o){if(r!=null&&(r=""+We(r),r!==n.value&&(n.value=r),o==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=o!=null?""+We(o):""}function Fn(n,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(s(92));if(Ie(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=We(r),n.defaultValue=o,c=n.textContent,c===o&&c!==""&&c!==null&&(n.value=c)}function dn(n,r){if(r){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=r;return}}n.textContent=r}var _i=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $s(n,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":c?n.setProperty(r,o):typeof o!="number"||o===0||_i.has(r)?r==="float"?n.cssFloat=o:n[r]=(""+o).trim():n[r]=o+"px"}function ar(n,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var p in r)c=r[p],r.hasOwnProperty(p)&&o[p]!==c&&$s(n,p,c)}else for(var g in r)r.hasOwnProperty(g)&&$s(n,g,r[g])}function ls(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ho=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ks=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Dr(n){return Ks.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var yi=null;function bn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Hi=null,vi=null;function fo(n){var r=mi(n);if(r&&(n=r.stateNode)){var o=n[Fe]||null;t:switch(n=r.stateNode,r.type){case"input":if(Oe(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ne(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==n&&c.form===n.form){var p=c[Fe]||null;if(!p)throw Error(s(90));Oe(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===n.form&&jt(c)}break t;case"textarea":zt(n,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&wn(n,!!o.multiple,r,!1)}}}var Nt=!1;function Gn(n,r,o){if(Nt)return n(r,o);Nt=!0;try{var c=n(r);return c}finally{if(Nt=!1,(Hi!==null||vi!==null)&&(Rh(),Hi&&(r=Hi,n=vi,vi=Hi=null,fo(r),n)))for(r=0;r<n.length;r++)fo(n[r])}}function ae(n,r){var o=n.stateNode;if(o===null)return null;var c=o[Fe]||null;if(c===null)return null;o=c[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break t;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mn=!1;if(ti)try{var or={};Object.defineProperty(or,"passive",{get:function(){Mn=!0}}),window.addEventListener("test",or,or),window.removeEventListener("test",or,or)}catch{Mn=!1}var ei=null,Dn=null,Ti=null;function lr(){if(Ti)return Ti;var n,r=Dn,o=r.length,c,p="value"in ei?ei.value:ei.textContent,g=p.length;for(n=0;n<o&&r[n]===p[n];n++);var A=o-n;for(c=1;c<=A&&r[o-c]===p[g-c];c++);return Ti=p.slice(n,1<c?1-c:void 0)}function we(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function mn(){return!0}function Ys(){return!1}function Ke(n){function r(o,c,p,g,A){this._reactName=o,this._targetInst=p,this.type=c,this.nativeEvent=g,this.target=A,this.currentTarget=null;for(var R in n)n.hasOwnProperty(R)&&(o=n[R],this[R]=o?o(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?mn:Ys,this.isPropagationStopped=Ys,this}return S(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=mn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=mn)},persist:function(){},isPersistent:mn}),r}var ce={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},us=Ke(ce),ur=S({},ce,{view:0,detail:0}),ol=Ke(ur),cs,Zt,qi,an=S({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==qi&&(qi&&n.type==="mousemove"?(cs=n.screenX-qi.screenX,Zt=n.screenY-qi.screenY):Zt=cs=0,qi=n),cs)},movementY:function(n){return"movementY"in n?n.movementY:Zt}}),pn=Ke(an),mo=S({},an,{dataTransfer:0}),pu=Ke(mo),cr=S({},ur,{relatedTarget:0}),Qs=Ke(cr),Xs=S({},ce,{animationName:0,elapsedTime:0,pseudoElement:0}),Ws=Ke(Xs),ll=S({},ce,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Nr=Ke(ll),gu=S({},ce,{data:0}),Nn=Ke(gu),hs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},po={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ei={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Js(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Ei[n])?!!r[n]:!1}function kr(){return Js}var ta=S({},ur,{key:function(n){if(n.key){var r=hs[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=we(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?po[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(n){return n.type==="keypress"?we(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?we(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),ea=Ke(ta),go=S({},an,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),na=Ke(go),hr=S({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr}),ul=Ke(hr),ia=S({},ce,{propertyName:0,elapsedTime:0,pseudoElement:0}),cl=Ke(ia),_o=S({},an,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),fs=Ke(_o),Je=S({},ce,{newState:0,oldState:0}),ji=Ke(Je),hl=[9,13,27,32],kn=ti&&"CompositionEvent"in window,f=null;ti&&"documentMode"in document&&(f=document.documentMode);var E=ti&&"TextEvent"in window&&!f,b=ti&&(!kn||f&&8<f&&11>=f),P=" ",Y=!1;function st(n,r){switch(n){case"keyup":return hl.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vt(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var te=!1;function Ge(n,r){switch(n){case"compositionend":return vt(r);case"keypress":return r.which!==32?null:(Y=!0,P);case"textInput":return n=r.data,n===P&&Y?null:n;default:return null}}function ee(n,r){if(te)return n==="compositionend"||!kn&&st(n,r)?(n=lr(),Ti=Dn=ei=null,te=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return b&&r.locale!=="ko"?null:r.data;default:return null}}var de={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Le(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!de[n.type]:r==="textarea"}function fr(n,r,o,c){Hi?vi?vi.push(c):vi=[c]:Hi=c,r=Mh(r,"onChange"),0<r.length&&(o=new us("onChange","change",null,o,c),n.push({event:o,listeners:r}))}var Re=null,Fi=null;function Gi(n){mv(n,0)}function fl(n){var r=En(n);if(jt(r))return n}function ra(n,r){if(n==="change")return r}var _u=!1;if(ti){var sa;if(ti){var yu="oninput"in document;if(!yu){var dr=document.createElement("div");dr.setAttribute("oninput","return;"),yu=typeof dr.oninput=="function"}sa=yu}else sa=!1;_u=sa&&(!document.documentMode||9<document.documentMode)}function yo(){Re&&(Re.detachEvent("onpropertychange",Zc),Fi=Re=null)}function Zc(n){if(n.propertyName==="value"&&fl(Fi)){var r=[];fr(r,Fi,n,bn(n)),Gn(Gi,r)}}function vu(n,r,o){n==="focusin"?(yo(),Re=r,Fi=o,Re.attachEvent("onpropertychange",Zc)):n==="focusout"&&yo()}function hd(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return fl(Fi)}function mr(n,r){if(n==="click")return fl(r)}function fd(n,r){if(n==="input"||n==="change")return fl(r)}function aa(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Zn=typeof Object.is=="function"?Object.is:aa;function $n(n,r){if(Zn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var o=Object.keys(n),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var p=o[c];if(!hi.call(r,p)||!Zn(n[p],r[p]))return!1}return!0}function vo(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Tu(n,r){var o=vo(n);n=0;for(var c;o;){if(o.nodeType===3){if(c=n+o.textContent.length,n<=r&&c>=r)return{node:o,offset:r-n};n=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=vo(o)}}function dl(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?dl(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function To(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=ge(n.document);r instanceof n.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)n=r.contentWindow;else break;r=ge(n.document)}return r}function Eo(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var ml=ti&&"documentMode"in document&&11>=document.documentMode,wi=null,oa=null,ds=null,pl=!1;function $c(n,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;pl||wi==null||wi!==ge(c)||(c=wi,"selectionStart"in c&&Eo(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),ds&&$n(ds,c)||(ds=c,c=Mh(oa,"onSelect"),0<c.length&&(r=new us("onSelect","select",null,r,o),n.push({event:r,listeners:c}),r.target=wi)))}function Zi(n,r){var o={};return o[n.toLowerCase()]=r.toLowerCase(),o["Webkit"+n]="webkit"+r,o["Moz"+n]="moz"+r,o}var la={animationend:Zi("Animation","AnimationEnd"),animationiteration:Zi("Animation","AnimationIteration"),animationstart:Zi("Animation","AnimationStart"),transitionrun:Zi("Transition","TransitionRun"),transitionstart:Zi("Transition","TransitionStart"),transitioncancel:Zi("Transition","TransitionCancel"),transitionend:Zi("Transition","TransitionEnd")},gl={},Kc={};ti&&(Kc=document.createElement("div").style,"AnimationEvent"in window||(delete la.animationend.animation,delete la.animationiteration.animation,delete la.animationstart.animation),"TransitionEvent"in window||delete la.transitionend.transition);function Vr(n){if(gl[n])return gl[n];if(!la[n])return n;var r=la[n],o;for(o in r)if(r.hasOwnProperty(o)&&o in Kc)return gl[n]=r[o];return n}var Yc=Vr("animationend"),bi=Vr("animationiteration"),wo=Vr("animationstart"),dd=Vr("transitionrun"),_l=Vr("transitionstart"),md=Vr("transitioncancel"),Eu=Vr("transitionend"),Qc=new Map,ms="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ms.push("scrollEnd");function Ai(n,r){Qc.set(n,r),pi(r,[n])}var ps=new WeakMap;function Kn(n,r){if(typeof n=="object"&&n!==null){var o=ps.get(n);return o!==void 0?o:(r={value:n,source:r,stack:fe(r)},ps.set(n,r),r)}return{value:n,source:r,stack:fe(r)}}var Yn=[],ua=0,Si=0;function bo(){for(var n=ua,r=Si=ua=0;r<n;){var o=Yn[r];Yn[r++]=null;var c=Yn[r];Yn[r++]=null;var p=Yn[r];Yn[r++]=null;var g=Yn[r];if(Yn[r++]=null,c!==null&&p!==null){var A=c.pending;A===null?p.next=p:(p.next=A.next,A.next=p),c.pending=p}g!==0&&So(o,p,g)}}function Ao(n,r,o,c){Yn[ua++]=n,Yn[ua++]=r,Yn[ua++]=o,Yn[ua++]=c,Si|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function gs(n,r,o,c){return Ao(n,r,o,c),zr(n)}function ca(n,r){return Ao(n,null,null,r),zr(n)}function So(n,r,o){n.lanes|=o;var c=n.alternate;c!==null&&(c.lanes|=o);for(var p=!1,g=n.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(n=g.stateNode,n===null||n._visibility&1||(p=!0)),n=g,g=g.return;return n.tag===3?(g=n.stateNode,p&&r!==null&&(p=31-hn(o),n=g.hiddenUpdates,c=n[p],c===null?n[p]=[r]:c.push(r),r.lane=o|536870912),g):null}function zr(n){if(50<Fu)throw Fu=0,hm=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var _s={};function Xc(n,r,o,c){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(n,r,o,c){return new Xc(n,r,o,c)}function yl(n){return n=n.prototype,!(!n||!n.isReactComponent)}function $i(n,r){var o=n.alternate;return o===null?(o=Qn(n.tag,r,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=r,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,r=n.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function wu(n,r){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,r=o.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Io(n,r,o,c,p,g){var A=0;if(c=n,typeof n=="function")yl(n)&&(A=1);else if(typeof n=="string")A=AA(n,o,wt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case M:return n=Qn(31,o,r,p),n.elementType=M,n.lanes=g,n;case q:return Ur(o.children,p,g,r);case G:A=8,p|=24;break;case Z:return n=Qn(12,o,r,p|2),n.elementType=Z,n.lanes=g,n;case Tt:return n=Qn(13,o,r,p),n.elementType=Tt,n.lanes=g,n;case Pt:return n=Qn(19,o,r,p),n.elementType=Pt,n.lanes=g,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case tt:case nt:A=10;break t;case W:A=9;break t;case gt:A=11;break t;case z:A=14;break t;case O:A=16,c=null;break t}A=29,o=Error(s(130,n===null?"null":typeof n,"")),c=null}return r=Qn(A,o,r,p),r.elementType=n,r.type=c,r.lanes=g,r}function Ur(n,r,o,c){return n=Qn(7,n,c,r),n.lanes=o,n}function bu(n,r,o){return n=Qn(6,n,null,r),n.lanes=o,n}function vl(n,r,o){return r=Qn(4,n.children!==null?n.children:[],n.key,r),r.lanes=o,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var ys=[],ha=0,a=null,u=0,m=[],v=0,w=null,I=1,N="";function Q(n,r){ys[ha++]=u,ys[ha++]=a,a=n,u=r}function rt(n,r,o){m[v++]=I,m[v++]=N,m[v++]=w,w=n;var c=I;n=N;var p=32-hn(c)-1;c&=~(1<<p),o+=1;var g=32-hn(r)+p;if(30<g){var A=p-p%5;g=(c&(1<<A)-1).toString(32),c>>=A,p-=A,I=1<<32-hn(r)+p|o<<p|c,N=g+n}else I=1<<g|o<<p|c,N=n}function dt(n){n.return!==null&&(Q(n,1),rt(n,1,0))}function bt(n){for(;n===a;)a=ys[--ha],ys[ha]=null,u=ys[--ha],ys[ha]=null;for(;n===w;)w=m[--v],m[v]=null,N=m[--v],m[v]=null,I=m[--v],m[v]=null}var Ct=null,Ot=null,Ht=!1,Me=null,Be=!1,gn=Error(s(519));function ni(n){var r=Error(s(418,""));throw da(Kn(r,n)),gn}function Wc(n){var r=n.stateNode,o=n.type,c=n.memoizedProps;switch(r[$e]=n,r[Fe]=c,o){case"dialog":Jt("cancel",r),Jt("close",r);break;case"iframe":case"object":case"embed":Jt("load",r);break;case"video":case"audio":for(o=0;o<Zu.length;o++)Jt(Zu[o],r);break;case"source":Jt("error",r);break;case"img":case"image":case"link":Jt("error",r),Jt("load",r);break;case"details":Jt("toggle",r);break;case"input":Jt("invalid",r),os(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Mr(r);break;case"select":Jt("invalid",r);break;case"textarea":Jt("invalid",r),Fn(r,c.value,c.defaultValue,c.children),Mr(r)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||yv(r.textContent,o)?(c.popover!=null&&(Jt("beforetoggle",r),Jt("toggle",r)),c.onScroll!=null&&Jt("scroll",r),c.onScrollEnd!=null&&Jt("scrollend",r),c.onClick!=null&&(r.onclick=Dh),r=!0):r=!1,r||ni(n)}function Jc(n){for(Ct=n.return;Ct;)switch(Ct.tag){case 5:case 13:Be=!1;return;case 27:case 3:Be=!0;return;default:Ct=Ct.return}}function Ro(n){if(n!==Ct)return!1;if(!Ht)return Jc(n),Ht=!0,!1;var r=n.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||Rm(n.type,n.memoizedProps)),o=!o),o&&Ot&&ni(n),Jc(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));t:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(r===0){Ot=yr(n.nextSibling);break t}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;n=n.nextSibling}Ot=null}}else r===27?(r=Ot,Ca(n.type)?(n=Om,Om=null,Ot=n):Ot=r):Ot=Ct?yr(n.stateNode.nextSibling):null;return!0}function fa(){Ot=Ct=null,Ht=!1}function th(){var n=Me;return n!==null&&(si===null?si=n:si.push.apply(si,n),Me=null),n}function da(n){Me===null?Me=[n]:Me.push(n)}var Ve=ot(null),Ki=null,pr=null;function Br(n,r,o){mt(Ve,r._currentValue),r._currentValue=o}function gr(n){n._currentValue=Ve.current,_t(Ve)}function Co(n,r,o){for(;n!==null;){var c=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),n===o)break;n=n.return}}function Tl(n,r,o,c){var p=n.child;for(p!==null&&(p.return=n);p!==null;){var g=p.dependencies;if(g!==null){var A=p.child;g=g.firstContext;t:for(;g!==null;){var R=g;g=p;for(var k=0;k<r.length;k++)if(R.context===r[k]){g.lanes|=o,R=g.alternate,R!==null&&(R.lanes|=o),Co(g.return,o,n),c||(A=null);break t}g=R.next}}else if(p.tag===18){if(A=p.return,A===null)throw Error(s(341));A.lanes|=o,g=A.alternate,g!==null&&(g.lanes|=o),Co(A,o,n),A=null}else A=p.child;if(A!==null)A.return=p;else for(A=p;A!==null;){if(A===n){A=null;break}if(p=A.sibling,p!==null){p.return=A.return,A=p;break}A=A.return}p=A}}function xo(n,r,o,c){n=null;for(var p=r,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var A=p.alternate;if(A===null)throw Error(s(387));if(A=A.memoizedProps,A!==null){var R=p.type;Zn(p.pendingProps.value,A.value)||(n!==null?n.push(R):n=[R])}}else if(p===Ee.current){if(A=p.alternate,A===null)throw Error(s(387));A.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(n!==null?n.push(Wu):n=[Wu])}p=p.return}n!==null&&Tl(r,n,o,c),r.flags|=262144}function eh(n){for(n=n.firstContext;n!==null;){if(!Zn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Po(n){Ki=n,pr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Vn(n){return r_(Ki,n)}function nh(n,r){return Ki===null&&Po(n),r_(n,r)}function r_(n,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},pr===null){if(n===null)throw Error(s(308));pr=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else pr=pr.next=r;return o}var b1=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(o,c){n.push(c)}};this.abort=function(){r.aborted=!0,n.forEach(function(o){return o()})}},A1=i.unstable_scheduleCallback,S1=i.unstable_NormalPriority,on={$$typeof:nt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pd(){return{controller:new b1,data:new Map,refCount:0}}function Au(n){n.refCount--,n.refCount===0&&A1(S1,function(){n.controller.abort()})}var Su=null,gd=0,El=0,wl=null;function I1(n,r){if(Su===null){var o=Su=[];gd=0,El=ym(),wl={status:"pending",value:void 0,then:function(c){o.push(c)}}}return gd++,r.then(s_,s_),r}function s_(){if(--gd===0&&Su!==null){wl!==null&&(wl.status="fulfilled");var n=Su;Su=null,El=0,wl=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function R1(n,r){var o=[],c={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return n.then(function(){c.status="fulfilled",c.value=r;for(var p=0;p<o.length;p++)(0,o[p])(r)},function(p){for(c.status="rejected",c.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),c}var a_=at.S;at.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&I1(n,r),a_!==null&&a_(n,r)};var Oo=ot(null);function _d(){var n=Oo.current;return n!==null?n:De.pooledCache}function ih(n,r){r===null?mt(Oo,Oo.current):mt(Oo,r.pool)}function o_(){var n=_d();return n===null?null:{parent:on._currentValue,pool:n}}var Iu=Error(s(460)),l_=Error(s(474)),rh=Error(s(542)),yd={then:function(){}};function u_(n){return n=n.status,n==="fulfilled"||n==="rejected"}function sh(){}function c_(n,r,o){switch(o=n[o],o===void 0?n.push(r):o!==r&&(r.then(sh,sh),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,f_(n),n;default:if(typeof r.status=="string")r.then(sh,sh);else{if(n=De,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(c){if(r.status==="pending"){var p=r;p.status="fulfilled",p.value=c}},function(c){if(r.status==="pending"){var p=r;p.status="rejected",p.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,f_(n),n}throw Ru=r,Iu}}var Ru=null;function h_(){if(Ru===null)throw Error(s(459));var n=Ru;return Ru=null,n}function f_(n){if(n===Iu||n===rh)throw Error(s(483))}var ma=!1;function vd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Td(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function pa(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ga(n,r,o){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(_e&2)!==0){var p=c.pending;return p===null?r.next=r:(r.next=p.next,p.next=r),c.pending=r,r=zr(n),So(n,null,o),r}return Ao(n,c,r,o),zr(n)}function Cu(n,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=n.pendingLanes,o|=c,r.lanes=o,oo(n,o)}}function Ed(n,r){var o=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var p=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var A={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?p=g=A:g=g.next=A,o=o.next}while(o!==null);g===null?p=g=r:g=g.next=r}else p=g=r;o={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=r:n.next=r,o.lastBaseUpdate=r}var wd=!1;function xu(){if(wd){var n=wl;if(n!==null)throw n}}function Pu(n,r,o,c){wd=!1;var p=n.updateQueue;ma=!1;var g=p.firstBaseUpdate,A=p.lastBaseUpdate,R=p.shared.pending;if(R!==null){p.shared.pending=null;var k=R,J=k.next;k.next=null,A===null?g=J:A.next=J,A=k;var lt=n.alternate;lt!==null&&(lt=lt.updateQueue,R=lt.lastBaseUpdate,R!==A&&(R===null?lt.firstBaseUpdate=J:R.next=J,lt.lastBaseUpdate=k))}if(g!==null){var ct=p.baseState;A=0,lt=J=k=null,R=g;do{var et=R.lane&-536870913,it=et!==R.lane;if(it?(oe&et)===et:(c&et)===et){et!==0&&et===El&&(wd=!0),lt!==null&&(lt=lt.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});t:{var Bt=n,kt=R;et=r;var Se=o;switch(kt.tag){case 1:if(Bt=kt.payload,typeof Bt=="function"){ct=Bt.call(Se,ct,et);break t}ct=Bt;break t;case 3:Bt.flags=Bt.flags&-65537|128;case 0:if(Bt=kt.payload,et=typeof Bt=="function"?Bt.call(Se,ct,et):Bt,et==null)break t;ct=S({},ct,et);break t;case 2:ma=!0}}et=R.callback,et!==null&&(n.flags|=64,it&&(n.flags|=8192),it=p.callbacks,it===null?p.callbacks=[et]:it.push(et))}else it={lane:et,tag:R.tag,payload:R.payload,callback:R.callback,next:null},lt===null?(J=lt=it,k=ct):lt=lt.next=it,A|=et;if(R=R.next,R===null){if(R=p.shared.pending,R===null)break;it=R,R=it.next,it.next=null,p.lastBaseUpdate=it,p.shared.pending=null}}while(!0);lt===null&&(k=ct),p.baseState=k,p.firstBaseUpdate=J,p.lastBaseUpdate=lt,g===null&&(p.shared.lanes=0),Aa|=A,n.lanes=A,n.memoizedState=ct}}function d_(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function m_(n,r){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)d_(o[n],r)}var bl=ot(null),ah=ot(0);function p_(n,r){n=Ss,mt(ah,n),mt(bl,r),Ss=n|r.baseLanes}function bd(){mt(ah,Ss),mt(bl,bl.current)}function Ad(){Ss=ah.current,_t(bl),_t(ah)}var _a=0,Kt=null,be=null,tn=null,oh=!1,Al=!1,Lo=!1,lh=0,Ou=0,Sl=null,C1=0;function Ye(){throw Error(s(321))}function Sd(n,r){if(r===null)return!1;for(var o=0;o<r.length&&o<n.length;o++)if(!Zn(n[o],r[o]))return!1;return!0}function Id(n,r,o,c,p,g){return _a=g,Kt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,at.H=n===null||n.memoizedState===null?W_:J_,Lo=!1,g=o(c,p),Lo=!1,Al&&(g=__(r,o,c,p)),g_(n),g}function g_(n){at.H=mh;var r=be!==null&&be.next!==null;if(_a=0,tn=be=Kt=null,oh=!1,Ou=0,Sl=null,r)throw Error(s(300));n===null||_n||(n=n.dependencies,n!==null&&eh(n)&&(_n=!0))}function __(n,r,o,c){Kt=n;var p=0;do{if(Al&&(Sl=null),Ou=0,Al=!1,25<=p)throw Error(s(301));if(p+=1,tn=be=null,n.updateQueue!=null){var g=n.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}at.H=N1,g=r(o,c)}while(Al);return g}function x1(){var n=at.H,r=n.useState()[0];return r=typeof r.then=="function"?Lu(r):r,n=n.useState()[0],(be!==null?be.memoizedState:null)!==n&&(Kt.flags|=1024),r}function Rd(){var n=lh!==0;return lh=0,n}function Cd(n,r,o){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~o}function xd(n){if(oh){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}oh=!1}_a=0,tn=be=Kt=null,Al=!1,Ou=lh=0,Sl=null}function ii(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?Kt.memoizedState=tn=n:tn=tn.next=n,tn}function en(){if(be===null){var n=Kt.alternate;n=n!==null?n.memoizedState:null}else n=be.next;var r=tn===null?Kt.memoizedState:tn.next;if(r!==null)tn=r,be=n;else{if(n===null)throw Kt.alternate===null?Error(s(467)):Error(s(310));be=n,n={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},tn===null?Kt.memoizedState=tn=n:tn=tn.next=n}return tn}function Pd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Lu(n){var r=Ou;return Ou+=1,Sl===null&&(Sl=[]),n=c_(Sl,n,r),r=Kt,(tn===null?r.memoizedState:tn.next)===null&&(r=r.alternate,at.H=r===null||r.memoizedState===null?W_:J_),n}function uh(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Lu(n);if(n.$$typeof===nt)return Vn(n)}throw Error(s(438,String(n)))}function Od(n){var r=null,o=Kt.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=Kt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(p){return p.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Pd(),Kt.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(n),c=0;c<n;c++)o[c]=B;return r.index++,o}function vs(n,r){return typeof r=="function"?r(n):r}function ch(n){var r=en();return Ld(r,be,n)}function Ld(n,r,o){var c=n.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var p=n.baseQueue,g=c.pending;if(g!==null){if(p!==null){var A=p.next;p.next=g.next,g.next=A}r.baseQueue=p=g,c.pending=null}if(g=n.baseState,p===null)n.memoizedState=g;else{r=p.next;var R=A=null,k=null,J=r,lt=!1;do{var ct=J.lane&-536870913;if(ct!==J.lane?(oe&ct)===ct:(_a&ct)===ct){var et=J.revertLane;if(et===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ct===El&&(lt=!0);else if((_a&et)===et){J=J.next,et===El&&(lt=!0);continue}else ct={lane:0,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},k===null?(R=k=ct,A=g):k=k.next=ct,Kt.lanes|=et,Aa|=et;ct=J.action,Lo&&o(g,ct),g=J.hasEagerState?J.eagerState:o(g,ct)}else et={lane:ct,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},k===null?(R=k=et,A=g):k=k.next=et,Kt.lanes|=ct,Aa|=ct;J=J.next}while(J!==null&&J!==r);if(k===null?A=g:k.next=R,!Zn(g,n.memoizedState)&&(_n=!0,lt&&(o=wl,o!==null)))throw o;n.memoizedState=g,n.baseState=A,n.baseQueue=k,c.lastRenderedState=g}return p===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function Md(n){var r=en(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=n;var c=o.dispatch,p=o.pending,g=r.memoizedState;if(p!==null){o.pending=null;var A=p=p.next;do g=n(g,A.action),A=A.next;while(A!==p);Zn(g,r.memoizedState)||(_n=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,c]}function y_(n,r,o){var c=Kt,p=en(),g=Ht;if(g){if(o===void 0)throw Error(s(407));o=o()}else o=r();var A=!Zn((be||p).memoizedState,o);A&&(p.memoizedState=o,_n=!0),p=p.queue;var R=E_.bind(null,c,p,n);if(Mu(2048,8,R,[n]),p.getSnapshot!==r||A||tn!==null&&tn.memoizedState.tag&1){if(c.flags|=2048,Il(9,hh(),T_.bind(null,c,p,o,r),null),De===null)throw Error(s(349));g||(_a&124)!==0||v_(c,r,o)}return o}function v_(n,r,o){n.flags|=16384,n={getSnapshot:r,value:o},r=Kt.updateQueue,r===null?(r=Pd(),Kt.updateQueue=r,r.stores=[n]):(o=r.stores,o===null?r.stores=[n]:o.push(n))}function T_(n,r,o,c){r.value=o,r.getSnapshot=c,w_(r)&&b_(n)}function E_(n,r,o){return o(function(){w_(r)&&b_(n)})}function w_(n){var r=n.getSnapshot;n=n.value;try{var o=r();return!Zn(n,o)}catch{return!0}}function b_(n){var r=ca(n,2);r!==null&&Pi(r,n,2)}function Dd(n){var r=ii();if(typeof n=="function"){var o=n;if(n=o(),Lo){On(!0);try{o()}finally{On(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:n},r}function A_(n,r,o,c){return n.baseState=o,Ld(n,be,typeof c=="function"?c:vs)}function P1(n,r,o,c,p){if(dh(n))throw Error(s(485));if(n=r.action,n!==null){var g={payload:p,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){g.listeners.push(A)}};at.T!==null?o(!0):g.isTransition=!1,c(g),o=r.pending,o===null?(g.next=r.pending=g,S_(r,g)):(g.next=o.next,r.pending=o.next=g)}}function S_(n,r){var o=r.action,c=r.payload,p=n.state;if(r.isTransition){var g=at.T,A={};at.T=A;try{var R=o(p,c),k=at.S;k!==null&&k(A,R),I_(n,r,R)}catch(J){Nd(n,r,J)}finally{at.T=g}}else try{g=o(p,c),I_(n,r,g)}catch(J){Nd(n,r,J)}}function I_(n,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){R_(n,r,c)},function(c){return Nd(n,r,c)}):R_(n,r,o)}function R_(n,r,o){r.status="fulfilled",r.value=o,C_(r),n.state=o,r=n.pending,r!==null&&(o=r.next,o===r?n.pending=null:(o=o.next,r.next=o,S_(n,o)))}function Nd(n,r,o){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,C_(r),r=r.next;while(r!==c)}n.action=null}function C_(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function x_(n,r){return r}function P_(n,r){if(Ht){var o=De.formState;if(o!==null){t:{var c=Kt;if(Ht){if(Ot){e:{for(var p=Ot,g=Be;p.nodeType!==8;){if(!g){p=null;break e}if(p=yr(p.nextSibling),p===null){p=null;break e}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){Ot=yr(p.nextSibling),c=p.data==="F!";break t}}ni(c)}c=!1}c&&(r=o[0])}}return o=ii(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:x_,lastRenderedState:r},o.queue=c,o=Y_.bind(null,Kt,c),c.dispatch=o,c=Dd(!1),g=Bd.bind(null,Kt,!1,c.queue),c=ii(),p={state:r,dispatch:null,action:n,pending:null},c.queue=p,o=P1.bind(null,Kt,p,g,o),p.dispatch=o,c.memoizedState=n,[r,o,!1]}function O_(n){var r=en();return L_(r,be,n)}function L_(n,r,o){if(r=Ld(n,r,x_)[0],n=ch(vs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=Lu(r)}catch(A){throw A===Iu?rh:A}else c=r;r=en();var p=r.queue,g=p.dispatch;return o!==r.memoizedState&&(Kt.flags|=2048,Il(9,hh(),O1.bind(null,p,o),null)),[c,g,n]}function O1(n,r){n.action=r}function M_(n){var r=en(),o=be;if(o!==null)return L_(r,o,n);en(),r=r.memoizedState,o=en();var c=o.queue.dispatch;return o.memoizedState=n,[r,c,!1]}function Il(n,r,o,c){return n={tag:n,create:o,deps:c,inst:r,next:null},r=Kt.updateQueue,r===null&&(r=Pd(),Kt.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=n.next=n:(c=o.next,o.next=n,n.next=c,r.lastEffect=n),n}function hh(){return{destroy:void 0,resource:void 0}}function D_(){return en().memoizedState}function fh(n,r,o,c){var p=ii();c=c===void 0?null:c,Kt.flags|=n,p.memoizedState=Il(1|r,hh(),o,c)}function Mu(n,r,o,c){var p=en();c=c===void 0?null:c;var g=p.memoizedState.inst;be!==null&&c!==null&&Sd(c,be.memoizedState.deps)?p.memoizedState=Il(r,g,o,c):(Kt.flags|=n,p.memoizedState=Il(1|r,g,o,c))}function N_(n,r){fh(8390656,8,n,r)}function k_(n,r){Mu(2048,8,n,r)}function V_(n,r){return Mu(4,2,n,r)}function z_(n,r){return Mu(4,4,n,r)}function U_(n,r){if(typeof r=="function"){n=n();var o=r(n);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function B_(n,r,o){o=o!=null?o.concat([n]):null,Mu(4,4,U_.bind(null,r,n),o)}function kd(){}function H_(n,r){var o=en();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&Sd(r,c[1])?c[0]:(o.memoizedState=[n,r],n)}function q_(n,r){var o=en();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&Sd(r,c[1]))return c[0];if(c=n(),Lo){On(!0);try{n()}finally{On(!1)}}return o.memoizedState=[c,r],c}function Vd(n,r,o){return o===void 0||(_a&1073741824)!==0?n.memoizedState=r:(n.memoizedState=o,n=Gy(),Kt.lanes|=n,Aa|=n,o)}function j_(n,r,o,c){return Zn(o,r)?o:bl.current!==null?(n=Vd(n,o,c),Zn(n,r)||(_n=!0),n):(_a&42)===0?(_n=!0,n.memoizedState=o):(n=Gy(),Kt.lanes|=n,Aa|=n,r)}function F_(n,r,o,c,p){var g=yt.p;yt.p=g!==0&&8>g?g:8;var A=at.T,R={};at.T=R,Bd(n,!1,r,o);try{var k=p(),J=at.S;if(J!==null&&J(R,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var lt=R1(k,c);Du(n,r,lt,xi(n))}else Du(n,r,c,xi(n))}catch(ct){Du(n,r,{then:function(){},status:"rejected",reason:ct},xi())}finally{yt.p=g,at.T=A}}function L1(){}function zd(n,r,o,c){if(n.tag!==5)throw Error(s(476));var p=G_(n).queue;F_(n,p,r,pt,o===null?L1:function(){return Z_(n),o(c)})}function G_(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:pt},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:o},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function Z_(n){var r=G_(n).next.queue;Du(n,r,{},xi())}function Ud(){return Vn(Wu)}function $_(){return en().memoizedState}function K_(){return en().memoizedState}function M1(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var o=xi();n=pa(o);var c=ga(r,n,o);c!==null&&(Pi(c,r,o),Cu(c,r,o)),r={cache:pd()},n.payload=r;return}r=r.return}}function D1(n,r,o){var c=xi();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},dh(n)?Q_(r,o):(o=gs(n,r,o,c),o!==null&&(Pi(o,n,c),X_(o,r,c)))}function Y_(n,r,o){var c=xi();Du(n,r,o,c)}function Du(n,r,o,c){var p={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(dh(n))Q_(r,p);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var A=r.lastRenderedState,R=g(A,o);if(p.hasEagerState=!0,p.eagerState=R,Zn(R,A))return Ao(n,r,p,0),De===null&&bo(),!1}catch{}finally{}if(o=gs(n,r,p,c),o!==null)return Pi(o,n,c),X_(o,r,c),!0}return!1}function Bd(n,r,o,c){if(c={lane:2,revertLane:ym(),action:c,hasEagerState:!1,eagerState:null,next:null},dh(n)){if(r)throw Error(s(479))}else r=gs(n,o,c,2),r!==null&&Pi(r,n,2)}function dh(n){var r=n.alternate;return n===Kt||r!==null&&r===Kt}function Q_(n,r){Al=oh=!0;var o=n.pending;o===null?r.next=r:(r.next=o.next,o.next=r),n.pending=r}function X_(n,r,o){if((o&4194048)!==0){var c=r.lanes;c&=n.pendingLanes,o|=c,r.lanes=o,oo(n,o)}}var mh={readContext:Vn,use:uh,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye,useHostTransitionStatus:Ye,useFormState:Ye,useActionState:Ye,useOptimistic:Ye,useMemoCache:Ye,useCacheRefresh:Ye},W_={readContext:Vn,use:uh,useCallback:function(n,r){return ii().memoizedState=[n,r===void 0?null:r],n},useContext:Vn,useEffect:N_,useImperativeHandle:function(n,r,o){o=o!=null?o.concat([n]):null,fh(4194308,4,U_.bind(null,r,n),o)},useLayoutEffect:function(n,r){return fh(4194308,4,n,r)},useInsertionEffect:function(n,r){fh(4,2,n,r)},useMemo:function(n,r){var o=ii();r=r===void 0?null:r;var c=n();if(Lo){On(!0);try{n()}finally{On(!1)}}return o.memoizedState=[c,r],c},useReducer:function(n,r,o){var c=ii();if(o!==void 0){var p=o(r);if(Lo){On(!0);try{o(r)}finally{On(!1)}}}else p=r;return c.memoizedState=c.baseState=p,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:p},c.queue=n,n=n.dispatch=D1.bind(null,Kt,n),[c.memoizedState,n]},useRef:function(n){var r=ii();return n={current:n},r.memoizedState=n},useState:function(n){n=Dd(n);var r=n.queue,o=Y_.bind(null,Kt,r);return r.dispatch=o,[n.memoizedState,o]},useDebugValue:kd,useDeferredValue:function(n,r){var o=ii();return Vd(o,n,r)},useTransition:function(){var n=Dd(!1);return n=F_.bind(null,Kt,n.queue,!0,!1),ii().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,o){var c=Kt,p=ii();if(Ht){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),De===null)throw Error(s(349));(oe&124)!==0||v_(c,r,o)}p.memoizedState=o;var g={value:o,getSnapshot:r};return p.queue=g,N_(E_.bind(null,c,g,n),[n]),c.flags|=2048,Il(9,hh(),T_.bind(null,c,g,o,r),null),o},useId:function(){var n=ii(),r=De.identifierPrefix;if(Ht){var o=N,c=I;o=(c&~(1<<32-hn(c)-1)).toString(32)+o,r=""+r+"R"+o,o=lh++,0<o&&(r+="H"+o.toString(32)),r+=""}else o=C1++,r=""+r+"r"+o.toString(32)+"";return n.memoizedState=r},useHostTransitionStatus:Ud,useFormState:P_,useActionState:P_,useOptimistic:function(n){var r=ii();r.memoizedState=r.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Bd.bind(null,Kt,!0,o),o.dispatch=r,[n,r]},useMemoCache:Od,useCacheRefresh:function(){return ii().memoizedState=M1.bind(null,Kt)}},J_={readContext:Vn,use:uh,useCallback:H_,useContext:Vn,useEffect:k_,useImperativeHandle:B_,useInsertionEffect:V_,useLayoutEffect:z_,useMemo:q_,useReducer:ch,useRef:D_,useState:function(){return ch(vs)},useDebugValue:kd,useDeferredValue:function(n,r){var o=en();return j_(o,be.memoizedState,n,r)},useTransition:function(){var n=ch(vs)[0],r=en().memoizedState;return[typeof n=="boolean"?n:Lu(n),r]},useSyncExternalStore:y_,useId:$_,useHostTransitionStatus:Ud,useFormState:O_,useActionState:O_,useOptimistic:function(n,r){var o=en();return A_(o,be,n,r)},useMemoCache:Od,useCacheRefresh:K_},N1={readContext:Vn,use:uh,useCallback:H_,useContext:Vn,useEffect:k_,useImperativeHandle:B_,useInsertionEffect:V_,useLayoutEffect:z_,useMemo:q_,useReducer:Md,useRef:D_,useState:function(){return Md(vs)},useDebugValue:kd,useDeferredValue:function(n,r){var o=en();return be===null?Vd(o,n,r):j_(o,be.memoizedState,n,r)},useTransition:function(){var n=Md(vs)[0],r=en().memoizedState;return[typeof n=="boolean"?n:Lu(n),r]},useSyncExternalStore:y_,useId:$_,useHostTransitionStatus:Ud,useFormState:M_,useActionState:M_,useOptimistic:function(n,r){var o=en();return be!==null?A_(o,be,n,r):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:Od,useCacheRefresh:K_},Rl=null,Nu=0;function ph(n){var r=Nu;return Nu+=1,Rl===null&&(Rl=[]),c_(Rl,n,r)}function ku(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function gh(n,r){throw r.$$typeof===x?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function ty(n){var r=n._init;return r(n._payload)}function ey(n){function r($,j){if(n){var X=$.deletions;X===null?($.deletions=[j],$.flags|=16):X.push(j)}}function o($,j){if(!n)return null;for(;j!==null;)r($,j),j=j.sibling;return null}function c($){for(var j=new Map;$!==null;)$.key!==null?j.set($.key,$):j.set($.index,$),$=$.sibling;return j}function p($,j){return $=$i($,j),$.index=0,$.sibling=null,$}function g($,j,X){return $.index=X,n?(X=$.alternate,X!==null?(X=X.index,X<j?($.flags|=67108866,j):X):($.flags|=67108866,j)):($.flags|=1048576,j)}function A($){return n&&$.alternate===null&&($.flags|=67108866),$}function R($,j,X,ut){return j===null||j.tag!==6?(j=bu(X,$.mode,ut),j.return=$,j):(j=p(j,X),j.return=$,j)}function k($,j,X,ut){var xt=X.type;return xt===q?lt($,j,X.props.children,ut,X.key):j!==null&&(j.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===O&&ty(xt)===j.type)?(j=p(j,X.props),ku(j,X),j.return=$,j):(j=Io(X.type,X.key,X.props,null,$.mode,ut),ku(j,X),j.return=$,j)}function J($,j,X,ut){return j===null||j.tag!==4||j.stateNode.containerInfo!==X.containerInfo||j.stateNode.implementation!==X.implementation?(j=vl(X,$.mode,ut),j.return=$,j):(j=p(j,X.children||[]),j.return=$,j)}function lt($,j,X,ut,xt){return j===null||j.tag!==7?(j=Ur(X,$.mode,ut,xt),j.return=$,j):(j=p(j,X),j.return=$,j)}function ct($,j,X){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=bu(""+j,$.mode,X),j.return=$,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case C:return X=Io(j.type,j.key,j.props,null,$.mode,X),ku(X,j),X.return=$,X;case V:return j=vl(j,$.mode,X),j.return=$,j;case O:var ut=j._init;return j=ut(j._payload),ct($,j,X)}if(Ie(j)||F(j))return j=Ur(j,$.mode,X,null),j.return=$,j;if(typeof j.then=="function")return ct($,ph(j),X);if(j.$$typeof===nt)return ct($,nh($,j),X);gh($,j)}return null}function et($,j,X,ut){var xt=j!==null?j.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return xt!==null?null:R($,j,""+X,ut);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case C:return X.key===xt?k($,j,X,ut):null;case V:return X.key===xt?J($,j,X,ut):null;case O:return xt=X._init,X=xt(X._payload),et($,j,X,ut)}if(Ie(X)||F(X))return xt!==null?null:lt($,j,X,ut,null);if(typeof X.then=="function")return et($,j,ph(X),ut);if(X.$$typeof===nt)return et($,j,nh($,X),ut);gh($,X)}return null}function it($,j,X,ut,xt){if(typeof ut=="string"&&ut!==""||typeof ut=="number"||typeof ut=="bigint")return $=$.get(X)||null,R(j,$,""+ut,xt);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case C:return $=$.get(ut.key===null?X:ut.key)||null,k(j,$,ut,xt);case V:return $=$.get(ut.key===null?X:ut.key)||null,J(j,$,ut,xt);case O:var Xt=ut._init;return ut=Xt(ut._payload),it($,j,X,ut,xt)}if(Ie(ut)||F(ut))return $=$.get(X)||null,lt(j,$,ut,xt,null);if(typeof ut.then=="function")return it($,j,X,ph(ut),xt);if(ut.$$typeof===nt)return it($,j,X,nh(j,ut),xt);gh(j,ut)}return null}function Bt($,j,X,ut){for(var xt=null,Xt=null,Mt=j,Vt=j=0,vn=null;Mt!==null&&Vt<X.length;Vt++){Mt.index>Vt?(vn=Mt,Mt=null):vn=Mt.sibling;var he=et($,Mt,X[Vt],ut);if(he===null){Mt===null&&(Mt=vn);break}n&&Mt&&he.alternate===null&&r($,Mt),j=g(he,j,Vt),Xt===null?xt=he:Xt.sibling=he,Xt=he,Mt=vn}if(Vt===X.length)return o($,Mt),Ht&&Q($,Vt),xt;if(Mt===null){for(;Vt<X.length;Vt++)Mt=ct($,X[Vt],ut),Mt!==null&&(j=g(Mt,j,Vt),Xt===null?xt=Mt:Xt.sibling=Mt,Xt=Mt);return Ht&&Q($,Vt),xt}for(Mt=c(Mt);Vt<X.length;Vt++)vn=it(Mt,$,Vt,X[Vt],ut),vn!==null&&(n&&vn.alternate!==null&&Mt.delete(vn.key===null?Vt:vn.key),j=g(vn,j,Vt),Xt===null?xt=vn:Xt.sibling=vn,Xt=vn);return n&&Mt.forEach(function(Ma){return r($,Ma)}),Ht&&Q($,Vt),xt}function kt($,j,X,ut){if(X==null)throw Error(s(151));for(var xt=null,Xt=null,Mt=j,Vt=j=0,vn=null,he=X.next();Mt!==null&&!he.done;Vt++,he=X.next()){Mt.index>Vt?(vn=Mt,Mt=null):vn=Mt.sibling;var Ma=et($,Mt,he.value,ut);if(Ma===null){Mt===null&&(Mt=vn);break}n&&Mt&&Ma.alternate===null&&r($,Mt),j=g(Ma,j,Vt),Xt===null?xt=Ma:Xt.sibling=Ma,Xt=Ma,Mt=vn}if(he.done)return o($,Mt),Ht&&Q($,Vt),xt;if(Mt===null){for(;!he.done;Vt++,he=X.next())he=ct($,he.value,ut),he!==null&&(j=g(he,j,Vt),Xt===null?xt=he:Xt.sibling=he,Xt=he);return Ht&&Q($,Vt),xt}for(Mt=c(Mt);!he.done;Vt++,he=X.next())he=it(Mt,$,Vt,he.value,ut),he!==null&&(n&&he.alternate!==null&&Mt.delete(he.key===null?Vt:he.key),j=g(he,j,Vt),Xt===null?xt=he:Xt.sibling=he,Xt=he);return n&&Mt.forEach(function(kA){return r($,kA)}),Ht&&Q($,Vt),xt}function Se($,j,X,ut){if(typeof X=="object"&&X!==null&&X.type===q&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case C:t:{for(var xt=X.key;j!==null;){if(j.key===xt){if(xt=X.type,xt===q){if(j.tag===7){o($,j.sibling),ut=p(j,X.props.children),ut.return=$,$=ut;break t}}else if(j.elementType===xt||typeof xt=="object"&&xt!==null&&xt.$$typeof===O&&ty(xt)===j.type){o($,j.sibling),ut=p(j,X.props),ku(ut,X),ut.return=$,$=ut;break t}o($,j);break}else r($,j);j=j.sibling}X.type===q?(ut=Ur(X.props.children,$.mode,ut,X.key),ut.return=$,$=ut):(ut=Io(X.type,X.key,X.props,null,$.mode,ut),ku(ut,X),ut.return=$,$=ut)}return A($);case V:t:{for(xt=X.key;j!==null;){if(j.key===xt)if(j.tag===4&&j.stateNode.containerInfo===X.containerInfo&&j.stateNode.implementation===X.implementation){o($,j.sibling),ut=p(j,X.children||[]),ut.return=$,$=ut;break t}else{o($,j);break}else r($,j);j=j.sibling}ut=vl(X,$.mode,ut),ut.return=$,$=ut}return A($);case O:return xt=X._init,X=xt(X._payload),Se($,j,X,ut)}if(Ie(X))return Bt($,j,X,ut);if(F(X)){if(xt=F(X),typeof xt!="function")throw Error(s(150));return X=xt.call(X),kt($,j,X,ut)}if(typeof X.then=="function")return Se($,j,ph(X),ut);if(X.$$typeof===nt)return Se($,j,nh($,X),ut);gh($,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,j!==null&&j.tag===6?(o($,j.sibling),ut=p(j,X),ut.return=$,$=ut):(o($,j),ut=bu(X,$.mode,ut),ut.return=$,$=ut),A($)):o($,j)}return function($,j,X,ut){try{Nu=0;var xt=Se($,j,X,ut);return Rl=null,xt}catch(Mt){if(Mt===Iu||Mt===rh)throw Mt;var Xt=Qn(29,Mt,null,$.mode);return Xt.lanes=ut,Xt.return=$,Xt}finally{}}}var Cl=ey(!0),ny=ey(!1),Yi=ot(null),Hr=null;function ya(n){var r=n.alternate;mt(ln,ln.current&1),mt(Yi,n),Hr===null&&(r===null||bl.current!==null||r.memoizedState!==null)&&(Hr=n)}function iy(n){if(n.tag===22){if(mt(ln,ln.current),mt(Yi,n),Hr===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(Hr=n)}}else va()}function va(){mt(ln,ln.current),mt(Yi,Yi.current)}function Ts(n){_t(Yi),Hr===n&&(Hr=null),_t(ln)}var ln=ot(0);function _h(n){for(var r=n;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Pm(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Hd(n,r,o,c){r=n.memoizedState,o=o(c,r),o=o==null?r:S({},r,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var qd={enqueueSetState:function(n,r,o){n=n._reactInternals;var c=xi(),p=pa(c);p.payload=r,o!=null&&(p.callback=o),r=ga(n,p,c),r!==null&&(Pi(r,n,c),Cu(r,n,c))},enqueueReplaceState:function(n,r,o){n=n._reactInternals;var c=xi(),p=pa(c);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=ga(n,p,c),r!==null&&(Pi(r,n,c),Cu(r,n,c))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var o=xi(),c=pa(o);c.tag=2,r!=null&&(c.callback=r),r=ga(n,c,o),r!==null&&(Pi(r,n,o),Cu(r,n,o))}};function ry(n,r,o,c,p,g,A){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,g,A):r.prototype&&r.prototype.isPureReactComponent?!$n(o,c)||!$n(p,g):!0}function sy(n,r,o,c){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==n&&qd.enqueueReplaceState(r,r.state,null)}function Mo(n,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(n=n.defaultProps){o===r&&(o=S({},o));for(var p in n)o[p]===void 0&&(o[p]=n[p])}return o}var yh=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function ay(n){yh(n)}function oy(n){console.error(n)}function ly(n){yh(n)}function vh(n,r){try{var o=n.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function uy(n,r,o){try{var c=n.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function jd(n,r,o){return o=pa(o),o.tag=3,o.payload={element:null},o.callback=function(){vh(n,r)},o}function cy(n){return n=pa(n),n.tag=3,n}function hy(n,r,o,c){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var g=c.value;n.payload=function(){return p(g)},n.callback=function(){uy(r,o,c)}}var A=o.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(n.callback=function(){uy(r,o,c),typeof p!="function"&&(Sa===null?Sa=new Set([this]):Sa.add(this));var R=c.stack;this.componentDidCatch(c.value,{componentStack:R!==null?R:""})})}function k1(n,r,o,c,p){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&xo(r,o,p,!0),o=Yi.current,o!==null){switch(o.tag){case 13:return Hr===null?dm():o.alternate===null&&Ze===0&&(Ze=3),o.flags&=-257,o.flags|=65536,o.lanes=p,c===yd?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),pm(n,c,p)),!1;case 22:return o.flags|=65536,c===yd?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),pm(n,c,p)),!1}throw Error(s(435,o.tag))}return pm(n,c,p),dm(),!1}if(Ht)return r=Yi.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=p,c!==gn&&(n=Error(s(422),{cause:c}),da(Kn(n,o)))):(c!==gn&&(r=Error(s(423),{cause:c}),da(Kn(r,o))),n=n.current.alternate,n.flags|=65536,p&=-p,n.lanes|=p,c=Kn(c,o),p=jd(n.stateNode,c,p),Ed(n,p),Ze!==4&&(Ze=2)),!1;var g=Error(s(520),{cause:c});if(g=Kn(g,o),ju===null?ju=[g]:ju.push(g),Ze!==4&&(Ze=2),r===null)return!0;c=Kn(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,n=p&-p,o.lanes|=n,n=jd(o.stateNode,c,n),Ed(o,n),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Sa===null||!Sa.has(g))))return o.flags|=65536,p&=-p,o.lanes|=p,p=cy(p),hy(p,n,o,c),Ed(o,p),!1}o=o.return}while(o!==null);return!1}var fy=Error(s(461)),_n=!1;function An(n,r,o,c){r.child=n===null?ny(r,null,o,c):Cl(r,n.child,o,c)}function dy(n,r,o,c,p){o=o.render;var g=r.ref;if("ref"in c){var A={};for(var R in c)R!=="ref"&&(A[R]=c[R])}else A=c;return Po(r),c=Id(n,r,o,A,g,p),R=Rd(),n!==null&&!_n?(Cd(n,r,p),Es(n,r,p)):(Ht&&R&&dt(r),r.flags|=1,An(n,r,c,p),r.child)}function my(n,r,o,c,p){if(n===null){var g=o.type;return typeof g=="function"&&!yl(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,py(n,r,g,c,p)):(n=Io(o.type,null,c,r,r.mode,p),n.ref=r.ref,n.return=r,r.child=n)}if(g=n.child,!Xd(n,p)){var A=g.memoizedProps;if(o=o.compare,o=o!==null?o:$n,o(A,c)&&n.ref===r.ref)return Es(n,r,p)}return r.flags|=1,n=$i(g,c),n.ref=r.ref,n.return=r,r.child=n}function py(n,r,o,c,p){if(n!==null){var g=n.memoizedProps;if($n(g,c)&&n.ref===r.ref)if(_n=!1,r.pendingProps=c=g,Xd(n,p))(n.flags&131072)!==0&&(_n=!0);else return r.lanes=n.lanes,Es(n,r,p)}return Fd(n,r,o,c,p)}function gy(n,r,o){var c=r.pendingProps,p=c.children,g=n!==null?n.memoizedState:null;if(c.mode==="hidden"){if((r.flags&128)!==0){if(c=g!==null?g.baseLanes|o:o,n!==null){for(p=r.child=n.child,g=0;p!==null;)g=g|p.lanes|p.childLanes,p=p.sibling;r.childLanes=g&~c}else r.childLanes=0,r.child=null;return _y(n,r,c,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&ih(r,g!==null?g.cachePool:null),g!==null?p_(r,g):bd(),iy(r);else return r.lanes=r.childLanes=536870912,_y(n,r,g!==null?g.baseLanes|o:o,o)}else g!==null?(ih(r,g.cachePool),p_(r,g),va(),r.memoizedState=null):(n!==null&&ih(r,null),bd(),va());return An(n,r,p,o),r.child}function _y(n,r,o,c){var p=_d();return p=p===null?null:{parent:on._currentValue,pool:p},r.memoizedState={baseLanes:o,cachePool:p},n!==null&&ih(r,null),bd(),iy(r),n!==null&&xo(n,r,c,!0),null}function Th(n,r){var o=r.ref;if(o===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(n===null||n.ref!==o)&&(r.flags|=4194816)}}function Fd(n,r,o,c,p){return Po(r),o=Id(n,r,o,c,void 0,p),c=Rd(),n!==null&&!_n?(Cd(n,r,p),Es(n,r,p)):(Ht&&c&&dt(r),r.flags|=1,An(n,r,o,p),r.child)}function yy(n,r,o,c,p,g){return Po(r),r.updateQueue=null,o=__(r,c,o,p),g_(n),c=Rd(),n!==null&&!_n?(Cd(n,r,g),Es(n,r,g)):(Ht&&c&&dt(r),r.flags|=1,An(n,r,o,g),r.child)}function vy(n,r,o,c,p){if(Po(r),r.stateNode===null){var g=_s,A=o.contextType;typeof A=="object"&&A!==null&&(g=Vn(A)),g=new o(c,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=qd,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=c,g.state=r.memoizedState,g.refs={},vd(r),A=o.contextType,g.context=typeof A=="object"&&A!==null?Vn(A):_s,g.state=r.memoizedState,A=o.getDerivedStateFromProps,typeof A=="function"&&(Hd(r,o,A,c),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(A=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),A!==g.state&&qd.enqueueReplaceState(g,g.state,null),Pu(r,c,g,p),xu(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(n===null){g=r.stateNode;var R=r.memoizedProps,k=Mo(o,R);g.props=k;var J=g.context,lt=o.contextType;A=_s,typeof lt=="object"&&lt!==null&&(A=Vn(lt));var ct=o.getDerivedStateFromProps;lt=typeof ct=="function"||typeof g.getSnapshotBeforeUpdate=="function",R=r.pendingProps!==R,lt||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(R||J!==A)&&sy(r,g,c,A),ma=!1;var et=r.memoizedState;g.state=et,Pu(r,c,g,p),xu(),J=r.memoizedState,R||et!==J||ma?(typeof ct=="function"&&(Hd(r,o,ct,c),J=r.memoizedState),(k=ma||ry(r,o,k,c,et,J,A))?(lt||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=J),g.props=c,g.state=J,g.context=A,c=k):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{g=r.stateNode,Td(n,r),A=r.memoizedProps,lt=Mo(o,A),g.props=lt,ct=r.pendingProps,et=g.context,J=o.contextType,k=_s,typeof J=="object"&&J!==null&&(k=Vn(J)),R=o.getDerivedStateFromProps,(J=typeof R=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A!==ct||et!==k)&&sy(r,g,c,k),ma=!1,et=r.memoizedState,g.state=et,Pu(r,c,g,p),xu();var it=r.memoizedState;A!==ct||et!==it||ma||n!==null&&n.dependencies!==null&&eh(n.dependencies)?(typeof R=="function"&&(Hd(r,o,R,c),it=r.memoizedState),(lt=ma||ry(r,o,lt,c,et,it,k)||n!==null&&n.dependencies!==null&&eh(n.dependencies))?(J||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,it,k),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,it,k)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||A===n.memoizedProps&&et===n.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&et===n.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=it),g.props=c,g.state=it,g.context=k,c=lt):(typeof g.componentDidUpdate!="function"||A===n.memoizedProps&&et===n.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&et===n.memoizedState||(r.flags|=1024),c=!1)}return g=c,Th(n,r),c=(r.flags&128)!==0,g||c?(g=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,n!==null&&c?(r.child=Cl(r,n.child,null,p),r.child=Cl(r,null,o,p)):An(n,r,o,p),r.memoizedState=g.state,n=r.child):n=Es(n,r,p),n}function Ty(n,r,o,c){return fa(),r.flags|=256,An(n,r,o,c),r.child}var Gd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zd(n){return{baseLanes:n,cachePool:o_()}}function $d(n,r,o){return n=n!==null?n.childLanes&~o:0,r&&(n|=Qi),n}function Ey(n,r,o){var c=r.pendingProps,p=!1,g=(r.flags&128)!==0,A;if((A=g)||(A=n!==null&&n.memoizedState===null?!1:(ln.current&2)!==0),A&&(p=!0,r.flags&=-129),A=(r.flags&32)!==0,r.flags&=-33,n===null){if(Ht){if(p?ya(r):va(),Ht){var R=Ot,k;if(k=R){t:{for(k=R,R=Be;k.nodeType!==8;){if(!R){R=null;break t}if(k=yr(k.nextSibling),k===null){R=null;break t}}R=k}R!==null?(r.memoizedState={dehydrated:R,treeContext:w!==null?{id:I,overflow:N}:null,retryLane:536870912,hydrationErrors:null},k=Qn(18,null,null,0),k.stateNode=R,k.return=r,r.child=k,Ct=r,Ot=null,k=!0):k=!1}k||ni(r)}if(R=r.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return Pm(R)?r.lanes=32:r.lanes=536870912,null;Ts(r)}return R=c.children,c=c.fallback,p?(va(),p=r.mode,R=Eh({mode:"hidden",children:R},p),c=Ur(c,p,o,null),R.return=r,c.return=r,R.sibling=c,r.child=R,p=r.child,p.memoizedState=Zd(o),p.childLanes=$d(n,A,o),r.memoizedState=Gd,c):(ya(r),Kd(r,R))}if(k=n.memoizedState,k!==null&&(R=k.dehydrated,R!==null)){if(g)r.flags&256?(ya(r),r.flags&=-257,r=Yd(n,r,o)):r.memoizedState!==null?(va(),r.child=n.child,r.flags|=128,r=null):(va(),p=c.fallback,R=r.mode,c=Eh({mode:"visible",children:c.children},R),p=Ur(p,R,o,null),p.flags|=2,c.return=r,p.return=r,c.sibling=p,r.child=c,Cl(r,n.child,null,o),c=r.child,c.memoizedState=Zd(o),c.childLanes=$d(n,A,o),r.memoizedState=Gd,r=p);else if(ya(r),Pm(R)){if(A=R.nextSibling&&R.nextSibling.dataset,A)var J=A.dgst;A=J,c=Error(s(419)),c.stack="",c.digest=A,da({value:c,source:null,stack:null}),r=Yd(n,r,o)}else if(_n||xo(n,r,o,!1),A=(o&n.childLanes)!==0,_n||A){if(A=De,A!==null&&(c=o&-o,c=(c&42)!==0?1:Rr(c),c=(c&(A.suspendedLanes|o))!==0?0:c,c!==0&&c!==k.retryLane))throw k.retryLane=c,ca(n,c),Pi(A,n,c),fy;R.data==="$?"||dm(),r=Yd(n,r,o)}else R.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=k.treeContext,Ot=yr(R.nextSibling),Ct=r,Ht=!0,Me=null,Be=!1,n!==null&&(m[v++]=I,m[v++]=N,m[v++]=w,I=n.id,N=n.overflow,w=r),r=Kd(r,c.children),r.flags|=4096);return r}return p?(va(),p=c.fallback,R=r.mode,k=n.child,J=k.sibling,c=$i(k,{mode:"hidden",children:c.children}),c.subtreeFlags=k.subtreeFlags&65011712,J!==null?p=$i(J,p):(p=Ur(p,R,o,null),p.flags|=2),p.return=r,c.return=r,c.sibling=p,r.child=c,c=p,p=r.child,R=n.child.memoizedState,R===null?R=Zd(o):(k=R.cachePool,k!==null?(J=on._currentValue,k=k.parent!==J?{parent:J,pool:J}:k):k=o_(),R={baseLanes:R.baseLanes|o,cachePool:k}),p.memoizedState=R,p.childLanes=$d(n,A,o),r.memoizedState=Gd,c):(ya(r),o=n.child,n=o.sibling,o=$i(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,n!==null&&(A=r.deletions,A===null?(r.deletions=[n],r.flags|=16):A.push(n)),r.child=o,r.memoizedState=null,o)}function Kd(n,r){return r=Eh({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Eh(n,r){return n=Qn(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Yd(n,r,o){return Cl(r,n.child,null,o),n=Kd(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function wy(n,r,o){n.lanes|=r;var c=n.alternate;c!==null&&(c.lanes|=r),Co(n.return,r,o)}function Qd(n,r,o,c,p){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:p}:(g.isBackwards=r,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=o,g.tailMode=p)}function by(n,r,o){var c=r.pendingProps,p=c.revealOrder,g=c.tail;if(An(n,r,c.children,o),c=ln.current,(c&2)!==0)c=c&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&wy(n,o,r);else if(n.tag===19)wy(n,o,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break t;for(;n.sibling===null;){if(n.return===null||n.return===r)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}switch(mt(ln,c),p){case"forwards":for(o=r.child,p=null;o!==null;)n=o.alternate,n!==null&&_h(n)===null&&(p=o),o=o.sibling;o=p,o===null?(p=r.child,r.child=null):(p=o.sibling,o.sibling=null),Qd(r,!1,p,o,g);break;case"backwards":for(o=null,p=r.child,r.child=null;p!==null;){if(n=p.alternate,n!==null&&_h(n)===null){r.child=p;break}n=p.sibling,p.sibling=o,o=p,p=n}Qd(r,!0,o,null,g);break;case"together":Qd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Es(n,r,o){if(n!==null&&(r.dependencies=n.dependencies),Aa|=r.lanes,(o&r.childLanes)===0)if(n!==null){if(xo(n,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,o=$i(n,n.pendingProps),r.child=o,o.return=r;n.sibling!==null;)n=n.sibling,o=o.sibling=$i(n,n.pendingProps),o.return=r;o.sibling=null}return r.child}function Xd(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&eh(n)))}function V1(n,r,o){switch(r.tag){case 3:re(r,r.stateNode.containerInfo),Br(r,on,n.memoizedState.cache),fa();break;case 27:case 5:Li(r);break;case 4:re(r,r.stateNode.containerInfo);break;case 10:Br(r,r.type,r.memoizedProps.value);break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(ya(r),r.flags|=128,null):(o&r.child.childLanes)!==0?Ey(n,r,o):(ya(r),n=Es(n,r,o),n!==null?n.sibling:null);ya(r);break;case 19:var p=(n.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(xo(n,r,o,!1),c=(o&r.childLanes)!==0),p){if(c)return by(n,r,o);r.flags|=128}if(p=r.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),mt(ln,ln.current),c)break;return null;case 22:case 23:return r.lanes=0,gy(n,r,o);case 24:Br(r,on,n.memoizedState.cache)}return Es(n,r,o)}function Ay(n,r,o){if(n!==null)if(n.memoizedProps!==r.pendingProps)_n=!0;else{if(!Xd(n,o)&&(r.flags&128)===0)return _n=!1,V1(n,r,o);_n=(n.flags&131072)!==0}else _n=!1,Ht&&(r.flags&1048576)!==0&&rt(r,u,r.index);switch(r.lanes=0,r.tag){case 16:t:{n=r.pendingProps;var c=r.elementType,p=c._init;if(c=p(c._payload),r.type=c,typeof c=="function")yl(c)?(n=Mo(c,n),r.tag=1,r=vy(null,r,c,n,o)):(r.tag=0,r=Fd(null,r,c,n,o));else{if(c!=null){if(p=c.$$typeof,p===gt){r.tag=11,r=dy(null,r,c,n,o);break t}else if(p===z){r.tag=14,r=my(null,r,c,n,o);break t}}throw r=pe(c)||c,Error(s(306,r,""))}}return r;case 0:return Fd(n,r,r.type,r.pendingProps,o);case 1:return c=r.type,p=Mo(c,r.pendingProps),vy(n,r,c,p,o);case 3:t:{if(re(r,r.stateNode.containerInfo),n===null)throw Error(s(387));c=r.pendingProps;var g=r.memoizedState;p=g.element,Td(n,r),Pu(r,c,null,o);var A=r.memoizedState;if(c=A.cache,Br(r,on,c),c!==g.cache&&Tl(r,[on],o,!0),xu(),c=A.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:A.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=Ty(n,r,c,o);break t}else if(c!==p){p=Kn(Error(s(424)),r),da(p),r=Ty(n,r,c,o);break t}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Ot=yr(n.firstChild),Ct=r,Ht=!0,Me=null,Be=!0,o=ny(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(fa(),c===p){r=Es(n,r,o);break t}An(n,r,c,o)}r=r.child}return r;case 26:return Th(n,r),n===null?(o=Cv(r.type,null,r.pendingProps,null))?r.memoizedState=o:Ht||(o=r.type,n=r.pendingProps,c=Nh(Et.current).createElement(o),c[$e]=r,c[Fe]=n,In(c,o,n),Ue(c),r.stateNode=c):r.memoizedState=Cv(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Li(r),n===null&&Ht&&(c=r.stateNode=Sv(r.type,r.pendingProps,Et.current),Ct=r,Be=!0,p=Ot,Ca(r.type)?(Om=p,Ot=yr(c.firstChild)):Ot=p),An(n,r,r.pendingProps.children,o),Th(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Ht&&((p=c=Ot)&&(c=hA(c,r.type,r.pendingProps,Be),c!==null?(r.stateNode=c,Ct=r,Ot=yr(c.firstChild),Be=!1,p=!0):p=!1),p||ni(r)),Li(r),p=r.type,g=r.pendingProps,A=n!==null?n.memoizedProps:null,c=g.children,Rm(p,g)?c=null:A!==null&&Rm(p,A)&&(r.flags|=32),r.memoizedState!==null&&(p=Id(n,r,x1,null,null,o),Wu._currentValue=p),Th(n,r),An(n,r,c,o),r.child;case 6:return n===null&&Ht&&((n=o=Ot)&&(o=fA(o,r.pendingProps,Be),o!==null?(r.stateNode=o,Ct=r,Ot=null,n=!0):n=!1),n||ni(r)),null;case 13:return Ey(n,r,o);case 4:return re(r,r.stateNode.containerInfo),c=r.pendingProps,n===null?r.child=Cl(r,null,c,o):An(n,r,c,o),r.child;case 11:return dy(n,r,r.type,r.pendingProps,o);case 7:return An(n,r,r.pendingProps,o),r.child;case 8:return An(n,r,r.pendingProps.children,o),r.child;case 12:return An(n,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,Br(r,r.type,c.value),An(n,r,c.children,o),r.child;case 9:return p=r.type._context,c=r.pendingProps.children,Po(r),p=Vn(p),c=c(p),r.flags|=1,An(n,r,c,o),r.child;case 14:return my(n,r,r.type,r.pendingProps,o);case 15:return py(n,r,r.type,r.pendingProps,o);case 19:return by(n,r,o);case 31:return c=r.pendingProps,o=r.mode,c={mode:c.mode,children:c.children},n===null?(o=Eh(c,o),o.ref=r.ref,r.child=o,o.return=r,r=o):(o=$i(n.child,c),o.ref=r.ref,r.child=o,o.return=r,r=o),r;case 22:return gy(n,r,o);case 24:return Po(r),c=Vn(on),n===null?(p=_d(),p===null&&(p=De,g=pd(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=o),p=g),r.memoizedState={parent:c,cache:p},vd(r),Br(r,on,p)):((n.lanes&o)!==0&&(Td(n,r),Pu(r,null,null,o),xu()),p=n.memoizedState,g=r.memoizedState,p.parent!==c?(p={parent:c,cache:c},r.memoizedState=p,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=p),Br(r,on,c)):(c=g.cache,Br(r,on,c),c!==p.cache&&Tl(r,[on],o,!0))),An(n,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function ws(n){n.flags|=4}function Sy(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Mv(r)){if(r=Yi.current,r!==null&&((oe&4194048)===oe?Hr!==null:(oe&62914560)!==oe&&(oe&536870912)===0||r!==Hr))throw Ru=yd,l_;n.flags|=8192}}function wh(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?js():536870912,n.lanes|=r,Ll|=r)}function Vu(n,r){if(!Ht)switch(n.tailMode){case"hidden":r=n.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function He(n){var r=n.alternate!==null&&n.alternate.child===n.child,o=0,c=0;if(r)for(var p=n.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=n,p=p.sibling;else for(p=n.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=n,p=p.sibling;return n.subtreeFlags|=c,n.childLanes=o,r}function z1(n,r,o){var c=r.pendingProps;switch(bt(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(r),null;case 1:return He(r),null;case 3:return o=r.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),gr(on),ui(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(Ro(r)?ws(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,th())),He(r),null;case 26:return o=r.memoizedState,n===null?(ws(r),o!==null?(He(r),Sy(r,o)):(He(r),r.flags&=-16777217)):o?o!==n.memoizedState?(ws(r),He(r),Sy(r,o)):(He(r),r.flags&=-16777217):(n.memoizedProps!==c&&ws(r),He(r),r.flags&=-16777217),null;case 27:ci(r),o=Et.current;var p=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==c&&ws(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return He(r),null}n=wt.current,Ro(r)?Wc(r):(n=Sv(p,c,o),r.stateNode=n,ws(r))}return He(r),null;case 5:if(ci(r),o=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==c&&ws(r);else{if(!c){if(r.stateNode===null)throw Error(s(166));return He(r),null}if(n=wt.current,Ro(r))Wc(r);else{switch(p=Nh(Et.current),n){case 1:n=p.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=p.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=p.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?n.multiple=!0:c.size&&(n.size=c.size);break;default:n=typeof c.is=="string"?p.createElement(o,{is:c.is}):p.createElement(o)}}n[$e]=r,n[Fe]=c;t:for(p=r.child;p!==null;){if(p.tag===5||p.tag===6)n.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===r)break t;for(;p.sibling===null;){if(p.return===null||p.return===r)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}r.stateNode=n;t:switch(In(n,o,c),o){case"button":case"input":case"select":case"textarea":n=!!c.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&ws(r)}}return He(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==c&&ws(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(s(166));if(n=Et.current,Ro(r)){if(n=r.stateNode,o=r.memoizedProps,c=null,p=Ct,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}n[$e]=r,n=!!(n.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||yv(n.nodeValue,o)),n||ni(r)}else n=Nh(n).createTextNode(c),n[$e]=r,r.stateNode=n}return He(r),null;case 13:if(c=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(p=Ro(r),c!==null&&c.dehydrated!==null){if(n===null){if(!p)throw Error(s(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(s(317));p[$e]=r}else fa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;He(r),p=!1}else p=th(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=p),p=!0;if(!p)return r.flags&256?(Ts(r),r):(Ts(r),null)}if(Ts(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=c!==null,n=n!==null&&n.memoizedState!==null,o){c=r.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==p&&(c.flags|=2048)}return o!==n&&o&&(r.child.flags|=8192),wh(r,r.updateQueue),He(r),null;case 4:return ui(),n===null&&wm(r.stateNode.containerInfo),He(r),null;case 10:return gr(r.type),He(r),null;case 19:if(_t(ln),p=r.memoizedState,p===null)return He(r),null;if(c=(r.flags&128)!==0,g=p.rendering,g===null)if(c)Vu(p,!1);else{if(Ze!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(g=_h(n),g!==null){for(r.flags|=128,Vu(p,!1),n=g.updateQueue,r.updateQueue=n,wh(r,n),r.subtreeFlags=0,n=o,o=r.child;o!==null;)wu(o,n),o=o.sibling;return mt(ln,ln.current&1|2),r.child}n=n.sibling}p.tail!==null&&Pn()>Sh&&(r.flags|=128,c=!0,Vu(p,!1),r.lanes=4194304)}else{if(!c)if(n=_h(g),n!==null){if(r.flags|=128,c=!0,n=n.updateQueue,r.updateQueue=n,wh(r,n),Vu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!g.alternate&&!Ht)return He(r),null}else 2*Pn()-p.renderingStartTime>Sh&&o!==536870912&&(r.flags|=128,c=!0,Vu(p,!1),r.lanes=4194304);p.isBackwards?(g.sibling=r.child,r.child=g):(n=p.last,n!==null?n.sibling=g:r.child=g,p.last=g)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=Pn(),r.sibling=null,n=ln.current,mt(ln,c?n&1|2:n&1),r):(He(r),null);case 22:case 23:return Ts(r),Ad(),c=r.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(He(r),r.subtreeFlags&6&&(r.flags|=8192)):He(r),o=r.updateQueue,o!==null&&wh(r,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),n!==null&&_t(Oo),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),gr(on),He(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function U1(n,r){switch(bt(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return gr(on),ui(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return ci(r),null;case 13:if(Ts(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));fa()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return _t(ln),null;case 4:return ui(),null;case 10:return gr(r.type),null;case 22:case 23:return Ts(r),Ad(),n!==null&&_t(Oo),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return gr(on),null;case 25:return null;default:return null}}function Iy(n,r){switch(bt(r),r.tag){case 3:gr(on),ui();break;case 26:case 27:case 5:ci(r);break;case 4:ui();break;case 13:Ts(r);break;case 19:_t(ln);break;case 10:gr(r.type);break;case 22:case 23:Ts(r),Ad(),n!==null&&_t(Oo);break;case 24:gr(on)}}function zu(n,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var p=c.next;o=p;do{if((o.tag&n)===n){c=void 0;var g=o.create,A=o.inst;c=g(),A.destroy=c}o=o.next}while(o!==p)}}catch(R){Ce(r,r.return,R)}}function Ta(n,r,o){try{var c=r.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var g=p.next;c=g;do{if((c.tag&n)===n){var A=c.inst,R=A.destroy;if(R!==void 0){A.destroy=void 0,p=r;var k=o,J=R;try{J()}catch(lt){Ce(p,k,lt)}}}c=c.next}while(c!==g)}}catch(lt){Ce(r,r.return,lt)}}function Ry(n){var r=n.updateQueue;if(r!==null){var o=n.stateNode;try{m_(r,o)}catch(c){Ce(n,n.return,c)}}}function Cy(n,r,o){o.props=Mo(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(c){Ce(n,r,c)}}function Uu(n,r){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof o=="function"?n.refCleanup=o(c):o.current=c}}catch(p){Ce(n,r,p)}}function qr(n,r){var o=n.ref,c=n.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(p){Ce(n,r,p)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){Ce(n,r,p)}else o.current=null}function xy(n){var r=n.type,o=n.memoizedProps,c=n.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(p){Ce(n,n.return,p)}}function Wd(n,r,o){try{var c=n.stateNode;aA(c,n.type,o,r),c[Fe]=r}catch(p){Ce(n,n.return,p)}}function Py(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ca(n.type)||n.tag===4}function Jd(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||Py(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ca(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function tm(n,r,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(n),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Dh));else if(c!==4&&(c===27&&Ca(n.type)&&(o=n.stateNode,r=null),n=n.child,n!==null))for(tm(n,r,o),n=n.sibling;n!==null;)tm(n,r,o),n=n.sibling}function bh(n,r,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?o.insertBefore(n,r):o.appendChild(n);else if(c!==4&&(c===27&&Ca(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(bh(n,r,o),n=n.sibling;n!==null;)bh(n,r,o),n=n.sibling}function Oy(n){var r=n.stateNode,o=n.memoizedProps;try{for(var c=n.type,p=r.attributes;p.length;)r.removeAttributeNode(p[0]);In(r,c,o),r[$e]=n,r[Fe]=o}catch(g){Ce(n,n.return,g)}}var bs=!1,Qe=!1,em=!1,Ly=typeof WeakSet=="function"?WeakSet:Set,yn=null;function B1(n,r){if(n=n.containerInfo,Sm=Hh,n=To(n),Eo(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else t:{o=(o=n.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var p=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var A=0,R=-1,k=-1,J=0,lt=0,ct=n,et=null;e:for(;;){for(var it;ct!==o||p!==0&&ct.nodeType!==3||(R=A+p),ct!==g||c!==0&&ct.nodeType!==3||(k=A+c),ct.nodeType===3&&(A+=ct.nodeValue.length),(it=ct.firstChild)!==null;)et=ct,ct=it;for(;;){if(ct===n)break e;if(et===o&&++J===p&&(R=A),et===g&&++lt===c&&(k=A),(it=ct.nextSibling)!==null)break;ct=et,et=ct.parentNode}ct=it}o=R===-1||k===-1?null:{start:R,end:k}}else o=null}o=o||{start:0,end:0}}else o=null;for(Im={focusedElem:n,selectionRange:o},Hh=!1,yn=r;yn!==null;)if(r=yn,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,yn=n;else for(;yn!==null;){switch(r=yn,g=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&g!==null){n=void 0,o=r,p=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var Bt=Mo(o.type,p,o.elementType===o.type);n=c.getSnapshotBeforeUpdate(Bt,g),c.__reactInternalSnapshotBeforeUpdate=n}catch(kt){Ce(o,o.return,kt)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,o=n.nodeType,o===9)xm(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":xm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,yn=n;break}yn=r.return}}function My(n,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:Ea(n,o),c&4&&zu(5,o);break;case 1:if(Ea(n,o),c&4)if(n=o.stateNode,r===null)try{n.componentDidMount()}catch(A){Ce(o,o.return,A)}else{var p=Mo(o.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(p,r,n.__reactInternalSnapshotBeforeUpdate)}catch(A){Ce(o,o.return,A)}}c&64&&Ry(o),c&512&&Uu(o,o.return);break;case 3:if(Ea(n,o),c&64&&(n=o.updateQueue,n!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{m_(n,r)}catch(A){Ce(o,o.return,A)}}break;case 27:r===null&&c&4&&Oy(o);case 26:case 5:Ea(n,o),r===null&&c&4&&xy(o),c&512&&Uu(o,o.return);break;case 12:Ea(n,o);break;case 13:Ea(n,o),c&4&&ky(n,o),c&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=Y1.bind(null,o),dA(n,o))));break;case 22:if(c=o.memoizedState!==null||bs,!c){r=r!==null&&r.memoizedState!==null||Qe,p=bs;var g=Qe;bs=c,(Qe=r)&&!g?wa(n,o,(o.subtreeFlags&8772)!==0):Ea(n,o),bs=p,Qe=g}break;case 30:break;default:Ea(n,o)}}function Dy(n){var r=n.alternate;r!==null&&(n.alternate=null,Dy(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&rr(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ze=null,ri=!1;function As(n,r,o){for(o=o.child;o!==null;)Ny(n,r,o),o=o.sibling}function Ny(n,r,o){if(ue&&typeof ue.onCommitFiberUnmount=="function")try{ue.onCommitFiberUnmount(xe,o)}catch{}switch(o.tag){case 26:Qe||qr(o,r),As(n,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Qe||qr(o,r);var c=ze,p=ri;Ca(o.type)&&(ze=o.stateNode,ri=!1),As(n,r,o),Ku(o.stateNode),ze=c,ri=p;break;case 5:Qe||qr(o,r);case 6:if(c=ze,p=ri,ze=null,As(n,r,o),ze=c,ri=p,ze!==null)if(ri)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(o.stateNode)}catch(g){Ce(o,r,g)}else try{ze.removeChild(o.stateNode)}catch(g){Ce(o,r,g)}break;case 18:ze!==null&&(ri?(n=ze,bv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),nc(n)):bv(ze,o.stateNode));break;case 4:c=ze,p=ri,ze=o.stateNode.containerInfo,ri=!0,As(n,r,o),ze=c,ri=p;break;case 0:case 11:case 14:case 15:Qe||Ta(2,o,r),Qe||Ta(4,o,r),As(n,r,o);break;case 1:Qe||(qr(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Cy(o,r,c)),As(n,r,o);break;case 21:As(n,r,o);break;case 22:Qe=(c=Qe)||o.memoizedState!==null,As(n,r,o),Qe=c;break;default:As(n,r,o)}}function ky(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{nc(n)}catch(o){Ce(r,r.return,o)}}function H1(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new Ly),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new Ly),r;default:throw Error(s(435,n.tag))}}function nm(n,r){var o=H1(n);r.forEach(function(c){var p=Q1.bind(null,n,c);o.has(c)||(o.add(c),c.then(p,p))})}function Ii(n,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var p=o[c],g=n,A=r,R=A;t:for(;R!==null;){switch(R.tag){case 27:if(Ca(R.type)){ze=R.stateNode,ri=!1;break t}break;case 5:ze=R.stateNode,ri=!1;break t;case 3:case 4:ze=R.stateNode.containerInfo,ri=!0;break t}R=R.return}if(ze===null)throw Error(s(160));Ny(g,A,p),ze=null,ri=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Vy(r,n),r=r.sibling}var _r=null;function Vy(n,r){var o=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Ii(r,n),Ri(n),c&4&&(Ta(3,n,n.return),zu(3,n),Ta(5,n,n.return));break;case 1:Ii(r,n),Ri(n),c&512&&(Qe||o===null||qr(o,o.return)),c&64&&bs&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var p=_r;if(Ii(r,n),Ri(n),c&512&&(Qe||o===null||qr(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=n.memoizedState,o===null)if(c===null)if(n.stateNode===null){t:{c=n.type,o=n.memoizedProps,p=p.ownerDocument||p;e:switch(c){case"title":g=p.getElementsByTagName("title")[0],(!g||g[xr]||g[$e]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(c),p.head.insertBefore(g,p.querySelector("head > title"))),In(g,c,o),g[$e]=n,Ue(g),c=g;break t;case"link":var A=Ov("link","href",p).get(c+(o.href||""));if(A){for(var R=0;R<A.length;R++)if(g=A[R],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){A.splice(R,1);break e}}g=p.createElement(c),In(g,c,o),p.head.appendChild(g);break;case"meta":if(A=Ov("meta","content",p).get(c+(o.content||""))){for(R=0;R<A.length;R++)if(g=A[R],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){A.splice(R,1);break e}}g=p.createElement(c),In(g,c,o),p.head.appendChild(g);break;default:throw Error(s(468,c))}g[$e]=n,Ue(g),c=g}n.stateNode=c}else Lv(p,n.type,n.stateNode);else n.stateNode=Pv(p,c,n.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?Lv(p,n.type,n.stateNode):Pv(p,c,n.memoizedProps)):c===null&&n.stateNode!==null&&Wd(n,n.memoizedProps,o.memoizedProps)}break;case 27:Ii(r,n),Ri(n),c&512&&(Qe||o===null||qr(o,o.return)),o!==null&&c&4&&Wd(n,n.memoizedProps,o.memoizedProps);break;case 5:if(Ii(r,n),Ri(n),c&512&&(Qe||o===null||qr(o,o.return)),n.flags&32){p=n.stateNode;try{dn(p,"")}catch(it){Ce(n,n.return,it)}}c&4&&n.stateNode!=null&&(p=n.memoizedProps,Wd(n,p,o!==null?o.memoizedProps:p)),c&1024&&(em=!0);break;case 6:if(Ii(r,n),Ri(n),c&4){if(n.stateNode===null)throw Error(s(162));c=n.memoizedProps,o=n.stateNode;try{o.nodeValue=c}catch(it){Ce(n,n.return,it)}}break;case 3:if(zh=null,p=_r,_r=kh(r.containerInfo),Ii(r,n),_r=p,Ri(n),c&4&&o!==null&&o.memoizedState.isDehydrated)try{nc(r.containerInfo)}catch(it){Ce(n,n.return,it)}em&&(em=!1,zy(n));break;case 4:c=_r,_r=kh(n.stateNode.containerInfo),Ii(r,n),Ri(n),_r=c;break;case 12:Ii(r,n),Ri(n);break;case 13:Ii(r,n),Ri(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(lm=Pn()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,nm(n,c)));break;case 22:p=n.memoizedState!==null;var k=o!==null&&o.memoizedState!==null,J=bs,lt=Qe;if(bs=J||p,Qe=lt||k,Ii(r,n),Qe=lt,bs=J,Ri(n),c&8192)t:for(r=n.stateNode,r._visibility=p?r._visibility&-2:r._visibility|1,p&&(o===null||k||bs||Qe||Do(n)),o=null,r=n;;){if(r.tag===5||r.tag===26){if(o===null){k=o=r;try{if(g=k.stateNode,p)A=g.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{R=k.stateNode;var ct=k.memoizedProps.style,et=ct!=null&&ct.hasOwnProperty("display")?ct.display:null;R.style.display=et==null||typeof et=="boolean"?"":(""+et).trim()}}catch(it){Ce(k,k.return,it)}}}else if(r.tag===6){if(o===null){k=r;try{k.stateNode.nodeValue=p?"":k.memoizedProps}catch(it){Ce(k,k.return,it)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break t;for(;r.sibling===null;){if(r.return===null||r.return===n)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=n.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,nm(n,o))));break;case 19:Ii(r,n),Ri(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,nm(n,c)));break;case 30:break;case 21:break;default:Ii(r,n),Ri(n)}}function Ri(n){var r=n.flags;if(r&2){try{for(var o,c=n.return;c!==null;){if(Py(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var p=o.stateNode,g=Jd(n);bh(n,g,p);break;case 5:var A=o.stateNode;o.flags&32&&(dn(A,""),o.flags&=-33);var R=Jd(n);bh(n,R,A);break;case 3:case 4:var k=o.stateNode.containerInfo,J=Jd(n);tm(n,J,k);break;default:throw Error(s(161))}}catch(lt){Ce(n,n.return,lt)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function zy(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;zy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Ea(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)My(n,r.alternate,r),r=r.sibling}function Do(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Ta(4,r,r.return),Do(r);break;case 1:qr(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&Cy(r,r.return,o),Do(r);break;case 27:Ku(r.stateNode);case 26:case 5:qr(r,r.return),Do(r);break;case 22:r.memoizedState===null&&Do(r);break;case 30:Do(r);break;default:Do(r)}n=n.sibling}}function wa(n,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,p=n,g=r,A=g.flags;switch(g.tag){case 0:case 11:case 15:wa(p,g,o),zu(4,g);break;case 1:if(wa(p,g,o),c=g,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(J){Ce(c,c.return,J)}if(c=g,p=c.updateQueue,p!==null){var R=c.stateNode;try{var k=p.shared.hiddenCallbacks;if(k!==null)for(p.shared.hiddenCallbacks=null,p=0;p<k.length;p++)d_(k[p],R)}catch(J){Ce(c,c.return,J)}}o&&A&64&&Ry(g),Uu(g,g.return);break;case 27:Oy(g);case 26:case 5:wa(p,g,o),o&&c===null&&A&4&&xy(g),Uu(g,g.return);break;case 12:wa(p,g,o);break;case 13:wa(p,g,o),o&&A&4&&ky(p,g);break;case 22:g.memoizedState===null&&wa(p,g,o),Uu(g,g.return);break;case 30:break;default:wa(p,g,o)}r=r.sibling}}function im(n,r){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&Au(o))}function rm(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Au(n))}function jr(n,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Uy(n,r,o,c),r=r.sibling}function Uy(n,r,o,c){var p=r.flags;switch(r.tag){case 0:case 11:case 15:jr(n,r,o,c),p&2048&&zu(9,r);break;case 1:jr(n,r,o,c);break;case 3:jr(n,r,o,c),p&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Au(n)));break;case 12:if(p&2048){jr(n,r,o,c),n=r.stateNode;try{var g=r.memoizedProps,A=g.id,R=g.onPostCommit;typeof R=="function"&&R(A,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(k){Ce(r,r.return,k)}}else jr(n,r,o,c);break;case 13:jr(n,r,o,c);break;case 23:break;case 22:g=r.stateNode,A=r.alternate,r.memoizedState!==null?g._visibility&2?jr(n,r,o,c):Bu(n,r):g._visibility&2?jr(n,r,o,c):(g._visibility|=2,xl(n,r,o,c,(r.subtreeFlags&10256)!==0)),p&2048&&im(A,r);break;case 24:jr(n,r,o,c),p&2048&&rm(r.alternate,r);break;default:jr(n,r,o,c)}}function xl(n,r,o,c,p){for(p=p&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var g=n,A=r,R=o,k=c,J=A.flags;switch(A.tag){case 0:case 11:case 15:xl(g,A,R,k,p),zu(8,A);break;case 23:break;case 22:var lt=A.stateNode;A.memoizedState!==null?lt._visibility&2?xl(g,A,R,k,p):Bu(g,A):(lt._visibility|=2,xl(g,A,R,k,p)),p&&J&2048&&im(A.alternate,A);break;case 24:xl(g,A,R,k,p),p&&J&2048&&rm(A.alternate,A);break;default:xl(g,A,R,k,p)}r=r.sibling}}function Bu(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=n,c=r,p=c.flags;switch(c.tag){case 22:Bu(o,c),p&2048&&im(c.alternate,c);break;case 24:Bu(o,c),p&2048&&rm(c.alternate,c);break;default:Bu(o,c)}r=r.sibling}}var Hu=8192;function Pl(n){if(n.subtreeFlags&Hu)for(n=n.child;n!==null;)By(n),n=n.sibling}function By(n){switch(n.tag){case 26:Pl(n),n.flags&Hu&&n.memoizedState!==null&&IA(_r,n.memoizedState,n.memoizedProps);break;case 5:Pl(n);break;case 3:case 4:var r=_r;_r=kh(n.stateNode.containerInfo),Pl(n),_r=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Hu,Hu=16777216,Pl(n),Hu=r):Pl(n));break;default:Pl(n)}}function Hy(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function qu(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];yn=c,jy(c,n)}Hy(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)qy(n),n=n.sibling}function qy(n){switch(n.tag){case 0:case 11:case 15:qu(n),n.flags&2048&&Ta(9,n,n.return);break;case 3:qu(n);break;case 12:qu(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Ah(n)):qu(n);break;default:qu(n)}}function Ah(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];yn=c,jy(c,n)}Hy(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Ta(8,r,r.return),Ah(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Ah(r));break;default:Ah(r)}n=n.sibling}}function jy(n,r){for(;yn!==null;){var o=yn;switch(o.tag){case 0:case 11:case 15:Ta(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Au(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,yn=c;else t:for(o=n;yn!==null;){c=yn;var p=c.sibling,g=c.return;if(Dy(c),c===o){yn=null;break t}if(p!==null){p.return=g,yn=p;break t}yn=g}}}var q1={getCacheForType:function(n){var r=Vn(on),o=r.data.get(n);return o===void 0&&(o=n(),r.data.set(n,o)),o}},j1=typeof WeakMap=="function"?WeakMap:Map,_e=0,De=null,Wt=null,oe=0,ye=0,Ci=null,ba=!1,Ol=!1,sm=!1,Ss=0,Ze=0,Aa=0,No=0,am=0,Qi=0,Ll=0,ju=null,si=null,om=!1,lm=0,Sh=1/0,Ih=null,Sa=null,Sn=0,Ia=null,Ml=null,Dl=0,um=0,cm=null,Fy=null,Fu=0,hm=null;function xi(){if((_e&2)!==0&&oe!==0)return oe&-oe;if(at.T!==null){var n=El;return n!==0?n:ym()}return Cr()}function Gy(){Qi===0&&(Qi=(oe&536870912)===0||Ht?so():536870912);var n=Yi.current;return n!==null&&(n.flags|=32),Qi}function Pi(n,r,o){(n===De&&(ye===2||ye===9)||n.cancelPendingCommit!==null)&&(Nl(n,0),Ra(n,oe,Qi,!1)),Di(n,o),((_e&2)===0||n!==De)&&(n===De&&((_e&2)===0&&(No|=o),Ze===4&&Ra(n,oe,Qi,!1)),Fr(n))}function Zy(n,r,o){if((_e&6)!==0)throw Error(s(327));var c=!o&&(r&124)===0&&(r&n.expiredLanes)===0||fi(n,r),p=c?Z1(n,r):mm(n,r,!0),g=c;do{if(p===0){Ol&&!c&&Ra(n,r,0,!1);break}else{if(o=n.current.alternate,g&&!F1(o)){p=mm(n,r,!1),g=!1;continue}if(p===2){if(g=r,n.errorRecoveryDisabledLanes&g)var A=0;else A=n.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){r=A;t:{var R=n;p=ju;var k=R.current.memoizedState.isDehydrated;if(k&&(Nl(R,A).flags|=256),A=mm(R,A,!1),A!==2){if(sm&&!k){R.errorRecoveryDisabledLanes|=g,No|=g,p=4;break t}g=si,si=p,g!==null&&(si===null?si=g:si.push.apply(si,g))}p=A}if(g=!1,p!==2)continue}}if(p===1){Nl(n,0),Ra(n,r,0,!0);break}t:{switch(c=n,g=p,g){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Ra(c,r,Qi,!ba);break t;case 2:si=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(p=lm+300-Pn(),10<p)){if(Ra(c,r,Qi,!ba),qs(c,0,!0)!==0)break t;c.timeoutHandle=Ev($y.bind(null,c,o,si,Ih,om,r,Qi,No,Ll,ba,g,2,-0,0),p);break t}$y(c,o,si,Ih,om,r,Qi,No,Ll,ba,g,0,-0,0)}}break}while(!0);Fr(n)}function $y(n,r,o,c,p,g,A,R,k,J,lt,ct,et,it){if(n.timeoutHandle=-1,ct=r.subtreeFlags,(ct&8192||(ct&16785408)===16785408)&&(Xu={stylesheets:null,count:0,unsuspend:SA},By(r),ct=RA(),ct!==null)){n.cancelPendingCommit=ct(tv.bind(null,n,r,g,o,c,p,A,R,k,lt,1,et,it)),Ra(n,g,A,!J);return}tv(n,r,g,o,c,p,A,R,k)}function F1(n){for(var r=n;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var p=o[c],g=p.getSnapshot;p=p.value;try{if(!Zn(g(),p))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ra(n,r,o,c){r&=~am,r&=~No,n.suspendedLanes|=r,n.pingedLanes&=~r,c&&(n.warmLanes|=r),c=n.expirationTimes;for(var p=r;0<p;){var g=31-hn(p),A=1<<g;c[g]=-1,p&=~A}o!==0&&Ni(n,o,r)}function Rh(){return(_e&6)===0?(Gu(0),!1):!0}function fm(){if(Wt!==null){if(ye===0)var n=Wt.return;else n=Wt,pr=Ki=null,xd(n),Rl=null,Nu=0,n=Wt;for(;n!==null;)Iy(n.alternate,n),n=n.return;Wt=null}}function Nl(n,r){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,lA(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),fm(),De=n,Wt=o=$i(n.current,null),oe=r,ye=0,Ci=null,ba=!1,Ol=fi(n,r),sm=!1,Ll=Qi=am=No=Aa=Ze=0,si=ju=null,om=!1,(r&8)!==0&&(r|=r&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=r;0<c;){var p=31-hn(c),g=1<<p;r|=n[p],c&=~g}return Ss=r,bo(),o}function Ky(n,r){Kt=null,at.H=mh,r===Iu||r===rh?(r=h_(),ye=3):r===l_?(r=h_(),ye=4):ye=r===fy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Ci=r,Wt===null&&(Ze=1,vh(n,Kn(r,n.current)))}function Yy(){var n=at.H;return at.H=mh,n===null?mh:n}function Qy(){var n=at.A;return at.A=q1,n}function dm(){Ze=4,ba||(oe&4194048)!==oe&&Yi.current!==null||(Ol=!0),(Aa&134217727)===0&&(No&134217727)===0||De===null||Ra(De,oe,Qi,!1)}function mm(n,r,o){var c=_e;_e|=2;var p=Yy(),g=Qy();(De!==n||oe!==r)&&(Ih=null,Nl(n,r)),r=!1;var A=Ze;t:do try{if(ye!==0&&Wt!==null){var R=Wt,k=Ci;switch(ye){case 8:fm(),A=6;break t;case 3:case 2:case 9:case 6:Yi.current===null&&(r=!0);var J=ye;if(ye=0,Ci=null,kl(n,R,k,J),o&&Ol){A=0;break t}break;default:J=ye,ye=0,Ci=null,kl(n,R,k,J)}}G1(),A=Ze;break}catch(lt){Ky(n,lt)}while(!0);return r&&n.shellSuspendCounter++,pr=Ki=null,_e=c,at.H=p,at.A=g,Wt===null&&(De=null,oe=0,bo()),A}function G1(){for(;Wt!==null;)Xy(Wt)}function Z1(n,r){var o=_e;_e|=2;var c=Yy(),p=Qy();De!==n||oe!==r?(Ih=null,Sh=Pn()+500,Nl(n,r)):Ol=fi(n,r);t:do try{if(ye!==0&&Wt!==null){r=Wt;var g=Ci;e:switch(ye){case 1:ye=0,Ci=null,kl(n,r,g,1);break;case 2:case 9:if(u_(g)){ye=0,Ci=null,Wy(r);break}r=function(){ye!==2&&ye!==9||De!==n||(ye=7),Fr(n)},g.then(r,r);break t;case 3:ye=7;break t;case 4:ye=5;break t;case 7:u_(g)?(ye=0,Ci=null,Wy(r)):(ye=0,Ci=null,kl(n,r,g,7));break;case 5:var A=null;switch(Wt.tag){case 26:A=Wt.memoizedState;case 5:case 27:var R=Wt;if(!A||Mv(A)){ye=0,Ci=null;var k=R.sibling;if(k!==null)Wt=k;else{var J=R.return;J!==null?(Wt=J,Ch(J)):Wt=null}break e}}ye=0,Ci=null,kl(n,r,g,5);break;case 6:ye=0,Ci=null,kl(n,r,g,6);break;case 8:fm(),Ze=6;break t;default:throw Error(s(462))}}$1();break}catch(lt){Ky(n,lt)}while(!0);return pr=Ki=null,at.H=c,at.A=p,_e=o,Wt!==null?0:(De=null,oe=0,bo(),Ze)}function $1(){for(;Wt!==null&&!Bs();)Xy(Wt)}function Xy(n){var r=Ay(n.alternate,n,Ss);n.memoizedProps=n.pendingProps,r===null?Ch(n):Wt=r}function Wy(n){var r=n,o=r.alternate;switch(r.tag){case 15:case 0:r=yy(o,r,r.pendingProps,r.type,void 0,oe);break;case 11:r=yy(o,r,r.pendingProps,r.type.render,r.ref,oe);break;case 5:xd(r);default:Iy(o,r),r=Wt=wu(r,Ss),r=Ay(o,r,Ss)}n.memoizedProps=n.pendingProps,r===null?Ch(n):Wt=r}function kl(n,r,o,c){pr=Ki=null,xd(r),Rl=null,Nu=0;var p=r.return;try{if(k1(n,p,r,o,oe)){Ze=1,vh(n,Kn(o,n.current)),Wt=null;return}}catch(g){if(p!==null)throw Wt=p,g;Ze=1,vh(n,Kn(o,n.current)),Wt=null;return}r.flags&32768?(Ht||c===1?n=!0:Ol||(oe&536870912)!==0?n=!1:(ba=n=!0,(c===2||c===9||c===3||c===6)&&(c=Yi.current,c!==null&&c.tag===13&&(c.flags|=16384))),Jy(r,n)):Ch(r)}function Ch(n){var r=n;do{if((r.flags&32768)!==0){Jy(r,ba);return}n=r.return;var o=z1(r.alternate,r,Ss);if(o!==null){Wt=o;return}if(r=r.sibling,r!==null){Wt=r;return}Wt=r=n}while(r!==null);Ze===0&&(Ze=5)}function Jy(n,r){do{var o=U1(n.alternate,n);if(o!==null){o.flags&=32767,Wt=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(n=n.sibling,n!==null)){Wt=n;return}Wt=n=o}while(n!==null);Ze=6,Wt=null}function tv(n,r,o,c,p,g,A,R,k){n.cancelPendingCommit=null;do xh();while(Sn!==0);if((_e&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(g=r.lanes|r.childLanes,g|=Si,ao(n,o,g,A,R,k),n===De&&(Wt=De=null,oe=0),Ml=r,Ia=n,Dl=o,um=g,cm=p,Fy=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,X1(er,function(){return sv(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=at.T,at.T=null,p=yt.p,yt.p=2,A=_e,_e|=4;try{B1(n,r,o)}finally{_e=A,yt.p=p,at.T=c}}Sn=1,ev(),nv(),iv()}}function ev(){if(Sn===1){Sn=0;var n=Ia,r=Ml,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=at.T,at.T=null;var c=yt.p;yt.p=2;var p=_e;_e|=4;try{Vy(r,n);var g=Im,A=To(n.containerInfo),R=g.focusedElem,k=g.selectionRange;if(A!==R&&R&&R.ownerDocument&&dl(R.ownerDocument.documentElement,R)){if(k!==null&&Eo(R)){var J=k.start,lt=k.end;if(lt===void 0&&(lt=J),"selectionStart"in R)R.selectionStart=J,R.selectionEnd=Math.min(lt,R.value.length);else{var ct=R.ownerDocument||document,et=ct&&ct.defaultView||window;if(et.getSelection){var it=et.getSelection(),Bt=R.textContent.length,kt=Math.min(k.start,Bt),Se=k.end===void 0?kt:Math.min(k.end,Bt);!it.extend&&kt>Se&&(A=Se,Se=kt,kt=A);var $=Tu(R,kt),j=Tu(R,Se);if($&&j&&(it.rangeCount!==1||it.anchorNode!==$.node||it.anchorOffset!==$.offset||it.focusNode!==j.node||it.focusOffset!==j.offset)){var X=ct.createRange();X.setStart($.node,$.offset),it.removeAllRanges(),kt>Se?(it.addRange(X),it.extend(j.node,j.offset)):(X.setEnd(j.node,j.offset),it.addRange(X))}}}}for(ct=[],it=R;it=it.parentNode;)it.nodeType===1&&ct.push({element:it,left:it.scrollLeft,top:it.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<ct.length;R++){var ut=ct[R];ut.element.scrollLeft=ut.left,ut.element.scrollTop=ut.top}}Hh=!!Sm,Im=Sm=null}finally{_e=p,yt.p=c,at.T=o}}n.current=r,Sn=2}}function nv(){if(Sn===2){Sn=0;var n=Ia,r=Ml,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=at.T,at.T=null;var c=yt.p;yt.p=2;var p=_e;_e|=4;try{My(n,r.alternate,r)}finally{_e=p,yt.p=c,at.T=o}}Sn=3}}function iv(){if(Sn===4||Sn===3){Sn=0,to();var n=Ia,r=Ml,o=Dl,c=Fy;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Sn=5:(Sn=0,Ml=Ia=null,rv(n,n.pendingLanes));var p=n.pendingLanes;if(p===0&&(Sa=null),Fs(o),r=r.stateNode,ue&&typeof ue.onCommitFiberRoot=="function")try{ue.onCommitFiberRoot(xe,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=at.T,p=yt.p,yt.p=2,at.T=null;try{for(var g=n.onRecoverableError,A=0;A<c.length;A++){var R=c[A];g(R.value,{componentStack:R.stack})}}finally{at.T=r,yt.p=p}}(Dl&3)!==0&&xh(),Fr(n),p=n.pendingLanes,(o&4194090)!==0&&(p&42)!==0?n===hm?Fu++:(Fu=0,hm=n):Fu=0,Gu(0)}}function rv(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,Au(r)))}function xh(n){return ev(),nv(),iv(),sv()}function sv(){if(Sn!==5)return!1;var n=Ia,r=um;um=0;var o=Fs(Dl),c=at.T,p=yt.p;try{yt.p=32>o?32:o,at.T=null,o=cm,cm=null;var g=Ia,A=Dl;if(Sn=0,Ml=Ia=null,Dl=0,(_e&6)!==0)throw Error(s(331));var R=_e;if(_e|=4,qy(g.current),Uy(g,g.current,A,o),_e=R,Gu(0,!1),ue&&typeof ue.onPostCommitFiberRoot=="function")try{ue.onPostCommitFiberRoot(xe,g)}catch{}return!0}finally{yt.p=p,at.T=c,rv(n,r)}}function av(n,r,o){r=Kn(o,r),r=jd(n.stateNode,r,2),n=ga(n,r,2),n!==null&&(Di(n,2),Fr(n))}function Ce(n,r,o){if(n.tag===3)av(n,n,o);else for(;r!==null;){if(r.tag===3){av(r,n,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Sa===null||!Sa.has(c))){n=Kn(o,n),o=cy(2),c=ga(r,o,2),c!==null&&(hy(o,c,r,n),Di(c,2),Fr(c));break}}r=r.return}}function pm(n,r,o){var c=n.pingCache;if(c===null){c=n.pingCache=new j1;var p=new Set;c.set(r,p)}else p=c.get(r),p===void 0&&(p=new Set,c.set(r,p));p.has(o)||(sm=!0,p.add(o),n=K1.bind(null,n,r,o),r.then(n,n))}function K1(n,r,o){var c=n.pingCache;c!==null&&c.delete(r),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,De===n&&(oe&o)===o&&(Ze===4||Ze===3&&(oe&62914560)===oe&&300>Pn()-lm?(_e&2)===0&&Nl(n,0):am|=o,Ll===oe&&(Ll=0)),Fr(n)}function ov(n,r){r===0&&(r=js()),n=ca(n,r),n!==null&&(Di(n,r),Fr(n))}function Y1(n){var r=n.memoizedState,o=0;r!==null&&(o=r.retryLane),ov(n,o)}function Q1(n,r){var o=0;switch(n.tag){case 13:var c=n.stateNode,p=n.memoizedState;p!==null&&(o=p.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(r),ov(n,o)}function X1(n,r){return tr(n,r)}var Ph=null,Vl=null,gm=!1,Oh=!1,_m=!1,ko=0;function Fr(n){n!==Vl&&n.next===null&&(Vl===null?Ph=Vl=n:Vl=Vl.next=n),Oh=!0,gm||(gm=!0,J1())}function Gu(n,r){if(!_m&&Oh){_m=!0;do for(var o=!1,c=Ph;c!==null;){if(n!==0){var p=c.pendingLanes;if(p===0)var g=0;else{var A=c.suspendedLanes,R=c.pingedLanes;g=(1<<31-hn(42|n)+1)-1,g&=p&~(A&~R),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,hv(c,g))}else g=oe,g=qs(c,c===De?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||fi(c,g)||(o=!0,hv(c,g));c=c.next}while(o);_m=!1}}function W1(){lv()}function lv(){Oh=gm=!1;var n=0;ko!==0&&(oA()&&(n=ko),ko=0);for(var r=Pn(),o=null,c=Ph;c!==null;){var p=c.next,g=uv(c,r);g===0?(c.next=null,o===null?Ph=p:o.next=p,p===null&&(Vl=o)):(o=c,(n!==0||(g&3)!==0)&&(Oh=!0)),c=p}Gu(n)}function uv(n,r){for(var o=n.suspendedLanes,c=n.pingedLanes,p=n.expirationTimes,g=n.pendingLanes&-62914561;0<g;){var A=31-hn(g),R=1<<A,k=p[A];k===-1?((R&o)===0||(R&c)!==0)&&(p[A]=ro(R,r)):k<=r&&(n.expiredLanes|=R),g&=~R}if(r=De,o=oe,o=qs(n,n===r?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,o===0||n===r&&(ye===2||ye===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&ts(c),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||fi(n,o)){if(r=o&-o,r===n.callbackPriority)return r;switch(c!==null&&ts(c),Fs(o)){case 2:case 8:o=es;break;case 32:o=er;break;case 268435456:o=ns;break;default:o=er}return c=cv.bind(null,n),o=tr(o,c),n.callbackPriority=r,n.callbackNode=o,r}return c!==null&&c!==null&&ts(c),n.callbackPriority=2,n.callbackNode=null,2}function cv(n,r){if(Sn!==0&&Sn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(xh()&&n.callbackNode!==o)return null;var c=oe;return c=qs(n,n===De?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(Zy(n,c,r),uv(n,Pn()),n.callbackNode!=null&&n.callbackNode===o?cv.bind(null,n):null)}function hv(n,r){if(xh())return null;Zy(n,r,!0)}function J1(){uA(function(){(_e&6)!==0?tr(eo,W1):lv()})}function ym(){return ko===0&&(ko=so()),ko}function fv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Dr(""+n)}function dv(n,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,n.id&&o.setAttribute("form",n.id),r.parentNode.insertBefore(o,r),n=new FormData(n),o.parentNode.removeChild(o),n}function tA(n,r,o,c,p){if(r==="submit"&&o&&o.stateNode===p){var g=fv((p[Fe]||null).action),A=c.submitter;A&&(r=(r=A[Fe]||null)?fv(r.formAction):A.getAttribute("formAction"),r!==null&&(g=r,A=null));var R=new us("action","action",null,c,p);n.push({event:R,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(ko!==0){var k=A?dv(p,A):new FormData(p);zd(o,{pending:!0,data:k,method:p.method,action:g},null,k)}}else typeof g=="function"&&(R.preventDefault(),k=A?dv(p,A):new FormData(p),zd(o,{pending:!0,data:k,method:p.method,action:g},g,k))},currentTarget:p}]})}}for(var vm=0;vm<ms.length;vm++){var Tm=ms[vm],eA=Tm.toLowerCase(),nA=Tm[0].toUpperCase()+Tm.slice(1);Ai(eA,"on"+nA)}Ai(Yc,"onAnimationEnd"),Ai(bi,"onAnimationIteration"),Ai(wo,"onAnimationStart"),Ai("dblclick","onDoubleClick"),Ai("focusin","onFocus"),Ai("focusout","onBlur"),Ai(dd,"onTransitionRun"),Ai(_l,"onTransitionStart"),Ai(md,"onTransitionCancel"),Ai(Eu,"onTransitionEnd"),ki("onMouseEnter",["mouseout","mouseover"]),ki("onMouseLeave",["mouseout","mouseover"]),ki("onPointerEnter",["pointerout","pointerover"]),ki("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Zu));function mv(n,r){r=(r&4)!==0;for(var o=0;o<n.length;o++){var c=n[o],p=c.event;c=c.listeners;t:{var g=void 0;if(r)for(var A=c.length-1;0<=A;A--){var R=c[A],k=R.instance,J=R.currentTarget;if(R=R.listener,k!==g&&p.isPropagationStopped())break t;g=R,p.currentTarget=J;try{g(p)}catch(lt){yh(lt)}p.currentTarget=null,g=k}else for(A=0;A<c.length;A++){if(R=c[A],k=R.instance,J=R.currentTarget,R=R.listener,k!==g&&p.isPropagationStopped())break t;g=R,p.currentTarget=J;try{g(p)}catch(lt){yh(lt)}p.currentTarget=null,g=k}}}}function Jt(n,r){var o=r[Ln];o===void 0&&(o=r[Ln]=new Set);var c=n+"__bubble";o.has(c)||(pv(r,n,2,!1),o.add(c))}function Em(n,r,o){var c=0;r&&(c|=4),pv(o,n,c,r)}var Lh="_reactListening"+Math.random().toString(36).slice(2);function wm(n){if(!n[Lh]){n[Lh]=!0,uo.forEach(function(o){o!=="selectionchange"&&(iA.has(o)||Em(o,!1,n),Em(o,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Lh]||(r[Lh]=!0,Em("selectionchange",!1,r))}}function pv(n,r,o,c){switch(Uv(r)){case 2:var p=PA;break;case 8:p=OA;break;default:p=km}o=p.bind(null,r,o,n),p=void 0,!Mn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(p=!0),c?p!==void 0?n.addEventListener(r,o,{capture:!0,passive:p}):n.addEventListener(r,o,!0):p!==void 0?n.addEventListener(r,o,{passive:p}):n.addEventListener(r,o,!1)}function bm(n,r,o,c,p){var g=c;if((r&1)===0&&(r&2)===0&&c!==null)t:for(;;){if(c===null)return;var A=c.tag;if(A===3||A===4){var R=c.stateNode.containerInfo;if(R===p)break;if(A===4)for(A=c.return;A!==null;){var k=A.tag;if((k===3||k===4)&&A.stateNode.containerInfo===p)return;A=A.return}for(;R!==null;){if(A=di(R),A===null)return;if(k=A.tag,k===5||k===6||k===26||k===27){c=g=A;continue t}R=R.parentNode}}c=c.return}Gn(function(){var J=g,lt=bn(o),ct=[];t:{var et=Qc.get(n);if(et!==void 0){var it=us,Bt=n;switch(n){case"keypress":if(we(o)===0)break t;case"keydown":case"keyup":it=ea;break;case"focusin":Bt="focus",it=Qs;break;case"focusout":Bt="blur",it=Qs;break;case"beforeblur":case"afterblur":it=Qs;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":it=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":it=pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":it=ul;break;case Yc:case bi:case wo:it=Ws;break;case Eu:it=cl;break;case"scroll":case"scrollend":it=ol;break;case"wheel":it=fs;break;case"copy":case"cut":case"paste":it=Nr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":it=na;break;case"toggle":case"beforetoggle":it=ji}var kt=(r&4)!==0,Se=!kt&&(n==="scroll"||n==="scrollend"),$=kt?et!==null?et+"Capture":null:et;kt=[];for(var j=J,X;j!==null;){var ut=j;if(X=ut.stateNode,ut=ut.tag,ut!==5&&ut!==26&&ut!==27||X===null||$===null||(ut=ae(j,$),ut!=null&&kt.push($u(j,ut,X))),Se)break;j=j.return}0<kt.length&&(et=new it(et,Bt,null,o,lt),ct.push({event:et,listeners:kt}))}}if((r&7)===0){t:{if(et=n==="mouseover"||n==="pointerover",it=n==="mouseout"||n==="pointerout",et&&o!==yi&&(Bt=o.relatedTarget||o.fromElement)&&(di(Bt)||Bt[Jn]))break t;if((it||et)&&(et=lt.window===lt?lt:(et=lt.ownerDocument)?et.defaultView||et.parentWindow:window,it?(Bt=o.relatedTarget||o.toElement,it=J,Bt=Bt?di(Bt):null,Bt!==null&&(Se=h(Bt),kt=Bt.tag,Bt!==Se||kt!==5&&kt!==27&&kt!==6)&&(Bt=null)):(it=null,Bt=J),it!==Bt)){if(kt=pn,ut="onMouseLeave",$="onMouseEnter",j="mouse",(n==="pointerout"||n==="pointerover")&&(kt=na,ut="onPointerLeave",$="onPointerEnter",j="pointer"),Se=it==null?et:En(it),X=Bt==null?et:En(Bt),et=new kt(ut,j+"leave",it,o,lt),et.target=Se,et.relatedTarget=X,ut=null,di(lt)===J&&(kt=new kt($,j+"enter",Bt,o,lt),kt.target=X,kt.relatedTarget=Se,ut=kt),Se=ut,it&&Bt)e:{for(kt=it,$=Bt,j=0,X=kt;X;X=zl(X))j++;for(X=0,ut=$;ut;ut=zl(ut))X++;for(;0<j-X;)kt=zl(kt),j--;for(;0<X-j;)$=zl($),X--;for(;j--;){if(kt===$||$!==null&&kt===$.alternate)break e;kt=zl(kt),$=zl($)}kt=null}else kt=null;it!==null&&gv(ct,et,it,kt,!1),Bt!==null&&Se!==null&&gv(ct,Se,Bt,kt,!0)}}t:{if(et=J?En(J):window,it=et.nodeName&&et.nodeName.toLowerCase(),it==="select"||it==="input"&&et.type==="file")var xt=ra;else if(Le(et))if(_u)xt=fd;else{xt=hd;var Xt=vu}else it=et.nodeName,!it||it.toLowerCase()!=="input"||et.type!=="checkbox"&&et.type!=="radio"?J&&ls(J.elementType)&&(xt=ra):xt=mr;if(xt&&(xt=xt(n,J))){fr(ct,xt,o,lt);break t}Xt&&Xt(n,et,J),n==="focusout"&&J&&et.type==="number"&&J.memoizedProps.value!=null&&gi(et,"number",et.value)}switch(Xt=J?En(J):window,n){case"focusin":(Le(Xt)||Xt.contentEditable==="true")&&(wi=Xt,oa=J,ds=null);break;case"focusout":ds=oa=wi=null;break;case"mousedown":pl=!0;break;case"contextmenu":case"mouseup":case"dragend":pl=!1,$c(ct,o,lt);break;case"selectionchange":if(ml)break;case"keydown":case"keyup":$c(ct,o,lt)}var Mt;if(kn)t:{switch(n){case"compositionstart":var Vt="onCompositionStart";break t;case"compositionend":Vt="onCompositionEnd";break t;case"compositionupdate":Vt="onCompositionUpdate";break t}Vt=void 0}else te?st(n,o)&&(Vt="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Vt="onCompositionStart");Vt&&(b&&o.locale!=="ko"&&(te||Vt!=="onCompositionStart"?Vt==="onCompositionEnd"&&te&&(Mt=lr()):(ei=lt,Dn="value"in ei?ei.value:ei.textContent,te=!0)),Xt=Mh(J,Vt),0<Xt.length&&(Vt=new Nn(Vt,n,null,o,lt),ct.push({event:Vt,listeners:Xt}),Mt?Vt.data=Mt:(Mt=vt(o),Mt!==null&&(Vt.data=Mt)))),(Mt=E?Ge(n,o):ee(n,o))&&(Vt=Mh(J,"onBeforeInput"),0<Vt.length&&(Xt=new Nn("onBeforeInput","beforeinput",null,o,lt),ct.push({event:Xt,listeners:Vt}),Xt.data=Mt)),tA(ct,n,J,o,lt)}mv(ct,r)})}function $u(n,r,o){return{instance:n,listener:r,currentTarget:o}}function Mh(n,r){for(var o=r+"Capture",c=[];n!==null;){var p=n,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=ae(n,o),p!=null&&c.unshift($u(n,p,g)),p=ae(n,r),p!=null&&c.push($u(n,p,g))),n.tag===3)return c;n=n.return}return[]}function zl(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function gv(n,r,o,c,p){for(var g=r._reactName,A=[];o!==null&&o!==c;){var R=o,k=R.alternate,J=R.stateNode;if(R=R.tag,k!==null&&k===c)break;R!==5&&R!==26&&R!==27||J===null||(k=J,p?(J=ae(o,g),J!=null&&A.unshift($u(o,J,k))):p||(J=ae(o,g),J!=null&&A.push($u(o,J,k)))),o=o.return}A.length!==0&&n.push({event:r,listeners:A})}var rA=/\r\n?/g,sA=/\u0000|\uFFFD/g;function _v(n){return(typeof n=="string"?n:""+n).replace(rA,`
`).replace(sA,"")}function yv(n,r){return r=_v(r),_v(n)===r}function Dh(){}function Ae(n,r,o,c,p,g){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||dn(n,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&dn(n,""+c);break;case"className":Vi(n,"class",c);break;case"tabIndex":Vi(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Vi(n,o,c);break;case"style":ar(n,c,g);break;case"data":if(r!=="object"){Vi(n,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){n.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=Dr(""+c),n.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&Ae(n,r,"name",p.name,p,null),Ae(n,r,"formEncType",p.formEncType,p,null),Ae(n,r,"formMethod",p.formMethod,p,null),Ae(n,r,"formTarget",p.formTarget,p,null)):(Ae(n,r,"encType",p.encType,p,null),Ae(n,r,"method",p.method,p,null),Ae(n,r,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=Dr(""+c),n.setAttribute(o,c);break;case"onClick":c!=null&&(n.onclick=Dh);break;case"onScroll":c!=null&&Jt("scroll",n);break;case"onScrollEnd":c!=null&&Jt("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}o=Dr(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""+c):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":c===!0?n.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,c):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(o,c):n.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(o):n.setAttribute(o,c);break;case"popover":Jt("beforetoggle",n),Jt("toggle",n),Pr(n,"popover",c);break;case"xlinkActuate":sn(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":sn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":sn(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":sn(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":sn(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":sn(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":sn(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":sn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":sn(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Pr(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=ho.get(o)||o,Pr(n,o,c))}}function Am(n,r,o,c,p,g){switch(o){case"style":ar(n,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"children":typeof c=="string"?dn(n,c):(typeof c=="number"||typeof c=="bigint")&&dn(n,""+c);break;case"onScroll":c!=null&&Jt("scroll",n);break;case"onScrollEnd":c!=null&&Jt("scrollend",n);break;case"onClick":c!=null&&(n.onclick=Dh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zs.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),r=o.slice(2,p?o.length-7:void 0),g=n[Fe]||null,g=g!=null?g[o]:null,typeof g=="function"&&n.removeEventListener(r,g,p),typeof c=="function")){typeof g!="function"&&g!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(r,c,p);break t}o in n?n[o]=c:c===!0?n.setAttribute(o,""):Pr(n,o,c)}}}function In(n,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Jt("error",n),Jt("load",n);var c=!1,p=!1,g;for(g in o)if(o.hasOwnProperty(g)){var A=o[g];if(A!=null)switch(g){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ae(n,r,g,A,o,null)}}p&&Ae(n,r,"srcSet",o.srcSet,o,null),c&&Ae(n,r,"src",o.src,o,null);return;case"input":Jt("invalid",n);var R=g=A=p=null,k=null,J=null;for(c in o)if(o.hasOwnProperty(c)){var lt=o[c];if(lt!=null)switch(c){case"name":p=lt;break;case"type":A=lt;break;case"checked":k=lt;break;case"defaultChecked":J=lt;break;case"value":g=lt;break;case"defaultValue":R=lt;break;case"children":case"dangerouslySetInnerHTML":if(lt!=null)throw Error(s(137,r));break;default:Ae(n,r,c,lt,o,null)}}os(n,g,R,k,J,A,p,!1),Mr(n);return;case"select":Jt("invalid",n),c=A=g=null;for(p in o)if(o.hasOwnProperty(p)&&(R=o[p],R!=null))switch(p){case"value":g=R;break;case"defaultValue":A=R;break;case"multiple":c=R;default:Ae(n,r,p,R,o,null)}r=g,o=A,n.multiple=!!c,r!=null?wn(n,!!c,r,!1):o!=null&&wn(n,!!c,o,!0);return;case"textarea":Jt("invalid",n),g=p=c=null;for(A in o)if(o.hasOwnProperty(A)&&(R=o[A],R!=null))switch(A){case"value":c=R;break;case"defaultValue":p=R;break;case"children":g=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(s(91));break;default:Ae(n,r,A,R,o,null)}Fn(n,c,p,g),Mr(n);return;case"option":for(k in o)if(o.hasOwnProperty(k)&&(c=o[k],c!=null))switch(k){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Ae(n,r,k,c,o,null)}return;case"dialog":Jt("beforetoggle",n),Jt("toggle",n),Jt("cancel",n),Jt("close",n);break;case"iframe":case"object":Jt("load",n);break;case"video":case"audio":for(c=0;c<Zu.length;c++)Jt(Zu[c],n);break;case"image":Jt("error",n),Jt("load",n);break;case"details":Jt("toggle",n);break;case"embed":case"source":case"link":Jt("error",n),Jt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in o)if(o.hasOwnProperty(J)&&(c=o[J],c!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ae(n,r,J,c,o,null)}return;default:if(ls(r)){for(lt in o)o.hasOwnProperty(lt)&&(c=o[lt],c!==void 0&&Am(n,r,lt,c,o,void 0));return}}for(R in o)o.hasOwnProperty(R)&&(c=o[R],c!=null&&Ae(n,r,R,c,o,null))}function aA(n,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,A=null,R=null,k=null,J=null,lt=null;for(it in o){var ct=o[it];if(o.hasOwnProperty(it)&&ct!=null)switch(it){case"checked":break;case"value":break;case"defaultValue":k=ct;default:c.hasOwnProperty(it)||Ae(n,r,it,null,c,ct)}}for(var et in c){var it=c[et];if(ct=o[et],c.hasOwnProperty(et)&&(it!=null||ct!=null))switch(et){case"type":g=it;break;case"name":p=it;break;case"checked":J=it;break;case"defaultChecked":lt=it;break;case"value":A=it;break;case"defaultValue":R=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(s(137,r));break;default:it!==ct&&Ae(n,r,et,it,c,ct)}}Oe(n,A,R,k,J,lt,g,p);return;case"select":it=A=R=et=null;for(g in o)if(k=o[g],o.hasOwnProperty(g)&&k!=null)switch(g){case"value":break;case"multiple":it=k;default:c.hasOwnProperty(g)||Ae(n,r,g,null,c,k)}for(p in c)if(g=c[p],k=o[p],c.hasOwnProperty(p)&&(g!=null||k!=null))switch(p){case"value":et=g;break;case"defaultValue":R=g;break;case"multiple":A=g;default:g!==k&&Ae(n,r,p,g,c,k)}r=R,o=A,c=it,et!=null?wn(n,!!o,et,!1):!!c!=!!o&&(r!=null?wn(n,!!o,r,!0):wn(n,!!o,o?[]:"",!1));return;case"textarea":it=et=null;for(R in o)if(p=o[R],o.hasOwnProperty(R)&&p!=null&&!c.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Ae(n,r,R,null,c,p)}for(A in c)if(p=c[A],g=o[A],c.hasOwnProperty(A)&&(p!=null||g!=null))switch(A){case"value":et=p;break;case"defaultValue":it=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(s(91));break;default:p!==g&&Ae(n,r,A,p,c,g)}zt(n,et,it);return;case"option":for(var Bt in o)if(et=o[Bt],o.hasOwnProperty(Bt)&&et!=null&&!c.hasOwnProperty(Bt))switch(Bt){case"selected":n.selected=!1;break;default:Ae(n,r,Bt,null,c,et)}for(k in c)if(et=c[k],it=o[k],c.hasOwnProperty(k)&&et!==it&&(et!=null||it!=null))switch(k){case"selected":n.selected=et&&typeof et!="function"&&typeof et!="symbol";break;default:Ae(n,r,k,et,c,it)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var kt in o)et=o[kt],o.hasOwnProperty(kt)&&et!=null&&!c.hasOwnProperty(kt)&&Ae(n,r,kt,null,c,et);for(J in c)if(et=c[J],it=o[J],c.hasOwnProperty(J)&&et!==it&&(et!=null||it!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(s(137,r));break;default:Ae(n,r,J,et,c,it)}return;default:if(ls(r)){for(var Se in o)et=o[Se],o.hasOwnProperty(Se)&&et!==void 0&&!c.hasOwnProperty(Se)&&Am(n,r,Se,void 0,c,et);for(lt in c)et=c[lt],it=o[lt],!c.hasOwnProperty(lt)||et===it||et===void 0&&it===void 0||Am(n,r,lt,et,c,it);return}}for(var $ in o)et=o[$],o.hasOwnProperty($)&&et!=null&&!c.hasOwnProperty($)&&Ae(n,r,$,null,c,et);for(ct in c)et=c[ct],it=o[ct],!c.hasOwnProperty(ct)||et===it||et==null&&it==null||Ae(n,r,ct,et,c,it)}var Sm=null,Im=null;function Nh(n){return n.nodeType===9?n:n.ownerDocument}function vv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Tv(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Rm(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Cm=null;function oA(){var n=window.event;return n&&n.type==="popstate"?n===Cm?!1:(Cm=n,!0):(Cm=null,!1)}var Ev=typeof setTimeout=="function"?setTimeout:void 0,lA=typeof clearTimeout=="function"?clearTimeout:void 0,wv=typeof Promise=="function"?Promise:void 0,uA=typeof queueMicrotask=="function"?queueMicrotask:typeof wv<"u"?function(n){return wv.resolve(null).then(n).catch(cA)}:Ev;function cA(n){setTimeout(function(){throw n})}function Ca(n){return n==="head"}function bv(n,r){var o=r,c=0,p=0;do{var g=o.nextSibling;if(n.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<c&&8>c){o=c;var A=n.ownerDocument;if(o&1&&Ku(A.documentElement),o&2&&Ku(A.body),o&4)for(o=A.head,Ku(o),A=o.firstChild;A;){var R=A.nextSibling,k=A.nodeName;A[xr]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&A.rel.toLowerCase()==="stylesheet"||o.removeChild(A),A=R}}if(p===0){n.removeChild(g),nc(r);return}p--}else o==="$"||o==="$?"||o==="$!"?p++:c=o.charCodeAt(0)-48;else c=0;o=g}while(o);nc(r)}function xm(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":xm(o),rr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function hA(n,r,o,c){for(;n.nodeType===1;){var p=o;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[xr])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(g=n.getAttribute("rel"),g==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(g!==p.rel||n.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||n.getAttribute("title")!==(p.title==null?null:p.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(g=n.getAttribute("src"),(g!==(p.src==null?null:p.src)||n.getAttribute("type")!==(p.type==null?null:p.type)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&n.getAttribute("name")===g)return n}else return n;if(n=yr(n.nextSibling),n===null)break}return null}function fA(n,r,o){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=yr(n.nextSibling),n===null))return null;return n}function Pm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function dA(n,r){var o=n.ownerDocument;if(n.data!=="$?"||o.readyState==="complete")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function yr(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var Om=null;function Av(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return n;r--}else o==="/$"&&r++}n=n.previousSibling}return null}function Sv(n,r,o){switch(r=Nh(o),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Ku(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);rr(n)}var Xi=new Map,Iv=new Set;function kh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var Is=yt.d;yt.d={f:mA,r:pA,D:gA,C:_A,L:yA,m:vA,X:EA,S:TA,M:wA};function mA(){var n=Is.f(),r=Rh();return n||r}function pA(n){var r=mi(n);r!==null&&r.tag===5&&r.type==="form"?Z_(r):Is.r(n)}var Ul=typeof document>"u"?null:document;function Rv(n,r,o){var c=Ul;if(c&&typeof r=="string"&&r){var p=Ne(r);p='link[rel="'+n+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),Iv.has(p)||(Iv.add(p),n={rel:n,crossOrigin:o,href:r},c.querySelector(p)===null&&(r=c.createElement("link"),In(r,"link",n),Ue(r),c.head.appendChild(r)))}}function gA(n){Is.D(n),Rv("dns-prefetch",n,null)}function _A(n,r){Is.C(n,r),Rv("preconnect",n,r)}function yA(n,r,o){Is.L(n,r,o);var c=Ul;if(c&&n&&r){var p='link[rel="preload"][as="'+Ne(r)+'"]';r==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+Ne(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+Ne(o.imageSizes)+'"]')):p+='[href="'+Ne(n)+'"]';var g=p;switch(r){case"style":g=Bl(n);break;case"script":g=Hl(n)}Xi.has(g)||(n=S({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:n,as:r},o),Xi.set(g,n),c.querySelector(p)!==null||r==="style"&&c.querySelector(Yu(g))||r==="script"&&c.querySelector(Qu(g))||(r=c.createElement("link"),In(r,"link",n),Ue(r),c.head.appendChild(r)))}}function vA(n,r){Is.m(n,r);var o=Ul;if(o&&n){var c=r&&typeof r.as=="string"?r.as:"script",p='link[rel="modulepreload"][as="'+Ne(c)+'"][href="'+Ne(n)+'"]',g=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Hl(n)}if(!Xi.has(g)&&(n=S({rel:"modulepreload",href:n},r),Xi.set(g,n),o.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Qu(g)))return}c=o.createElement("link"),In(c,"link",n),Ue(c),o.head.appendChild(c)}}}function TA(n,r,o){Is.S(n,r,o);var c=Ul;if(c&&n){var p=fn(c).hoistableStyles,g=Bl(n);r=r||"default";var A=p.get(g);if(!A){var R={loading:0,preload:null};if(A=c.querySelector(Yu(g)))R.loading=5;else{n=S({rel:"stylesheet",href:n,"data-precedence":r},o),(o=Xi.get(g))&&Lm(n,o);var k=A=c.createElement("link");Ue(k),In(k,"link",n),k._p=new Promise(function(J,lt){k.onload=J,k.onerror=lt}),k.addEventListener("load",function(){R.loading|=1}),k.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Vh(A,r,c)}A={type:"stylesheet",instance:A,count:1,state:R},p.set(g,A)}}}function EA(n,r){Is.X(n,r);var o=Ul;if(o&&n){var c=fn(o).hoistableScripts,p=Hl(n),g=c.get(p);g||(g=o.querySelector(Qu(p)),g||(n=S({src:n,async:!0},r),(r=Xi.get(p))&&Mm(n,r),g=o.createElement("script"),Ue(g),In(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function wA(n,r){Is.M(n,r);var o=Ul;if(o&&n){var c=fn(o).hoistableScripts,p=Hl(n),g=c.get(p);g||(g=o.querySelector(Qu(p)),g||(n=S({src:n,async:!0,type:"module"},r),(r=Xi.get(p))&&Mm(n,r),g=o.createElement("script"),Ue(g),In(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function Cv(n,r,o,c){var p=(p=Et.current)?kh(p):null;if(!p)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Bl(o.href),o=fn(p).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=Bl(o.href);var g=fn(p).hoistableStyles,A=g.get(n);if(A||(p=p.ownerDocument||p,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(n,A),(g=p.querySelector(Yu(n)))&&!g._p&&(A.instance=g,A.state.loading=5),Xi.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Xi.set(n,o),g||bA(p,n,o,A.state))),r&&c===null)throw Error(s(528,""));return A}if(r&&c!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Hl(o),o=fn(p).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Bl(n){return'href="'+Ne(n)+'"'}function Yu(n){return'link[rel="stylesheet"]['+n+"]"}function xv(n){return S({},n,{"data-precedence":n.precedence,precedence:null})}function bA(n,r,o,c){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=n.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),In(r,"link",o),Ue(r),n.head.appendChild(r))}function Hl(n){return'[src="'+Ne(n)+'"]'}function Qu(n){return"script[async]"+n}function Pv(n,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=n.querySelector('style[data-href~="'+Ne(o.href)+'"]');if(c)return r.instance=c,Ue(c),c;var p=S({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),Ue(c),In(c,"style",p),Vh(c,o.precedence,n),r.instance=c;case"stylesheet":p=Bl(o.href);var g=n.querySelector(Yu(p));if(g)return r.state.loading|=4,r.instance=g,Ue(g),g;c=xv(o),(p=Xi.get(p))&&Lm(c,p),g=(n.ownerDocument||n).createElement("link"),Ue(g);var A=g;return A._p=new Promise(function(R,k){A.onload=R,A.onerror=k}),In(g,"link",c),r.state.loading|=4,Vh(g,o.precedence,n),r.instance=g;case"script":return g=Hl(o.src),(p=n.querySelector(Qu(g)))?(r.instance=p,Ue(p),p):(c=o,(p=Xi.get(g))&&(c=S({},o),Mm(c,p)),n=n.ownerDocument||n,p=n.createElement("script"),Ue(p),In(p,"link",c),n.head.appendChild(p),r.instance=p);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,Vh(c,o.precedence,n));return r.instance}function Vh(n,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,g=p,A=0;A<c.length;A++){var R=c[A];if(R.dataset.precedence===r)g=R;else if(g!==p)break}g?g.parentNode.insertBefore(n,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(n,r.firstChild))}function Lm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Mm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var zh=null;function Ov(n,r,o){if(zh===null){var c=new Map,p=zh=new Map;p.set(o,c)}else p=zh,c=p.get(o),c||(c=new Map,p.set(o,c));if(c.has(n))return c;for(c.set(n,null),o=o.getElementsByTagName(n),p=0;p<o.length;p++){var g=o[p];if(!(g[xr]||g[$e]||n==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var A=g.getAttribute(r)||"";A=n+A;var R=c.get(A);R?R.push(g):c.set(A,[g])}}return c}function Lv(n,r,o){n=n.ownerDocument||n,n.head.insertBefore(o,r==="title"?n.querySelector("head > title"):null)}function AA(n,r,o){if(o===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Mv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Xu=null;function SA(){}function IA(n,r,o){if(Xu===null)throw Error(s(475));var c=Xu;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var p=Bl(o.href),g=n.querySelector(Yu(p));if(g){n=g._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(c.count++,c=Uh.bind(c),n.then(c,c)),r.state.loading|=4,r.instance=g,Ue(g);return}g=n.ownerDocument||n,o=xv(o),(p=Xi.get(p))&&Lm(o,p),g=g.createElement("link"),Ue(g);var A=g;A._p=new Promise(function(R,k){A.onload=R,A.onerror=k}),In(g,"link",o),r.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(c.count++,r=Uh.bind(c),n.addEventListener("load",r),n.addEventListener("error",r))}}function RA(){if(Xu===null)throw Error(s(475));var n=Xu;return n.stylesheets&&n.count===0&&Dm(n,n.stylesheets),0<n.count?function(r){var o=setTimeout(function(){if(n.stylesheets&&Dm(n,n.stylesheets),n.unsuspend){var c=n.unsuspend;n.unsuspend=null,c()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(o)}}:null}function Uh(){if(this.count--,this.count===0){if(this.stylesheets)Dm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Bh=null;function Dm(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Bh=new Map,r.forEach(CA,n),Bh=null,Uh.call(n))}function CA(n,r){if(!(r.state.loading&4)){var o=Bh.get(n);if(o)var c=o.get(null);else{o=new Map,Bh.set(n,o);for(var p=n.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var A=p[g];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(o.set(A.dataset.precedence,A),c=A)}c&&o.set(null,c)}p=r.instance,A=p.getAttribute("data-precedence"),g=o.get(A)||c,g===c&&o.set(null,p),o.set(A,p),this.count++,c=Uh.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),g?g.parentNode.insertBefore(p,g.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(p,n.firstChild)),r.state.loading|=4}}var Wu={$$typeof:nt,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function xA(n,r,o,c,p,g,A,R){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mi(0),this.hiddenUpdates=Mi(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function Dv(n,r,o,c,p,g,A,R,k,J,lt,ct){return n=new xA(n,r,o,A,R,k,J,ct),r=1,g===!0&&(r|=24),g=Qn(3,null,null,r),n.current=g,g.stateNode=n,r=pd(),r.refCount++,n.pooledCache=r,r.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:r},vd(g),n}function Nv(n){return n?(n=_s,n):_s}function kv(n,r,o,c,p,g){p=Nv(p),c.context===null?c.context=p:c.pendingContext=p,c=pa(r),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=ga(n,c,r),o!==null&&(Pi(o,n,r),Cu(o,n,r))}function Vv(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<r?o:r}}function Nm(n,r){Vv(n,r),(n=n.alternate)&&Vv(n,r)}function zv(n){if(n.tag===13){var r=ca(n,67108864);r!==null&&Pi(r,n,67108864),Nm(n,67108864)}}var Hh=!0;function PA(n,r,o,c){var p=at.T;at.T=null;var g=yt.p;try{yt.p=2,km(n,r,o,c)}finally{yt.p=g,at.T=p}}function OA(n,r,o,c){var p=at.T;at.T=null;var g=yt.p;try{yt.p=8,km(n,r,o,c)}finally{yt.p=g,at.T=p}}function km(n,r,o,c){if(Hh){var p=Vm(c);if(p===null)bm(n,r,c,qh,o),Bv(n,c);else if(MA(p,n,r,o,c))c.stopPropagation();else if(Bv(n,c),r&4&&-1<LA.indexOf(n)){for(;p!==null;){var g=mi(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var A=Wn(g.pendingLanes);if(A!==0){var R=g;for(R.pendingLanes|=2,R.entangledLanes|=2;A;){var k=1<<31-hn(A);R.entanglements[1]|=k,A&=~k}Fr(g),(_e&6)===0&&(Sh=Pn()+500,Gu(0))}}break;case 13:R=ca(g,2),R!==null&&Pi(R,g,2),Rh(),Nm(g,2)}if(g=Vm(c),g===null&&bm(n,r,c,qh,o),g===p)break;p=g}p!==null&&c.stopPropagation()}else bm(n,r,c,null,o)}}function Vm(n){return n=bn(n),zm(n)}var qh=null;function zm(n){if(qh=null,n=di(n),n!==null){var r=h(n);if(r===null)n=null;else{var o=r.tag;if(o===13){if(n=d(r),n!==null)return n;n=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return qh=n,null}function Uv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hs()){case eo:return 2;case es:return 8;case er:case nl:return 32;case ns:return 268435456;default:return 32}default:return 32}}var Um=!1,xa=null,Pa=null,Oa=null,Ju=new Map,tc=new Map,La=[],LA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bv(n,r){switch(n){case"focusin":case"focusout":xa=null;break;case"dragenter":case"dragleave":Pa=null;break;case"mouseover":case"mouseout":Oa=null;break;case"pointerover":case"pointerout":Ju.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":tc.delete(r.pointerId)}}function ec(n,r,o,c,p,g){return n===null||n.nativeEvent!==g?(n={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[p]},r!==null&&(r=mi(r),r!==null&&zv(r)),n):(n.eventSystemFlags|=c,r=n.targetContainers,p!==null&&r.indexOf(p)===-1&&r.push(p),n)}function MA(n,r,o,c,p){switch(r){case"focusin":return xa=ec(xa,n,r,o,c,p),!0;case"dragenter":return Pa=ec(Pa,n,r,o,c,p),!0;case"mouseover":return Oa=ec(Oa,n,r,o,c,p),!0;case"pointerover":var g=p.pointerId;return Ju.set(g,ec(Ju.get(g)||null,n,r,o,c,p)),!0;case"gotpointercapture":return g=p.pointerId,tc.set(g,ec(tc.get(g)||null,n,r,o,c,p)),!0}return!1}function Hv(n){var r=di(n.target);if(r!==null){var o=h(r);if(o!==null){if(r=o.tag,r===13){if(r=d(o),r!==null){n.blockedOn=r,Gs(n.priority,function(){if(o.tag===13){var c=xi();c=Rr(c);var p=ca(o,c);p!==null&&Pi(p,o,c),Nm(o,c)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function jh(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var o=Vm(n.nativeEvent);if(o===null){o=n.nativeEvent;var c=new o.constructor(o.type,o);yi=c,o.target.dispatchEvent(c),yi=null}else return r=mi(o),r!==null&&zv(r),n.blockedOn=o,!1;r.shift()}return!0}function qv(n,r,o){jh(n)&&o.delete(r)}function DA(){Um=!1,xa!==null&&jh(xa)&&(xa=null),Pa!==null&&jh(Pa)&&(Pa=null),Oa!==null&&jh(Oa)&&(Oa=null),Ju.forEach(qv),tc.forEach(qv)}function Fh(n,r){n.blockedOn===r&&(n.blockedOn=null,Um||(Um=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,DA)))}var Gh=null;function jv(n){Gh!==n&&(Gh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Gh===n&&(Gh=null);for(var r=0;r<n.length;r+=3){var o=n[r],c=n[r+1],p=n[r+2];if(typeof c!="function"){if(zm(c||o)===null)continue;break}var g=mi(o);g!==null&&(n.splice(r,3),r-=3,zd(g,{pending:!0,data:p,method:o.method,action:c},c,p))}}))}function nc(n){function r(k){return Fh(k,n)}xa!==null&&Fh(xa,n),Pa!==null&&Fh(Pa,n),Oa!==null&&Fh(Oa,n),Ju.forEach(r),tc.forEach(r);for(var o=0;o<La.length;o++){var c=La[o];c.blockedOn===n&&(c.blockedOn=null)}for(;0<La.length&&(o=La[0],o.blockedOn===null);)Hv(o),o.blockedOn===null&&La.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var p=o[c],g=o[c+1],A=p[Fe]||null;if(typeof g=="function")A||jv(o);else if(A){var R=null;if(g&&g.hasAttribute("formAction")){if(p=g,A=g[Fe]||null)R=A.formAction;else if(zm(p)!==null)continue}else R=A.action;typeof R=="function"?o[c+1]=R:(o.splice(c,3),c-=3),jv(o)}}}function Bm(n){this._internalRoot=n}Zh.prototype.render=Bm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,c=xi();kv(o,c,n,r,null,null)},Zh.prototype.unmount=Bm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;kv(n.current,2,null,n,null,null),Rh(),r[Jn]=null}};function Zh(n){this._internalRoot=n}Zh.prototype.unstable_scheduleHydration=function(n){if(n){var r=Cr();n={blockedOn:null,target:n,priority:r};for(var o=0;o<La.length&&r!==0&&r<La[o].priority;o++);La.splice(o,0,n),o===0&&Hv(n)}};var Fv=t.version;if(Fv!=="19.1.0")throw Error(s(527,Fv,"19.1.0"));yt.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=y(r),n=n!==null?T(n):null,n=n===null?null:n.stateNode,n};var NA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:at,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$h.isDisabled&&$h.supportsFiber)try{xe=$h.inject(NA),ue=$h}catch{}}return rc.createRoot=function(n,r){if(!l(n))throw Error(s(299));var o=!1,c="",p=ay,g=oy,A=ly,R=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(A=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(R=r.unstable_transitionCallbacks)),r=Dv(n,1,!1,null,null,o,c,p,g,A,R,null),n[Jn]=r.current,wm(n),new Bm(r)},rc.hydrateRoot=function(n,r,o){if(!l(n))throw Error(s(299));var c=!1,p="",g=ay,A=oy,R=ly,k=null,J=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(A=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(k=o.unstable_transitionCallbacks),o.formState!==void 0&&(J=o.formState)),r=Dv(n,1,!0,r,o??null,c,p,g,A,R,k,J),r.context=Nv(null),o=r.current,c=xi(),c=Rr(c),p=pa(c),p.callback=null,ga(o,p,c),o=c,r.current.lanes=o,Di(r,o),Fr(r),n[Jn]=r.current,wm(n),new Zh(r)},rc.version="19.1.0",rc}var t0;function FA(){if(t0)return jm.exports;t0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),jm.exports=jA(),jm.exports}var GA=FA();const ZA=Hp(GA);var sc={},e0;function $A(){if(e0)return sc;e0=1,Object.defineProperty(sc,"__esModule",{value:!0}),sc.parse=d,sc.serialize=T;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,h=(()=>{const C=function(){};return C.prototype=Object.create(null),C})();function d(C,V){const q=new h,G=C.length;if(G<2)return q;const Z=(V==null?void 0:V.decode)||S;let tt=0;do{const W=C.indexOf("=",tt);if(W===-1)break;const nt=C.indexOf(";",tt),gt=nt===-1?G:nt;if(W>gt){tt=C.lastIndexOf(";",W-1)+1;continue}const Tt=_(C,tt,W),Pt=y(C,W,Tt),z=C.slice(Tt,Pt);if(q[z]===void 0){let O=_(C,W+1,gt),M=y(C,gt,O);const B=Z(C.slice(O,M));q[z]=B}tt=gt+1}while(tt<G);return q}function _(C,V,q){do{const G=C.charCodeAt(V);if(G!==32&&G!==9)return V}while(++V<q);return q}function y(C,V,q){for(;V>q;){const G=C.charCodeAt(--V);if(G!==32&&G!==9)return V+1}return q}function T(C,V,q){const G=(q==null?void 0:q.encode)||encodeURIComponent;if(!i.test(C))throw new TypeError(`argument name is invalid: ${C}`);const Z=G(V);if(!t.test(Z))throw new TypeError(`argument val is invalid: ${V}`);let tt=C+"="+Z;if(!q)return tt;if(q.maxAge!==void 0){if(!Number.isInteger(q.maxAge))throw new TypeError(`option maxAge is invalid: ${q.maxAge}`);tt+="; Max-Age="+q.maxAge}if(q.domain){if(!e.test(q.domain))throw new TypeError(`option domain is invalid: ${q.domain}`);tt+="; Domain="+q.domain}if(q.path){if(!s.test(q.path))throw new TypeError(`option path is invalid: ${q.path}`);tt+="; Path="+q.path}if(q.expires){if(!x(q.expires)||!Number.isFinite(q.expires.valueOf()))throw new TypeError(`option expires is invalid: ${q.expires}`);tt+="; Expires="+q.expires.toUTCString()}if(q.httpOnly&&(tt+="; HttpOnly"),q.secure&&(tt+="; Secure"),q.partitioned&&(tt+="; Partitioned"),q.priority)switch(typeof q.priority=="string"?q.priority.toLowerCase():void 0){case"low":tt+="; Priority=Low";break;case"medium":tt+="; Priority=Medium";break;case"high":tt+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${q.priority}`)}if(q.sameSite)switch(typeof q.sameSite=="string"?q.sameSite.toLowerCase():q.sameSite){case!0:case"strict":tt+="; SameSite=Strict";break;case"lax":tt+="; SameSite=Lax";break;case"none":tt+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${q.sameSite}`)}return tt}function S(C){if(C.indexOf("%")===-1)return C;try{return decodeURIComponent(C)}catch{return C}}function x(C){return l.call(C)==="[object Date]"}return sc}$A();var n0="popstate";function KA(i={}){function t(l,h){let{pathname:d="/",search:_="",hash:y=""}=Ko(l.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),up("",{pathname:d,search:_,hash:y},h.state&&h.state.usr||null,h.state&&h.state.key||"default")}function e(l,h){let d=l.document.querySelector("base"),_="";if(d&&d.getAttribute("href")){let y=l.location.href,T=y.indexOf("#");_=T===-1?y:y.slice(0,T)}return _+"#"+(typeof h=="string"?h:Tc(h))}function s(l,h){wr(l.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(h)})`)}return QA(t,e,s,i)}function qe(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function wr(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function YA(){return Math.random().toString(36).substring(2,10)}function i0(i,t){return{usr:i.state,key:i.key,idx:t}}function up(i,t,e=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?Ko(t):t,state:e,key:t&&t.key||s||YA()}}function Tc({pathname:i="/",search:t="",hash:e=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(i+=e.charAt(0)==="#"?e:"#"+e),i}function Ko(i){let t={};if(i){let e=i.indexOf("#");e>=0&&(t.hash=i.substring(e),i=i.substring(0,e));let s=i.indexOf("?");s>=0&&(t.search=i.substring(s),i=i.substring(0,s)),i&&(t.pathname=i)}return t}function QA(i,t,e,s={}){let{window:l=document.defaultView,v5Compat:h=!1}=s,d=l.history,_="POP",y=null,T=S();T==null&&(T=0,d.replaceState({...d.state,idx:T},""));function S(){return(d.state||{idx:null}).idx}function x(){_="POP";let Z=S(),tt=Z==null?null:Z-T;T=Z,y&&y({action:_,location:G.location,delta:tt})}function C(Z,tt){_="PUSH";let W=up(G.location,Z,tt);e&&e(W,Z),T=S()+1;let nt=i0(W,T),gt=G.createHref(W);try{d.pushState(nt,"",gt)}catch(Tt){if(Tt instanceof DOMException&&Tt.name==="DataCloneError")throw Tt;l.location.assign(gt)}h&&y&&y({action:_,location:G.location,delta:1})}function V(Z,tt){_="REPLACE";let W=up(G.location,Z,tt);e&&e(W,Z),T=S();let nt=i0(W,T),gt=G.createHref(W);d.replaceState(nt,"",gt),h&&y&&y({action:_,location:G.location,delta:0})}function q(Z){return XA(Z)}let G={get action(){return _},get location(){return i(l,d)},listen(Z){if(y)throw new Error("A history only accepts one active listener");return l.addEventListener(n0,x),y=Z,()=>{l.removeEventListener(n0,x),y=null}},createHref(Z){return t(l,Z)},createURL:q,encodeLocation(Z){let tt=q(Z);return{pathname:tt.pathname,search:tt.search,hash:tt.hash}},push:C,replace:V,go(Z){return d.go(Z)}};return G}function XA(i,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),qe(e,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:Tc(i);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=e+s),new URL(s,e)}function QT(i,t,e="/"){return WA(i,t,e,!1)}function WA(i,t,e,s){let l=typeof t=="string"?Ko(t):t,h=Ms(l.pathname||"/",e);if(h==null)return null;let d=XT(i);JA(d);let _=null;for(let y=0;_==null&&y<d.length;++y){let T=cS(h);_=lS(d[y],T,s)}return _}function XT(i,t=[],e=[],s=""){let l=(h,d,_)=>{let y={relativePath:_===void 0?h.path||"":_,caseSensitive:h.caseSensitive===!0,childrenIndex:d,route:h};y.relativePath.startsWith("/")&&(qe(y.relativePath.startsWith(s),`Absolute route path "${y.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(s.length));let T=xs([s,y.relativePath]),S=e.concat(y);h.children&&h.children.length>0&&(qe(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),XT(h.children,t,S,T)),!(h.path==null&&!h.index)&&t.push({path:T,score:aS(T,h.index),routesMeta:S})};return i.forEach((h,d)=>{var _;if(h.path===""||!((_=h.path)!=null&&_.includes("?")))l(h,d);else for(let y of WT(h.path))l(h,d,y)}),t}function WT(i){let t=i.split("/");if(t.length===0)return[];let[e,...s]=t,l=e.endsWith("?"),h=e.replace(/\?$/,"");if(s.length===0)return l?[h,""]:[h];let d=WT(s.join("/")),_=[];return _.push(...d.map(y=>y===""?h:[h,y].join("/"))),l&&_.push(...d),_.map(y=>i.startsWith("/")&&y===""?"/":y)}function JA(i){i.sort((t,e)=>t.score!==e.score?e.score-t.score:oS(t.routesMeta.map(s=>s.childrenIndex),e.routesMeta.map(s=>s.childrenIndex)))}var tS=/^:[\w-]+$/,eS=3,nS=2,iS=1,rS=10,sS=-2,r0=i=>i==="*";function aS(i,t){let e=i.split("/"),s=e.length;return e.some(r0)&&(s+=sS),t&&(s+=nS),e.filter(l=>!r0(l)).reduce((l,h)=>l+(tS.test(h)?eS:h===""?iS:rS),s)}function oS(i,t){return i.length===t.length&&i.slice(0,-1).every((s,l)=>s===t[l])?i[i.length-1]-t[t.length-1]:0}function lS(i,t,e=!1){let{routesMeta:s}=i,l={},h="/",d=[];for(let _=0;_<s.length;++_){let y=s[_],T=_===s.length-1,S=h==="/"?t:t.slice(h.length)||"/",x=mf({path:y.relativePath,caseSensitive:y.caseSensitive,end:T},S),C=y.route;if(!x&&T&&e&&!s[s.length-1].route.index&&(x=mf({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},S)),!x)return null;Object.assign(l,x.params),d.push({params:l,pathname:xs([h,x.pathname]),pathnameBase:mS(xs([h,x.pathnameBase])),route:C}),x.pathnameBase!=="/"&&(h=xs([h,x.pathnameBase]))}return d}function mf(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[e,s]=uS(i.path,i.caseSensitive,i.end),l=t.match(e);if(!l)return null;let h=l[0],d=h.replace(/(.)\/+$/,"$1"),_=l.slice(1);return{params:s.reduce((T,{paramName:S,isOptional:x},C)=>{if(S==="*"){let q=_[C]||"";d=h.slice(0,h.length-q.length).replace(/(.)\/+$/,"$1")}const V=_[C];return x&&!V?T[S]=void 0:T[S]=(V||"").replace(/%2F/g,"/"),T},{}),pathname:h,pathnameBase:d,pattern:i}}function uS(i,t=!1,e=!0){wr(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,_,y)=>(s.push({paramName:_,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),s]}function cS(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return wr(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function Ms(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,s=i.charAt(e);return s&&s!=="/"?null:i.slice(e)||"/"}function hS(i,t="/"){let{pathname:e,search:s="",hash:l=""}=typeof i=="string"?Ko(i):i;return{pathname:e?e.startsWith("/")?e:fS(e,t):t,search:pS(s),hash:gS(l)}}function fS(i,t){let e=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?e.length>1&&e.pop():l!=="."&&e.push(l)}),e.length>1?e.join("/"):"/"}function $m(i,t,e,s){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function dS(i){return i.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function JT(i){let t=dS(i);return t.map((e,s)=>s===t.length-1?e.pathname:e.pathnameBase)}function tE(i,t,e,s=!1){let l;typeof i=="string"?l=Ko(i):(l={...i},qe(!l.pathname||!l.pathname.includes("?"),$m("?","pathname","search",l)),qe(!l.pathname||!l.pathname.includes("#"),$m("#","pathname","hash",l)),qe(!l.search||!l.search.includes("#"),$m("#","search","hash",l)));let h=i===""||l.pathname==="",d=h?"/":l.pathname,_;if(d==null)_=e;else{let x=t.length-1;if(!s&&d.startsWith("..")){let C=d.split("/");for(;C[0]==="..";)C.shift(),x-=1;l.pathname=C.join("/")}_=x>=0?t[x]:"/"}let y=hS(l,_),T=d&&d!=="/"&&d.endsWith("/"),S=(h||d===".")&&e.endsWith("/");return!y.pathname.endsWith("/")&&(T||S)&&(y.pathname+="/"),y}var xs=i=>i.join("/").replace(/\/\/+/g,"/"),mS=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),pS=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,gS=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function _S(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var eE=["POST","PUT","PATCH","DELETE"];new Set(eE);var yS=["GET",...eE];new Set(yS);var au=K.createContext(null);au.displayName="DataRouter";var Vf=K.createContext(null);Vf.displayName="DataRouterState";var nE=K.createContext({isTransitioning:!1});nE.displayName="ViewTransition";var vS=K.createContext(new Map);vS.displayName="Fetchers";var TS=K.createContext(null);TS.displayName="Await";var Wr=K.createContext(null);Wr.displayName="Navigation";var Lc=K.createContext(null);Lc.displayName="Location";var Jr=K.createContext({outlet:null,matches:[],isDataRoute:!1});Jr.displayName="Route";var jp=K.createContext(null);jp.displayName="RouteError";function ES(i,{relative:t}={}){qe(Mc(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:s}=K.useContext(Wr),{hash:l,pathname:h,search:d}=Dc(i,{relative:t}),_=h;return e!=="/"&&(_=h==="/"?e:xs([e,h])),s.createHref({pathname:_,search:d,hash:l})}function Mc(){return K.useContext(Lc)!=null}function Yo(){return qe(Mc(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(Lc).location}var iE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rE(i){K.useContext(Wr).static||K.useLayoutEffect(i)}function Fp(){let{isDataRoute:i}=K.useContext(Jr);return i?NS():wS()}function wS(){qe(Mc(),"useNavigate() may be used only in the context of a <Router> component.");let i=K.useContext(au),{basename:t,navigator:e}=K.useContext(Wr),{matches:s}=K.useContext(Jr),{pathname:l}=Yo(),h=JSON.stringify(JT(s)),d=K.useRef(!1);return rE(()=>{d.current=!0}),K.useCallback((y,T={})=>{if(wr(d.current,iE),!d.current)return;if(typeof y=="number"){e.go(y);return}let S=tE(y,JSON.parse(h),l,T.relative==="path");i==null&&t!=="/"&&(S.pathname=S.pathname==="/"?t:xs([t,S.pathname])),(T.replace?e.replace:e.push)(S,T.state,T)},[t,e,h,l,i])}K.createContext(null);function bS(){let{matches:i}=K.useContext(Jr),t=i[i.length-1];return t?t.params:{}}function Dc(i,{relative:t}={}){let{matches:e}=K.useContext(Jr),{pathname:s}=Yo(),l=JSON.stringify(JT(e));return K.useMemo(()=>tE(i,JSON.parse(l),s,t==="path"),[i,l,s,t])}function AS(i,t){return sE(i,t)}function sE(i,t,e,s){var tt;qe(Mc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=K.useContext(Wr),{matches:h}=K.useContext(Jr),d=h[h.length-1],_=d?d.params:{},y=d?d.pathname:"/",T=d?d.pathnameBase:"/",S=d&&d.route;{let W=S&&S.path||"";aE(y,!S||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let x=Yo(),C;if(t){let W=typeof t=="string"?Ko(t):t;qe(T==="/"||((tt=W.pathname)==null?void 0:tt.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${W.pathname}" was given in the \`location\` prop.`),C=W}else C=x;let V=C.pathname||"/",q=V;if(T!=="/"){let W=T.replace(/^\//,"").split("/");q="/"+V.replace(/^\//,"").split("/").slice(W.length).join("/")}let G=QT(i,{pathname:q});wr(S||G!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),wr(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Z=xS(G&&G.map(W=>Object.assign({},W,{params:Object.assign({},_,W.params),pathname:xs([T,l.encodeLocation?l.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?T:xs([T,l.encodeLocation?l.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),h,e,s);return t&&Z?K.createElement(Lc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...C},navigationType:"POP"}},Z):Z}function SS(){let i=DS(),t=_S(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),e=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},h={padding:"2px 4px",backgroundColor:s},d=null;return console.error("Error handled by React Router default ErrorBoundary:",i),d=K.createElement(K.Fragment,null,K.createElement("p",null," Hey developer "),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:h},"ErrorBoundary")," or"," ",K.createElement("code",{style:h},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},t),e?K.createElement("pre",{style:l},e):null,d)}var IS=K.createElement(SS,null),RS=class extends K.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){console.error("React Router caught the following error during render",i,t)}render(){return this.state.error!==void 0?K.createElement(Jr.Provider,{value:this.props.routeContext},K.createElement(jp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function CS({routeContext:i,match:t,children:e}){let s=K.useContext(au);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),K.createElement(Jr.Provider,{value:i},e)}function xS(i,t=[],e=null,s=null){if(i==null){if(!e)return null;if(e.errors)i=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)i=e.matches;else return null}let l=i,h=e==null?void 0:e.errors;if(h!=null){let y=l.findIndex(T=>T.route.id&&(h==null?void 0:h[T.route.id])!==void 0);qe(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),l=l.slice(0,Math.min(l.length,y+1))}let d=!1,_=-1;if(e)for(let y=0;y<l.length;y++){let T=l[y];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(_=y),T.route.id){let{loaderData:S,errors:x}=e,C=T.route.loader&&!S.hasOwnProperty(T.route.id)&&(!x||x[T.route.id]===void 0);if(T.route.lazy||C){d=!0,_>=0?l=l.slice(0,_+1):l=[l[0]];break}}}return l.reduceRight((y,T,S)=>{let x,C=!1,V=null,q=null;e&&(x=h&&T.route.id?h[T.route.id]:void 0,V=T.route.errorElement||IS,d&&(_<0&&S===0?(aE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),C=!0,q=null):_===S&&(C=!0,q=T.route.hydrateFallbackElement||null)));let G=t.concat(l.slice(0,S+1)),Z=()=>{let tt;return x?tt=V:C?tt=q:T.route.Component?tt=K.createElement(T.route.Component,null):T.route.element?tt=T.route.element:tt=y,K.createElement(CS,{match:T,routeContext:{outlet:y,matches:G,isDataRoute:e!=null},children:tt})};return e&&(T.route.ErrorBoundary||T.route.errorElement||S===0)?K.createElement(RS,{location:e.location,revalidation:e.revalidation,component:V,error:x,children:Z(),routeContext:{outlet:null,matches:G,isDataRoute:!0}}):Z()},null)}function Gp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PS(i){let t=K.useContext(au);return qe(t,Gp(i)),t}function OS(i){let t=K.useContext(Vf);return qe(t,Gp(i)),t}function LS(i){let t=K.useContext(Jr);return qe(t,Gp(i)),t}function Zp(i){let t=LS(i),e=t.matches[t.matches.length-1];return qe(e.route.id,`${i} can only be used on routes that contain a unique "id"`),e.route.id}function MS(){return Zp("useRouteId")}function DS(){var s;let i=K.useContext(jp),t=OS("useRouteError"),e=Zp("useRouteError");return i!==void 0?i:(s=t.errors)==null?void 0:s[e]}function NS(){let{router:i}=PS("useNavigate"),t=Zp("useNavigate"),e=K.useRef(!1);return rE(()=>{e.current=!0}),K.useCallback(async(l,h={})=>{wr(e.current,iE),e.current&&(typeof l=="number"?i.navigate(l):await i.navigate(l,{fromRouteId:t,...h}))},[i,t])}var s0={};function aE(i,t,e){!t&&!s0[i]&&(s0[i]=!0,wr(!1,e))}K.memo(kS);function kS({routes:i,future:t,state:e}){return sE(i,void 0,e,t)}function oc(i){qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function VS({basename:i="/",children:t=null,location:e,navigationType:s="POP",navigator:l,static:h=!1}){qe(!Mc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=i.replace(/^\/*/,"/"),_=K.useMemo(()=>({basename:d,navigator:l,static:h,future:{}}),[d,l,h]);typeof e=="string"&&(e=Ko(e));let{pathname:y="/",search:T="",hash:S="",state:x=null,key:C="default"}=e,V=K.useMemo(()=>{let q=Ms(y,d);return q==null?null:{location:{pathname:q,search:T,hash:S,state:x,key:C},navigationType:s}},[d,y,T,S,x,C,s]);return wr(V!=null,`<Router basename="${d}"> is not able to match the URL "${y}${T}${S}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:K.createElement(Wr.Provider,{value:_},K.createElement(Lc.Provider,{children:t,value:V}))}function zS({children:i,location:t}){return AS(cp(i),t)}function cp(i,t=[]){let e=[];return K.Children.forEach(i,(s,l)=>{if(!K.isValidElement(s))return;let h=[...t,l];if(s.type===K.Fragment){e.push.apply(e,cp(s.props.children,h));return}qe(s.type===oc,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qe(!s.props.index||!s.props.children,"An index route cannot have child routes.");let d={id:s.props.id||h.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(d.children=cp(s.props.children,h)),e.push(d)}),e}var ef="get",nf="application/x-www-form-urlencoded";function zf(i){return i!=null&&typeof i.tagName=="string"}function US(i){return zf(i)&&i.tagName.toLowerCase()==="button"}function BS(i){return zf(i)&&i.tagName.toLowerCase()==="form"}function HS(i){return zf(i)&&i.tagName.toLowerCase()==="input"}function qS(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function jS(i,t){return i.button===0&&(!t||t==="_self")&&!qS(i)}var Kh=null;function FS(){if(Kh===null)try{new FormData(document.createElement("form"),0),Kh=!1}catch{Kh=!0}return Kh}var GS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Km(i){return i!=null&&!GS.has(i)?(wr(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${nf}"`),null):i}function ZS(i,t){let e,s,l,h,d;if(BS(i)){let _=i.getAttribute("action");s=_?Ms(_,t):null,e=i.getAttribute("method")||ef,l=Km(i.getAttribute("enctype"))||nf,h=new FormData(i)}else if(US(i)||HS(i)&&(i.type==="submit"||i.type==="image")){let _=i.form;if(_==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=i.getAttribute("formaction")||_.getAttribute("action");if(s=y?Ms(y,t):null,e=i.getAttribute("formmethod")||_.getAttribute("method")||ef,l=Km(i.getAttribute("formenctype"))||Km(_.getAttribute("enctype"))||nf,h=new FormData(_,i),!FS()){let{name:T,type:S,value:x}=i;if(S==="image"){let C=T?`${T}.`:"";h.append(`${C}x`,"0"),h.append(`${C}y`,"0")}else T&&h.append(T,x)}}else{if(zf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=ef,s=null,l=nf,d=i}return h&&l==="text/plain"&&(d=h,h=void 0),{action:s,method:e.toLowerCase(),encType:l,formData:h,body:d}}function $p(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}async function $S(i,t){if(i.id in t)return t[i.id];try{let e=await import(i.module);return t[i.id]=e,e}catch(e){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function KS(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function YS(i,t,e){let s=await Promise.all(i.map(async l=>{let h=t.routes[l.route.id];if(h){let d=await $S(h,e);return d.links?d.links():[]}return[]}));return JS(s.flat(1).filter(KS).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function a0(i,t,e,s,l,h){let d=(y,T)=>e[T]?y.route.id!==e[T].route.id:!0,_=(y,T)=>{var S;return e[T].pathname!==y.pathname||((S=e[T].route.path)==null?void 0:S.endsWith("*"))&&e[T].params["*"]!==y.params["*"]};return h==="assets"?t.filter((y,T)=>d(y,T)||_(y,T)):h==="data"?t.filter((y,T)=>{var x;let S=s.routes[y.route.id];if(!S||!S.hasLoader)return!1;if(d(y,T)||_(y,T))return!0;if(y.route.shouldRevalidate){let C=y.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((x=e[0])==null?void 0:x.params)||{},nextUrl:new URL(i,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof C=="boolean")return C}return!0}):[]}function QS(i,t,{includeHydrateFallback:e}={}){return XS(i.map(s=>{let l=t.routes[s.route.id];if(!l)return[];let h=[l.module];return l.clientActionModule&&(h=h.concat(l.clientActionModule)),l.clientLoaderModule&&(h=h.concat(l.clientLoaderModule)),e&&l.hydrateFallbackModule&&(h=h.concat(l.hydrateFallbackModule)),l.imports&&(h=h.concat(l.imports)),h}).flat(1))}function XS(i){return[...new Set(i)]}function WS(i){let t={},e=Object.keys(i).sort();for(let s of e)t[s]=i[s];return t}function JS(i,t){let e=new Set;return new Set(t),i.reduce((s,l)=>{let h=JSON.stringify(WS(l));return e.has(h)||(e.add(h),s.push({key:h,link:l})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var tI=new Set([100,101,204,205]);function eI(i,t){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":t&&Ms(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function oE(){let i=K.useContext(au);return $p(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function nI(){let i=K.useContext(Vf);return $p(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Kp=K.createContext(void 0);Kp.displayName="FrameworkContext";function lE(){let i=K.useContext(Kp);return $p(i,"You must render this element inside a <HydratedRouter> element"),i}function iI(i,t){let e=K.useContext(Kp),[s,l]=K.useState(!1),[h,d]=K.useState(!1),{onFocus:_,onBlur:y,onMouseEnter:T,onMouseLeave:S,onTouchStart:x}=t,C=K.useRef(null);K.useEffect(()=>{if(i==="render"&&d(!0),i==="viewport"){let G=tt=>{tt.forEach(W=>{d(W.isIntersecting)})},Z=new IntersectionObserver(G,{threshold:.5});return C.current&&Z.observe(C.current),()=>{Z.disconnect()}}},[i]),K.useEffect(()=>{if(s){let G=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(G)}}},[s]);let V=()=>{l(!0)},q=()=>{l(!1),d(!1)};return e?i!=="intent"?[h,C,{}]:[h,C,{onFocus:ac(_,V),onBlur:ac(y,q),onMouseEnter:ac(T,V),onMouseLeave:ac(S,q),onTouchStart:ac(x,V)}]:[!1,C,{}]}function ac(i,t){return e=>{i&&i(e),e.defaultPrevented||t(e)}}function rI({page:i,...t}){let{router:e}=oE(),s=K.useMemo(()=>QT(e.routes,i,e.basename),[e.routes,i,e.basename]);return s?K.createElement(aI,{page:i,matches:s,...t}):null}function sI(i){let{manifest:t,routeModules:e}=lE(),[s,l]=K.useState([]);return K.useEffect(()=>{let h=!1;return YS(i,t,e).then(d=>{h||l(d)}),()=>{h=!0}},[i,t,e]),s}function aI({page:i,matches:t,...e}){let s=Yo(),{manifest:l,routeModules:h}=lE(),{basename:d}=oE(),{loaderData:_,matches:y}=nI(),T=K.useMemo(()=>a0(i,t,y,l,s,"data"),[i,t,y,l,s]),S=K.useMemo(()=>a0(i,t,y,l,s,"assets"),[i,t,y,l,s]),x=K.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let q=new Set,G=!1;if(t.forEach(tt=>{var nt;let W=l.routes[tt.route.id];!W||!W.hasLoader||(!T.some(gt=>gt.route.id===tt.route.id)&&tt.route.id in _&&((nt=h[tt.route.id])!=null&&nt.shouldRevalidate)||W.hasClientLoader?G=!0:q.add(tt.route.id))}),q.size===0)return[];let Z=eI(i,d);return G&&q.size>0&&Z.searchParams.set("_routes",t.filter(tt=>q.has(tt.route.id)).map(tt=>tt.route.id).join(",")),[Z.pathname+Z.search]},[d,_,s,l,T,t,i,h]),C=K.useMemo(()=>QS(S,l),[S,l]),V=sI(S);return K.createElement(K.Fragment,null,x.map(q=>K.createElement("link",{key:q,rel:"prefetch",as:"fetch",href:q,...e})),C.map(q=>K.createElement("link",{key:q,rel:"modulepreload",href:q,...e})),V.map(({key:q,link:G})=>K.createElement("link",{key:q,...G})))}function oI(...i){return t=>{i.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var uE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{uE&&(window.__reactRouterVersion="7.6.2")}catch{}function lI({basename:i,children:t,window:e}){let s=K.useRef();s.current==null&&(s.current=KA({window:e,v5Compat:!0}));let l=s.current,[h,d]=K.useState({action:l.action,location:l.location}),_=K.useCallback(y=>{K.startTransition(()=>d(y))},[d]);return K.useLayoutEffect(()=>l.listen(_),[l,_]),K.createElement(VS,{basename:i,children:t,location:h.location,navigationType:h.action,navigator:l})}var cE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pf=K.forwardRef(function({onClick:t,discover:e="render",prefetch:s="none",relative:l,reloadDocument:h,replace:d,state:_,target:y,to:T,preventScrollReset:S,viewTransition:x,...C},V){let{basename:q}=K.useContext(Wr),G=typeof T=="string"&&cE.test(T),Z,tt=!1;if(typeof T=="string"&&G&&(Z=T,uE))try{let M=new URL(window.location.href),B=T.startsWith("//")?new URL(M.protocol+T):new URL(T),H=Ms(B.pathname,q);B.origin===M.origin&&H!=null?T=H+B.search+B.hash:tt=!0}catch{wr(!1,`<Link to="${T}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=ES(T,{relative:l}),[nt,gt,Tt]=iI(s,C),Pt=fI(T,{replace:d,state:_,target:y,preventScrollReset:S,relative:l,viewTransition:x});function z(M){t&&t(M),M.defaultPrevented||Pt(M)}let O=K.createElement("a",{...C,...Tt,href:Z||W,onClick:tt||h?t:z,ref:oI(V,gt),target:y,"data-discover":!G&&e==="render"?"true":void 0});return nt&&!G?K.createElement(K.Fragment,null,O,K.createElement(rI,{page:W})):O});pf.displayName="Link";var uI=K.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:s="",end:l=!1,style:h,to:d,viewTransition:_,children:y,...T},S){let x=Dc(d,{relative:T.relative}),C=Yo(),V=K.useContext(Vf),{navigator:q,basename:G}=K.useContext(Wr),Z=V!=null&&_I(x)&&_===!0,tt=q.encodeLocation?q.encodeLocation(x).pathname:x.pathname,W=C.pathname,nt=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;e||(W=W.toLowerCase(),nt=nt?nt.toLowerCase():null,tt=tt.toLowerCase()),nt&&G&&(nt=Ms(nt,G)||nt);const gt=tt!=="/"&&tt.endsWith("/")?tt.length-1:tt.length;let Tt=W===tt||!l&&W.startsWith(tt)&&W.charAt(gt)==="/",Pt=nt!=null&&(nt===tt||!l&&nt.startsWith(tt)&&nt.charAt(tt.length)==="/"),z={isActive:Tt,isPending:Pt,isTransitioning:Z},O=Tt?t:void 0,M;typeof s=="function"?M=s(z):M=[s,Tt?"active":null,Pt?"pending":null,Z?"transitioning":null].filter(Boolean).join(" ");let B=typeof h=="function"?h(z):h;return K.createElement(pf,{...T,"aria-current":O,className:M,ref:S,style:B,to:d,viewTransition:_},typeof y=="function"?y(z):y)});uI.displayName="NavLink";var cI=K.forwardRef(({discover:i="render",fetcherKey:t,navigate:e,reloadDocument:s,replace:l,state:h,method:d=ef,action:_,onSubmit:y,relative:T,preventScrollReset:S,viewTransition:x,...C},V)=>{let q=pI(),G=gI(_,{relative:T}),Z=d.toLowerCase()==="get"?"get":"post",tt=typeof _=="string"&&cE.test(_),W=nt=>{if(y&&y(nt),nt.defaultPrevented)return;nt.preventDefault();let gt=nt.nativeEvent.submitter,Tt=(gt==null?void 0:gt.getAttribute("formmethod"))||d;q(gt||nt.currentTarget,{fetcherKey:t,method:Tt,navigate:e,replace:l,state:h,relative:T,preventScrollReset:S,viewTransition:x})};return K.createElement("form",{ref:V,method:Z,action:G,onSubmit:s?y:W,...C,"data-discover":!tt&&i==="render"?"true":void 0})});cI.displayName="Form";function hI(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hE(i){let t=K.useContext(au);return qe(t,hI(i)),t}function fI(i,{target:t,replace:e,state:s,preventScrollReset:l,relative:h,viewTransition:d}={}){let _=Fp(),y=Yo(),T=Dc(i,{relative:h});return K.useCallback(S=>{if(jS(S,t)){S.preventDefault();let x=e!==void 0?e:Tc(y)===Tc(T);_(i,{replace:x,state:s,preventScrollReset:l,relative:h,viewTransition:d})}},[y,_,T,e,s,t,i,l,h,d])}var dI=0,mI=()=>`__${String(++dI)}__`;function pI(){let{router:i}=hE("useSubmit"),{basename:t}=K.useContext(Wr),e=MS();return K.useCallback(async(s,l={})=>{let{action:h,method:d,encType:_,formData:y,body:T}=ZS(s,t);if(l.navigate===!1){let S=l.fetcherKey||mI();await i.fetch(S,e,l.action||h,{preventScrollReset:l.preventScrollReset,formData:y,body:T,formMethod:l.method||d,formEncType:l.encType||_,flushSync:l.flushSync})}else await i.navigate(l.action||h,{preventScrollReset:l.preventScrollReset,formData:y,body:T,formMethod:l.method||d,formEncType:l.encType||_,replace:l.replace,state:l.state,fromRouteId:e,flushSync:l.flushSync,viewTransition:l.viewTransition})},[i,t,e])}function gI(i,{relative:t}={}){let{basename:e}=K.useContext(Wr),s=K.useContext(Jr);qe(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),h={...Dc(i||".",{relative:t})},d=Yo();if(i==null){h.search=d.search;let _=new URLSearchParams(h.search),y=_.getAll("index");if(y.some(S=>S==="")){_.delete("index"),y.filter(x=>x).forEach(x=>_.append("index",x));let S=_.toString();h.search=S?`?${S}`:""}}return(!i||i===".")&&l.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(h.pathname=h.pathname==="/"?e:xs([e,h.pathname])),Tc(h)}function _I(i,t={}){let e=K.useContext(nE);qe(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=hE("useViewTransitionState"),l=Dc(i,{relative:t.relative});if(!e.isTransitioning)return!1;let h=Ms(e.currentLocation.pathname,s)||e.currentLocation.pathname,d=Ms(e.nextLocation.pathname,s)||e.nextLocation.pathname;return mf(l.pathname,d)!=null||mf(l.pathname,h)!=null}[...tI];var yI=YT();const vI=()=>{const i=Fp(),t=()=>{i("/mapa")},e=()=>{i("/aadir")};return At.jsxs("div",{className:"home",children:[At.jsx("h1",{className:"title",children:" Tapas Radar"}),At.jsx("p",{className:"description",children:"Descubre los bares con ms ambiente de Madrid en tiempo real. Tapas, cerveza y buena vibra  todo en un vistazo."}),At.jsx("button",{className:"start-button",onClick:t,children:"Empezar"}),At.jsx("br",{}),At.jsx("button",{className:"start-button",onClick:e,children:"Aadir bars"})]})};function fE(i,t){const e=K.useRef(t);K.useEffect(function(){t!==e.current&&i.attributionControl!=null&&(e.current!=null&&i.attributionControl.removeAttribution(e.current),t!=null&&i.attributionControl.addAttribution(t)),e.current=t},[i,t])}const TI=1;function EI(i){return Object.freeze({__version:TI,map:i})}function wI(i,t){return Object.freeze({...i,...t})}const Yp=K.createContext(null);function dE(){const i=K.use(Yp);if(i==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return i}function bI(i){function t(e,s){const{instance:l,context:h}=i(e).current;K.useImperativeHandle(s,()=>l);const{children:d}=e;return d==null?null:Te.createElement(Yp,{value:h},d)}return K.forwardRef(t)}function AI(i){function t(e,s){const[l,h]=K.useState(!1),{instance:d}=i(e,h).current;K.useImperativeHandle(s,()=>d),K.useEffect(function(){l&&d.update()},[d,l,e.children]);const _=d._contentNode;return _?yI.createPortal(e.children,_):null}return K.forwardRef(t)}function SI(i){function t(e,s){const{instance:l}=i(e).current;return K.useImperativeHandle(s,()=>l),null}return K.forwardRef(t)}function mE(i,t){const e=K.useRef(void 0);K.useEffect(function(){return t!=null&&i.instance.on(t),e.current=t,function(){e.current!=null&&i.instance.off(e.current),e.current=null}},[i,t])}function Qp(i,t){const e=i.pane??t.pane;return e?{...i,pane:e}:i}function II(i,t){return function(s,l){const h=dE(),d=i(Qp(s,h),h);return fE(h.map,s.attribution),mE(d.current,s.eventHandlers),t(d.current,h,s,l),d}}var lc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var RI=lc.exports,o0;function CI(){return o0||(o0=1,function(i,t){(function(e,s){s(t)})(RI,function(e){var s="1.9.4";function l(a){var u,m,v,w;for(m=1,v=arguments.length;m<v;m++){w=arguments[m];for(u in w)a[u]=w[u]}return a}var h=Object.create||function(){function a(){}return function(u){return a.prototype=u,new a}}();function d(a,u){var m=Array.prototype.slice;if(a.bind)return a.bind.apply(a,m.call(arguments,1));var v=m.call(arguments,2);return function(){return a.apply(u,v.length?v.concat(m.call(arguments)):arguments)}}var _=0;function y(a){return"_leaflet_id"in a||(a._leaflet_id=++_),a._leaflet_id}function T(a,u,m){var v,w,I,N;return N=function(){v=!1,w&&(I.apply(m,w),w=!1)},I=function(){v?w=arguments:(a.apply(m,arguments),setTimeout(N,u),v=!0)},I}function S(a,u,m){var v=u[1],w=u[0],I=v-w;return a===v&&m?a:((a-w)%I+I)%I+w}function x(){return!1}function C(a,u){if(u===!1)return a;var m=Math.pow(10,u===void 0?6:u);return Math.round(a*m)/m}function V(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function q(a){return V(a).split(/\s+/)}function G(a,u){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?h(a.options):{});for(var m in u)a.options[m]=u[m];return a.options}function Z(a,u,m){var v=[];for(var w in a)v.push(encodeURIComponent(m?w.toUpperCase():w)+"="+encodeURIComponent(a[w]));return(!u||u.indexOf("?")===-1?"?":"&")+v.join("&")}var tt=/\{ *([\w_ -]+) *\}/g;function W(a,u){return a.replace(tt,function(m,v){var w=u[v];if(w===void 0)throw new Error("No value provided for variable "+m);return typeof w=="function"&&(w=w(u)),w})}var nt=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function gt(a,u){for(var m=0;m<a.length;m++)if(a[m]===u)return m;return-1}var Tt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Pt(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var z=0;function O(a){var u=+new Date,m=Math.max(0,16-(u-z));return z=u+m,window.setTimeout(a,m)}var M=window.requestAnimationFrame||Pt("RequestAnimationFrame")||O,B=window.cancelAnimationFrame||Pt("CancelAnimationFrame")||Pt("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function H(a,u,m){if(m&&M===O)a.call(u);else return M.call(window,d(a,u))}function F(a){a&&B.call(window,a)}var U={__proto__:null,extend:l,create:h,bind:d,get lastId(){return _},stamp:y,throttle:T,wrapNum:S,falseFn:x,formatNum:C,trim:V,splitWords:q,setOptions:G,getParamString:Z,template:W,isArray:nt,indexOf:gt,emptyImageUrl:Tt,requestFn:M,cancelFn:B,requestAnimFrame:H,cancelAnimFrame:F};function pe(){}pe.extend=function(a){var u=function(){G(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},m=u.__super__=this.prototype,v=h(m);v.constructor=u,u.prototype=v;for(var w in this)Object.prototype.hasOwnProperty.call(this,w)&&w!=="prototype"&&w!=="__super__"&&(u[w]=this[w]);return a.statics&&l(u,a.statics),a.includes&&(Ie(a.includes),l.apply(null,[v].concat(a.includes))),l(v,a),delete v.statics,delete v.includes,v.options&&(v.options=m.options?h(m.options):{},l(v.options,a.options)),v._initHooks=[],v.callInitHooks=function(){if(!this._initHooksCalled){m.callInitHooks&&m.callInitHooks.call(this),this._initHooksCalled=!0;for(var I=0,N=v._initHooks.length;I<N;I++)v._initHooks[I].call(this)}},u},pe.include=function(a){var u=this.prototype.options;return l(this.prototype,a),a.options&&(this.prototype.options=u,this.mergeOptions(a.options)),this},pe.mergeOptions=function(a){return l(this.prototype.options,a),this},pe.addInitHook=function(a){var u=Array.prototype.slice.call(arguments,1),m=typeof a=="function"?a:function(){this[a].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(m),this};function Ie(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=nt(a)?a:[a];for(var u=0;u<a.length;u++)a[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var at={on:function(a,u,m){if(typeof a=="object")for(var v in a)this._on(v,a[v],u);else{a=q(a);for(var w=0,I=a.length;w<I;w++)this._on(a[w],u,m)}return this},off:function(a,u,m){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var v in a)this._off(v,a[v],u);else{a=q(a);for(var w=arguments.length===1,I=0,N=a.length;I<N;I++)w?this._off(a[I]):this._off(a[I],u,m)}return this},_on:function(a,u,m,v){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(a,u,m)===!1){m===this&&(m=void 0);var w={fn:u,ctx:m};v&&(w.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(w)}},_off:function(a,u,m){var v,w,I;if(this._events&&(v=this._events[a],!!v)){if(arguments.length===1){if(this._firingCount)for(w=0,I=v.length;w<I;w++)v[w].fn=x;delete this._events[a];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var N=this._listens(a,u,m);if(N!==!1){var Q=v[N];this._firingCount&&(Q.fn=x,this._events[a]=v=v.slice()),v.splice(N,1)}}},fire:function(a,u,m){if(!this.listens(a,m))return this;var v=l({},u,{type:a,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var w=this._events[a];if(w){this._firingCount=this._firingCount+1||1;for(var I=0,N=w.length;I<N;I++){var Q=w[I],rt=Q.fn;Q.once&&this.off(a,rt,Q.ctx),rt.call(Q.ctx||this,v)}this._firingCount--}}return m&&this._propagateEvent(v),this},listens:function(a,u,m,v){typeof a!="string"&&console.warn('"string" type argument expected');var w=u;typeof u!="function"&&(v=!!u,w=void 0,m=void 0);var I=this._events&&this._events[a];if(I&&I.length&&this._listens(a,w,m)!==!1)return!0;if(v){for(var N in this._eventParents)if(this._eventParents[N].listens(a,u,m,v))return!0}return!1},_listens:function(a,u,m){if(!this._events)return!1;var v=this._events[a]||[];if(!u)return!!v.length;m===this&&(m=void 0);for(var w=0,I=v.length;w<I;w++)if(v[w].fn===u&&v[w].ctx===m)return w;return!1},once:function(a,u,m){if(typeof a=="object")for(var v in a)this._on(v,a[v],u,!0);else{a=q(a);for(var w=0,I=a.length;w<I;w++)this._on(a[w],u,m,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[y(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[y(a)],this},_propagateEvent:function(a){for(var u in this._eventParents)this._eventParents[u].fire(a.type,l({layer:a.target,propagatedFrom:a.target},a),!0)}};at.addEventListener=at.on,at.removeEventListener=at.clearAllEventListeners=at.off,at.addOneTimeEventListener=at.once,at.fireEvent=at.fire,at.hasEventListeners=at.listens;var yt=pe.extend(at);function pt(a,u,m){this.x=m?Math.round(a):a,this.y=m?Math.round(u):u}var se=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};pt.prototype={clone:function(){return new pt(this.x,this.y)},add:function(a){return this.clone()._add(D(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(D(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new pt(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new pt(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=se(this.x),this.y=se(this.y),this},distanceTo:function(a){a=D(a);var u=a.x-this.x,m=a.y-this.y;return Math.sqrt(u*u+m*m)},equals:function(a){return a=D(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=D(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+C(this.x)+", "+C(this.y)+")"}};function D(a,u,m){return a instanceof pt?a:nt(a)?new pt(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new pt(a.x,a.y):new pt(a,u,m)}function ot(a,u){if(a)for(var m=u?[a,u]:a,v=0,w=m.length;v<w;v++)this.extend(m[v])}ot.prototype={extend:function(a){var u,m;if(!a)return this;if(a instanceof pt||typeof a[0]=="number"||"x"in a)u=m=D(a);else if(a=_t(a),u=a.min,m=a.max,!u||!m)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=m.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(m.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(m.y,this.max.y)),this},getCenter:function(a){return D((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return D(this.min.x,this.max.y)},getTopRight:function(){return D(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var u,m;return typeof a[0]=="number"||a instanceof pt?a=D(a):a=_t(a),a instanceof ot?(u=a.min,m=a.max):u=m=a,u.x>=this.min.x&&m.x<=this.max.x&&u.y>=this.min.y&&m.y<=this.max.y},intersects:function(a){a=_t(a);var u=this.min,m=this.max,v=a.min,w=a.max,I=w.x>=u.x&&v.x<=m.x,N=w.y>=u.y&&v.y<=m.y;return I&&N},overlaps:function(a){a=_t(a);var u=this.min,m=this.max,v=a.min,w=a.max,I=w.x>u.x&&v.x<m.x,N=w.y>u.y&&v.y<m.y;return I&&N},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var u=this.min,m=this.max,v=Math.abs(u.x-m.x)*a,w=Math.abs(u.y-m.y)*a;return _t(D(u.x-v,u.y-w),D(m.x+v,m.y+w))},equals:function(a){return a?(a=_t(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function _t(a,u){return!a||a instanceof ot?a:new ot(a,u)}function mt(a,u){if(a)for(var m=u?[a,u]:a,v=0,w=m.length;v<w;v++)this.extend(m[v])}mt.prototype={extend:function(a){var u=this._southWest,m=this._northEast,v,w;if(a instanceof It)v=a,w=a;else if(a instanceof mt){if(v=a._southWest,w=a._northEast,!v||!w)return this}else return a?this.extend(Et(a)||wt(a)):this;return!u&&!m?(this._southWest=new It(v.lat,v.lng),this._northEast=new It(w.lat,w.lng)):(u.lat=Math.min(v.lat,u.lat),u.lng=Math.min(v.lng,u.lng),m.lat=Math.max(w.lat,m.lat),m.lng=Math.max(w.lng,m.lng)),this},pad:function(a){var u=this._southWest,m=this._northEast,v=Math.abs(u.lat-m.lat)*a,w=Math.abs(u.lng-m.lng)*a;return new mt(new It(u.lat-v,u.lng-w),new It(m.lat+v,m.lng+w))},getCenter:function(){return new It((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new It(this.getNorth(),this.getWest())},getSouthEast:function(){return new It(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof It||"lat"in a?a=Et(a):a=wt(a);var u=this._southWest,m=this._northEast,v,w;return a instanceof mt?(v=a.getSouthWest(),w=a.getNorthEast()):v=w=a,v.lat>=u.lat&&w.lat<=m.lat&&v.lng>=u.lng&&w.lng<=m.lng},intersects:function(a){a=wt(a);var u=this._southWest,m=this._northEast,v=a.getSouthWest(),w=a.getNorthEast(),I=w.lat>=u.lat&&v.lat<=m.lat,N=w.lng>=u.lng&&v.lng<=m.lng;return I&&N},overlaps:function(a){a=wt(a);var u=this._southWest,m=this._northEast,v=a.getSouthWest(),w=a.getNorthEast(),I=w.lat>u.lat&&v.lat<m.lat,N=w.lng>u.lng&&v.lng<m.lng;return I&&N},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,u){return a?(a=wt(a),this._southWest.equals(a.getSouthWest(),u)&&this._northEast.equals(a.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function wt(a,u){return a instanceof mt?a:new mt(a,u)}function It(a,u,m){if(isNaN(a)||isNaN(u))throw new Error("Invalid LatLng object: ("+a+", "+u+")");this.lat=+a,this.lng=+u,m!==void 0&&(this.alt=+m)}It.prototype={equals:function(a,u){if(!a)return!1;a=Et(a);var m=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return m<=(u===void 0?1e-9:u)},toString:function(a){return"LatLng("+C(this.lat,a)+", "+C(this.lng,a)+")"},distanceTo:function(a){return re.distance(this,Et(a))},wrap:function(){return re.wrapLatLng(this)},toBounds:function(a){var u=180*a/40075017,m=u/Math.cos(Math.PI/180*this.lat);return wt([this.lat-u,this.lng-m],[this.lat+u,this.lng+m])},clone:function(){return new It(this.lat,this.lng,this.alt)}};function Et(a,u,m){return a instanceof It?a:nt(a)&&typeof a[0]!="object"?a.length===3?new It(a[0],a[1],a[2]):a.length===2?new It(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new It(a.lat,"lng"in a?a.lng:a.lon,a.alt):u===void 0?null:new It(a,u,m)}var Ee={latLngToPoint:function(a,u){var m=this.projection.project(a),v=this.scale(u);return this.transformation._transform(m,v)},pointToLatLng:function(a,u){var m=this.scale(u),v=this.transformation.untransform(a,m);return this.projection.unproject(v)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var u=this.projection.bounds,m=this.scale(a),v=this.transformation.transform(u.min,m),w=this.transformation.transform(u.max,m);return new ot(v,w)},infinite:!1,wrapLatLng:function(a){var u=this.wrapLng?S(a.lng,this.wrapLng,!0):a.lng,m=this.wrapLat?S(a.lat,this.wrapLat,!0):a.lat,v=a.alt;return new It(m,u,v)},wrapLatLngBounds:function(a){var u=a.getCenter(),m=this.wrapLatLng(u),v=u.lat-m.lat,w=u.lng-m.lng;if(v===0&&w===0)return a;var I=a.getSouthWest(),N=a.getNorthEast(),Q=new It(I.lat-v,I.lng-w),rt=new It(N.lat-v,N.lng-w);return new mt(Q,rt)}},re=l({},Ee,{wrapLng:[-180,180],R:6371e3,distance:function(a,u){var m=Math.PI/180,v=a.lat*m,w=u.lat*m,I=Math.sin((u.lat-a.lat)*m/2),N=Math.sin((u.lng-a.lng)*m/2),Q=I*I+Math.cos(v)*Math.cos(w)*N*N,rt=2*Math.atan2(Math.sqrt(Q),Math.sqrt(1-Q));return this.R*rt}}),ui=6378137,Li={R:ui,MAX_LATITUDE:85.0511287798,project:function(a){var u=Math.PI/180,m=this.MAX_LATITUDE,v=Math.max(Math.min(m,a.lat),-m),w=Math.sin(v*u);return new pt(this.R*a.lng*u,this.R*Math.log((1+w)/(1-w))/2)},unproject:function(a){var u=180/Math.PI;return new It((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*u,a.x*u/this.R)},bounds:function(){var a=ui*Math.PI;return new ot([-a,-a],[a,a])}()};function ci(a,u,m,v){if(nt(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=u,this._c=m,this._d=v}ci.prototype={transform:function(a,u){return this._transform(a.clone(),u)},_transform:function(a,u){return u=u||1,a.x=u*(this._a*a.x+this._b),a.y=u*(this._c*a.y+this._d),a},untransform:function(a,u){return u=u||1,new pt((a.x/u-this._b)/this._a,(a.y/u-this._d)/this._c)}};function hi(a,u,m,v){return new ci(a,u,m,v)}var tr=l({},re,{code:"EPSG:3857",projection:Li,transformation:function(){var a=.5/(Math.PI*Li.R);return hi(a,.5,-a,.5)}()}),ts=l({},tr,{code:"EPSG:900913"});function Bs(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function to(a,u){var m="",v,w,I,N,Q,rt;for(v=0,I=a.length;v<I;v++){for(Q=a[v],w=0,N=Q.length;w<N;w++)rt=Q[w],m+=(w?"L":"M")+rt.x+" "+rt.y;m+=u?Lt.svg?"z":"x":""}return m||"M0 0"}var Pn=document.documentElement.style,Hs="ActiveXObject"in window,eo=Hs&&!document.addEventListener,es="msLaunchUri"in navigator&&!("documentMode"in document),er=Ln("webkit"),nl=Ln("android"),ns=Ln("android 2")||Ln("android 3"),no=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),il=nl&&Ln("Google")&&no<537&&!("AudioNode"in window),xe=!!window.opera,ue=!es&&Ln("chrome"),On=Ln("gecko")&&!er&&!xe&&!Hs,hn=!ue&&Ln("safari"),io=Ln("phantom"),rl="OTransition"in Pn,is=navigator.platform.indexOf("Win")===0,Ir=Hs&&"transition"in Pn,nr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ns,Wn="MozPerspective"in Pn,qs=!window.L_DISABLE_3D&&(Ir||nr||Wn)&&!rl&&!io,fi=typeof orientation<"u"||Ln("mobile"),ro=fi&&er,so=fi&&nr,js=!window.PointerEvent&&window.MSPointerEvent,Mi=!!(window.PointerEvent||js),Di="ontouchstart"in window||!!window.TouchEvent,ao=!window.L_NO_TOUCH&&(Di||Mi),Ni=fi&&xe,oo=fi&&On,Rr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Fs=function(){var a=!1;try{var u=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",x,u),window.removeEventListener("testPassiveEventSupport",x,u)}catch{}return a}(),Cr=function(){return!!document.createElement("canvas").getContext}(),Gs=!!(document.createElementNS&&Bs("svg").createSVGRect),Pe=!!Gs&&function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),$e=!Gs&&function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var u=a.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}}(),Fe=navigator.platform.indexOf("Mac")===0,Jn=navigator.platform.indexOf("Linux")===0;function Ln(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var Lt={ie:Hs,ielt9:eo,edge:es,webkit:er,android:nl,android23:ns,androidStock:il,opera:xe,chrome:ue,gecko:On,safari:hn,phantom:io,opera12:rl,win:is,ie3d:Ir,webkit3d:nr,gecko3d:Wn,any3d:qs,mobile:fi,mobileWebkit:ro,mobileWebkit3d:so,msPointer:js,pointer:Mi,touch:ao,touchNative:Di,mobileOpera:Ni,mobileGecko:oo,retina:Rr,passiveEvents:Fs,canvas:Cr,svg:Gs,vml:$e,inlineSvg:Pe,mac:Fe,linux:Jn},ir=Lt.msPointer?"MSPointerDown":"pointerdown",lo=Lt.msPointer?"MSPointerMove":"pointermove",xr=Lt.msPointer?"MSPointerUp":"pointerup",rr=Lt.msPointer?"MSPointerCancel":"pointercancel",di={touchstart:ir,touchmove:lo,touchend:xr,touchcancel:rr},mi={touchstart:ss,touchmove:rs,touchend:rs,touchcancel:rs},En={},fn=!1;function Ue(a,u,m){return u==="touchstart"&&sl(),mi[u]?(m=mi[u].bind(this,m),a.addEventListener(di[u],m,!1),m):(console.warn("wrong event specified:",u),x)}function uo(a,u,m){if(!di[u]){console.warn("wrong event specified:",u);return}a.removeEventListener(di[u],m,!1)}function Zs(a){En[a.pointerId]=a}function pi(a){En[a.pointerId]&&(En[a.pointerId]=a)}function ki(a){delete En[a.pointerId]}function sl(){fn||(document.addEventListener(ir,Zs,!0),document.addEventListener(lo,pi,!0),document.addEventListener(xr,ki,!0),document.addEventListener(rr,ki,!0),fn=!0)}function rs(a,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var m in En)u.touches.push(En[m]);u.changedTouches=[u],a(u)}}function ss(a,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&we(u),rs(a,u)}function al(a){var u={},m,v;for(v in a)m=a[v],u[v]=m&&m.bind?m.bind(a):m;return a=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var Pr=200;function Vi(a,u){a.addEventListener("dblclick",u);var m=0,v;function w(I){if(I.detail!==1){v=I.detail;return}if(!(I.pointerType==="mouse"||I.sourceCapabilities&&!I.sourceCapabilities.firesTouchEvents)){var N=Ys(I);if(!(N.some(function(rt){return rt instanceof HTMLLabelElement&&rt.attributes.for})&&!N.some(function(rt){return rt instanceof HTMLInputElement||rt instanceof HTMLSelectElement}))){var Q=Date.now();Q-m<=Pr?(v++,v===2&&u(al(I))):v=1,m=Q}}}return a.addEventListener("click",w),{dblclick:u,simDblclick:w}}function sn(a,u){a.removeEventListener("dblclick",u.dblclick),a.removeEventListener("click",u.simDblclick)}var sr=gi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Or=gi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),zi=Or==="webkitTransition"||Or==="OTransition"?Or+"End":"transitionend";function as(a){return typeof a=="string"?document.getElementById(a):a}function Ui(a,u){var m=a.style[u]||a.currentStyle&&a.currentStyle[u];if((!m||m==="auto")&&document.defaultView){var v=document.defaultView.getComputedStyle(a,null);m=v?v[u]:null}return m==="auto"?null:m}function Qt(a,u,m){var v=document.createElement(a);return v.className=u||"",m&&m.appendChild(v),v}function fe(a){var u=a.parentNode;u&&u.removeChild(a)}function We(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function Bi(a){var u=a.parentNode;u&&u.lastChild!==a&&u.appendChild(a)}function Lr(a){var u=a.parentNode;u&&u.firstChild!==a&&u.insertBefore(a,u.firstChild)}function Mr(a,u){if(a.classList!==void 0)return a.classList.contains(u);var m=Ne(a);return m.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(m)}function jt(a,u){if(a.classList!==void 0)for(var m=q(u),v=0,w=m.length;v<w;v++)a.classList.add(m[v]);else if(!Mr(a,u)){var I=Ne(a);co(a,(I?I+" ":"")+u)}}function ge(a,u){a.classList!==void 0?a.classList.remove(u):co(a,V((" "+Ne(a)+" ").replace(" "+u+" "," ")))}function co(a,u){a.className.baseVal===void 0?a.className=u:a.className.baseVal=u}function Ne(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function Oe(a,u){"opacity"in a.style?a.style.opacity=u:"filter"in a.style&&os(a,u)}function os(a,u){var m=!1,v="DXImageTransform.Microsoft.Alpha";try{m=a.filters.item(v)}catch{if(u===1)return}u=Math.round(u*100),m?(m.Enabled=u!==100,m.Opacity=u):a.style.filter+=" progid:"+v+"(opacity="+u+")"}function gi(a){for(var u=document.documentElement.style,m=0;m<a.length;m++)if(a[m]in u)return a[m];return!1}function wn(a,u,m){var v=u||new pt(0,0);a.style[sr]=(Lt.ie3d?"translate("+v.x+"px,"+v.y+"px)":"translate3d("+v.x+"px,"+v.y+"px,0)")+(m?" scale("+m+")":"")}function zt(a,u){a._leaflet_pos=u,Lt.any3d?wn(a,u):(a.style.left=u.x+"px",a.style.top=u.y+"px")}function Fn(a){return a._leaflet_pos||new pt(0,0)}var dn,_i,$s;if("onselectstart"in document)dn=function(){Nt(window,"selectstart",we)},_i=function(){ae(window,"selectstart",we)};else{var ar=gi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);dn=function(){if(ar){var a=document.documentElement.style;$s=a[ar],a[ar]="none"}},_i=function(){ar&&(document.documentElement.style[ar]=$s,$s=void 0)}}function ls(){Nt(window,"dragstart",we)}function ho(){ae(window,"dragstart",we)}var Ks,Dr;function yi(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(bn(),Ks=a,Dr=a.style.outlineStyle,a.style.outlineStyle="none",Nt(window,"keydown",bn))}function bn(){Ks&&(Ks.style.outlineStyle=Dr,Ks=void 0,Dr=void 0,ae(window,"keydown",bn))}function Hi(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function vi(a){var u=a.getBoundingClientRect();return{x:u.width/a.offsetWidth||1,y:u.height/a.offsetHeight||1,boundingClientRect:u}}var fo={__proto__:null,TRANSFORM:sr,TRANSITION:Or,TRANSITION_END:zi,get:as,getStyle:Ui,create:Qt,remove:fe,empty:We,toFront:Bi,toBack:Lr,hasClass:Mr,addClass:jt,removeClass:ge,setClass:co,getClass:Ne,setOpacity:Oe,testProp:gi,setTransform:wn,setPosition:zt,getPosition:Fn,get disableTextSelection(){return dn},get enableTextSelection(){return _i},disableImageDrag:ls,enableImageDrag:ho,preventOutline:yi,restoreOutline:bn,getSizedParentNode:Hi,getScale:vi};function Nt(a,u,m,v){if(u&&typeof u=="object")for(var w in u)or(a,w,u[w],m);else{u=q(u);for(var I=0,N=u.length;I<N;I++)or(a,u[I],m,v)}return this}var Gn="_leaflet_events";function ae(a,u,m,v){if(arguments.length===1)ti(a),delete a[Gn];else if(u&&typeof u=="object")for(var w in u)ei(a,w,u[w],m);else if(u=q(u),arguments.length===2)ti(a,function(Q){return gt(u,Q)!==-1});else for(var I=0,N=u.length;I<N;I++)ei(a,u[I],m,v);return this}function ti(a,u){for(var m in a[Gn]){var v=m.split(/\d/)[0];(!u||u(v))&&ei(a,v,null,null,m)}}var Mn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function or(a,u,m,v){var w=u+y(m)+(v?"_"+y(v):"");if(a[Gn]&&a[Gn][w])return this;var I=function(Q){return m.call(v||a,Q||window.event)},N=I;!Lt.touchNative&&Lt.pointer&&u.indexOf("touch")===0?I=Ue(a,u,I):Lt.touch&&u==="dblclick"?I=Vi(a,I):"addEventListener"in a?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?a.addEventListener(Mn[u]||u,I,Lt.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(I=function(Q){Q=Q||window.event,ur(a,Q)&&N(Q)},a.addEventListener(Mn[u],I,!1)):a.addEventListener(u,N,!1):a.attachEvent("on"+u,I),a[Gn]=a[Gn]||{},a[Gn][w]=I}function ei(a,u,m,v,w){w=w||u+y(m)+(v?"_"+y(v):"");var I=a[Gn]&&a[Gn][w];if(!I)return this;!Lt.touchNative&&Lt.pointer&&u.indexOf("touch")===0?uo(a,u,I):Lt.touch&&u==="dblclick"?sn(a,I):"removeEventListener"in a?a.removeEventListener(Mn[u]||u,I,!1):a.detachEvent("on"+u,I),a[Gn][w]=null}function Dn(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function Ti(a){return or(a,"wheel",Dn),this}function lr(a){return Nt(a,"mousedown touchstart dblclick contextmenu",Dn),a._leaflet_disable_click=!0,this}function we(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function mn(a){return we(a),Dn(a),this}function Ys(a){if(a.composedPath)return a.composedPath();for(var u=[],m=a.target;m;)u.push(m),m=m.parentNode;return u}function Ke(a,u){if(!u)return new pt(a.clientX,a.clientY);var m=vi(u),v=m.boundingClientRect;return new pt((a.clientX-v.left)/m.x-u.clientLeft,(a.clientY-v.top)/m.y-u.clientTop)}var ce=Lt.linux&&Lt.chrome?window.devicePixelRatio:Lt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function us(a){return Lt.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/ce:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function ur(a,u){var m=u.relatedTarget;if(!m)return!0;try{for(;m&&m!==a;)m=m.parentNode}catch{return!1}return m!==a}var ol={__proto__:null,on:Nt,off:ae,stopPropagation:Dn,disableScrollPropagation:Ti,disableClickPropagation:lr,preventDefault:we,stop:mn,getPropagationPath:Ys,getMousePosition:Ke,getWheelDelta:us,isExternalTarget:ur,addListener:Nt,removeListener:ae},cs=yt.extend({run:function(a,u,m,v){this.stop(),this._el=a,this._inProgress=!0,this._duration=m||.25,this._easeOutPower=1/Math.max(v||.5,.2),this._startPos=Fn(a),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=H(this._animate,this),this._step()},_step:function(a){var u=+new Date-this._startTime,m=this._duration*1e3;u<m?this._runFrame(this._easeOut(u/m),a):(this._runFrame(1),this._complete())},_runFrame:function(a,u){var m=this._startPos.add(this._offset.multiplyBy(a));u&&m._round(),zt(this._el,m),this.fire("step")},_complete:function(){F(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),Zt=yt.extend({options:{crs:tr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,u){u=G(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=d(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(Et(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Or&&Lt.any3d&&!Lt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Nt(this._proxy,zi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,u,m){if(u=u===void 0?this._zoom:this._limitZoom(u),a=this._limitCenter(Et(a),u,this.options.maxBounds),m=m||{},this._stop(),this._loaded&&!m.reset&&m!==!0){m.animate!==void 0&&(m.zoom=l({animate:m.animate},m.zoom),m.pan=l({animate:m.animate,duration:m.duration},m.pan));var v=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,u,m.zoom):this._tryAnimatedPan(a,m.pan);if(v)return clearTimeout(this._sizeTimer),this}return this._resetView(a,u,m.pan&&m.pan.noMoveStart),this},setZoom:function(a,u){return this._loaded?this.setView(this.getCenter(),a,{zoom:u}):(this._zoom=a,this)},zoomIn:function(a,u){return a=a||(Lt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,u)},zoomOut:function(a,u){return a=a||(Lt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,u)},setZoomAround:function(a,u,m){var v=this.getZoomScale(u),w=this.getSize().divideBy(2),I=a instanceof pt?a:this.latLngToContainerPoint(a),N=I.subtract(w).multiplyBy(1-1/v),Q=this.containerPointToLatLng(w.add(N));return this.setView(Q,u,{zoom:m})},_getBoundsCenterZoom:function(a,u){u=u||{},a=a.getBounds?a.getBounds():wt(a);var m=D(u.paddingTopLeft||u.padding||[0,0]),v=D(u.paddingBottomRight||u.padding||[0,0]),w=this.getBoundsZoom(a,!1,m.add(v));if(w=typeof u.maxZoom=="number"?Math.min(u.maxZoom,w):w,w===1/0)return{center:a.getCenter(),zoom:w};var I=v.subtract(m).divideBy(2),N=this.project(a.getSouthWest(),w),Q=this.project(a.getNorthEast(),w),rt=this.unproject(N.add(Q).divideBy(2).add(I),w);return{center:rt,zoom:w}},fitBounds:function(a,u){if(a=wt(a),!a.isValid())throw new Error("Bounds are not valid.");var m=this._getBoundsCenterZoom(a,u);return this.setView(m.center,m.zoom,u)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,u){return this.setView(a,this._zoom,{pan:u})},panBy:function(a,u){if(a=D(a).round(),u=u||{},!a.x&&!a.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new cs,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){jt(this._mapPane,"leaflet-pan-anim");var m=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,m,u.duration||.25,u.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,u,m){if(m=m||{},m.animate===!1||!Lt.any3d)return this.setView(a,u,m);this._stop();var v=this.project(this.getCenter()),w=this.project(a),I=this.getSize(),N=this._zoom;a=Et(a),u=u===void 0?N:u;var Q=Math.max(I.x,I.y),rt=Q*this.getZoomScale(N,u),dt=w.distanceTo(v)||1,bt=1.42,Ct=bt*bt;function Ot(Ve){var Ki=Ve?-1:1,pr=Ve?rt:Q,Br=rt*rt-Q*Q+Ki*Ct*Ct*dt*dt,gr=2*pr*Ct*dt,Co=Br/gr,Tl=Math.sqrt(Co*Co+1)-Co,xo=Tl<1e-9?-18:Math.log(Tl);return xo}function Ht(Ve){return(Math.exp(Ve)-Math.exp(-Ve))/2}function Me(Ve){return(Math.exp(Ve)+Math.exp(-Ve))/2}function Be(Ve){return Ht(Ve)/Me(Ve)}var gn=Ot(0);function ni(Ve){return Q*(Me(gn)/Me(gn+bt*Ve))}function Wc(Ve){return Q*(Me(gn)*Be(gn+bt*Ve)-Ht(gn))/Ct}function Jc(Ve){return 1-Math.pow(1-Ve,1.5)}var Ro=Date.now(),fa=(Ot(1)-gn)/bt,th=m.duration?1e3*m.duration:1e3*fa*.8;function da(){var Ve=(Date.now()-Ro)/th,Ki=Jc(Ve)*fa;Ve<=1?(this._flyToFrame=H(da,this),this._move(this.unproject(v.add(w.subtract(v).multiplyBy(Wc(Ki)/dt)),N),this.getScaleZoom(Q/ni(Ki),N),{flyTo:!0})):this._move(a,u)._moveEnd(!0)}return this._moveStart(!0,m.noMoveStart),da.call(this),this},flyToBounds:function(a,u){var m=this._getBoundsCenterZoom(a,u);return this.flyTo(m.center,m.zoom,u)},setMaxBounds:function(a){return a=wt(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var u=this.options.minZoom;return this.options.minZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var u=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&u!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,u){this._enforcingBounds=!0;var m=this.getCenter(),v=this._limitCenter(m,this._zoom,wt(a));return m.equals(v)||this.panTo(v,u),this._enforcingBounds=!1,this},panInside:function(a,u){u=u||{};var m=D(u.paddingTopLeft||u.padding||[0,0]),v=D(u.paddingBottomRight||u.padding||[0,0]),w=this.project(this.getCenter()),I=this.project(a),N=this.getPixelBounds(),Q=_t([N.min.add(m),N.max.subtract(v)]),rt=Q.getSize();if(!Q.contains(I)){this._enforcingBounds=!0;var dt=I.subtract(Q.getCenter()),bt=Q.extend(I).getSize().subtract(rt);w.x+=dt.x<0?-bt.x:bt.x,w.y+=dt.y<0?-bt.y:bt.y,this.panTo(this.unproject(w),u),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=l({animate:!1,pan:!0},a===!0?{animate:!0}:a);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var m=this.getSize(),v=u.divideBy(2).round(),w=m.divideBy(2).round(),I=v.subtract(w);return!I.x&&!I.y?this:(a.animate&&a.pan?this.panBy(I):(a.pan&&this._rawPanBy(I),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(d(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:m}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=l({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=d(this._handleGeolocationResponse,this),m=d(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,m,a):navigator.geolocation.getCurrentPosition(u,m,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var u=a.code,m=a.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+m+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var u=a.coords.latitude,m=a.coords.longitude,v=new It(u,m),w=v.toBounds(a.coords.accuracy*2),I=this._locateOptions;if(I.setView){var N=this.getBoundsZoom(w);this.setView(v,I.maxZoom?Math.min(N,I.maxZoom):N)}var Q={latlng:v,bounds:w,timestamp:a.timestamp};for(var rt in a.coords)typeof a.coords[rt]=="number"&&(Q[rt]=a.coords[rt]);this.fire("locationfound",Q)}},addHandler:function(a,u){if(!u)return this;var m=this[a]=new u(this);return this._handlers.push(m),this.options[a]&&m.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),fe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(F(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)fe(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,u){var m="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),v=Qt("div",m,u||this._mapPane);return a&&(this._panes[a]=v),v},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),u=this.unproject(a.getBottomLeft()),m=this.unproject(a.getTopRight());return new mt(u,m)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,u,m){a=wt(a),m=D(m||[0,0]);var v=this.getZoom()||0,w=this.getMinZoom(),I=this.getMaxZoom(),N=a.getNorthWest(),Q=a.getSouthEast(),rt=this.getSize().subtract(m),dt=_t(this.project(Q,v),this.project(N,v)).getSize(),bt=Lt.any3d?this.options.zoomSnap:1,Ct=rt.x/dt.x,Ot=rt.y/dt.y,Ht=u?Math.max(Ct,Ot):Math.min(Ct,Ot);return v=this.getScaleZoom(Ht,v),bt&&(v=Math.round(v/(bt/100))*(bt/100),v=u?Math.ceil(v/bt)*bt:Math.floor(v/bt)*bt),Math.max(w,Math.min(I,v))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new pt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,u){var m=this._getTopLeftPoint(a,u);return new ot(m,m.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,u){var m=this.options.crs;return u=u===void 0?this._zoom:u,m.scale(a)/m.scale(u)},getScaleZoom:function(a,u){var m=this.options.crs;u=u===void 0?this._zoom:u;var v=m.zoom(a*m.scale(u));return isNaN(v)?1/0:v},project:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(Et(a),u)},unproject:function(a,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(D(a),u)},layerPointToLatLng:function(a){var u=D(a).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(a){var u=this.project(Et(a))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(Et(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(wt(a))},distance:function(a,u){return this.options.crs.distance(Et(a),Et(u))},containerPointToLayerPoint:function(a){return D(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return D(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var u=this.containerPointToLayerPoint(D(a));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Et(a)))},mouseEventToContainerPoint:function(a){return Ke(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var u=this._container=as(a);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Nt(u,"scroll",this._onScroll,this),this._containerId=y(u)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&Lt.any3d,jt(a,"leaflet-container"+(Lt.touch?" leaflet-touch":"")+(Lt.retina?" leaflet-retina":"")+(Lt.ielt9?" leaflet-oldie":"")+(Lt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=Ui(a,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),zt(this._mapPane,new pt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(jt(a.markerPane,"leaflet-zoom-hide"),jt(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,u,m){zt(this._mapPane,new pt(0,0));var v=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var w=this._zoom!==u;this._moveStart(w,m)._move(a,u)._moveEnd(w),this.fire("viewreset"),v&&this.fire("load")},_moveStart:function(a,u){return a&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(a,u,m,v){u===void 0&&(u=this._zoom);var w=this._zoom!==u;return this._zoom=u,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),v?m&&m.pinch&&this.fire("zoom",m):((w||m&&m.pinch)&&this.fire("zoom",m),this.fire("move",m)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return F(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){zt(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[y(this._container)]=this;var u=a?ae:Nt;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Lt.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){F(this._resizeRequest),this._resizeRequest=H(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,u){for(var m=[],v,w=u==="mouseout"||u==="mouseover",I=a.target||a.srcElement,N=!1;I;){if(v=this._targets[y(I)],v&&(u==="click"||u==="preclick")&&this._draggableMoved(v)){N=!0;break}if(v&&v.listens(u,!0)&&(w&&!ur(I,a)||(m.push(v),w))||I===this._container)break;I=I.parentNode}return!m.length&&!N&&!w&&this.listens(u,!0)&&(m=[this]),m},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var u=a.target||a.srcElement;if(!(!this._loaded||u._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(u))){var m=a.type;m==="mousedown"&&yi(u),this._fireDOMEvent(a,m)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,u,m){if(a.type==="click"){var v=l({},a);v.type="preclick",this._fireDOMEvent(v,v.type,m)}var w=this._findEventTargets(a,u);if(m){for(var I=[],N=0;N<m.length;N++)m[N].listens(u,!0)&&I.push(m[N]);w=I.concat(w)}if(w.length){u==="contextmenu"&&we(a);var Q=w[0],rt={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var dt=Q.getLatLng&&(!Q._radius||Q._radius<=10);rt.containerPoint=dt?this.latLngToContainerPoint(Q.getLatLng()):this.mouseEventToContainerPoint(a),rt.layerPoint=this.containerPointToLayerPoint(rt.containerPoint),rt.latlng=dt?Q.getLatLng():this.layerPointToLatLng(rt.layerPoint)}for(N=0;N<w.length;N++)if(w[N].fire(u,rt,!0),rt.originalEvent._stopped||w[N].options.bubblingMouseEvents===!1&&gt(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,u=this._handlers.length;a<u;a++)this._handlers[a].disable()},whenReady:function(a,u){return this._loaded?a.call(u||this,{target:this}):this.on("load",a,u),this},_getMapPanePos:function(){return Fn(this._mapPane)||new pt(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,u){var m=a&&u!==void 0?this._getNewPixelOrigin(a,u):this.getPixelOrigin();return m.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,u){var m=this.getSize()._divideBy(2);return this.project(a,u)._subtract(m)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,u,m){var v=this._getNewPixelOrigin(m,u);return this.project(a,u)._subtract(v)},_latLngBoundsToNewLayerBounds:function(a,u,m){var v=this._getNewPixelOrigin(m,u);return _t([this.project(a.getSouthWest(),u)._subtract(v),this.project(a.getNorthWest(),u)._subtract(v),this.project(a.getSouthEast(),u)._subtract(v),this.project(a.getNorthEast(),u)._subtract(v)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,u,m){if(!m)return a;var v=this.project(a,u),w=this.getSize().divideBy(2),I=new ot(v.subtract(w),v.add(w)),N=this._getBoundsOffset(I,m,u);return Math.abs(N.x)<=1&&Math.abs(N.y)<=1?a:this.unproject(v.add(N),u)},_limitOffset:function(a,u){if(!u)return a;var m=this.getPixelBounds(),v=new ot(m.min.add(a),m.max.add(a));return a.add(this._getBoundsOffset(v,u))},_getBoundsOffset:function(a,u,m){var v=_t(this.project(u.getNorthEast(),m),this.project(u.getSouthWest(),m)),w=v.min.subtract(a.min),I=v.max.subtract(a.max),N=this._rebound(w.x,-I.x),Q=this._rebound(w.y,-I.y);return new pt(N,Q)},_rebound:function(a,u){return a+u>0?Math.round(a-u)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(u))},_limitZoom:function(a){var u=this.getMinZoom(),m=this.getMaxZoom(),v=Lt.any3d?this.options.zoomSnap:1;return v&&(a=Math.round(a/v)*v),Math.max(u,Math.min(m,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ge(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,u){var m=this._getCenterOffset(a)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(m)?!1:(this.panBy(m,u),!0)},_createAnimProxy:function(){var a=this._proxy=Qt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(u){var m=sr,v=this._proxy.style[m];wn(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),v===this._proxy.style[m]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){fe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),u=this.getZoom();wn(this._proxy,this.project(a,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,u,m){if(this._animatingZoom)return!0;if(m=m||{},!this._zoomAnimated||m.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var v=this.getZoomScale(u),w=this._getCenterOffset(a)._divideBy(1-1/v);return m.animate!==!0&&!this.getSize().contains(w)?!1:(H(function(){this._moveStart(!0,m.noMoveStart||!1)._animateZoom(a,u,!0)},this),!0)},_animateZoom:function(a,u,m,v){this._mapPane&&(m&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=u,jt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:u,noUpdate:v}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(d(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ge(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function qi(a,u){return new Zt(a,u)}var an=pe.extend({options:{position:"topright"},initialize:function(a){G(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var u=this._map;return u&&u.removeControl(this),this.options.position=a,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var u=this._container=this.onAdd(a),m=this.getPosition(),v=a._controlCorners[m];return jt(u,"leaflet-control"),m.indexOf("bottom")!==-1?v.insertBefore(u,v.firstChild):v.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(fe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),pn=function(a){return new an(a)};Zt.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},u="leaflet-",m=this._controlContainer=Qt("div",u+"control-container",this._container);function v(w,I){var N=u+w+" "+u+I;a[w+I]=Qt("div",N,m)}v("top","left"),v("top","right"),v("bottom","left"),v("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)fe(this._controlCorners[a]);fe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var mo=an.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,u,m,v){return m<v?-1:v<m?1:0}},initialize:function(a,u,m){G(this,m),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var v in a)this._addLayer(a[v],v);for(v in u)this._addLayer(u[v],v,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return an.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,u){return this._addLayer(a,u),this._map?this._update():this},addOverlay:function(a,u){return this._addLayer(a,u,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var u=this._getLayer(y(a));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){jt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(jt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):ge(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ge(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",u=this._container=Qt("div",a),m=this.options.collapsed;u.setAttribute("aria-haspopup",!0),lr(u),Ti(u);var v=this._section=Qt("section",a+"-list");m&&(this._map.on("click",this.collapse,this),Nt(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var w=this._layersLink=Qt("a",a+"-toggle",u);w.href="#",w.title="Layers",w.setAttribute("role","button"),Nt(w,{keydown:function(I){I.keyCode===13&&this._expandSafely()},click:function(I){we(I),this._expandSafely()}},this),m||this.expand(),this._baseLayersList=Qt("div",a+"-base",v),this._separator=Qt("div",a+"-separator",v),this._overlaysList=Qt("div",a+"-overlays",v),u.appendChild(v)},_getLayer:function(a){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&y(this._layers[u].layer)===a)return this._layers[u]},_addLayer:function(a,u,m){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:u,overlay:m}),this.options.sortLayers&&this._layers.sort(d(function(v,w){return this.options.sortFunction(v.layer,w.layer,v.name,w.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;We(this._baseLayersList),We(this._overlaysList),this._layerControlInputs=[];var a,u,m,v,w=0;for(m=0;m<this._layers.length;m++)v=this._layers[m],this._addItem(v),u=u||v.overlay,a=a||!v.overlay,w+=v.overlay?0:1;return this.options.hideSingleBase&&(a=a&&w>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=u&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var u=this._getLayer(y(a.target)),m=u.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;m&&this._map.fire(m,u)},_createRadioElement:function(a,u){var m='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(u?' checked="checked"':"")+"/>",v=document.createElement("div");return v.innerHTML=m,v.firstChild},_addItem:function(a){var u=document.createElement("label"),m=this._map.hasLayer(a.layer),v;a.overlay?(v=document.createElement("input"),v.type="checkbox",v.className="leaflet-control-layers-selector",v.defaultChecked=m):v=this._createRadioElement("leaflet-base-layers_"+y(this),m),this._layerControlInputs.push(v),v.layerId=y(a.layer),Nt(v,"click",this._onInputClick,this);var w=document.createElement("span");w.innerHTML=" "+a.name;var I=document.createElement("span");u.appendChild(I),I.appendChild(v),I.appendChild(w);var N=a.overlay?this._overlaysList:this._baseLayersList;return N.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,u,m,v=[],w=[];this._handlingClick=!0;for(var I=a.length-1;I>=0;I--)u=a[I],m=this._getLayer(u.layerId).layer,u.checked?v.push(m):u.checked||w.push(m);for(I=0;I<w.length;I++)this._map.hasLayer(w[I])&&this._map.removeLayer(w[I]);for(I=0;I<v.length;I++)this._map.hasLayer(v[I])||this._map.addLayer(v[I]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,u,m,v=this._map.getZoom(),w=a.length-1;w>=0;w--)u=a[w],m=this._getLayer(u.layerId).layer,u.disabled=m.options.minZoom!==void 0&&v<m.options.minZoom||m.options.maxZoom!==void 0&&v>m.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Nt(a,"click",we),this.expand();var u=this;setTimeout(function(){ae(a,"click",we),u._preventClick=!1})}}),pu=function(a,u,m){return new mo(a,u,m)},cr=an.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var u="leaflet-control-zoom",m=Qt("div",u+" leaflet-bar"),v=this.options;return this._zoomInButton=this._createButton(v.zoomInText,v.zoomInTitle,u+"-in",m,this._zoomIn),this._zoomOutButton=this._createButton(v.zoomOutText,v.zoomOutTitle,u+"-out",m,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),m},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,u,m,v,w){var I=Qt("a",m,v);return I.innerHTML=a,I.href="#",I.title=u,I.setAttribute("role","button"),I.setAttribute("aria-label",u),lr(I),Nt(I,"click",mn),Nt(I,"click",w,this),Nt(I,"click",this._refocusOnMap,this),I},_updateDisabled:function(){var a=this._map,u="leaflet-disabled";ge(this._zoomInButton,u),ge(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(jt(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(jt(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Zt.mergeOptions({zoomControl:!0}),Zt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new cr,this.addControl(this.zoomControl))});var Qs=function(a){return new cr(a)},Xs=an.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var u="leaflet-control-scale",m=Qt("div",u),v=this.options;return this._addScales(v,u+"-line",m),a.on(v.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),m},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,u,m){a.metric&&(this._mScale=Qt("div",u,m)),a.imperial&&(this._iScale=Qt("div",u,m))},_update:function(){var a=this._map,u=a.getSize().y/2,m=a.distance(a.containerPointToLatLng([0,u]),a.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(m)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var u=this._getRoundNum(a),m=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,m,u/a)},_updateImperial:function(a){var u=a*3.2808399,m,v,w;u>5280?(m=u/5280,v=this._getRoundNum(m),this._updateScale(this._iScale,v+" mi",v/m)):(w=this._getRoundNum(u),this._updateScale(this._iScale,w+" ft",w/u))},_updateScale:function(a,u,m){a.style.width=Math.round(this.options.maxWidth*m)+"px",a.innerHTML=u},_getRoundNum:function(a){var u=Math.pow(10,(Math.floor(a)+"").length-1),m=a/u;return m=m>=10?10:m>=5?5:m>=3?3:m>=2?2:1,u*m}}),Ws=function(a){return new Xs(a)},ll='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Nr=an.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Lt.inlineSvg?ll+" ":"")+"Leaflet</a>"},initialize:function(a){G(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=Qt("div","leaflet-control-attribution"),lr(this._container);for(var u in a._layers)a._layers[u].getAttribution&&this.addAttribution(a._layers[u].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var u in this._attributions)this._attributions[u]&&a.push(u);var m=[];this.options.prefix&&m.push(this.options.prefix),a.length&&m.push(a.join(", ")),this._container.innerHTML=m.join(' <span aria-hidden="true">|</span> ')}}});Zt.mergeOptions({attributionControl:!0}),Zt.addInitHook(function(){this.options.attributionControl&&new Nr().addTo(this)});var gu=function(a){return new Nr(a)};an.Layers=mo,an.Zoom=cr,an.Scale=Xs,an.Attribution=Nr,pn.layers=pu,pn.zoom=Qs,pn.scale=Ws,pn.attribution=gu;var Nn=pe.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Nn.addTo=function(a,u){return a.addHandler(u,this),this};var hs={Events:at},po=Lt.touch?"touchstart mousedown":"mousedown",Ei=yt.extend({options:{clickTolerance:3},initialize:function(a,u,m,v){G(this,v),this._element=a,this._dragStartTarget=u||a,this._preventOutline=m},enable:function(){this._enabled||(Nt(this._dragStartTarget,po,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ei._dragging===this&&this.finishDrag(!0),ae(this._dragStartTarget,po,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!Mr(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Ei._dragging===this&&this.finishDrag();return}if(!(Ei._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Ei._dragging=this,this._preventOutline&&yi(this._element),ls(),dn(),!this._moving)){this.fire("down");var u=a.touches?a.touches[0]:a,m=Hi(this._element);this._startPoint=new pt(u.clientX,u.clientY),this._startPos=Fn(this._element),this._parentScale=vi(m);var v=a.type==="mousedown";Nt(document,v?"mousemove":"touchmove",this._onMove,this),Nt(document,v?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var u=a.touches&&a.touches.length===1?a.touches[0]:a,m=new pt(u.clientX,u.clientY)._subtract(this._startPoint);!m.x&&!m.y||Math.abs(m.x)+Math.abs(m.y)<this.options.clickTolerance||(m.x/=this._parentScale.x,m.y/=this._parentScale.y,we(a),this._moved||(this.fire("dragstart"),this._moved=!0,jt(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),jt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),zt(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){ge(document.body,"leaflet-dragging"),this._lastTarget&&(ge(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ae(document,"mousemove touchmove",this._onMove,this),ae(document,"mouseup touchend touchcancel",this._onUp,this),ho(),_i();var u=this._moved&&this._moving;this._moving=!1,Ei._dragging=!1,u&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function Js(a,u,m){var v,w=[1,4,2,8],I,N,Q,rt,dt,bt,Ct,Ot;for(I=0,bt=a.length;I<bt;I++)a[I]._code=ji(a[I],u);for(Q=0;Q<4;Q++){for(Ct=w[Q],v=[],I=0,bt=a.length,N=bt-1;I<bt;N=I++)rt=a[I],dt=a[N],rt._code&Ct?dt._code&Ct||(Ot=Je(dt,rt,Ct,u,m),Ot._code=ji(Ot,u),v.push(Ot)):(dt._code&Ct&&(Ot=Je(dt,rt,Ct,u,m),Ot._code=ji(Ot,u),v.push(Ot)),v.push(rt));a=v}return a}function kr(a,u){var m,v,w,I,N,Q,rt,dt,bt;if(!a||a.length===0)throw new Error("latlngs not passed");f(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Ct=Et([0,0]),Ot=wt(a),Ht=Ot.getNorthWest().distanceTo(Ot.getSouthWest())*Ot.getNorthEast().distanceTo(Ot.getNorthWest());Ht<1700&&(Ct=ta(a));var Me=a.length,Be=[];for(m=0;m<Me;m++){var gn=Et(a[m]);Be.push(u.project(Et([gn.lat-Ct.lat,gn.lng-Ct.lng])))}for(Q=rt=dt=0,m=0,v=Me-1;m<Me;v=m++)w=Be[m],I=Be[v],N=w.y*I.x-I.y*w.x,rt+=(w.x+I.x)*N,dt+=(w.y+I.y)*N,Q+=N*3;Q===0?bt=Be[0]:bt=[rt/Q,dt/Q];var ni=u.unproject(D(bt));return Et([ni.lat+Ct.lat,ni.lng+Ct.lng])}function ta(a){for(var u=0,m=0,v=0,w=0;w<a.length;w++){var I=Et(a[w]);u+=I.lat,m+=I.lng,v++}return Et([u/v,m/v])}var ea={__proto__:null,clipPolygon:Js,polygonCenter:kr,centroid:ta};function go(a,u){if(!u||!a.length)return a.slice();var m=u*u;return a=cl(a,m),a=ul(a,m),a}function na(a,u,m){return Math.sqrt(kn(a,u,m,!0))}function hr(a,u,m){return kn(a,u,m)}function ul(a,u){var m=a.length,v=typeof Uint8Array<"u"?Uint8Array:Array,w=new v(m);w[0]=w[m-1]=1,ia(a,w,u,0,m-1);var I,N=[];for(I=0;I<m;I++)w[I]&&N.push(a[I]);return N}function ia(a,u,m,v,w){var I=0,N,Q,rt;for(Q=v+1;Q<=w-1;Q++)rt=kn(a[Q],a[v],a[w],!0),rt>I&&(N=Q,I=rt);I>m&&(u[N]=1,ia(a,u,m,v,N),ia(a,u,m,N,w))}function cl(a,u){for(var m=[a[0]],v=1,w=0,I=a.length;v<I;v++)hl(a[v],a[w])>u&&(m.push(a[v]),w=v);return w<I-1&&m.push(a[I-1]),m}var _o;function fs(a,u,m,v,w){var I=v?_o:ji(a,m),N=ji(u,m),Q,rt,dt;for(_o=N;;){if(!(I|N))return[a,u];if(I&N)return!1;Q=I||N,rt=Je(a,u,Q,m,w),dt=ji(rt,m),Q===I?(a=rt,I=dt):(u=rt,N=dt)}}function Je(a,u,m,v,w){var I=u.x-a.x,N=u.y-a.y,Q=v.min,rt=v.max,dt,bt;return m&8?(dt=a.x+I*(rt.y-a.y)/N,bt=rt.y):m&4?(dt=a.x+I*(Q.y-a.y)/N,bt=Q.y):m&2?(dt=rt.x,bt=a.y+N*(rt.x-a.x)/I):m&1&&(dt=Q.x,bt=a.y+N*(Q.x-a.x)/I),new pt(dt,bt,w)}function ji(a,u){var m=0;return a.x<u.min.x?m|=1:a.x>u.max.x&&(m|=2),a.y<u.min.y?m|=4:a.y>u.max.y&&(m|=8),m}function hl(a,u){var m=u.x-a.x,v=u.y-a.y;return m*m+v*v}function kn(a,u,m,v){var w=u.x,I=u.y,N=m.x-w,Q=m.y-I,rt=N*N+Q*Q,dt;return rt>0&&(dt=((a.x-w)*N+(a.y-I)*Q)/rt,dt>1?(w=m.x,I=m.y):dt>0&&(w+=N*dt,I+=Q*dt)),N=a.x-w,Q=a.y-I,v?N*N+Q*Q:new pt(w,I)}function f(a){return!nt(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function E(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),f(a)}function b(a,u){var m,v,w,I,N,Q,rt,dt;if(!a||a.length===0)throw new Error("latlngs not passed");f(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var bt=Et([0,0]),Ct=wt(a),Ot=Ct.getNorthWest().distanceTo(Ct.getSouthWest())*Ct.getNorthEast().distanceTo(Ct.getNorthWest());Ot<1700&&(bt=ta(a));var Ht=a.length,Me=[];for(m=0;m<Ht;m++){var Be=Et(a[m]);Me.push(u.project(Et([Be.lat-bt.lat,Be.lng-bt.lng])))}for(m=0,v=0;m<Ht-1;m++)v+=Me[m].distanceTo(Me[m+1])/2;if(v===0)dt=Me[0];else for(m=0,I=0;m<Ht-1;m++)if(N=Me[m],Q=Me[m+1],w=N.distanceTo(Q),I+=w,I>v){rt=(I-v)/w,dt=[Q.x-rt*(Q.x-N.x),Q.y-rt*(Q.y-N.y)];break}var gn=u.unproject(D(dt));return Et([gn.lat+bt.lat,gn.lng+bt.lng])}var P={__proto__:null,simplify:go,pointToSegmentDistance:na,closestPointOnSegment:hr,clipSegment:fs,_getEdgeIntersection:Je,_getBitCode:ji,_sqClosestPointOnSegment:kn,isFlat:f,_flat:E,polylineCenter:b},Y={project:function(a){return new pt(a.lng,a.lat)},unproject:function(a){return new It(a.y,a.x)},bounds:new ot([-180,-90],[180,90])},st={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ot([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var u=Math.PI/180,m=this.R,v=a.lat*u,w=this.R_MINOR/m,I=Math.sqrt(1-w*w),N=I*Math.sin(v),Q=Math.tan(Math.PI/4-v/2)/Math.pow((1-N)/(1+N),I/2);return v=-m*Math.log(Math.max(Q,1e-10)),new pt(a.lng*u*m,v)},unproject:function(a){for(var u=180/Math.PI,m=this.R,v=this.R_MINOR/m,w=Math.sqrt(1-v*v),I=Math.exp(-a.y/m),N=Math.PI/2-2*Math.atan(I),Q=0,rt=.1,dt;Q<15&&Math.abs(rt)>1e-7;Q++)dt=w*Math.sin(N),dt=Math.pow((1-dt)/(1+dt),w/2),rt=Math.PI/2-2*Math.atan(I*dt)-N,N+=rt;return new It(N*u,a.x*u/m)}},vt={__proto__:null,LonLat:Y,Mercator:st,SphericalMercator:Li},te=l({},re,{code:"EPSG:3395",projection:st,transformation:function(){var a=.5/(Math.PI*st.R);return hi(a,.5,-a,.5)}()}),Ge=l({},re,{code:"EPSG:4326",projection:Y,transformation:hi(1/180,1,-1/180,.5)}),ee=l({},Ee,{projection:Y,transformation:hi(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,u){var m=u.lng-a.lng,v=u.lat-a.lat;return Math.sqrt(m*m+v*v)},infinite:!0});Ee.Earth=re,Ee.EPSG3395=te,Ee.EPSG3857=tr,Ee.EPSG900913=ts,Ee.EPSG4326=Ge,Ee.Simple=ee;var de=yt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[y(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[y(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var u=a.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var m=this.getEvents();u.on(m,this),this.once("remove",function(){u.off(m,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Zt.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var u=y(a);return this._layers[u]?this:(this._layers[u]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var u=y(a);return this._layers[u]?(this._loaded&&a.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return y(a)in this._layers},eachLayer:function(a,u){for(var m in this._layers)a.call(u,this._layers[m]);return this},_addLayers:function(a){a=a?nt(a)?a:[a]:[];for(var u=0,m=a.length;u<m;u++)this.addLayer(a[u])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[y(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var u=y(a);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,u=-1/0,m=this._getZoomSpan();for(var v in this._zoomBoundLayers){var w=this._zoomBoundLayers[v].options;a=w.minZoom===void 0?a:Math.min(a,w.minZoom),u=w.maxZoom===void 0?u:Math.max(u,w.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=a===1/0?void 0:a,m!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Le=de.extend({initialize:function(a,u){G(this,u),this._layers={};var m,v;if(a)for(m=0,v=a.length;m<v;m++)this.addLayer(a[m])},addLayer:function(a){var u=this.getLayerId(a);return this._layers[u]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var u=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(a){var u=typeof a=="number"?a:this.getLayerId(a);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var u=Array.prototype.slice.call(arguments,1),m,v;for(m in this._layers)v=this._layers[m],v[a]&&v[a].apply(v,u);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,u){for(var m in this._layers)a.call(u,this._layers[m]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return y(a)}}),fr=function(a,u){return new Le(a,u)},Re=Le.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),Le.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),Le.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new mt;for(var u in this._layers){var m=this._layers[u];a.extend(m.getBounds?m.getBounds():m.getLatLng())}return a}}),Fi=function(a,u){return new Re(a,u)},Gi=pe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){G(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,u){var m=this._getIconUrl(a);if(!m){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var v=this._createImg(m,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(v,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),v},_setIconStyles:function(a,u){var m=this.options,v=m[u+"Size"];typeof v=="number"&&(v=[v,v]);var w=D(v),I=D(u==="shadow"&&m.shadowAnchor||m.iconAnchor||w&&w.divideBy(2,!0));a.className="leaflet-marker-"+u+" "+(m.className||""),I&&(a.style.marginLeft=-I.x+"px",a.style.marginTop=-I.y+"px"),w&&(a.style.width=w.x+"px",a.style.height=w.y+"px")},_createImg:function(a,u){return u=u||document.createElement("img"),u.src=a,u},_getIconUrl:function(a){return Lt.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function fl(a){return new Gi(a)}var ra=Gi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof ra.imagePath!="string"&&(ra.imagePath=this._detectIconPath()),(this.options.imagePath||ra.imagePath)+Gi.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var u=function(m,v,w){var I=v.exec(m);return I&&I[w]};return a=u(a,/^url\((['"])?(.+)\1\)$/,2),a&&u(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=Qt("div","leaflet-default-icon-path",document.body),u=Ui(a,"background-image")||Ui(a,"backgroundImage");if(document.body.removeChild(a),u=this._stripUrl(u),u)return u;var m=document.querySelector('link[href$="leaflet.css"]');return m?m.href.substring(0,m.href.length-11-1):""}}),_u=Nn.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Ei(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),jt(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ge(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var u=this._marker,m=u._map,v=this._marker.options.autoPanSpeed,w=this._marker.options.autoPanPadding,I=Fn(u._icon),N=m.getPixelBounds(),Q=m.getPixelOrigin(),rt=_t(N.min._subtract(Q).add(w),N.max._subtract(Q).subtract(w));if(!rt.contains(I)){var dt=D((Math.max(rt.max.x,I.x)-rt.max.x)/(N.max.x-rt.max.x)-(Math.min(rt.min.x,I.x)-rt.min.x)/(N.min.x-rt.min.x),(Math.max(rt.max.y,I.y)-rt.max.y)/(N.max.y-rt.max.y)-(Math.min(rt.min.y,I.y)-rt.min.y)/(N.min.y-rt.min.y)).multiplyBy(v);m.panBy(dt,{animate:!1}),this._draggable._newPos._add(dt),this._draggable._startPos._add(dt),zt(u._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=H(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(F(this._panRequest),this._panRequest=H(this._adjustPan.bind(this,a)))},_onDrag:function(a){var u=this._marker,m=u._shadow,v=Fn(u._icon),w=u._map.layerPointToLatLng(v);m&&zt(m,v),u._latlng=w,a.latlng=w,a.oldLatLng=this._oldLatLng,u.fire("move",a).fire("drag",a)},_onDragEnd:function(a){F(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),sa=de.extend({options:{icon:new ra,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,u){G(this,u),this._latlng=Et(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var u=this._latlng;return this._latlng=Et(a),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),m=a.icon.createIcon(this._icon),v=!1;m!==this._icon&&(this._icon&&this._removeIcon(),v=!0,a.title&&(m.title=a.title),m.tagName==="IMG"&&(m.alt=a.alt||"")),jt(m,u),a.keyboard&&(m.tabIndex="0",m.setAttribute("role","button")),this._icon=m,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Nt(m,"focus",this._panOnFocus,this);var w=a.icon.createShadow(this._shadow),I=!1;w!==this._shadow&&(this._removeShadow(),I=!0),w&&(jt(w,u),w.alt=""),this._shadow=w,a.opacity<1&&this._updateOpacity(),v&&this.getPane().appendChild(this._icon),this._initInteraction(),w&&I&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ae(this._icon,"focus",this._panOnFocus,this),fe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&fe(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&zt(this._icon,a),this._shadow&&zt(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(jt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),_u)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new _u(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&Oe(this._icon,a),this._shadow&&Oe(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var u=this.options.icon.options,m=u.iconSize?D(u.iconSize):D(0,0),v=u.iconAnchor?D(u.iconAnchor):D(0,0);a.panInside(this._latlng,{paddingTopLeft:v,paddingBottomRight:m.subtract(v)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function yu(a,u){return new sa(a,u)}var dr=de.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return G(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),yo=dr.extend({options:{fill:!0,radius:10},initialize:function(a,u){G(this,u),this._latlng=Et(a),this._radius=this.options.radius},setLatLng:function(a){var u=this._latlng;return this._latlng=Et(a),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var u=a&&a.radius||this._radius;return dr.prototype.setStyle.call(this,a),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,u=this._radiusY||a,m=this._clickTolerance(),v=[a+m,u+m];this._pxBounds=new ot(this._point.subtract(v),this._point.add(v))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Zc(a,u){return new yo(a,u)}var vu=yo.extend({initialize:function(a,u,m){if(typeof u=="number"&&(u=l({},m,{radius:u})),G(this,u),this._latlng=Et(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new mt(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:dr.prototype.setStyle,_project:function(){var a=this._latlng.lng,u=this._latlng.lat,m=this._map,v=m.options.crs;if(v.distance===re.distance){var w=Math.PI/180,I=this._mRadius/re.R/w,N=m.project([u+I,a]),Q=m.project([u-I,a]),rt=N.add(Q).divideBy(2),dt=m.unproject(rt).lat,bt=Math.acos((Math.cos(I*w)-Math.sin(u*w)*Math.sin(dt*w))/(Math.cos(u*w)*Math.cos(dt*w)))/w;(isNaN(bt)||bt===0)&&(bt=I/Math.cos(Math.PI/180*u)),this._point=rt.subtract(m.getPixelOrigin()),this._radius=isNaN(bt)?0:rt.x-m.project([dt,a-bt]).x,this._radiusY=rt.y-N.y}else{var Ct=v.unproject(v.project(this._latlng).subtract([this._mRadius,0]));this._point=m.latLngToLayerPoint(this._latlng),this._radius=this._point.x-m.latLngToLayerPoint(Ct).x}this._updateBounds()}});function hd(a,u,m){return new vu(a,u,m)}var mr=dr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,u){G(this,u),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var u=1/0,m=null,v=kn,w,I,N=0,Q=this._parts.length;N<Q;N++)for(var rt=this._parts[N],dt=1,bt=rt.length;dt<bt;dt++){w=rt[dt-1],I=rt[dt];var Ct=v(a,w,I,!0);Ct<u&&(u=Ct,m=v(a,w,I))}return m&&(m.distance=Math.sqrt(u)),m},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return b(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,u){return u=u||this._defaultShape(),a=Et(a),u.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new mt,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return f(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var u=[],m=f(a),v=0,w=a.length;v<w;v++)m?(u[v]=Et(a[v]),this._bounds.extend(u[v])):u[v]=this._convertLatLngs(a[v]);return u},_project:function(){var a=new ot;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),u=new pt(a,a);this._rawPxBounds&&(this._pxBounds=new ot([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(a,u,m){var v=a[0]instanceof It,w=a.length,I,N;if(v){for(N=[],I=0;I<w;I++)N[I]=this._map.latLngToLayerPoint(a[I]),m.extend(N[I]);u.push(N)}else for(I=0;I<w;I++)this._projectLatlngs(a[I],u,m)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,m,v,w,I,N,Q,rt;for(m=0,w=0,I=this._rings.length;m<I;m++)for(rt=this._rings[m],v=0,N=rt.length;v<N-1;v++)Q=fs(rt[v],rt[v+1],a,v,!0),Q&&(u[w]=u[w]||[],u[w].push(Q[0]),(Q[1]!==rt[v+1]||v===N-2)&&(u[w].push(Q[1]),w++))}},_simplifyPoints:function(){for(var a=this._parts,u=this.options.smoothFactor,m=0,v=a.length;m<v;m++)a[m]=go(a[m],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,u){var m,v,w,I,N,Q,rt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(m=0,I=this._parts.length;m<I;m++)for(Q=this._parts[m],v=0,N=Q.length,w=N-1;v<N;w=v++)if(!(!u&&v===0)&&na(a,Q[w],Q[v])<=rt)return!0;return!1}});function fd(a,u){return new mr(a,u)}mr._flat=E;var aa=mr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return kr(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var u=mr.prototype._convertLatLngs.call(this,a),m=u.length;return m>=2&&u[0]instanceof It&&u[0].equals(u[m-1])&&u.pop(),u},_setLatLngs:function(a){mr.prototype._setLatLngs.call(this,a),f(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return f(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,u=this.options.weight,m=new pt(u,u);if(a=new ot(a.min.subtract(m),a.max.add(m)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var v=0,w=this._rings.length,I;v<w;v++)I=Js(this._rings[v],a,!0),I.length&&this._parts.push(I)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var u=!1,m,v,w,I,N,Q,rt,dt;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(I=0,rt=this._parts.length;I<rt;I++)for(m=this._parts[I],N=0,dt=m.length,Q=dt-1;N<dt;Q=N++)v=m[N],w=m[Q],v.y>a.y!=w.y>a.y&&a.x<(w.x-v.x)*(a.y-v.y)/(w.y-v.y)+v.x&&(u=!u);return u||mr.prototype._containsPoint.call(this,a,!0)}});function Zn(a,u){return new aa(a,u)}var $n=Re.extend({initialize:function(a,u){G(this,u),this._layers={},a&&this.addData(a)},addData:function(a){var u=nt(a)?a:a.features,m,v,w;if(u){for(m=0,v=u.length;m<v;m++)w=u[m],(w.geometries||w.geometry||w.features||w.coordinates)&&this.addData(w);return this}var I=this.options;if(I.filter&&!I.filter(a))return this;var N=vo(a,I);return N?(N.feature=oa(a),N.defaultOptions=N.options,this.resetStyle(N),I.onEachFeature&&I.onEachFeature(a,N),this.addLayer(N)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=l({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(u){this._setLayerStyle(u,a)},this)},_setLayerStyle:function(a,u){a.setStyle&&(typeof u=="function"&&(u=u(a.feature)),a.setStyle(u))}});function vo(a,u){var m=a.type==="Feature"?a.geometry:a,v=m?m.coordinates:null,w=[],I=u&&u.pointToLayer,N=u&&u.coordsToLatLng||dl,Q,rt,dt,bt;if(!v&&!m)return null;switch(m.type){case"Point":return Q=N(v),Tu(I,a,Q,u);case"MultiPoint":for(dt=0,bt=v.length;dt<bt;dt++)Q=N(v[dt]),w.push(Tu(I,a,Q,u));return new Re(w);case"LineString":case"MultiLineString":return rt=To(v,m.type==="LineString"?0:1,N),new mr(rt,u);case"Polygon":case"MultiPolygon":return rt=To(v,m.type==="Polygon"?1:2,N),new aa(rt,u);case"GeometryCollection":for(dt=0,bt=m.geometries.length;dt<bt;dt++){var Ct=vo({geometry:m.geometries[dt],type:"Feature",properties:a.properties},u);Ct&&w.push(Ct)}return new Re(w);case"FeatureCollection":for(dt=0,bt=m.features.length;dt<bt;dt++){var Ot=vo(m.features[dt],u);Ot&&w.push(Ot)}return new Re(w);default:throw new Error("Invalid GeoJSON object.")}}function Tu(a,u,m,v){return a?a(u,m):new sa(m,v&&v.markersInheritOptions&&v)}function dl(a){return new It(a[1],a[0],a[2])}function To(a,u,m){for(var v=[],w=0,I=a.length,N;w<I;w++)N=u?To(a[w],u-1,m):(m||dl)(a[w]),v.push(N);return v}function Eo(a,u){return a=Et(a),a.alt!==void 0?[C(a.lng,u),C(a.lat,u),C(a.alt,u)]:[C(a.lng,u),C(a.lat,u)]}function ml(a,u,m,v){for(var w=[],I=0,N=a.length;I<N;I++)w.push(u?ml(a[I],f(a[I])?0:u-1,m,v):Eo(a[I],v));return!u&&m&&w.length>0&&w.push(w[0].slice()),w}function wi(a,u){return a.feature?l({},a.feature,{geometry:u}):oa(u)}function oa(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var ds={toGeoJSON:function(a){return wi(this,{type:"Point",coordinates:Eo(this.getLatLng(),a)})}};sa.include(ds),vu.include(ds),yo.include(ds),mr.include({toGeoJSON:function(a){var u=!f(this._latlngs),m=ml(this._latlngs,u?1:0,!1,a);return wi(this,{type:(u?"Multi":"")+"LineString",coordinates:m})}}),aa.include({toGeoJSON:function(a){var u=!f(this._latlngs),m=u&&!f(this._latlngs[0]),v=ml(this._latlngs,m?2:u?1:0,!0,a);return u||(v=[v]),wi(this,{type:(m?"Multi":"")+"Polygon",coordinates:v})}}),Le.include({toMultiPoint:function(a){var u=[];return this.eachLayer(function(m){u.push(m.toGeoJSON(a).geometry.coordinates)}),wi(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(a){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(a);var m=u==="GeometryCollection",v=[];return this.eachLayer(function(w){if(w.toGeoJSON){var I=w.toGeoJSON(a);if(m)v.push(I.geometry);else{var N=oa(I);N.type==="FeatureCollection"?v.push.apply(v,N.features):v.push(N)}}}),m?wi(this,{geometries:v,type:"GeometryCollection"}):{type:"FeatureCollection",features:v}}});function pl(a,u){return new $n(a,u)}var $c=pl,Zi=de.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,u,m){this._url=a,this._bounds=wt(u),G(this,m)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(jt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){fe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&Bi(this._image),this},bringToBack:function(){return this._map&&Lr(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=wt(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",u=this._image=a?this._url:Qt("img");if(jt(u,"leaflet-image-layer"),this._zoomAnimated&&jt(u,"leaflet-zoom-animated"),this.options.className&&jt(u,this.options.className),u.onselectstart=x,u.onmousemove=x,u.onload=d(this.fire,this,"load"),u.onerror=d(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(a){var u=this._map.getZoomScale(a.zoom),m=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;wn(this._image,m,u)},_reset:function(){var a=this._image,u=new ot(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),m=u.getSize();zt(a,u.min),a.style.width=m.x+"px",a.style.height=m.y+"px"},_updateOpacity:function(){Oe(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),la=function(a,u,m){return new Zi(a,u,m)},gl=Zi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",u=this._image=a?this._url:Qt("video");if(jt(u,"leaflet-image-layer"),this._zoomAnimated&&jt(u,"leaflet-zoom-animated"),this.options.className&&jt(u,this.options.className),u.onselectstart=x,u.onmousemove=x,u.onloadeddata=d(this.fire,this,"load"),a){for(var m=u.getElementsByTagName("source"),v=[],w=0;w<m.length;w++)v.push(m[w].src);this._url=m.length>0?v:[u.src];return}nt(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var I=0;I<this._url.length;I++){var N=Qt("source");N.src=this._url[I],u.appendChild(N)}}});function Kc(a,u,m){return new gl(a,u,m)}var Vr=Zi.extend({_initImage:function(){var a=this._image=this._url;jt(a,"leaflet-image-layer"),this._zoomAnimated&&jt(a,"leaflet-zoom-animated"),this.options.className&&jt(a,this.options.className),a.onselectstart=x,a.onmousemove=x}});function Yc(a,u,m){return new Vr(a,u,m)}var bi=de.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,u){a&&(a instanceof It||nt(a))?(this._latlng=Et(a),G(this,u)):(G(this,a),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&Oe(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&Oe(this._container,1),this.bringToFront(),this.options.interactive&&(jt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(Oe(this._container,0),this._removeTimeout=setTimeout(d(fe,void 0,this._container),200)):fe(this._container),this.options.interactive&&(ge(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=Et(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Bi(this._container),this},bringToBack:function(){return this._map&&Lr(this._container),this},_prepareOpen:function(a){var u=this._source;if(!u._map)return!1;if(u instanceof Re){u=null;var m=this._source._layers;for(var v in m)if(m[v]._map){u=m[v];break}if(!u)return!1;this._source=u}if(!a)if(u.getCenter)a=u.getCenter();else if(u.getLatLng)a=u.getLatLng();else if(u.getBounds)a=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")a.innerHTML=u;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),u=D(this.options.offset),m=this._getAnchor();this._zoomAnimated?zt(this._container,a.add(m)):u=u.add(a).add(m);var v=this._containerBottom=-u.y,w=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=v+"px",this._container.style.left=w+"px"}},_getAnchor:function(){return[0,0]}});Zt.include({_initOverlay:function(a,u,m,v){var w=u;return w instanceof a||(w=new a(v).setContent(u)),m&&w.setLatLng(m),w}}),de.include({_initOverlay:function(a,u,m,v){var w=m;return w instanceof a?(G(w,v),w._source=this):(w=u&&!v?u:new a(v,this),w.setContent(m)),w}});var wo=bi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,bi.prototype.openOn.call(this,a)},onAdd:function(a){bi.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof dr||this._source.on("preclick",Dn))},onRemove:function(a){bi.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof dr||this._source.off("preclick",Dn))},getEvents:function(){var a=bi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",u=this._container=Qt("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),m=this._wrapper=Qt("div",a+"-content-wrapper",u);if(this._contentNode=Qt("div",a+"-content",m),lr(u),Ti(this._contentNode),Nt(u,"contextmenu",Dn),this._tipContainer=Qt("div",a+"-tip-container",u),this._tip=Qt("div",a+"-tip",this._tipContainer),this.options.closeButton){var v=this._closeButton=Qt("a",a+"-close-button",u);v.setAttribute("role","button"),v.setAttribute("aria-label","Close popup"),v.href="#close",v.innerHTML='<span aria-hidden="true">&#215;</span>',Nt(v,"click",function(w){we(w),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,u=a.style;u.width="",u.whiteSpace="nowrap";var m=a.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),u.width=m+1+"px",u.whiteSpace="",u.height="";var v=a.offsetHeight,w=this.options.maxHeight,I="leaflet-popup-scrolled";w&&v>w?(u.height=w+"px",jt(a,I)):ge(a,I),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),m=this._getAnchor();zt(this._container,u.add(m))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,u=parseInt(Ui(this._container,"marginBottom"),10)||0,m=this._container.offsetHeight+u,v=this._containerWidth,w=new pt(this._containerLeft,-m-this._containerBottom);w._add(Fn(this._container));var I=a.layerPointToContainerPoint(w),N=D(this.options.autoPanPadding),Q=D(this.options.autoPanPaddingTopLeft||N),rt=D(this.options.autoPanPaddingBottomRight||N),dt=a.getSize(),bt=0,Ct=0;I.x+v+rt.x>dt.x&&(bt=I.x+v-dt.x+rt.x),I.x-bt-Q.x<0&&(bt=I.x-Q.x),I.y+m+rt.y>dt.y&&(Ct=I.y+m-dt.y+rt.y),I.y-Ct-Q.y<0&&(Ct=I.y-Q.y),(bt||Ct)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([bt,Ct]))}},_getAnchor:function(){return D(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),dd=function(a,u){return new wo(a,u)};Zt.mergeOptions({closePopupOnClick:!0}),Zt.include({openPopup:function(a,u,m){return this._initOverlay(wo,a,u,m).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),de.include({bindPopup:function(a,u){return this._popup=this._initOverlay(wo,this._popup,a,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof Re||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){mn(a);var u=a.layer||a.target;if(this._popup._source===u&&!(u instanceof dr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=u,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var _l=bi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){bi.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){bi.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=bi.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",u=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Qt("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var u,m,v=this._map,w=this._container,I=v.latLngToContainerPoint(v.getCenter()),N=v.layerPointToContainerPoint(a),Q=this.options.direction,rt=w.offsetWidth,dt=w.offsetHeight,bt=D(this.options.offset),Ct=this._getAnchor();Q==="top"?(u=rt/2,m=dt):Q==="bottom"?(u=rt/2,m=0):Q==="center"?(u=rt/2,m=dt/2):Q==="right"?(u=0,m=dt/2):Q==="left"?(u=rt,m=dt/2):N.x<I.x?(Q="right",u=0,m=dt/2):(Q="left",u=rt+(bt.x+Ct.x)*2,m=dt/2),a=a.subtract(D(u,m,!0)).add(bt).add(Ct),ge(w,"leaflet-tooltip-right"),ge(w,"leaflet-tooltip-left"),ge(w,"leaflet-tooltip-top"),ge(w,"leaflet-tooltip-bottom"),jt(w,"leaflet-tooltip-"+Q),zt(w,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&Oe(this._container,a)},_animateZoom:function(a){var u=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(u)},_getAnchor:function(){return D(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),md=function(a,u){return new _l(a,u)};Zt.include({openTooltip:function(a,u,m){return this._initOverlay(_l,a,u,m).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),de.include({bindTooltip:function(a,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(_l,this._tooltip,a,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var u=a?"off":"on",m={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?m.add=this._openTooltip:(m.mouseover=this._openTooltip,m.mouseout=this.closeTooltip,m.click=this._openTooltip,this._map?this._addFocusListeners():m.add=this._addFocusListeners),this._tooltip.options.sticky&&(m.mousemove=this._moveTooltip),this[u](m),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof Re||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&(Nt(u,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Nt(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var u=typeof a.getElement=="function"&&a.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var u=a.latlng,m,v;this._tooltip.options.sticky&&a.originalEvent&&(m=this._map.mouseEventToContainerPoint(a.originalEvent),v=this._map.containerPointToLayerPoint(m),u=this._map.layerPointToLatLng(v)),this._tooltip.setLatLng(u)}});var Eu=Gi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var u=a&&a.tagName==="DIV"?a:document.createElement("div"),m=this.options;if(m.html instanceof Element?(We(u),u.appendChild(m.html)):u.innerHTML=m.html!==!1?m.html:"",m.bgPos){var v=D(m.bgPos);u.style.backgroundPosition=-v.x+"px "+-v.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function Qc(a){return new Eu(a)}Gi.Default=ra;var ms=de.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Lt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){G(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),fe(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Bi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Lr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=T(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof pt?a:new pt(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var u=this.getPane().children,m=-a(-1/0,1/0),v=0,w=u.length,I;v<w;v++)I=u[v].style.zIndex,u[v]!==this._container&&I&&(m=a(m,+I));isFinite(m)&&(this.options.zIndex=m+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Lt.ielt9){Oe(this._container,this.options.opacity);var a=+new Date,u=!1,m=!1;for(var v in this._tiles){var w=this._tiles[v];if(!(!w.current||!w.loaded)){var I=Math.min(1,(a-w.loaded)/200);Oe(w.el,I),I<1?u=!0:(w.active?m=!0:this._onOpaqueTile(w),w.active=!0)}}m&&!this._noPrune&&this._pruneTiles(),u&&(F(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this))}},_onOpaqueTile:x,_initContainer:function(){this._container||(this._container=Qt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,u=this.options.maxZoom;if(a!==void 0){for(var m in this._levels)m=Number(m),this._levels[m].el.children.length||m===a?(this._levels[m].el.style.zIndex=u-Math.abs(a-m),this._onUpdateLevel(m)):(fe(this._levels[m].el),this._removeTilesAtZoom(m),this._onRemoveLevel(m),delete this._levels[m]);var v=this._levels[a],w=this._map;return v||(v=this._levels[a]={},v.el=Qt("div","leaflet-tile-container leaflet-zoom-animated",this._container),v.el.style.zIndex=u,v.origin=w.project(w.unproject(w.getPixelOrigin()),a).round(),v.zoom=a,this._setZoomTransform(v,w.getCenter(),w.getZoom()),x(v.el.offsetWidth),this._onCreateLevel(v)),this._level=v,v}},_onUpdateLevel:x,_onRemoveLevel:x,_onCreateLevel:x,_pruneTiles:function(){if(this._map){var a,u,m=this._map.getZoom();if(m>this.options.maxZoom||m<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)u=this._tiles[a],u.retain=u.current;for(a in this._tiles)if(u=this._tiles[a],u.current&&!u.active){var v=u.coords;this._retainParent(v.x,v.y,v.z,v.z-5)||this._retainChildren(v.x,v.y,v.z,v.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var u in this._tiles)this._tiles[u].coords.z===a&&this._removeTile(u)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)fe(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,u,m,v){var w=Math.floor(a/2),I=Math.floor(u/2),N=m-1,Q=new pt(+w,+I);Q.z=+N;var rt=this._tileCoordsToKey(Q),dt=this._tiles[rt];return dt&&dt.active?(dt.retain=!0,!0):(dt&&dt.loaded&&(dt.retain=!0),N>v?this._retainParent(w,I,N,v):!1)},_retainChildren:function(a,u,m,v){for(var w=2*a;w<2*a+2;w++)for(var I=2*u;I<2*u+2;I++){var N=new pt(w,I);N.z=m+1;var Q=this._tileCoordsToKey(N),rt=this._tiles[Q];if(rt&&rt.active){rt.retain=!0;continue}else rt&&rt.loaded&&(rt.retain=!0);m+1<v&&this._retainChildren(w,I,m+1,v)}},_resetView:function(a){var u=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var u=this.options;return u.minNativeZoom!==void 0&&a<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<a?u.maxNativeZoom:a},_setView:function(a,u,m,v){var w=Math.round(u);this.options.maxZoom!==void 0&&w>this.options.maxZoom||this.options.minZoom!==void 0&&w<this.options.minZoom?w=void 0:w=this._clampZoom(w);var I=this.options.updateWhenZooming&&w!==this._tileZoom;(!v||I)&&(this._tileZoom=w,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),w!==void 0&&this._update(a),m||this._pruneTiles(),this._noPrune=!!m),this._setZoomTransforms(a,u)},_setZoomTransforms:function(a,u){for(var m in this._levels)this._setZoomTransform(this._levels[m],a,u)},_setZoomTransform:function(a,u,m){var v=this._map.getZoomScale(m,a.zoom),w=a.origin.multiplyBy(v).subtract(this._map._getNewPixelOrigin(u,m)).round();Lt.any3d?wn(a.el,w,v):zt(a.el,w)},_resetGrid:function(){var a=this._map,u=a.options.crs,m=this._tileSize=this.getTileSize(),v=this._tileZoom,w=this._map.getPixelWorldBounds(this._tileZoom);w&&(this._globalTileRange=this._pxBoundsToTileRange(w)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,u.wrapLng[0]],v).x/m.x),Math.ceil(a.project([0,u.wrapLng[1]],v).x/m.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([u.wrapLat[0],0],v).y/m.x),Math.ceil(a.project([u.wrapLat[1],0],v).y/m.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var u=this._map,m=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),v=u.getZoomScale(m,this._tileZoom),w=u.project(a,this._tileZoom).floor(),I=u.getSize().divideBy(v*2);return new ot(w.subtract(I),w.add(I))},_update:function(a){var u=this._map;if(u){var m=this._clampZoom(u.getZoom());if(a===void 0&&(a=u.getCenter()),this._tileZoom!==void 0){var v=this._getTiledPixelBounds(a),w=this._pxBoundsToTileRange(v),I=w.getCenter(),N=[],Q=this.options.keepBuffer,rt=new ot(w.getBottomLeft().subtract([Q,-Q]),w.getTopRight().add([Q,-Q]));if(!(isFinite(w.min.x)&&isFinite(w.min.y)&&isFinite(w.max.x)&&isFinite(w.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var dt in this._tiles){var bt=this._tiles[dt].coords;(bt.z!==this._tileZoom||!rt.contains(new pt(bt.x,bt.y)))&&(this._tiles[dt].current=!1)}if(Math.abs(m-this._tileZoom)>1){this._setView(a,m);return}for(var Ct=w.min.y;Ct<=w.max.y;Ct++)for(var Ot=w.min.x;Ot<=w.max.x;Ot++){var Ht=new pt(Ot,Ct);if(Ht.z=this._tileZoom,!!this._isValidTile(Ht)){var Me=this._tiles[this._tileCoordsToKey(Ht)];Me?Me.current=!0:N.push(Ht)}}if(N.sort(function(gn,ni){return gn.distanceTo(I)-ni.distanceTo(I)}),N.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Be=document.createDocumentFragment();for(Ot=0;Ot<N.length;Ot++)this._addTile(N[Ot],Be);this._level.el.appendChild(Be)}}}},_isValidTile:function(a){var u=this._map.options.crs;if(!u.infinite){var m=this._globalTileRange;if(!u.wrapLng&&(a.x<m.min.x||a.x>m.max.x)||!u.wrapLat&&(a.y<m.min.y||a.y>m.max.y))return!1}if(!this.options.bounds)return!0;var v=this._tileCoordsToBounds(a);return wt(this.options.bounds).overlaps(v)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var u=this._map,m=this.getTileSize(),v=a.scaleBy(m),w=v.add(m),I=u.unproject(v,a.z),N=u.unproject(w,a.z);return[I,N]},_tileCoordsToBounds:function(a){var u=this._tileCoordsToNwSe(a),m=new mt(u[0],u[1]);return this.options.noWrap||(m=this._map.wrapLatLngBounds(m)),m},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var u=a.split(":"),m=new pt(+u[0],+u[1]);return m.z=+u[2],m},_removeTile:function(a){var u=this._tiles[a];u&&(fe(u.el),delete this._tiles[a],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){jt(a,"leaflet-tile");var u=this.getTileSize();a.style.width=u.x+"px",a.style.height=u.y+"px",a.onselectstart=x,a.onmousemove=x,Lt.ielt9&&this.options.opacity<1&&Oe(a,this.options.opacity)},_addTile:function(a,u){var m=this._getTilePos(a),v=this._tileCoordsToKey(a),w=this.createTile(this._wrapCoords(a),d(this._tileReady,this,a));this._initTile(w),this.createTile.length<2&&H(d(this._tileReady,this,a,null,w)),zt(w,m),this._tiles[v]={el:w,coords:a,current:!0},u.appendChild(w),this.fire("tileloadstart",{tile:w,coords:a})},_tileReady:function(a,u,m){u&&this.fire("tileerror",{error:u,tile:m,coords:a});var v=this._tileCoordsToKey(a);m=this._tiles[v],m&&(m.loaded=+new Date,this._map._fadeAnimated?(Oe(m.el,0),F(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this)):(m.active=!0,this._pruneTiles()),u||(jt(m.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:m.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Lt.ielt9||!this._map._fadeAnimated?H(this._pruneTiles,this):setTimeout(d(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var u=new pt(this._wrapX?S(a.x,this._wrapX):a.x,this._wrapY?S(a.y,this._wrapY):a.y);return u.z=a.z,u},_pxBoundsToTileRange:function(a){var u=this.getTileSize();return new ot(a.min.unscaleBy(u).floor(),a.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function Ai(a){return new ms(a)}var ps=ms.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,u){this._url=a,u=G(this,u),u.detectRetina&&Lt.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,u){return this._url===a&&u===void 0&&(u=!0),this._url=a,u||this.redraw(),this},createTile:function(a,u){var m=document.createElement("img");return Nt(m,"load",d(this._tileOnLoad,this,u,m)),Nt(m,"error",d(this._tileOnError,this,u,m)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(m.referrerPolicy=this.options.referrerPolicy),m.alt="",m.src=this.getTileUrl(a),m},getTileUrl:function(a){var u={r:Lt.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var m=this._globalTileRange.max.y-a.y;this.options.tms&&(u.y=m),u["-y"]=m}return W(this._url,l(u,this.options))},_tileOnLoad:function(a,u){Lt.ielt9?setTimeout(d(a,this,null,u),0):a(null,u)},_tileOnError:function(a,u,m){var v=this.options.errorTileUrl;v&&u.getAttribute("src")!==v&&(u.src=v),a(m,u)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,u=this.options.maxZoom,m=this.options.zoomReverse,v=this.options.zoomOffset;return m&&(a=u-a),a+v},_getSubdomain:function(a){var u=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var a,u;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(u=this._tiles[a].el,u.onload=x,u.onerror=x,!u.complete)){u.src=Tt;var m=this._tiles[a].coords;fe(u),delete this._tiles[a],this.fire("tileabort",{tile:u,coords:m})}},_removeTile:function(a){var u=this._tiles[a];if(u)return u.el.setAttribute("src",Tt),ms.prototype._removeTile.call(this,a)},_tileReady:function(a,u,m){if(!(!this._map||m&&m.getAttribute("src")===Tt))return ms.prototype._tileReady.call(this,a,u,m)}});function Kn(a,u){return new ps(a,u)}var Yn=ps.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,u){this._url=a;var m=l({},this.defaultWmsParams);for(var v in u)v in this.options||(m[v]=u[v]);u=G(this,u);var w=u.detectRetina&&Lt.retina?2:1,I=this.getTileSize();m.width=I.x*w,m.height=I.y*w,this.wmsParams=m},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,ps.prototype.onAdd.call(this,a)},getTileUrl:function(a){var u=this._tileCoordsToNwSe(a),m=this._crs,v=_t(m.project(u[0]),m.project(u[1])),w=v.min,I=v.max,N=(this._wmsVersion>=1.3&&this._crs===Ge?[w.y,w.x,I.y,I.x]:[w.x,w.y,I.x,I.y]).join(","),Q=ps.prototype.getTileUrl.call(this,a);return Q+Z(this.wmsParams,Q,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+N},setParams:function(a,u){return l(this.wmsParams,a),u||this.redraw(),this}});function ua(a,u){return new Yn(a,u)}ps.WMS=Yn,Kn.wms=ua;var Si=de.extend({options:{padding:.1},initialize:function(a){G(this,a),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),jt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,u){var m=this._map.getZoomScale(u,this._zoom),v=this._map.getSize().multiplyBy(.5+this.options.padding),w=this._map.project(this._center,u),I=v.multiplyBy(-m).add(w).subtract(this._map._getNewPixelOrigin(a,u));Lt.any3d?wn(this._container,I,m):zt(this._container,I)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,u=this._map.getSize(),m=this._map.containerPointToLayerPoint(u.multiplyBy(-a)).round();this._bounds=new ot(m,m.add(u.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),bo=Si.extend({options:{tolerance:0},getEvents:function(){var a=Si.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Si.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Nt(a,"mousemove",this._onMouseMove,this),Nt(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Nt(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){F(this._redrawRequest),delete this._ctx,fe(this._container),ae(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var u in this._layers)a=this._layers[u],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Si.prototype._update.call(this);var a=this._bounds,u=this._container,m=a.getSize(),v=Lt.retina?2:1;zt(u,a.min),u.width=v*m.x,u.height=v*m.y,u.style.width=m.x+"px",u.style.height=m.y+"px",Lt.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){Si.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[y(a)]=a;var u=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var u=a._order,m=u.next,v=u.prev;m?m.prev=v:this._drawLast=v,v?v.next=m:this._drawFirst=m,delete a._order,delete this._layers[y(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var u=a.options.dashArray.split(/[, ]+/),m=[],v,w;for(w=0;w<u.length;w++){if(v=Number(u[w]),isNaN(v))return;m.push(v)}a.options._dashArray=m}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||H(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var u=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ot,this._redrawBounds.extend(a._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(a._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var u=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,u=this._redrawBounds;if(this._ctx.save(),u){var m=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,m.x,m.y),this._ctx.clip()}this._drawing=!0;for(var v=this._drawFirst;v;v=v.next)a=v.layer,(!u||a._pxBounds&&a._pxBounds.intersects(u))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,u){if(this._drawing){var m,v,w,I,N=a._parts,Q=N.length,rt=this._ctx;if(Q){for(rt.beginPath(),m=0;m<Q;m++){for(v=0,w=N[m].length;v<w;v++)I=N[m][v],rt[v?"lineTo":"moveTo"](I.x,I.y);u&&rt.closePath()}this._fillStroke(rt,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var u=a._point,m=this._ctx,v=Math.max(Math.round(a._radius),1),w=(Math.max(Math.round(a._radiusY),1)||v)/v;w!==1&&(m.save(),m.scale(1,w)),m.beginPath(),m.arc(u.x,u.y/w,v,0,Math.PI*2,!1),w!==1&&m.restore(),this._fillStroke(m,a)}},_fillStroke:function(a,u){var m=u.options;m.fill&&(a.globalAlpha=m.fillOpacity,a.fillStyle=m.fillColor||m.color,a.fill(m.fillRule||"evenodd")),m.stroke&&m.weight!==0&&(a.setLineDash&&a.setLineDash(u.options&&u.options._dashArray||[]),a.globalAlpha=m.opacity,a.lineWidth=m.weight,a.strokeStyle=m.color,a.lineCap=m.lineCap,a.lineJoin=m.lineJoin,a.stroke())},_onClick:function(a){for(var u=this._map.mouseEventToLayerPoint(a),m,v,w=this._drawFirst;w;w=w.next)m=w.layer,m.options.interactive&&m._containsPoint(u)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(m))&&(v=m);this._fireEvent(v?[v]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,u)}},_handleMouseOut:function(a){var u=this._hoveredLayer;u&&(ge(this._container,"leaflet-interactive"),this._fireEvent([u],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,u){if(!this._mouseHoverThrottled){for(var m,v,w=this._drawFirst;w;w=w.next)m=w.layer,m.options.interactive&&m._containsPoint(u)&&(v=m);v!==this._hoveredLayer&&(this._handleMouseOut(a),v&&(jt(this._container,"leaflet-interactive"),this._fireEvent([v],a,"mouseover"),this._hoveredLayer=v)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(d(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,u,m){this._map._fireDOMEvent(u,m||u.type,a)},_bringToFront:function(a){var u=a._order;if(u){var m=u.next,v=u.prev;if(m)m.prev=v;else return;v?v.next=m:m&&(this._drawFirst=m),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(a)}},_bringToBack:function(a){var u=a._order;if(u){var m=u.next,v=u.prev;if(v)v.next=m;else return;m?m.prev=v:v&&(this._drawLast=v),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(a)}}});function Ao(a){return Lt.canvas?new bo(a):null}var gs=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ca={_initContainer:function(){this._container=Qt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Si.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var u=a._container=gs("shape");jt(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",a._path=gs("path"),u.appendChild(a._path),this._updateStyle(a),this._layers[y(a)]=a},_addPath:function(a){var u=a._container;this._container.appendChild(u),a.options.interactive&&a.addInteractiveTarget(u)},_removePath:function(a){var u=a._container;fe(u),a.removeInteractiveTarget(u),delete this._layers[y(a)]},_updateStyle:function(a){var u=a._stroke,m=a._fill,v=a.options,w=a._container;w.stroked=!!v.stroke,w.filled=!!v.fill,v.stroke?(u||(u=a._stroke=gs("stroke")),w.appendChild(u),u.weight=v.weight+"px",u.color=v.color,u.opacity=v.opacity,v.dashArray?u.dashStyle=nt(v.dashArray)?v.dashArray.join(" "):v.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=v.lineCap.replace("butt","flat"),u.joinstyle=v.lineJoin):u&&(w.removeChild(u),a._stroke=null),v.fill?(m||(m=a._fill=gs("fill")),w.appendChild(m),m.color=v.fillColor||v.color,m.opacity=v.fillOpacity):m&&(w.removeChild(m),a._fill=null)},_updateCircle:function(a){var u=a._point.round(),m=Math.round(a._radius),v=Math.round(a._radiusY||m);this._setPath(a,a._empty()?"M0 0":"AL "+u.x+","+u.y+" "+m+","+v+" 0,"+65535*360)},_setPath:function(a,u){a._path.v=u},_bringToFront:function(a){Bi(a._container)},_bringToBack:function(a){Lr(a._container)}},So=Lt.vml?gs:Bs,zr=Si.extend({_initContainer:function(){this._container=So("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=So("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){fe(this._container),ae(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Si.prototype._update.call(this);var a=this._bounds,u=a.getSize(),m=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,m.setAttribute("width",u.x),m.setAttribute("height",u.y)),zt(m,a.min),m.setAttribute("viewBox",[a.min.x,a.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(a){var u=a._path=So("path");a.options.className&&jt(u,a.options.className),a.options.interactive&&jt(u,"leaflet-interactive"),this._updateStyle(a),this._layers[y(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){fe(a._path),a.removeInteractiveTarget(a._path),delete this._layers[y(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var u=a._path,m=a.options;u&&(m.stroke?(u.setAttribute("stroke",m.color),u.setAttribute("stroke-opacity",m.opacity),u.setAttribute("stroke-width",m.weight),u.setAttribute("stroke-linecap",m.lineCap),u.setAttribute("stroke-linejoin",m.lineJoin),m.dashArray?u.setAttribute("stroke-dasharray",m.dashArray):u.removeAttribute("stroke-dasharray"),m.dashOffset?u.setAttribute("stroke-dashoffset",m.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),m.fill?(u.setAttribute("fill",m.fillColor||m.color),u.setAttribute("fill-opacity",m.fillOpacity),u.setAttribute("fill-rule",m.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(a,u){this._setPath(a,to(a._parts,u))},_updateCircle:function(a){var u=a._point,m=Math.max(Math.round(a._radius),1),v=Math.max(Math.round(a._radiusY),1)||m,w="a"+m+","+v+" 0 1,0 ",I=a._empty()?"M0 0":"M"+(u.x-m)+","+u.y+w+m*2+",0 "+w+-m*2+",0 ";this._setPath(a,I)},_setPath:function(a,u){a._path.setAttribute("d",u)},_bringToFront:function(a){Bi(a._path)},_bringToBack:function(a){Lr(a._path)}});Lt.vml&&zr.include(ca);function _s(a){return Lt.svg||Lt.vml?new zr(a):null}Zt.include({getRenderer:function(a){var u=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var u=this._paneRenderers[a];return u===void 0&&(u=this._createRenderer({pane:a}),this._paneRenderers[a]=u),u},_createRenderer:function(a){return this.options.preferCanvas&&Ao(a)||_s(a)}});var Xc=aa.extend({initialize:function(a,u){aa.prototype.initialize.call(this,this._boundsToLatLngs(a),u)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=wt(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function Qn(a,u){return new Xc(a,u)}zr.create=So,zr.pointsToPath=to,$n.geometryToLayer=vo,$n.coordsToLatLng=dl,$n.coordsToLatLngs=To,$n.latLngToCoords=Eo,$n.latLngsToCoords=ml,$n.getFeature=wi,$n.asFeature=oa,Zt.mergeOptions({boxZoom:!0});var yl=Nn.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Nt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ae(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){fe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),dn(),ls(),this._startPoint=this._map.mouseEventToContainerPoint(a),Nt(document,{contextmenu:mn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=Qt("div","leaflet-zoom-box",this._container),jt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var u=new ot(this._point,this._startPoint),m=u.getSize();zt(this._box,u.min),this._box.style.width=m.x+"px",this._box.style.height=m.y+"px"},_finish:function(){this._moved&&(fe(this._box),ge(this._container,"leaflet-crosshair")),_i(),ho(),ae(document,{contextmenu:mn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(d(this._resetState,this),0);var u=new mt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Zt.addInitHook("addHandler","boxZoom",yl),Zt.mergeOptions({doubleClickZoom:!0});var $i=Nn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var u=this._map,m=u.getZoom(),v=u.options.zoomDelta,w=a.originalEvent.shiftKey?m-v:m+v;u.options.doubleClickZoom==="center"?u.setZoom(w):u.setZoomAround(a.containerPoint,w)}});Zt.addInitHook("addHandler","doubleClickZoom",$i),Zt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var wu=Nn.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Ei(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}jt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ge(this._map._container,"leaflet-grab"),ge(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=wt(this._map.options.maxBounds);this._offsetLimit=_t(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var u=this._lastTime=+new Date,m=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(m),this._times.push(u),this._prunePositions(u)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,u){return a-(a-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;a.x<u.min.x&&(a.x=this._viscousLimit(a.x,u.min.x)),a.y<u.min.y&&(a.y=this._viscousLimit(a.y,u.min.y)),a.x>u.max.x&&(a.x=this._viscousLimit(a.x,u.max.x)),a.y>u.max.y&&(a.y=this._viscousLimit(a.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,u=Math.round(a/2),m=this._initialWorldOffset,v=this._draggable._newPos.x,w=(v-u+m)%a+u-m,I=(v+u+m)%a-u-m,N=Math.abs(w+m)<Math.abs(I+m)?w:I;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=N},_onDragEnd:function(a){var u=this._map,m=u.options,v=!m.inertia||a.noInertia||this._times.length<2;if(u.fire("dragend",a),v)u.fire("moveend");else{this._prunePositions(+new Date);var w=this._lastPos.subtract(this._positions[0]),I=(this._lastTime-this._times[0])/1e3,N=m.easeLinearity,Q=w.multiplyBy(N/I),rt=Q.distanceTo([0,0]),dt=Math.min(m.inertiaMaxSpeed,rt),bt=Q.multiplyBy(dt/rt),Ct=dt/(m.inertiaDeceleration*N),Ot=bt.multiplyBy(-Ct/2).round();!Ot.x&&!Ot.y?u.fire("moveend"):(Ot=u._limitOffset(Ot,u.options.maxBounds),H(function(){u.panBy(Ot,{duration:Ct,easeLinearity:N,noMoveStart:!0,animate:!0})}))}}});Zt.addInitHook("addHandler","dragging",wu),Zt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Io=Nn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Nt(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ae(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,u=document.documentElement,m=a.scrollTop||u.scrollTop,v=a.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(v,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var u=this._panKeys={},m=this.keyCodes,v,w;for(v=0,w=m.left.length;v<w;v++)u[m.left[v]]=[-1*a,0];for(v=0,w=m.right.length;v<w;v++)u[m.right[v]]=[a,0];for(v=0,w=m.down.length;v<w;v++)u[m.down[v]]=[0,a];for(v=0,w=m.up.length;v<w;v++)u[m.up[v]]=[0,-1*a]},_setZoomDelta:function(a){var u=this._zoomKeys={},m=this.keyCodes,v,w;for(v=0,w=m.zoomIn.length;v<w;v++)u[m.zoomIn[v]]=a;for(v=0,w=m.zoomOut.length;v<w;v++)u[m.zoomOut[v]]=-a},_addHooks:function(){Nt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ae(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var u=a.keyCode,m=this._map,v;if(u in this._panKeys){if(!m._panAnim||!m._panAnim._inProgress)if(v=this._panKeys[u],a.shiftKey&&(v=D(v).multiplyBy(3)),m.options.maxBounds&&(v=m._limitOffset(D(v),m.options.maxBounds)),m.options.worldCopyJump){var w=m.wrapLatLng(m.unproject(m.project(m.getCenter()).add(v)));m.panTo(w)}else m.panBy(v)}else if(u in this._zoomKeys)m.setZoom(m.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&m._popup&&m._popup.options.closeOnEscapeKey)m.closePopup();else return;mn(a)}}});Zt.addInitHook("addHandler","keyboard",Io),Zt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ur=Nn.extend({addHooks:function(){Nt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ae(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var u=us(a),m=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var v=Math.max(m-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(d(this._performZoom,this),v),mn(a)},_performZoom:function(){var a=this._map,u=a.getZoom(),m=this._map.options.zoomSnap||0;a._stop();var v=this._delta/(this._map.options.wheelPxPerZoomLevel*4),w=4*Math.log(2/(1+Math.exp(-Math.abs(v))))/Math.LN2,I=m?Math.ceil(w/m)*m:w,N=a._limitZoom(u+(this._delta>0?I:-I))-u;this._delta=0,this._startTime=null,N&&(a.options.scrollWheelZoom==="center"?a.setZoom(u+N):a.setZoomAround(this._lastMousePos,u+N))}});Zt.addInitHook("addHandler","scrollWheelZoom",Ur);var bu=600;Zt.mergeOptions({tapHold:Lt.touchNative&&Lt.safari&&Lt.mobile,tapTolerance:15});var vl=Nn.extend({addHooks:function(){Nt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ae(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var u=a.touches[0];this._startPos=this._newPos=new pt(u.clientX,u.clientY),this._holdTimeout=setTimeout(d(function(){this._cancel(),this._isTapValid()&&(Nt(document,"touchend",we),Nt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),bu),Nt(document,"touchend touchcancel contextmenu",this._cancel,this),Nt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){ae(document,"touchend",we),ae(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),ae(document,"touchend touchcancel contextmenu",this._cancel,this),ae(document,"touchmove",this._onMove,this)},_onMove:function(a){var u=a.touches[0];this._newPos=new pt(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,u){var m=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});m._simulated=!0,u.target.dispatchEvent(m)}});Zt.addInitHook("addHandler","tapHold",vl),Zt.mergeOptions({touchZoom:Lt.touch,bounceAtZoomLimits:!0});var ys=Nn.extend({addHooks:function(){jt(this._map._container,"leaflet-touch-zoom"),Nt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ge(this._map._container,"leaflet-touch-zoom"),ae(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var u=this._map;if(!(!a.touches||a.touches.length!==2||u._animatingZoom||this._zooming)){var m=u.mouseEventToContainerPoint(a.touches[0]),v=u.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(m.add(v)._divideBy(2))),this._startDist=m.distanceTo(v),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Nt(document,"touchmove",this._onTouchMove,this),Nt(document,"touchend touchcancel",this._onTouchEnd,this),we(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var u=this._map,m=u.mouseEventToContainerPoint(a.touches[0]),v=u.mouseEventToContainerPoint(a.touches[1]),w=m.distanceTo(v)/this._startDist;if(this._zoom=u.getScaleZoom(w,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&w<1||this._zoom>u.getMaxZoom()&&w>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,w===1)return}else{var I=m._add(v)._divideBy(2)._subtract(this._centerPoint);if(w===1&&I.x===0&&I.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(I),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),F(this._animRequest);var N=d(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=H(N,this,!0),we(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,F(this._animRequest),ae(document,"touchmove",this._onTouchMove,this),ae(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Zt.addInitHook("addHandler","touchZoom",ys),Zt.BoxZoom=yl,Zt.DoubleClickZoom=$i,Zt.Drag=wu,Zt.Keyboard=Io,Zt.ScrollWheelZoom=Ur,Zt.TapHold=vl,Zt.TouchZoom=ys,e.Bounds=ot,e.Browser=Lt,e.CRS=Ee,e.Canvas=bo,e.Circle=vu,e.CircleMarker=yo,e.Class=pe,e.Control=an,e.DivIcon=Eu,e.DivOverlay=bi,e.DomEvent=ol,e.DomUtil=fo,e.Draggable=Ei,e.Evented=yt,e.FeatureGroup=Re,e.GeoJSON=$n,e.GridLayer=ms,e.Handler=Nn,e.Icon=Gi,e.ImageOverlay=Zi,e.LatLng=It,e.LatLngBounds=mt,e.Layer=de,e.LayerGroup=Le,e.LineUtil=P,e.Map=Zt,e.Marker=sa,e.Mixin=hs,e.Path=dr,e.Point=pt,e.PolyUtil=ea,e.Polygon=aa,e.Polyline=mr,e.Popup=wo,e.PosAnimation=cs,e.Projection=vt,e.Rectangle=Xc,e.Renderer=Si,e.SVG=zr,e.SVGOverlay=Vr,e.TileLayer=ps,e.Tooltip=_l,e.Transformation=ci,e.Util=U,e.VideoOverlay=gl,e.bind=d,e.bounds=_t,e.canvas=Ao,e.circle=hd,e.circleMarker=Zc,e.control=pn,e.divIcon=Qc,e.extend=l,e.featureGroup=Fi,e.geoJSON=pl,e.geoJson=$c,e.gridLayer=Ai,e.icon=fl,e.imageOverlay=la,e.latLng=Et,e.latLngBounds=wt,e.layerGroup=fr,e.map=qi,e.marker=yu,e.point=D,e.polygon=Zn,e.polyline=fd,e.popup=dd,e.rectangle=Qn,e.setOptions=G,e.stamp=y,e.svg=_s,e.svgOverlay=Yc,e.tileLayer=Kn,e.tooltip=md,e.transformation=hi,e.version=s,e.videoOverlay=Kc;var ha=window.L;e.noConflict=function(){return window.L=ha,this},window.L=e})}(lc,lc.exports)),lc.exports}var Nc=CI();const pE=Hp(Nc);function Xp(i,t,e){return Object.freeze({instance:i,context:t,container:e})}function Wp(i,t){return t==null?function(s,l){const h=K.useRef(void 0);return h.current||(h.current=i(s,l)),h}:function(s,l){const h=K.useRef(void 0);h.current||(h.current=i(s,l));const d=K.useRef(s),{instance:_}=h.current;return K.useEffect(function(){d.current!==s&&(t(_,s,d.current),d.current=s)},[_,s,t]),h}}function xI(i,t){K.useEffect(function(){return(t.layerContainer??t.map).addLayer(i.instance),function(){var h;(h=t.layerContainer)==null||h.removeLayer(i.instance),t.map.removeLayer(i.instance)}},[t,i])}function gE(i){return function(e){const s=dE(),l=i(Qp(e,s),s);return fE(s.map,e.attribution),mE(l.current,e.eventHandlers),xI(l.current,s),l}}function PI(i,t){const e=Wp(i,t),s=gE(e);return bI(s)}function OI(i,t){const e=Wp(i),s=II(e,t);return AI(s)}function LI(i,t){const e=Wp(i,t),s=gE(e);return SI(s)}function MI(i,t,e){const{opacity:s,zIndex:l}=t;s!=null&&s!==e.opacity&&i.setOpacity(s),l!=null&&l!==e.zIndex&&i.setZIndex(l)}function DI({bounds:i,boundsOptions:t,center:e,children:s,className:l,id:h,placeholder:d,style:_,whenReady:y,zoom:T,...S},x){const[C]=K.useState({className:l,id:h,style:_}),[V,q]=K.useState(null),G=K.useRef(void 0);K.useImperativeHandle(x,()=>(V==null?void 0:V.map)??null,[V]);const Z=K.useCallback(W=>{if(W!==null&&!G.current){const nt=new Nc.Map(W,S);G.current=nt,e!=null&&T!=null?nt.setView(e,T):i!=null&&nt.fitBounds(i,t),y!=null&&nt.whenReady(y),q(EI(nt))}},[]);K.useEffect(()=>()=>{V==null||V.map.remove()},[V]);const tt=V?Te.createElement(Yp,{value:V},s):d??null;return Te.createElement("div",{...C,ref:Z},tt)}const NI=K.forwardRef(DI),kI=PI(function({position:t,...e},s){const l=new Nc.Marker(t,e);return Xp(l,wI(s,{overlayContainer:l}))},function(t,e,s){e.position!==s.position&&t.setLatLng(e.position),e.icon!=null&&e.icon!==s.icon&&t.setIcon(e.icon),e.zIndexOffset!=null&&e.zIndexOffset!==s.zIndexOffset&&t.setZIndexOffset(e.zIndexOffset),e.opacity!=null&&e.opacity!==s.opacity&&t.setOpacity(e.opacity),t.dragging!=null&&e.draggable!==s.draggable&&(e.draggable===!0?t.dragging.enable():t.dragging.disable())}),VI=OI(function(t,e){const s=new Nc.Popup(t,e.overlayContainer);return Xp(s,e)},function(t,e,{position:s},l){K.useEffect(function(){const{instance:d}=t;function _(T){T.popup===d&&(d.update(),l(!0))}function y(T){T.popup===d&&l(!1)}return e.map.on({popupopen:_,popupclose:y}),e.overlayContainer==null?(s!=null&&d.setLatLng(s),d.openOn(e.map)):e.overlayContainer.bindPopup(d),function(){var S;e.map.off({popupopen:_,popupclose:y}),(S=e.overlayContainer)==null||S.unbindPopup(),e.map.removeLayer(d)}},[t,e,l,s])}),zI=LI(function({url:t,...e},s){const l=new Nc.TileLayer(t,Qp(e,s));return Xp(l,s)},function(t,e,s){MI(t,e,s);const{url:l}=e;l!=null&&l!==s.url&&t.setUrl(l)}),UI=()=>{};var l0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=function(i){const t=[];let e=0;for(let s=0;s<i.length;s++){let l=i.charCodeAt(s);l<128?t[e++]=l:l<2048?(t[e++]=l>>6|192,t[e++]=l&63|128):(l&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++s)&1023),t[e++]=l>>18|240,t[e++]=l>>12&63|128,t[e++]=l>>6&63|128,t[e++]=l&63|128):(t[e++]=l>>12|224,t[e++]=l>>6&63|128,t[e++]=l&63|128)}return t},BI=function(i){const t=[];let e=0,s=0;for(;e<i.length;){const l=i[e++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const h=i[e++];t[s++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=i[e++],d=i[e++],_=i[e++],y=((l&7)<<18|(h&63)<<12|(d&63)<<6|_&63)-65536;t[s++]=String.fromCharCode(55296+(y>>10)),t[s++]=String.fromCharCode(56320+(y&1023))}else{const h=i[e++],d=i[e++];t[s++]=String.fromCharCode((l&15)<<12|(h&63)<<6|d&63)}}return t.join("")},yE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<i.length;l+=3){const h=i[l],d=l+1<i.length,_=d?i[l+1]:0,y=l+2<i.length,T=y?i[l+2]:0,S=h>>2,x=(h&3)<<4|_>>4;let C=(_&15)<<2|T>>6,V=T&63;y||(V=64,d||(C=64)),s.push(e[S],e[x],e[C],e[V])}return s.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(_E(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):BI(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<i.length;){const h=e[i.charAt(l++)],_=l<i.length?e[i.charAt(l)]:0;++l;const T=l<i.length?e[i.charAt(l)]:64;++l;const x=l<i.length?e[i.charAt(l)]:64;if(++l,h==null||_==null||T==null||x==null)throw new HI;const C=h<<2|_>>4;if(s.push(C),T!==64){const V=_<<4&240|T>>2;if(s.push(V),x!==64){const q=T<<6&192|x;s.push(q)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class HI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qI=function(i){const t=_E(i);return yE.encodeByteArray(t,!0)},gf=function(i){return qI(i).replace(/\./g,"")},vE=function(i){try{return yE.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=()=>jI().__FIREBASE_DEFAULTS__,GI=()=>{if(typeof process>"u"||typeof l0>"u")return;const i=l0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},ZI=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&vE(i[1]);return t&&JSON.parse(t)},Uf=()=>{try{return UI()||FI()||GI()||ZI()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},TE=i=>{var t,e;return(e=(t=Uf())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[i]},$I=i=>{const t=TE(i);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),s]:[t.substring(0,e),s]},EE=()=>{var i;return(i=Uf())===null||i===void 0?void 0:i.config},wE=i=>{var t;return(t=Uf())===null||t===void 0?void 0:t[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,s)=>{e?this.reject(e):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(i){return i.endsWith(".cloudworkstations.dev")}async function bE(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},s=t||"demo-project",l=i.iat||0,h=i.sub||i.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},i);return[gf(JSON.stringify(e)),gf(JSON.stringify(d)),""].join(".")}const dc={};function QI(){const i={prod:[],emulator:[]};for(const t of Object.keys(dc))dc[t]?i.emulator.push(t):i.prod.push(t);return i}function XI(i){let t=document.getElementById(i),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),e=!0),{created:e,element:t}}let u0=!1;function AE(i,t){if(typeof window>"u"||typeof document>"u"||!ou(window.location.host)||dc[i]===t||dc[i]||u0)return;dc[i]=t;function e(C){return`__firebase__banner__${C}`}const s="__firebase__banner",h=QI().prod.length>0;function d(){const C=document.getElementById(s);C&&C.remove()}function _(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function y(C,V){C.setAttribute("width","24"),C.setAttribute("id",V),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function T(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{u0=!0,d()},C}function S(C,V){C.setAttribute("id",V),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function x(){const C=XI(s),V=e("text"),q=document.getElementById(V)||document.createElement("span"),G=e("learnmore"),Z=document.getElementById(G)||document.createElement("a"),tt=e("preprendIcon"),W=document.getElementById(tt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const nt=C.element;_(nt),S(Z,G);const gt=T();y(W,tt),nt.append(W,q,Z,gt),document.body.appendChild(nt)}h?(q.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,q.innerText="Preview backend running in this workspace."),q.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qn())}function JI(){var i;const t=(i=Uf())===null||i===void 0?void 0:i.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function tR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Jp(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function eR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nR(){const i=qn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function iR(){return!JI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tg(){try{return typeof indexedDB=="object"}catch{return!1}}function eg(){return new Promise((i,t)=>{try{let e=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),e||self.indexedDB.deleteDatabase(s),i(!0)},l.onupgradeneeded=()=>{e=!1},l.onerror=()=>{var h;t(((h=l.error)===null||h===void 0?void 0:h.message)||"")}}catch(e){t(e)}})}function SE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR="FirebaseError";class Sr extends Error{constructor(t,e,s){super(e),this.code=t,this.customData=s,this.name=rR,Object.setPrototypeOf(this,Sr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qo.prototype.create)}}class Qo{constructor(t,e,s){this.service=t,this.serviceName=e,this.errors=s}create(t,...e){const s=e[0]||{},l=`${this.service}/${t}`,h=this.errors[t],d=h?sR(h,s):"Error",_=`${this.serviceName}: ${d} (${l}).`;return new Sr(l,_,s)}}function sR(i,t){return i.replace(aR,(e,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const aR=/\{\$([^}]+)}/g;function oR(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function Ga(i,t){if(i===t)return!0;const e=Object.keys(i),s=Object.keys(t);for(const l of e){if(!s.includes(l))return!1;const h=i[l],d=t[l];if(c0(h)&&c0(d)){if(!Ga(h,d))return!1}else if(h!==d)return!1}for(const l of s)if(!e.includes(l))return!1;return!0}function c0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kc(i){const t=[];for(const[e,s]of Object.entries(i))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function lR(i,t){const e=new uR(i,t);return e.subscribe.bind(e)}class uR{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,s){let l;if(t===void 0&&e===void 0&&s===void 0)throw new Error("Missing Observer.");cR(t,["next","error","complete"])?l=t:l={next:t,error:e,complete:s},l.next===void 0&&(l.next=Ym),l.error===void 0&&(l.error=Ym),l.complete===void 0&&(l.complete=Ym);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cR(i,t){if(typeof i!="object"||i===null)return!1;for(const e of t)if(e in i&&typeof i[e]=="function")return!0;return!1}function Ym(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR=1e3,fR=2,dR=4*60*60*1e3,mR=.5;function h0(i,t=hR,e=fR){const s=t*Math.pow(e,i),l=Math.round(mR*s*(Math.random()-.5)*2);return Math.min(dR,s+l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(i){return i&&i._delegate?i._delegate:i}class br{constructor(t,e,s){this.name=t,this.instanceFactory=e,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const s=new KI;if(this.instancesDeferred.set(e,s),this.isInitialized(e)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:e});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(h){if(l)return null;throw h}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(_R(t))try{this.getOrInitializeService({instanceIdentifier:Vo})}catch{}for(const[e,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(e);try{const h=this.getOrInitializeService({instanceIdentifier:l});s.resolve(h)}catch{}}}}clearInstance(t=Vo){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Vo){return this.instances.has(t)}getOptions(t=Vo){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:e});for(const[h,d]of this.instancesDeferred.entries()){const _=this.normalizeInstanceIdentifier(h);s===_&&d.resolve(l)}return l}onInit(t,e){var s;const l=this.normalizeInstanceIdentifier(e),h=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;h.add(t),this.onInitCallbacks.set(l,h);const d=this.instances.get(l);return d&&t(d,l),()=>{h.delete(t)}}invokeOnInitCallbacks(t,e){const s=this.onInitCallbacks.get(e);if(s)for(const l of s)try{l(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:gR(t),options:e}),this.instances.set(t,s),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Vo){return this.component?this.component.multipleInstances?t:Vo:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gR(i){return i===Vo?void 0:i}function _R(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new pR(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ne;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ne||(ne={}));const vR={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},TR=ne.INFO,ER={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},wR=(i,t,...e)=>{if(t<i.logLevel)return;const s=new Date().toISOString(),l=ER[t];if(l)console[l](`[${s}]  ${i.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Bf{constructor(t){this.name=t,this._logLevel=TR,this._logHandler=wR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ne))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?vR[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...t),this._logHandler(this,ne.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...t),this._logHandler(this,ne.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...t),this._logHandler(this,ne.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...t),this._logHandler(this,ne.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...t),this._logHandler(this,ne.ERROR,...t)}}const bR=(i,t)=>t.some(e=>i instanceof e);let f0,d0;function AR(){return f0||(f0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SR(){return d0||(d0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IE=new WeakMap,hp=new WeakMap,RE=new WeakMap,Qm=new WeakMap,ng=new WeakMap;function IR(i){const t=new Promise((e,s)=>{const l=()=>{i.removeEventListener("success",h),i.removeEventListener("error",d)},h=()=>{e(Ba(i.result)),l()},d=()=>{s(i.error),l()};i.addEventListener("success",h),i.addEventListener("error",d)});return t.then(e=>{e instanceof IDBCursor&&IE.set(e,i)}).catch(()=>{}),ng.set(t,i),t}function RR(i){if(hp.has(i))return;const t=new Promise((e,s)=>{const l=()=>{i.removeEventListener("complete",h),i.removeEventListener("error",d),i.removeEventListener("abort",d)},h=()=>{e(),l()},d=()=>{s(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",h),i.addEventListener("error",d),i.addEventListener("abort",d)});hp.set(i,t)}let fp={get(i,t,e){if(i instanceof IDBTransaction){if(t==="done")return hp.get(i);if(t==="objectStoreNames")return i.objectStoreNames||RE.get(i);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Ba(i[t])},set(i,t,e){return i[t]=e,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function CR(i){fp=i(fp)}function xR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const s=i.call(Xm(this),t,...e);return RE.set(s,t.sort?t.sort():[t]),Ba(s)}:SR().includes(i)?function(...t){return i.apply(Xm(this),t),Ba(IE.get(this))}:function(...t){return Ba(i.apply(Xm(this),t))}}function PR(i){return typeof i=="function"?xR(i):(i instanceof IDBTransaction&&RR(i),bR(i,AR())?new Proxy(i,fp):i)}function Ba(i){if(i instanceof IDBRequest)return IR(i);if(Qm.has(i))return Qm.get(i);const t=PR(i);return t!==i&&(Qm.set(i,t),ng.set(t,i)),t}const Xm=i=>ng.get(i);function CE(i,t,{blocked:e,upgrade:s,blocking:l,terminated:h}={}){const d=indexedDB.open(i,t),_=Ba(d);return s&&d.addEventListener("upgradeneeded",y=>{s(Ba(d.result),y.oldVersion,y.newVersion,Ba(d.transaction),y)}),e&&d.addEventListener("blocked",y=>e(y.oldVersion,y.newVersion,y)),_.then(y=>{h&&y.addEventListener("close",()=>h()),l&&y.addEventListener("versionchange",T=>l(T.oldVersion,T.newVersion,T))}).catch(()=>{}),_}const OR=["get","getKey","getAll","getAllKeys","count"],LR=["put","add","delete","clear"],Wm=new Map;function m0(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Wm.get(t))return Wm.get(t);const e=t.replace(/FromIndex$/,""),s=t!==e,l=LR.includes(e);if(!(e in(s?IDBIndex:IDBObjectStore).prototype)||!(l||OR.includes(e)))return;const h=async function(d,..._){const y=this.transaction(d,l?"readwrite":"readonly");let T=y.store;return s&&(T=T.index(_.shift())),(await Promise.all([T[e](..._),l&&y.done]))[0]};return Wm.set(t,h),h}CR(i=>({...i,get:(t,e,s)=>m0(t,e)||i.get(t,e,s),has:(t,e)=>!!m0(t,e)||i.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(DR(e)){const s=e.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(e=>e).join(" ")}}function DR(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const dp="@firebase/app",p0="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=new Bf("@firebase/app"),NR="@firebase/app-compat",kR="@firebase/analytics-compat",VR="@firebase/analytics",zR="@firebase/app-check-compat",UR="@firebase/app-check",BR="@firebase/auth",HR="@firebase/auth-compat",qR="@firebase/database",jR="@firebase/data-connect",FR="@firebase/database-compat",GR="@firebase/functions",ZR="@firebase/functions-compat",$R="@firebase/installations",KR="@firebase/installations-compat",YR="@firebase/messaging",QR="@firebase/messaging-compat",XR="@firebase/performance",WR="@firebase/performance-compat",JR="@firebase/remote-config",tC="@firebase/remote-config-compat",eC="@firebase/storage",nC="@firebase/storage-compat",iC="@firebase/firestore",rC="@firebase/ai",sC="@firebase/firestore-compat",aC="firebase",oC="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp="[DEFAULT]",lC={[dp]:"fire-core",[NR]:"fire-core-compat",[VR]:"fire-analytics",[kR]:"fire-analytics-compat",[UR]:"fire-app-check",[zR]:"fire-app-check-compat",[BR]:"fire-auth",[HR]:"fire-auth-compat",[qR]:"fire-rtdb",[jR]:"fire-data-connect",[FR]:"fire-rtdb-compat",[GR]:"fire-fn",[ZR]:"fire-fn-compat",[$R]:"fire-iid",[KR]:"fire-iid-compat",[YR]:"fire-fcm",[QR]:"fire-fcm-compat",[XR]:"fire-perf",[WR]:"fire-perf-compat",[JR]:"fire-rc",[tC]:"fire-rc-compat",[eC]:"fire-gcs",[nC]:"fire-gcs-compat",[iC]:"fire-fst",[sC]:"fire-fst-compat",[rC]:"fire-vertex","fire-js":"fire-js",[aC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f=new Map,uC=new Map,pp=new Map;function g0(i,t){try{i.container.addComponent(t)}catch(e){Ds.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,e)}}function Qr(i){const t=i.name;if(pp.has(t))return Ds.debug(`There were multiple attempts to register component ${t}.`),!1;pp.set(t,i);for(const e of _f.values())g0(e,i);for(const e of uC.values())g0(e,i);return!0}function Xo(i,t){const e=i.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),i.container.getProvider(t)}function vr(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ha=new Qo("app","Firebase",cC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(t,e,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new br("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ha.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu=oC;function xE(i,t={}){let e=i;typeof t!="object"&&(t={name:t});const s=Object.assign({name:mp,automaticDataCollectionEnabled:!0},t),l=s.name;if(typeof l!="string"||!l)throw Ha.create("bad-app-name",{appName:String(l)});if(e||(e=EE()),!e)throw Ha.create("no-options");const h=_f.get(l);if(h){if(Ga(e,h.options)&&Ga(s,h.config))return h;throw Ha.create("duplicate-app",{appName:l})}const d=new yR(l);for(const y of pp.values())d.addComponent(y);const _=new hC(e,s,d);return _f.set(l,_),_}function ig(i=mp){const t=_f.get(i);if(!t&&i===mp&&EE())return xE();if(!t)throw Ha.create("no-app",{appName:i});return t}function Ji(i,t,e){var s;let l=(s=lC[i])!==null&&s!==void 0?s:i;e&&(l+=`-${e}`);const h=l.match(/\s|\//),d=t.match(/\s|\//);if(h||d){const _=[`Unable to register library "${l}" with version "${t}":`];h&&_.push(`library name "${l}" contains illegal characters (whitespace or "/")`),h&&d&&_.push("and"),d&&_.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ds.warn(_.join(" "));return}Qr(new br(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC="firebase-heartbeat-database",dC=1,Ec="firebase-heartbeat-store";let Jm=null;function PE(){return Jm||(Jm=CE(fC,dC,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Ec)}catch(e){console.warn(e)}}}}).catch(i=>{throw Ha.create("idb-open",{originalErrorMessage:i.message})})),Jm}async function mC(i){try{const e=(await PE()).transaction(Ec),s=await e.objectStore(Ec).get(OE(i));return await e.done,s}catch(t){if(t instanceof Sr)Ds.warn(t.message);else{const e=Ha.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ds.warn(e.message)}}}async function _0(i,t){try{const s=(await PE()).transaction(Ec,"readwrite");await s.objectStore(Ec).put(t,OE(i)),await s.done}catch(e){if(e instanceof Sr)Ds.warn(e.message);else{const s=Ha.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});Ds.warn(s.message)}}}function OE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC=1024,gC=30;class _C{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new vC(e),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,e;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=y0();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:l}),this._heartbeatsCache.heartbeats.length>gC){const d=TC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Ds.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=y0(),{heartbeatsToSend:s,unsentEntries:l}=yC(this._heartbeatsCache.heartbeats),h=gf(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=e,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(e){return Ds.warn(e),""}}}function y0(){return new Date().toISOString().substring(0,10)}function yC(i,t=pC){const e=[];let s=i.slice();for(const l of i){const h=e.find(d=>d.agent===l.agent);if(h){if(h.dates.push(l.date),v0(e)>t){h.dates.pop();break}}else if(e.push({agent:l.agent,dates:[l.date]}),v0(e)>t){e.pop();break}s=s.slice(1)}return{heartbeatsToSend:e,unsentEntries:s}}class vC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tg()?eg().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await mC(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const l=await this.read();return _0(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const l=await this.read();return _0(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function v0(i){return gf(JSON.stringify({version:2,heartbeats:i})).length}function TC(i){if(i.length===0)return-1;let t=0,e=i[0].date;for(let s=1;s<i.length;s++)i[s].date<e&&(e=i[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EC(i){Qr(new br("platform-logger",t=>new MR(t),"PRIVATE")),Qr(new br("heartbeat",t=>new _C(t),"PRIVATE")),Ji(dp,p0,i),Ji(dp,p0,"esm2017"),Ji("fire-js","")}EC("");var T0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qa,LE;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(z,O){function M(){}M.prototype=O.prototype,z.D=O.prototype,z.prototype=new M,z.prototype.constructor=z,z.C=function(B,H,F){for(var U=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)U[pe-2]=arguments[pe];return O.prototype[H].apply(B,U)}}function e(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,e),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(z,O,M){M||(M=0);var B=Array(16);if(typeof O=="string")for(var H=0;16>H;++H)B[H]=O.charCodeAt(M++)|O.charCodeAt(M++)<<8|O.charCodeAt(M++)<<16|O.charCodeAt(M++)<<24;else for(H=0;16>H;++H)B[H]=O[M++]|O[M++]<<8|O[M++]<<16|O[M++]<<24;O=z.g[0],M=z.g[1],H=z.g[2];var F=z.g[3],U=O+(F^M&(H^F))+B[0]+3614090360&4294967295;O=M+(U<<7&4294967295|U>>>25),U=F+(H^O&(M^H))+B[1]+3905402710&4294967295,F=O+(U<<12&4294967295|U>>>20),U=H+(M^F&(O^M))+B[2]+606105819&4294967295,H=F+(U<<17&4294967295|U>>>15),U=M+(O^H&(F^O))+B[3]+3250441966&4294967295,M=H+(U<<22&4294967295|U>>>10),U=O+(F^M&(H^F))+B[4]+4118548399&4294967295,O=M+(U<<7&4294967295|U>>>25),U=F+(H^O&(M^H))+B[5]+1200080426&4294967295,F=O+(U<<12&4294967295|U>>>20),U=H+(M^F&(O^M))+B[6]+2821735955&4294967295,H=F+(U<<17&4294967295|U>>>15),U=M+(O^H&(F^O))+B[7]+4249261313&4294967295,M=H+(U<<22&4294967295|U>>>10),U=O+(F^M&(H^F))+B[8]+1770035416&4294967295,O=M+(U<<7&4294967295|U>>>25),U=F+(H^O&(M^H))+B[9]+2336552879&4294967295,F=O+(U<<12&4294967295|U>>>20),U=H+(M^F&(O^M))+B[10]+4294925233&4294967295,H=F+(U<<17&4294967295|U>>>15),U=M+(O^H&(F^O))+B[11]+2304563134&4294967295,M=H+(U<<22&4294967295|U>>>10),U=O+(F^M&(H^F))+B[12]+1804603682&4294967295,O=M+(U<<7&4294967295|U>>>25),U=F+(H^O&(M^H))+B[13]+4254626195&4294967295,F=O+(U<<12&4294967295|U>>>20),U=H+(M^F&(O^M))+B[14]+2792965006&4294967295,H=F+(U<<17&4294967295|U>>>15),U=M+(O^H&(F^O))+B[15]+1236535329&4294967295,M=H+(U<<22&4294967295|U>>>10),U=O+(H^F&(M^H))+B[1]+4129170786&4294967295,O=M+(U<<5&4294967295|U>>>27),U=F+(M^H&(O^M))+B[6]+3225465664&4294967295,F=O+(U<<9&4294967295|U>>>23),U=H+(O^M&(F^O))+B[11]+643717713&4294967295,H=F+(U<<14&4294967295|U>>>18),U=M+(F^O&(H^F))+B[0]+3921069994&4294967295,M=H+(U<<20&4294967295|U>>>12),U=O+(H^F&(M^H))+B[5]+3593408605&4294967295,O=M+(U<<5&4294967295|U>>>27),U=F+(M^H&(O^M))+B[10]+38016083&4294967295,F=O+(U<<9&4294967295|U>>>23),U=H+(O^M&(F^O))+B[15]+3634488961&4294967295,H=F+(U<<14&4294967295|U>>>18),U=M+(F^O&(H^F))+B[4]+3889429448&4294967295,M=H+(U<<20&4294967295|U>>>12),U=O+(H^F&(M^H))+B[9]+568446438&4294967295,O=M+(U<<5&4294967295|U>>>27),U=F+(M^H&(O^M))+B[14]+3275163606&4294967295,F=O+(U<<9&4294967295|U>>>23),U=H+(O^M&(F^O))+B[3]+4107603335&4294967295,H=F+(U<<14&4294967295|U>>>18),U=M+(F^O&(H^F))+B[8]+1163531501&4294967295,M=H+(U<<20&4294967295|U>>>12),U=O+(H^F&(M^H))+B[13]+2850285829&4294967295,O=M+(U<<5&4294967295|U>>>27),U=F+(M^H&(O^M))+B[2]+4243563512&4294967295,F=O+(U<<9&4294967295|U>>>23),U=H+(O^M&(F^O))+B[7]+1735328473&4294967295,H=F+(U<<14&4294967295|U>>>18),U=M+(F^O&(H^F))+B[12]+2368359562&4294967295,M=H+(U<<20&4294967295|U>>>12),U=O+(M^H^F)+B[5]+4294588738&4294967295,O=M+(U<<4&4294967295|U>>>28),U=F+(O^M^H)+B[8]+2272392833&4294967295,F=O+(U<<11&4294967295|U>>>21),U=H+(F^O^M)+B[11]+1839030562&4294967295,H=F+(U<<16&4294967295|U>>>16),U=M+(H^F^O)+B[14]+4259657740&4294967295,M=H+(U<<23&4294967295|U>>>9),U=O+(M^H^F)+B[1]+2763975236&4294967295,O=M+(U<<4&4294967295|U>>>28),U=F+(O^M^H)+B[4]+1272893353&4294967295,F=O+(U<<11&4294967295|U>>>21),U=H+(F^O^M)+B[7]+4139469664&4294967295,H=F+(U<<16&4294967295|U>>>16),U=M+(H^F^O)+B[10]+3200236656&4294967295,M=H+(U<<23&4294967295|U>>>9),U=O+(M^H^F)+B[13]+681279174&4294967295,O=M+(U<<4&4294967295|U>>>28),U=F+(O^M^H)+B[0]+3936430074&4294967295,F=O+(U<<11&4294967295|U>>>21),U=H+(F^O^M)+B[3]+3572445317&4294967295,H=F+(U<<16&4294967295|U>>>16),U=M+(H^F^O)+B[6]+76029189&4294967295,M=H+(U<<23&4294967295|U>>>9),U=O+(M^H^F)+B[9]+3654602809&4294967295,O=M+(U<<4&4294967295|U>>>28),U=F+(O^M^H)+B[12]+3873151461&4294967295,F=O+(U<<11&4294967295|U>>>21),U=H+(F^O^M)+B[15]+530742520&4294967295,H=F+(U<<16&4294967295|U>>>16),U=M+(H^F^O)+B[2]+3299628645&4294967295,M=H+(U<<23&4294967295|U>>>9),U=O+(H^(M|~F))+B[0]+4096336452&4294967295,O=M+(U<<6&4294967295|U>>>26),U=F+(M^(O|~H))+B[7]+1126891415&4294967295,F=O+(U<<10&4294967295|U>>>22),U=H+(O^(F|~M))+B[14]+2878612391&4294967295,H=F+(U<<15&4294967295|U>>>17),U=M+(F^(H|~O))+B[5]+4237533241&4294967295,M=H+(U<<21&4294967295|U>>>11),U=O+(H^(M|~F))+B[12]+1700485571&4294967295,O=M+(U<<6&4294967295|U>>>26),U=F+(M^(O|~H))+B[3]+2399980690&4294967295,F=O+(U<<10&4294967295|U>>>22),U=H+(O^(F|~M))+B[10]+4293915773&4294967295,H=F+(U<<15&4294967295|U>>>17),U=M+(F^(H|~O))+B[1]+2240044497&4294967295,M=H+(U<<21&4294967295|U>>>11),U=O+(H^(M|~F))+B[8]+1873313359&4294967295,O=M+(U<<6&4294967295|U>>>26),U=F+(M^(O|~H))+B[15]+4264355552&4294967295,F=O+(U<<10&4294967295|U>>>22),U=H+(O^(F|~M))+B[6]+2734768916&4294967295,H=F+(U<<15&4294967295|U>>>17),U=M+(F^(H|~O))+B[13]+1309151649&4294967295,M=H+(U<<21&4294967295|U>>>11),U=O+(H^(M|~F))+B[4]+4149444226&4294967295,O=M+(U<<6&4294967295|U>>>26),U=F+(M^(O|~H))+B[11]+3174756917&4294967295,F=O+(U<<10&4294967295|U>>>22),U=H+(O^(F|~M))+B[2]+718787259&4294967295,H=F+(U<<15&4294967295|U>>>17),U=M+(F^(H|~O))+B[9]+3951481745&4294967295,z.g[0]=z.g[0]+O&4294967295,z.g[1]=z.g[1]+(H+(U<<21&4294967295|U>>>11))&4294967295,z.g[2]=z.g[2]+H&4294967295,z.g[3]=z.g[3]+F&4294967295}s.prototype.u=function(z,O){O===void 0&&(O=z.length);for(var M=O-this.blockSize,B=this.B,H=this.h,F=0;F<O;){if(H==0)for(;F<=M;)l(this,z,F),F+=this.blockSize;if(typeof z=="string"){for(;F<O;)if(B[H++]=z.charCodeAt(F++),H==this.blockSize){l(this,B),H=0;break}}else for(;F<O;)if(B[H++]=z[F++],H==this.blockSize){l(this,B),H=0;break}}this.h=H,this.o+=O},s.prototype.v=function(){var z=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);z[0]=128;for(var O=1;O<z.length-8;++O)z[O]=0;var M=8*this.o;for(O=z.length-8;O<z.length;++O)z[O]=M&255,M/=256;for(this.u(z),z=Array(16),O=M=0;4>O;++O)for(var B=0;32>B;B+=8)z[M++]=this.g[O]>>>B&255;return z};function h(z,O){var M=_;return Object.prototype.hasOwnProperty.call(M,z)?M[z]:M[z]=O(z)}function d(z,O){this.h=O;for(var M=[],B=!0,H=z.length-1;0<=H;H--){var F=z[H]|0;B&&F==O||(M[H]=F,B=!1)}this.g=M}var _={};function y(z){return-128<=z&&128>z?h(z,function(O){return new d([O|0],0>O?-1:0)}):new d([z|0],0>z?-1:0)}function T(z){if(isNaN(z)||!isFinite(z))return x;if(0>z)return Z(T(-z));for(var O=[],M=1,B=0;z>=M;B++)O[B]=z/M|0,M*=4294967296;return new d(O,0)}function S(z,O){if(z.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(z.charAt(0)=="-")return Z(S(z.substring(1),O));if(0<=z.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=T(Math.pow(O,8)),B=x,H=0;H<z.length;H+=8){var F=Math.min(8,z.length-H),U=parseInt(z.substring(H,H+F),O);8>F?(F=T(Math.pow(O,F)),B=B.j(F).add(T(U))):(B=B.j(M),B=B.add(T(U)))}return B}var x=y(0),C=y(1),V=y(16777216);i=d.prototype,i.m=function(){if(G(this))return-Z(this).m();for(var z=0,O=1,M=0;M<this.g.length;M++){var B=this.i(M);z+=(0<=B?B:4294967296+B)*O,O*=4294967296}return z},i.toString=function(z){if(z=z||10,2>z||36<z)throw Error("radix out of range: "+z);if(q(this))return"0";if(G(this))return"-"+Z(this).toString(z);for(var O=T(Math.pow(z,6)),M=this,B="";;){var H=gt(M,O).g;M=tt(M,H.j(O));var F=((0<M.g.length?M.g[0]:M.h)>>>0).toString(z);if(M=H,q(M))return F+B;for(;6>F.length;)F="0"+F;B=F+B}},i.i=function(z){return 0>z?0:z<this.g.length?this.g[z]:this.h};function q(z){if(z.h!=0)return!1;for(var O=0;O<z.g.length;O++)if(z.g[O]!=0)return!1;return!0}function G(z){return z.h==-1}i.l=function(z){return z=tt(this,z),G(z)?-1:q(z)?0:1};function Z(z){for(var O=z.g.length,M=[],B=0;B<O;B++)M[B]=~z.g[B];return new d(M,~z.h).add(C)}i.abs=function(){return G(this)?Z(this):this},i.add=function(z){for(var O=Math.max(this.g.length,z.g.length),M=[],B=0,H=0;H<=O;H++){var F=B+(this.i(H)&65535)+(z.i(H)&65535),U=(F>>>16)+(this.i(H)>>>16)+(z.i(H)>>>16);B=U>>>16,F&=65535,U&=65535,M[H]=U<<16|F}return new d(M,M[M.length-1]&-2147483648?-1:0)};function tt(z,O){return z.add(Z(O))}i.j=function(z){if(q(this)||q(z))return x;if(G(this))return G(z)?Z(this).j(Z(z)):Z(Z(this).j(z));if(G(z))return Z(this.j(Z(z)));if(0>this.l(V)&&0>z.l(V))return T(this.m()*z.m());for(var O=this.g.length+z.g.length,M=[],B=0;B<2*O;B++)M[B]=0;for(B=0;B<this.g.length;B++)for(var H=0;H<z.g.length;H++){var F=this.i(B)>>>16,U=this.i(B)&65535,pe=z.i(H)>>>16,Ie=z.i(H)&65535;M[2*B+2*H]+=U*Ie,W(M,2*B+2*H),M[2*B+2*H+1]+=F*Ie,W(M,2*B+2*H+1),M[2*B+2*H+1]+=U*pe,W(M,2*B+2*H+1),M[2*B+2*H+2]+=F*pe,W(M,2*B+2*H+2)}for(B=0;B<O;B++)M[B]=M[2*B+1]<<16|M[2*B];for(B=O;B<2*O;B++)M[B]=0;return new d(M,0)};function W(z,O){for(;(z[O]&65535)!=z[O];)z[O+1]+=z[O]>>>16,z[O]&=65535,O++}function nt(z,O){this.g=z,this.h=O}function gt(z,O){if(q(O))throw Error("division by zero");if(q(z))return new nt(x,x);if(G(z))return O=gt(Z(z),O),new nt(Z(O.g),Z(O.h));if(G(O))return O=gt(z,Z(O)),new nt(Z(O.g),O.h);if(30<z.g.length){if(G(z)||G(O))throw Error("slowDivide_ only works with positive integers.");for(var M=C,B=O;0>=B.l(z);)M=Tt(M),B=Tt(B);var H=Pt(M,1),F=Pt(B,1);for(B=Pt(B,2),M=Pt(M,2);!q(B);){var U=F.add(B);0>=U.l(z)&&(H=H.add(M),F=U),B=Pt(B,1),M=Pt(M,1)}return O=tt(z,H.j(O)),new nt(H,O)}for(H=x;0<=z.l(O);){for(M=Math.max(1,Math.floor(z.m()/O.m())),B=Math.ceil(Math.log(M)/Math.LN2),B=48>=B?1:Math.pow(2,B-48),F=T(M),U=F.j(O);G(U)||0<U.l(z);)M-=B,F=T(M),U=F.j(O);q(F)&&(F=C),H=H.add(F),z=tt(z,U)}return new nt(H,z)}i.A=function(z){return gt(this,z).h},i.and=function(z){for(var O=Math.max(this.g.length,z.g.length),M=[],B=0;B<O;B++)M[B]=this.i(B)&z.i(B);return new d(M,this.h&z.h)},i.or=function(z){for(var O=Math.max(this.g.length,z.g.length),M=[],B=0;B<O;B++)M[B]=this.i(B)|z.i(B);return new d(M,this.h|z.h)},i.xor=function(z){for(var O=Math.max(this.g.length,z.g.length),M=[],B=0;B<O;B++)M[B]=this.i(B)^z.i(B);return new d(M,this.h^z.h)};function Tt(z){for(var O=z.g.length+1,M=[],B=0;B<O;B++)M[B]=z.i(B)<<1|z.i(B-1)>>>31;return new d(M,z.h)}function Pt(z,O){var M=O>>5;O%=32;for(var B=z.g.length-M,H=[],F=0;F<B;F++)H[F]=0<O?z.i(F+M)>>>O|z.i(F+M+1)<<32-O:z.i(F+M);return new d(H,z.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,LE=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=T,d.fromString=S,qa=d}).apply(typeof T0<"u"?T0:typeof self<"u"?self:typeof window<"u"?window:{});var Yh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ME,uc,DE,rf,gp,NE,kE,VE;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,E,b){return f==Array.prototype||f==Object.prototype||(f[E]=b.value),f};function e(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yh=="object"&&Yh];for(var E=0;E<f.length;++E){var b=f[E];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var s=e(this);function l(f,E){if(E)t:{var b=s;f=f.split(".");for(var P=0;P<f.length-1;P++){var Y=f[P];if(!(Y in b))break t;b=b[Y]}f=f[f.length-1],P=b[f],E=E(P),E!=P&&E!=null&&t(b,f,{configurable:!0,writable:!0,value:E})}}function h(f,E){f instanceof String&&(f+="");var b=0,P=!1,Y={next:function(){if(!P&&b<f.length){var st=b++;return{value:E(st,f[st]),done:!1}}return P=!0,{done:!0,value:void 0}}};return Y[Symbol.iterator]=function(){return Y},Y}l("Array.prototype.values",function(f){return f||function(){return h(this,function(E,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},_=this||self;function y(f){var E=typeof f;return E=E!="object"?E:f?Array.isArray(f)?"array":E:"null",E=="array"||E=="object"&&typeof f.length=="number"}function T(f){var E=typeof f;return E=="object"&&f!=null||E=="function"}function S(f,E,b){return f.call.apply(f.bind,arguments)}function x(f,E,b){if(!f)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var Y=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Y,P),f.apply(E,Y)}}return function(){return f.apply(E,arguments)}}function C(f,E,b){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?S:x,C.apply(null,arguments)}function V(f,E){var b=Array.prototype.slice.call(arguments,1);return function(){var P=b.slice();return P.push.apply(P,arguments),f.apply(this,P)}}function q(f,E){function b(){}b.prototype=E.prototype,f.aa=E.prototype,f.prototype=new b,f.prototype.constructor=f,f.Qb=function(P,Y,st){for(var vt=Array(arguments.length-2),te=2;te<arguments.length;te++)vt[te-2]=arguments[te];return E.prototype[Y].apply(P,vt)}}function G(f){const E=f.length;if(0<E){const b=Array(E);for(let P=0;P<E;P++)b[P]=f[P];return b}return[]}function Z(f,E){for(let b=1;b<arguments.length;b++){const P=arguments[b];if(y(P)){const Y=f.length||0,st=P.length||0;f.length=Y+st;for(let vt=0;vt<st;vt++)f[Y+vt]=P[vt]}else f.push(P)}}class tt{constructor(E,b){this.i=E,this.j=b,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function W(f){return/^[\s\xa0]*$/.test(f)}function nt(){var f=_.navigator;return f&&(f=f.userAgent)?f:""}function gt(f){return gt[" "](f),f}gt[" "]=function(){};var Tt=nt().indexOf("Gecko")!=-1&&!(nt().toLowerCase().indexOf("webkit")!=-1&&nt().indexOf("Edge")==-1)&&!(nt().indexOf("Trident")!=-1||nt().indexOf("MSIE")!=-1)&&nt().indexOf("Edge")==-1;function Pt(f,E,b){for(const P in f)E.call(b,f[P],P,f)}function z(f,E){for(const b in f)E.call(void 0,f[b],b,f)}function O(f){const E={};for(const b in f)E[b]=f[b];return E}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(f,E){let b,P;for(let Y=1;Y<arguments.length;Y++){P=arguments[Y];for(b in P)f[b]=P[b];for(let st=0;st<M.length;st++)b=M[st],Object.prototype.hasOwnProperty.call(P,b)&&(f[b]=P[b])}}function H(f){var E=1;f=f.split(":");const b=[];for(;0<E&&f.length;)b.push(f.shift()),E--;return f.length&&b.push(f.join(":")),b}function F(f){_.setTimeout(()=>{throw f},0)}function U(){var f=se;let E=null;return f.g&&(E=f.g,f.g=f.g.next,f.g||(f.h=null),E.next=null),E}class pe{constructor(){this.h=this.g=null}add(E,b){const P=Ie.get();P.set(E,b),this.h?this.h.next=P:this.g=P,this.h=P}}var Ie=new tt(()=>new at,f=>f.reset());class at{constructor(){this.next=this.g=this.h=null}set(E,b){this.h=E,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let yt,pt=!1,se=new pe,D=()=>{const f=_.Promise.resolve(void 0);yt=()=>{f.then(ot)}};var ot=()=>{for(var f;f=U();){try{f.h.call(f.g)}catch(b){F(b)}var E=Ie;E.j(f),100>E.h&&(E.h++,f.next=E.g,E.g=f)}pt=!1};function _t(){this.s=this.s,this.C=this.C}_t.prototype.s=!1,_t.prototype.ma=function(){this.s||(this.s=!0,this.N())},_t.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function mt(f,E){this.type=f,this.g=this.target=E,this.defaultPrevented=!1}mt.prototype.h=function(){this.defaultPrevented=!0};var wt=function(){if(!_.addEventListener||!Object.defineProperty)return!1;var f=!1,E=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const b=()=>{};_.addEventListener("test",b,E),_.removeEventListener("test",b,E)}catch{}return f}();function It(f,E){if(mt.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var b=this.type=f.type,P=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=E,E=f.relatedTarget){if(Tt){t:{try{gt(E.nodeName);var Y=!0;break t}catch{}Y=!1}Y||(E=null)}}else b=="mouseover"?E=f.fromElement:b=="mouseout"&&(E=f.toElement);this.relatedTarget=E,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Et[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&It.aa.h.call(this)}}q(It,mt);var Et={2:"touch",3:"pen",4:"mouse"};It.prototype.h=function(){It.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ee="closure_listenable_"+(1e6*Math.random()|0),re=0;function ui(f,E,b,P,Y){this.listener=f,this.proxy=null,this.src=E,this.type=b,this.capture=!!P,this.ha=Y,this.key=++re,this.da=this.fa=!1}function Li(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ci(f){this.src=f,this.g={},this.h=0}ci.prototype.add=function(f,E,b,P,Y){var st=f.toString();f=this.g[st],f||(f=this.g[st]=[],this.h++);var vt=tr(f,E,P,Y);return-1<vt?(E=f[vt],b||(E.fa=!1)):(E=new ui(E,this.src,st,!!P,Y),E.fa=b,f.push(E)),E};function hi(f,E){var b=E.type;if(b in f.g){var P=f.g[b],Y=Array.prototype.indexOf.call(P,E,void 0),st;(st=0<=Y)&&Array.prototype.splice.call(P,Y,1),st&&(Li(E),f.g[b].length==0&&(delete f.g[b],f.h--))}}function tr(f,E,b,P){for(var Y=0;Y<f.length;++Y){var st=f[Y];if(!st.da&&st.listener==E&&st.capture==!!b&&st.ha==P)return Y}return-1}var ts="closure_lm_"+(1e6*Math.random()|0),Bs={};function to(f,E,b,P,Y){if(Array.isArray(E)){for(var st=0;st<E.length;st++)to(f,E[st],b,P,Y);return null}return b=il(b),f&&f[Ee]?f.K(E,b,T(P)?!!P.capture:!1,Y):Pn(f,E,b,!1,P,Y)}function Pn(f,E,b,P,Y,st){if(!E)throw Error("Invalid event type");var vt=T(Y)?!!Y.capture:!!Y,te=ns(f);if(te||(f[ts]=te=new ci(f)),b=te.add(E,b,P,vt,st),b.proxy)return b;if(P=Hs(),b.proxy=P,P.src=f,P.listener=b,f.addEventListener)wt||(Y=vt),Y===void 0&&(Y=!1),f.addEventListener(E.toString(),P,Y);else if(f.attachEvent)f.attachEvent(er(E.toString()),P);else if(f.addListener&&f.removeListener)f.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Hs(){function f(b){return E.call(f.src,f.listener,b)}const E=nl;return f}function eo(f,E,b,P,Y){if(Array.isArray(E))for(var st=0;st<E.length;st++)eo(f,E[st],b,P,Y);else P=T(P)?!!P.capture:!!P,b=il(b),f&&f[Ee]?(f=f.i,E=String(E).toString(),E in f.g&&(st=f.g[E],b=tr(st,b,P,Y),-1<b&&(Li(st[b]),Array.prototype.splice.call(st,b,1),st.length==0&&(delete f.g[E],f.h--)))):f&&(f=ns(f))&&(E=f.g[E.toString()],f=-1,E&&(f=tr(E,b,P,Y)),(b=-1<f?E[f]:null)&&es(b))}function es(f){if(typeof f!="number"&&f&&!f.da){var E=f.src;if(E&&E[Ee])hi(E.i,f);else{var b=f.type,P=f.proxy;E.removeEventListener?E.removeEventListener(b,P,f.capture):E.detachEvent?E.detachEvent(er(b),P):E.addListener&&E.removeListener&&E.removeListener(P),(b=ns(E))?(hi(b,f),b.h==0&&(b.src=null,E[ts]=null)):Li(f)}}}function er(f){return f in Bs?Bs[f]:Bs[f]="on"+f}function nl(f,E){if(f.da)f=!0;else{E=new It(E,this);var b=f.listener,P=f.ha||f.src;f.fa&&es(f),f=b.call(P,E)}return f}function ns(f){return f=f[ts],f instanceof ci?f:null}var no="__closure_events_fn_"+(1e9*Math.random()>>>0);function il(f){return typeof f=="function"?f:(f[no]||(f[no]=function(E){return f.handleEvent(E)}),f[no])}function xe(){_t.call(this),this.i=new ci(this),this.M=this,this.F=null}q(xe,_t),xe.prototype[Ee]=!0,xe.prototype.removeEventListener=function(f,E,b,P){eo(this,f,E,b,P)};function ue(f,E){var b,P=f.F;if(P)for(b=[];P;P=P.F)b.push(P);if(f=f.M,P=E.type||E,typeof E=="string")E=new mt(E,f);else if(E instanceof mt)E.target=E.target||f;else{var Y=E;E=new mt(P,f),B(E,Y)}if(Y=!0,b)for(var st=b.length-1;0<=st;st--){var vt=E.g=b[st];Y=On(vt,P,!0,E)&&Y}if(vt=E.g=f,Y=On(vt,P,!0,E)&&Y,Y=On(vt,P,!1,E)&&Y,b)for(st=0;st<b.length;st++)vt=E.g=b[st],Y=On(vt,P,!1,E)&&Y}xe.prototype.N=function(){if(xe.aa.N.call(this),this.i){var f=this.i,E;for(E in f.g){for(var b=f.g[E],P=0;P<b.length;P++)Li(b[P]);delete f.g[E],f.h--}}this.F=null},xe.prototype.K=function(f,E,b,P){return this.i.add(String(f),E,!1,b,P)},xe.prototype.L=function(f,E,b,P){return this.i.add(String(f),E,!0,b,P)};function On(f,E,b,P){if(E=f.i.g[String(E)],!E)return!0;E=E.concat();for(var Y=!0,st=0;st<E.length;++st){var vt=E[st];if(vt&&!vt.da&&vt.capture==b){var te=vt.listener,Ge=vt.ha||vt.src;vt.fa&&hi(f.i,vt),Y=te.call(Ge,P)!==!1&&Y}}return Y&&!P.defaultPrevented}function hn(f,E,b){if(typeof f=="function")b&&(f=C(f,b));else if(f&&typeof f.handleEvent=="function")f=C(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:_.setTimeout(f,E||0)}function io(f){f.g=hn(()=>{f.g=null,f.i&&(f.i=!1,io(f))},f.l);const E=f.h;f.h=null,f.m.apply(null,E)}class rl extends _t{constructor(E,b){super(),this.m=E,this.l=b,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:io(this)}N(){super.N(),this.g&&(_.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function is(f){_t.call(this),this.h=f,this.g={}}q(is,_t);var Ir=[];function nr(f){Pt(f.g,function(E,b){this.g.hasOwnProperty(b)&&es(E)},f),f.g={}}is.prototype.N=function(){is.aa.N.call(this),nr(this)},is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wn=_.JSON.stringify,qs=_.JSON.parse,fi=class{stringify(f){return _.JSON.stringify(f,void 0)}parse(f){return _.JSON.parse(f,void 0)}};function ro(){}ro.prototype.h=null;function so(f){return f.h||(f.h=f.i())}function js(){}var Mi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Di(){mt.call(this,"d")}q(Di,mt);function ao(){mt.call(this,"c")}q(ao,mt);var Ni={},oo=null;function Rr(){return oo=oo||new xe}Ni.La="serverreachability";function Fs(f){mt.call(this,Ni.La,f)}q(Fs,mt);function Cr(f){const E=Rr();ue(E,new Fs(E))}Ni.STAT_EVENT="statevent";function Gs(f,E){mt.call(this,Ni.STAT_EVENT,f),this.stat=E}q(Gs,mt);function Pe(f){const E=Rr();ue(E,new Gs(E,f))}Ni.Ma="timingevent";function $e(f,E){mt.call(this,Ni.Ma,f),this.size=E}q($e,mt);function Fe(f,E){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return _.setTimeout(function(){f()},E)}function Jn(){this.g=!0}Jn.prototype.xa=function(){this.g=!1};function Ln(f,E,b,P,Y,st){f.info(function(){if(f.g)if(st)for(var vt="",te=st.split("&"),Ge=0;Ge<te.length;Ge++){var ee=te[Ge].split("=");if(1<ee.length){var de=ee[0];ee=ee[1];var Le=de.split("_");vt=2<=Le.length&&Le[1]=="type"?vt+(de+"="+ee+"&"):vt+(de+"=redacted&")}}else vt=null;else vt=st;return"XMLHTTP REQ ("+P+") [attempt "+Y+"]: "+E+`
`+b+`
`+vt})}function Lt(f,E,b,P,Y,st,vt){f.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+Y+"]: "+E+`
`+b+`
`+st+" "+vt})}function ir(f,E,b,P){f.info(function(){return"XMLHTTP TEXT ("+E+"): "+xr(f,b)+(P?" "+P:"")})}function lo(f,E){f.info(function(){return"TIMEOUT: "+E})}Jn.prototype.info=function(){};function xr(f,E){if(!f.g)return E;if(!E)return null;try{var b=JSON.parse(E);if(b){for(f=0;f<b.length;f++)if(Array.isArray(b[f])){var P=b[f];if(!(2>P.length)){var Y=P[1];if(Array.isArray(Y)&&!(1>Y.length)){var st=Y[0];if(st!="noop"&&st!="stop"&&st!="close")for(var vt=1;vt<Y.length;vt++)Y[vt]=""}}}}return Wn(b)}catch{return E}}var rr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},di={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mi;function En(){}q(En,ro),En.prototype.g=function(){return new XMLHttpRequest},En.prototype.i=function(){return{}},mi=new En;function fn(f,E,b,P){this.j=f,this.i=E,this.l=b,this.R=P||1,this.U=new is(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ue}function Ue(){this.i=null,this.g="",this.h=!1}var uo={},Zs={};function pi(f,E,b){f.L=1,f.v=Fn(Oe(E)),f.m=b,f.P=!0,ki(f,null)}function ki(f,E){f.F=Date.now(),ss(f),f.A=Oe(f.v);var b=f.A,P=f.R;Array.isArray(P)||(P=[String(P)]),fo(b.i,"t",P),f.C=0,b=f.j.J,f.h=new Ue,f.g=cl(f.j,b?E:null,!f.m),0<f.O&&(f.M=new rl(C(f.Y,f,f.g),f.O)),E=f.U,b=f.g,P=f.ca;var Y="readystatechange";Array.isArray(Y)||(Y&&(Ir[0]=Y.toString()),Y=Ir);for(var st=0;st<Y.length;st++){var vt=to(b,Y[st],P||E.handleEvent,!1,E.h||E);if(!vt)break;E.g[vt.key]=vt}E=f.H?O(f.H):{},f.m?(f.u||(f.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,E)):(f.u="GET",f.g.ea(f.A,f.u,null,E)),Cr(),Ln(f.i,f.u,f.A,f.l,f.R,f.m)}fn.prototype.ca=function(f){f=f.target;const E=this.M;E&&pn(f)==3?E.j():this.Y(f)},fn.prototype.Y=function(f){try{if(f==this.g)t:{const Le=pn(this.g);var E=this.g.Ba();const fr=this.g.Z();if(!(3>Le)&&(Le!=3||this.g&&(this.h.h||this.g.oa()||mo(this.g)))){this.J||Le!=4||E==7||(E==8||0>=fr?Cr(3):Cr(2)),Pr(this);var b=this.g.Z();this.X=b;e:if(sl(this)){var P=mo(this.g);f="";var Y=P.length,st=pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sn(this),Vi(this);var vt="";break e}this.h.i=new _.TextDecoder}for(E=0;E<Y;E++)this.h.h=!0,f+=this.h.i.decode(P[E],{stream:!(st&&E==Y-1)});P.length=0,this.h.g+=f,this.C=0,vt=this.h.g}else vt=this.g.oa();if(this.o=b==200,Lt(this.i,this.u,this.A,this.l,this.R,Le,b),this.o){if(this.T&&!this.K){e:{if(this.g){var te,Ge=this.g;if((te=Ge.g?Ge.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(te)){var ee=te;break e}}ee=null}if(b=ee)ir(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sr(this,b);else{this.o=!1,this.s=3,Pe(12),sn(this),Vi(this);break t}}if(this.P){b=!0;let Re;for(;!this.J&&this.C<vt.length;)if(Re=rs(this,vt),Re==Zs){Le==4&&(this.s=4,Pe(14),b=!1),ir(this.i,this.l,null,"[Incomplete Response]");break}else if(Re==uo){this.s=4,Pe(15),ir(this.i,this.l,vt,"[Invalid Chunk]"),b=!1;break}else ir(this.i,this.l,Re,null),sr(this,Re);if(sl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Le!=4||vt.length!=0||this.h.h||(this.s=1,Pe(16),b=!1),this.o=this.o&&b,!b)ir(this.i,this.l,vt,"[Invalid Chunked Response]"),sn(this),Vi(this);else if(0<vt.length&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.ba&&!de.M&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+vt.length),kr(de),de.M=!0,Pe(11))}}else ir(this.i,this.l,vt,null),sr(this,vt);Le==4&&sn(this),this.o&&!this.J&&(Le==4?go(this.j,this):(this.o=!1,ss(this)))}else pu(this.g),b==400&&0<vt.indexOf("Unknown SID")?(this.s=3,Pe(12)):(this.s=0,Pe(13)),sn(this),Vi(this)}}}catch{}finally{}};function sl(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function rs(f,E){var b=f.C,P=E.indexOf(`
`,b);return P==-1?Zs:(b=Number(E.substring(b,P)),isNaN(b)?uo:(P+=1,P+b>E.length?Zs:(E=E.slice(P,P+b),f.C=P+b,E)))}fn.prototype.cancel=function(){this.J=!0,sn(this)};function ss(f){f.S=Date.now()+f.I,al(f,f.I)}function al(f,E){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Fe(C(f.ba,f),E)}function Pr(f){f.B&&(_.clearTimeout(f.B),f.B=null)}fn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(lo(this.i,this.A),this.L!=2&&(Cr(),Pe(17)),sn(this),this.s=2,Vi(this)):al(this,this.S-f)};function Vi(f){f.j.G==0||f.J||go(f.j,f)}function sn(f){Pr(f);var E=f.M;E&&typeof E.ma=="function"&&E.ma(),f.M=null,nr(f.U),f.g&&(E=f.g,f.g=null,E.abort(),E.ma())}function sr(f,E){try{var b=f.j;if(b.G!=0&&(b.g==f||Qt(b.h,f))){if(!f.K&&Qt(b.h,f)&&b.G==3){try{var P=b.Da.g.parse(E)}catch{P=null}if(Array.isArray(P)&&P.length==3){var Y=P;if(Y[0]==0){t:if(!b.u){if(b.g)if(b.g.F+3e3<f.F)ea(b),Ws(b);else break t;Js(b),Pe(18)}}else b.za=Y[1],0<b.za-b.T&&37500>Y[2]&&b.F&&b.v==0&&!b.C&&(b.C=Fe(C(b.Za,b),6e3));if(1>=Ui(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else hr(b,11)}else if((f.K||b.g==f)&&ea(b),!W(E))for(Y=b.Da.g.parse(E),E=0;E<Y.length;E++){let ee=Y[E];if(b.T=ee[0],ee=ee[1],b.G==2)if(ee[0]=="c"){b.K=ee[1],b.ia=ee[2];const de=ee[3];de!=null&&(b.la=de,b.j.info("VER="+b.la));const Le=ee[4];Le!=null&&(b.Aa=Le,b.j.info("SVER="+b.Aa));const fr=ee[5];fr!=null&&typeof fr=="number"&&0<fr&&(P=1.5*fr,b.L=P,b.j.info("backChannelRequestTimeoutMs_="+P)),P=b;const Re=f.g;if(Re){const Fi=Re.g?Re.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fi){var st=P.h;st.g||Fi.indexOf("spdy")==-1&&Fi.indexOf("quic")==-1&&Fi.indexOf("h2")==-1||(st.j=st.l,st.g=new Set,st.h&&(fe(st,st.h),st.h=null))}if(P.D){const Gi=Re.g?Re.g.getResponseHeader("X-HTTP-Session-Id"):null;Gi&&(P.ya=Gi,zt(P.I,P.D,Gi))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-f.F,b.j.info("Handshake RTT: "+b.R+"ms")),P=b;var vt=f;if(P.qa=ia(P,P.J?P.ia:null,P.W),vt.K){We(P.h,vt);var te=vt,Ge=P.L;Ge&&(te.I=Ge),te.B&&(Pr(te),ss(te)),P.g=vt}else Ei(P);0<b.i.length&&Nr(b)}else ee[0]!="stop"&&ee[0]!="close"||hr(b,7);else b.G==3&&(ee[0]=="stop"||ee[0]=="close"?ee[0]=="stop"?hr(b,7):Xs(b):ee[0]!="noop"&&b.l&&b.l.ta(ee),b.v=0)}}Cr(4)}catch{}}var Or=class{constructor(f,E){this.g=f,this.map=E}};function zi(f){this.l=f||10,_.PerformanceNavigationTiming?(f=_.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(_.chrome&&_.chrome.loadTimes&&_.chrome.loadTimes()&&_.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function as(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Ui(f){return f.h?1:f.g?f.g.size:0}function Qt(f,E){return f.h?f.h==E:f.g?f.g.has(E):!1}function fe(f,E){f.g?f.g.add(E):f.h=E}function We(f,E){f.h&&f.h==E?f.h=null:f.g&&f.g.has(E)&&f.g.delete(E)}zi.prototype.cancel=function(){if(this.i=Bi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Bi(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let E=f.i;for(const b of f.g.values())E=E.concat(b.D);return E}return G(f.i)}function Lr(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(y(f)){for(var E=[],b=f.length,P=0;P<b;P++)E.push(f[P]);return E}E=[],b=0;for(P in f)E[b++]=f[P];return E}function Mr(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(y(f)||typeof f=="string"){var E=[];f=f.length;for(var b=0;b<f;b++)E.push(b);return E}E=[],b=0;for(const P in f)E[b++]=P;return E}}}function jt(f,E){if(f.forEach&&typeof f.forEach=="function")f.forEach(E,void 0);else if(y(f)||typeof f=="string")Array.prototype.forEach.call(f,E,void 0);else for(var b=Mr(f),P=Lr(f),Y=P.length,st=0;st<Y;st++)E.call(void 0,P[st],b&&b[st],f)}var ge=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function co(f,E){if(f){f=f.split("&");for(var b=0;b<f.length;b++){var P=f[b].indexOf("="),Y=null;if(0<=P){var st=f[b].substring(0,P);Y=f[b].substring(P+1)}else st=f[b];E(st,Y?decodeURIComponent(Y.replace(/\+/g," ")):"")}}}function Ne(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Ne){this.h=f.h,os(this,f.j),this.o=f.o,this.g=f.g,gi(this,f.s),this.l=f.l;var E=f.i,b=new yi;b.i=E.i,E.g&&(b.g=new Map(E.g),b.h=E.h),wn(this,b),this.m=f.m}else f&&(E=String(f).match(ge))?(this.h=!1,os(this,E[1]||"",!0),this.o=dn(E[2]||""),this.g=dn(E[3]||"",!0),gi(this,E[4]),this.l=dn(E[5]||"",!0),wn(this,E[6]||"",!0),this.m=dn(E[7]||"")):(this.h=!1,this.i=new yi(null,this.h))}Ne.prototype.toString=function(){var f=[],E=this.j;E&&f.push(_i(E,ar,!0),":");var b=this.g;return(b||E=="file")&&(f.push("//"),(E=this.o)&&f.push(_i(E,ar,!0),"@"),f.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&f.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&f.push("/"),f.push(_i(b,b.charAt(0)=="/"?ho:ls,!0))),(b=this.i.toString())&&f.push("?",b),(b=this.m)&&f.push("#",_i(b,Dr)),f.join("")};function Oe(f){return new Ne(f)}function os(f,E,b){f.j=b?dn(E,!0):E,f.j&&(f.j=f.j.replace(/:$/,""))}function gi(f,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);f.s=E}else f.s=null}function wn(f,E,b){E instanceof yi?(f.i=E,Gn(f.i,f.h)):(b||(E=_i(E,Ks)),f.i=new yi(E,f.h))}function zt(f,E,b){f.i.set(E,b)}function Fn(f){return zt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function dn(f,E){return f?E?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function _i(f,E,b){return typeof f=="string"?(f=encodeURI(f).replace(E,$s),b&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function $s(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ar=/[#\/\?@]/g,ls=/[#\?:]/g,ho=/[#\?]/g,Ks=/[#\?@]/g,Dr=/#/g;function yi(f,E){this.h=this.g=null,this.i=f||null,this.j=!!E}function bn(f){f.g||(f.g=new Map,f.h=0,f.i&&co(f.i,function(E,b){f.add(decodeURIComponent(E.replace(/\+/g," ")),b)}))}i=yi.prototype,i.add=function(f,E){bn(this),this.i=null,f=Nt(this,f);var b=this.g.get(f);return b||this.g.set(f,b=[]),b.push(E),this.h+=1,this};function Hi(f,E){bn(f),E=Nt(f,E),f.g.has(E)&&(f.i=null,f.h-=f.g.get(E).length,f.g.delete(E))}function vi(f,E){return bn(f),E=Nt(f,E),f.g.has(E)}i.forEach=function(f,E){bn(this),this.g.forEach(function(b,P){b.forEach(function(Y){f.call(E,Y,P,this)},this)},this)},i.na=function(){bn(this);const f=Array.from(this.g.values()),E=Array.from(this.g.keys()),b=[];for(let P=0;P<E.length;P++){const Y=f[P];for(let st=0;st<Y.length;st++)b.push(E[P])}return b},i.V=function(f){bn(this);let E=[];if(typeof f=="string")vi(this,f)&&(E=E.concat(this.g.get(Nt(this,f))));else{f=Array.from(this.g.values());for(let b=0;b<f.length;b++)E=E.concat(f[b])}return E},i.set=function(f,E){return bn(this),this.i=null,f=Nt(this,f),vi(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[E]),this.h+=1,this},i.get=function(f,E){return f?(f=this.V(f),0<f.length?String(f[0]):E):E};function fo(f,E,b){Hi(f,E),0<b.length&&(f.i=null,f.g.set(Nt(f,E),G(b)),f.h+=b.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],E=Array.from(this.g.keys());for(var b=0;b<E.length;b++){var P=E[b];const st=encodeURIComponent(String(P)),vt=this.V(P);for(P=0;P<vt.length;P++){var Y=st;vt[P]!==""&&(Y+="="+encodeURIComponent(String(vt[P]))),f.push(Y)}}return this.i=f.join("&")};function Nt(f,E){return E=String(E),f.j&&(E=E.toLowerCase()),E}function Gn(f,E){E&&!f.j&&(bn(f),f.i=null,f.g.forEach(function(b,P){var Y=P.toLowerCase();P!=Y&&(Hi(this,P),fo(this,Y,b))},f)),f.j=E}function ae(f,E){const b=new Jn;if(_.Image){const P=new Image;P.onload=V(Mn,b,"TestLoadImage: loaded",!0,E,P),P.onerror=V(Mn,b,"TestLoadImage: error",!1,E,P),P.onabort=V(Mn,b,"TestLoadImage: abort",!1,E,P),P.ontimeout=V(Mn,b,"TestLoadImage: timeout",!1,E,P),_.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=f}else E(!1)}function ti(f,E){const b=new Jn,P=new AbortController,Y=setTimeout(()=>{P.abort(),Mn(b,"TestPingServer: timeout",!1,E)},1e4);fetch(f,{signal:P.signal}).then(st=>{clearTimeout(Y),st.ok?Mn(b,"TestPingServer: ok",!0,E):Mn(b,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(Y),Mn(b,"TestPingServer: error",!1,E)})}function Mn(f,E,b,P,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),P(b)}catch{}}function or(){this.g=new fi}function ei(f,E,b){const P=b||"";try{jt(f,function(Y,st){let vt=Y;T(Y)&&(vt=Wn(Y)),E.push(P+st+"="+encodeURIComponent(vt))})}catch(Y){throw E.push(P+"type="+encodeURIComponent("_badmap")),Y}}function Dn(f){this.l=f.Ub||null,this.j=f.eb||!1}q(Dn,ro),Dn.prototype.g=function(){return new Ti(this.l,this.j)},Dn.prototype.i=function(f){return function(){return f}}({});function Ti(f,E){xe.call(this),this.D=f,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}q(Ti,xe),i=Ti.prototype,i.open=function(f,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=E,this.readyState=1,mn(this)},i.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(E.body=f),(this.D||_).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,we(this)),this.readyState=0},i.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,mn(this)),this.g&&(this.readyState=3,mn(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof _.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;lr(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function lr(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}i.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var E=f.value?f.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!f.done}))&&(this.response=this.responseText+=E)}f.done?we(this):mn(this),this.readyState==3&&lr(this)}},i.Ra=function(f){this.g&&(this.response=this.responseText=f,we(this))},i.Qa=function(f){this.g&&(this.response=f,we(this))},i.ga=function(){this.g&&we(this)};function we(f){f.readyState=4,f.l=null,f.j=null,f.v=null,mn(f)}i.setRequestHeader=function(f,E){this.u.append(f,E)},i.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],E=this.h.entries();for(var b=E.next();!b.done;)b=b.value,f.push(b[0]+": "+b[1]),b=E.next();return f.join(`\r
`)};function mn(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(Ti.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Ys(f){let E="";return Pt(f,function(b,P){E+=P,E+=":",E+=b,E+=`\r
`}),E}function Ke(f,E,b){t:{for(P in b){var P=!1;break t}P=!0}P||(b=Ys(b),typeof f=="string"?b!=null&&encodeURIComponent(String(b)):zt(f,E,b))}function ce(f){xe.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}q(ce,xe);var us=/^https?$/i,ur=["POST","PUT"];i=ce.prototype,i.Ha=function(f){this.J=f},i.ea=function(f,E,b,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);E=E?E.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mi.g(),this.v=this.o?so(this.o):so(mi),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(E,String(f),!0),this.B=!1}catch(st){ol(this,st);return}if(f=b||"",b=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var Y in P)b.set(Y,P[Y]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const st of P.keys())b.set(st,P.get(st));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(b.keys()).find(st=>st.toLowerCase()=="content-type"),Y=_.FormData&&f instanceof _.FormData,!(0<=Array.prototype.indexOf.call(ur,E,void 0))||P||Y||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[st,vt]of b)this.g.setRequestHeader(st,vt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{an(this),this.u=!0,this.g.send(f),this.u=!1}catch(st){ol(this,st)}};function ol(f,E){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=E,f.m=5,cs(f),qi(f)}function cs(f){f.A||(f.A=!0,ue(f,"complete"),ue(f,"error"))}i.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,ue(this,"complete"),ue(this,"abort"),qi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qi(this,!0)),ce.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Zt(this):this.bb())},i.bb=function(){Zt(this)};function Zt(f){if(f.h&&typeof d<"u"&&(!f.v[1]||pn(f)!=4||f.Z()!=2)){if(f.u&&pn(f)==4)hn(f.Ea,0,f);else if(ue(f,"readystatechange"),pn(f)==4){f.h=!1;try{const vt=f.Z();t:switch(vt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break t;default:E=!1}var b;if(!(b=E)){var P;if(P=vt===0){var Y=String(f.D).match(ge)[1]||null;!Y&&_.self&&_.self.location&&(Y=_.self.location.protocol.slice(0,-1)),P=!us.test(Y?Y.toLowerCase():"")}b=P}if(b)ue(f,"complete"),ue(f,"success");else{f.m=6;try{var st=2<pn(f)?f.g.statusText:""}catch{st=""}f.l=st+" ["+f.Z()+"]",cs(f)}}finally{qi(f)}}}}function qi(f,E){if(f.g){an(f);const b=f.g,P=f.v[0]?()=>{}:null;f.g=null,f.v=null,E||ue(f,"ready");try{b.onreadystatechange=P}catch{}}}function an(f){f.I&&(_.clearTimeout(f.I),f.I=null)}i.isActive=function(){return!!this.g};function pn(f){return f.g?f.g.readyState:0}i.Z=function(){try{return 2<pn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(f){if(this.g){var E=this.g.responseText;return f&&E.indexOf(f)==0&&(E=E.substring(f.length)),qs(E)}};function mo(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function pu(f){const E={};f=(f.g&&2<=pn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<f.length;P++){if(W(f[P]))continue;var b=H(f[P]);const Y=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const st=E[Y]||[];E[Y]=st,st.push(b)}z(E,function(P){return P.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function cr(f,E,b){return b&&b.internalChannelParams&&b.internalChannelParams[f]||E}function Qs(f){this.Aa=0,this.i=[],this.j=new Jn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=cr("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=cr("baseRetryDelayMs",5e3,f),this.cb=cr("retryDelaySeedMs",1e4,f),this.Wa=cr("forwardChannelMaxRetries",2,f),this.wa=cr("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new zi(f&&f.concurrentRequestLimit),this.Da=new or,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Qs.prototype,i.la=8,i.G=1,i.connect=function(f,E,b,P){Pe(0),this.W=f,this.H=E||{},b&&P!==void 0&&(this.H.OSID=b,this.H.OAID=P),this.F=this.X,this.I=ia(this,null,this.W),Nr(this)};function Xs(f){if(ll(f),f.G==3){var E=f.U++,b=Oe(f.I);if(zt(b,"SID",f.K),zt(b,"RID",E),zt(b,"TYPE","terminate"),hs(f,b),E=new fn(f,f.j,E),E.L=2,E.v=Fn(Oe(b)),b=!1,_.navigator&&_.navigator.sendBeacon)try{b=_.navigator.sendBeacon(E.v.toString(),"")}catch{}!b&&_.Image&&(new Image().src=E.v,b=!0),b||(E.g=cl(E.j,null),E.g.ea(E.v)),E.F=Date.now(),ss(E)}ul(f)}function Ws(f){f.g&&(kr(f),f.g.cancel(),f.g=null)}function ll(f){Ws(f),f.u&&(_.clearTimeout(f.u),f.u=null),ea(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&_.clearTimeout(f.s),f.s=null)}function Nr(f){if(!as(f.h)&&!f.s){f.s=!0;var E=f.Ga;yt||D(),pt||(yt(),pt=!0),se.add(E,f),f.B=0}}function gu(f,E){return Ui(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=E.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Fe(C(f.Ga,f,E),na(f,f.B)),f.B++,!0)}i.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const Y=new fn(this,this.j,f);let st=this.o;if(this.S&&(st?(st=O(st),B(st,this.S)):st=this.S),this.m!==null||this.O||(Y.H=st,st=null),this.P)t:{for(var E=0,b=0;b<this.i.length;b++){e:{var P=this.i[b];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break e}P=void 0}if(P===void 0)break;if(E+=P,4096<E){E=b;break t}if(E===4096||b===this.i.length-1){E=b+1;break t}}E=1e3}else E=1e3;E=po(this,Y,E),b=Oe(this.I),zt(b,"RID",f),zt(b,"CVER",22),this.D&&zt(b,"X-HTTP-Session-Id",this.D),hs(this,b),st&&(this.O?E="headers="+encodeURIComponent(String(Ys(st)))+"&"+E:this.m&&Ke(b,this.m,st)),fe(this.h,Y),this.Ua&&zt(b,"TYPE","init"),this.P?(zt(b,"$req",E),zt(b,"SID","null"),Y.T=!0,pi(Y,b,null)):pi(Y,b,E),this.G=2}}else this.G==3&&(f?Nn(this,f):this.i.length==0||as(this.h)||Nn(this))};function Nn(f,E){var b;E?b=E.l:b=f.U++;const P=Oe(f.I);zt(P,"SID",f.K),zt(P,"RID",b),zt(P,"AID",f.T),hs(f,P),f.m&&f.o&&Ke(P,f.m,f.o),b=new fn(f,f.j,b,f.B+1),f.m===null&&(b.H=f.o),E&&(f.i=E.D.concat(f.i)),E=po(f,b,1e3),b.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),fe(f.h,b),pi(b,P,E)}function hs(f,E){f.H&&Pt(f.H,function(b,P){zt(E,P,b)}),f.l&&jt({},function(b,P){zt(E,P,b)})}function po(f,E,b){b=Math.min(f.i.length,b);var P=f.l?C(f.l.Na,f.l,f):null;t:{var Y=f.i;let st=-1;for(;;){const vt=["count="+b];st==-1?0<b?(st=Y[0].g,vt.push("ofs="+st)):st=0:vt.push("ofs="+st);let te=!0;for(let Ge=0;Ge<b;Ge++){let ee=Y[Ge].g;const de=Y[Ge].map;if(ee-=st,0>ee)st=Math.max(0,Y[Ge].g-100),te=!1;else try{ei(de,vt,"req"+ee+"_")}catch{P&&P(de)}}if(te){P=vt.join("&");break t}}}return f=f.i.splice(0,b),E.D=f,P}function Ei(f){if(!f.g&&!f.u){f.Y=1;var E=f.Fa;yt||D(),pt||(yt(),pt=!0),se.add(E,f),f.v=0}}function Js(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Fe(C(f.Fa,f),na(f,f.v)),f.v++,!0)}i.Fa=function(){if(this.u=null,ta(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Fe(C(this.ab,this),f)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pe(10),Ws(this),ta(this))};function kr(f){f.A!=null&&(_.clearTimeout(f.A),f.A=null)}function ta(f){f.g=new fn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var E=Oe(f.qa);zt(E,"RID","rpc"),zt(E,"SID",f.K),zt(E,"AID",f.T),zt(E,"CI",f.F?"0":"1"),!f.F&&f.ja&&zt(E,"TO",f.ja),zt(E,"TYPE","xmlhttp"),hs(f,E),f.m&&f.o&&Ke(E,f.m,f.o),f.L&&(f.g.I=f.L);var b=f.g;f=f.ia,b.L=1,b.v=Fn(Oe(E)),b.m=null,b.P=!0,ki(b,f)}i.Za=function(){this.C!=null&&(this.C=null,Ws(this),Js(this),Pe(19))};function ea(f){f.C!=null&&(_.clearTimeout(f.C),f.C=null)}function go(f,E){var b=null;if(f.g==E){ea(f),kr(f),f.g=null;var P=2}else if(Qt(f.h,E))b=E.D,We(f.h,E),P=1;else return;if(f.G!=0){if(E.o)if(P==1){b=E.m?E.m.length:0,E=Date.now()-E.F;var Y=f.B;P=Rr(),ue(P,new $e(P,b)),Nr(f)}else Ei(f);else if(Y=E.s,Y==3||Y==0&&0<E.X||!(P==1&&gu(f,E)||P==2&&Js(f)))switch(b&&0<b.length&&(E=f.h,E.i=E.i.concat(b)),Y){case 1:hr(f,5);break;case 4:hr(f,10);break;case 3:hr(f,6);break;default:hr(f,2)}}}function na(f,E){let b=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(b*=2),b*E}function hr(f,E){if(f.j.info("Error code "+E),E==2){var b=C(f.fb,f),P=f.Xa;const Y=!P;P=new Ne(P||"//www.google.com/images/cleardot.gif"),_.location&&_.location.protocol=="http"||os(P,"https"),Fn(P),Y?ae(P.toString(),b):ti(P.toString(),b)}else Pe(2);f.G=0,f.l&&f.l.sa(E),ul(f),ll(f)}i.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Pe(2)):(this.j.info("Failed to ping google.com"),Pe(1))};function ul(f){if(f.G=0,f.ka=[],f.l){const E=Bi(f.h);(E.length!=0||f.i.length!=0)&&(Z(f.ka,E),Z(f.ka,f.i),f.h.i.length=0,G(f.i),f.i.length=0),f.l.ra()}}function ia(f,E,b){var P=b instanceof Ne?Oe(b):new Ne(b);if(P.g!="")E&&(P.g=E+"."+P.g),gi(P,P.s);else{var Y=_.location;P=Y.protocol,E=E?E+"."+Y.hostname:Y.hostname,Y=+Y.port;var st=new Ne(null);P&&os(st,P),E&&(st.g=E),Y&&gi(st,Y),b&&(st.l=b),P=st}return b=f.D,E=f.ya,b&&E&&zt(P,b,E),zt(P,"VER",f.la),hs(f,P),P}function cl(f,E,b){if(E&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=f.Ca&&!f.pa?new ce(new Dn({eb:b})):new ce(f.pa),E.Ha(f.J),E}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function _o(){}i=_o.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function fs(){}fs.prototype.g=function(f,E){return new Je(f,E)};function Je(f,E){xe.call(this),this.g=new Qs(E),this.l=f,this.h=E&&E.messageUrlParams||null,f=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(f?f["X-WebChannel-Content-Type"]=E.messageContentType:f={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(f?f["X-WebChannel-Client-Profile"]=E.va:f={"X-WebChannel-Client-Profile":E.va}),this.g.S=f,(f=E&&E.Sb)&&!W(f)&&(this.g.m=f),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!W(E)&&(this.g.D=E,f=this.h,f!==null&&E in f&&(f=this.h,E in f&&delete f[E])),this.j=new kn(this)}q(Je,xe),Je.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){Xs(this.g)},Je.prototype.o=function(f){var E=this.g;if(typeof f=="string"){var b={};b.__data__=f,f=b}else this.u&&(b={},b.__data__=Wn(f),f=b);E.i.push(new Or(E.Ya++,f)),E.G==3&&Nr(E)},Je.prototype.N=function(){this.g.l=null,delete this.j,Xs(this.g),delete this.g,Je.aa.N.call(this)};function ji(f){Di.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var E=f.__sm__;if(E){t:{for(const b in E){f=b;break t}f=void 0}(this.i=f)&&(f=this.i,E=E!==null&&f in E?E[f]:void 0),this.data=E}else this.data=f}q(ji,Di);function hl(){ao.call(this),this.status=1}q(hl,ao);function kn(f){this.g=f}q(kn,_o),kn.prototype.ua=function(){ue(this.g,"a")},kn.prototype.ta=function(f){ue(this.g,new ji(f))},kn.prototype.sa=function(f){ue(this.g,new hl)},kn.prototype.ra=function(){ue(this.g,"b")},fs.prototype.createWebChannel=fs.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,VE=function(){return new fs},kE=function(){return Rr()},NE=Ni,gp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rr.NO_ERROR=0,rr.TIMEOUT=8,rr.HTTP_ERROR=6,rf=rr,di.COMPLETE="complete",DE=di,js.EventType=Mi,Mi.OPEN="a",Mi.CLOSE="b",Mi.ERROR="c",Mi.MESSAGE="d",xe.prototype.listen=xe.prototype.K,uc=js,ce.prototype.listenOnce=ce.prototype.L,ce.prototype.getLastError=ce.prototype.Ka,ce.prototype.getLastErrorCode=ce.prototype.Ba,ce.prototype.getStatus=ce.prototype.Z,ce.prototype.getResponseJson=ce.prototype.Oa,ce.prototype.getResponseText=ce.prototype.oa,ce.prototype.send=ce.prototype.ea,ce.prototype.setWithCredentials=ce.prototype.Ha,ME=ce}).apply(typeof Yh<"u"?Yh:typeof self<"u"?self:typeof window<"u"?window:{});const E0="@firebase/firestore",w0="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Bn.UNAUTHENTICATED=new Bn(null),Bn.GOOGLE_CREDENTIALS=new Bn("google-credentials-uid"),Bn.FIRST_PARTY=new Bn("first-party-uid"),Bn.MOCK_USER=new Bn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uu="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=new Bf("@firebase/firestore");function ql(){return qo.logLevel}function St(i,...t){if(qo.logLevel<=ne.DEBUG){const e=t.map(rg);qo.debug(`Firestore (${uu}): ${i}`,...e)}}function Ns(i,...t){if(qo.logLevel<=ne.ERROR){const e=t.map(rg);qo.error(`Firestore (${uu}): ${i}`,...e)}}function Xl(i,...t){if(qo.logLevel<=ne.WARN){const e=t.map(rg);qo.warn(`Firestore (${uu}): ${i}`,...e)}}function rg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(i,t,e){let s="Unexpected state";typeof t=="string"?s=t:e=t,zE(i,s,e)}function zE(i,t,e){let s=`FIRESTORE (${uu}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(e!==void 0)try{s+=" CONTEXT: "+JSON.stringify(e)}catch{s+=" CONTEXT: "+e}throw Ns(s),new Error(s)}function me(i,t,e,s){let l="Unexpected state";typeof e=="string"?l=e:s=e,i||zE(t,l,s)}function Gt(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ht={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Rt extends Sr{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class wC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Bn.UNAUTHENTICATED))}shutdown(){}}class bC{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class AC{constructor(t){this.t=t,this.currentUser=Bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){me(this.o===void 0,42304);let s=this.i;const l=y=>this.i!==s?(s=this.i,e(y)):Promise.resolve();let h=new Ps;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Ps,t.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const y=h;t.enqueueRetryable(async()=>{await y.promise,await l(this.currentUser)})},_=y=>{St("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(y=>_(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?_(y):(St("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Ps)}},0),d()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(s=>this.i!==t?(St("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(me(typeof s.accessToken=="string",31837,{l:s}),new UE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return me(t===null||typeof t=="string",2055,{h:t}),new Bn(t)}}class SC{constructor(t,e,s){this.P=t,this.T=e,this.I=s,this.type="FirstParty",this.user=Bn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class IC{constructor(t,e,s){this.P=t,this.T=e,this.I=s}getToken(){return Promise.resolve(new SC(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(Bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class b0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RC{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,vr(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){me(this.o===void 0,3512);const s=h=>{h.error!=null&&St("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.m;return this.m=h.token,St("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?e(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable(()=>s(h))};const l=h=>{St("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>l(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):St("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new b0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(me(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new b0(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CC(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let s=0;s<i;s++)e[s]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=CC(40);for(let h=0;h<l.length;++h)s.length<20&&l[h]<e&&(s+=t.charAt(l[h]%62))}return s}}function Yt(i,t){return i<t?-1:i>t?1:0}function _p(i,t){let e=0;for(;e<i.length&&e<t.length;){const s=i.codePointAt(e),l=t.codePointAt(e);if(s!==l){if(s<128&&l<128)return Yt(s,l);{const h=BE(),d=xC(h.encode(A0(i,e)),h.encode(A0(t,e)));return d!==0?d:Yt(s,l)}}e+=s>65535?2:1}return Yt(i.length,t.length)}function A0(i,t){return i.codePointAt(t)>65535?i.substring(t,t+2):i.substring(t,t+1)}function xC(i,t){for(let e=0;e<i.length&&e<t.length;++e)if(i[e]!==t[e])return Yt(i[e],t[e]);return Yt(i.length,t.length)}function Wl(i,t,e){return i.length===t.length&&i.every((s,l)=>e(s,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0=-62135596800,I0=1e6;class un{static now(){return un.fromMillis(Date.now())}static fromDate(t){return un.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),s=Math.floor((t-1e3*e)*I0);return new un(e,s)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Rt(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Rt(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<S0)throw new Rt(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Rt(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/I0}_compareTo(t){return this.seconds===t.seconds?Yt(this.nanoseconds,t.nanoseconds):Yt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-S0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{static fromTimestamp(t){return new Ft(t)}static min(){return new Ft(new un(0,0))}static max(){return new Ft(new un(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="__name__";class Gr{constructor(t,e,s){e===void 0?e=0:e>t.length&&Ut(637,{offset:e,range:t.length}),s===void 0?s=t.length-e:s>t.length-e&&Ut(1746,{length:s,range:t.length-e}),this.segments=t,this.offset=e,this.len=s}get length(){return this.len}isEqual(t){return Gr.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Gr?t.forEach(s=>{e.push(s)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,s=this.limit();e<s;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const s=Math.min(t.length,e.length);for(let l=0;l<s;l++){const h=Gr.compareSegments(t.get(l),e.get(l));if(h!==0)return h}return Yt(t.length,e.length)}static compareSegments(t,e){const s=Gr.isNumericId(t),l=Gr.isNumericId(e);return s&&!l?-1:!s&&l?1:s&&l?Gr.extractNumericId(t).compare(Gr.extractNumericId(e)):_p(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return qa.fromString(t.substring(4,t.length-2))}}class ke extends Gr{construct(t,e,s){return new ke(t,e,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const s of t){if(s.indexOf("//")>=0)throw new Rt(ht.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);e.push(...s.split("/").filter(l=>l.length>0))}return new ke(e)}static emptyPath(){return new ke([])}}const PC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cn extends Gr{construct(t,e,s){return new Cn(t,e,s)}static isValidIdentifier(t){return PC.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===R0}static keyField(){return new Cn([R0])}static fromServerFormat(t){const e=[];let s="",l=0;const h=()=>{if(s.length===0)throw new Rt(ht.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(s),s=""};let d=!1;for(;l<t.length;){const _=t[l];if(_==="\\"){if(l+1===t.length)throw new Rt(ht.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new Rt(ht.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=y,l+=2}else _==="`"?(d=!d,l++):_!=="."||d?(s+=_,l++):(h(),l++)}if(h(),d)throw new Rt(ht.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Cn(e)}static emptyPath(){return new Cn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(t){this.path=t}static fromPath(t){return new Dt(ke.fromString(t))}static fromName(t){return new Dt(ke.fromString(t).popFirst(5))}static empty(){return new Dt(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ke.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ke.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Dt(new ke(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wc=-1;function OC(i,t){const e=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,l=Ft.fromTimestamp(s===1e9?new un(e+1,0):new un(e,s));return new Za(l,Dt.empty(),t)}function LC(i){return new Za(i.readTime,i.key,wc)}class Za{constructor(t,e,s){this.readTime=t,this.documentKey=e,this.largestBatchId=s}static min(){return new Za(Ft.min(),Dt.empty(),wc)}static max(){return new Za(Ft.max(),Dt.empty(),wc)}}function MC(i,t){let e=i.readTime.compareTo(t.readTime);return e!==0?e:(e=Dt.comparator(i.documentKey,t.documentKey),e!==0?e:Yt(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class NC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cu(i){if(i.code!==ht.FAILED_PRECONDITION||i.message!==DC)throw i;St("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Ut(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ft((s,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(s,l)},this.catchCallback=h=>{this.wrapFailure(e,h).next(s,l)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ft?e:ft.resolve(e)}catch(e){return ft.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ft.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ft.reject(e)}static resolve(t){return new ft((e,s)=>{e(t)})}static reject(t){return new ft((e,s)=>{s(t)})}static waitFor(t){return new ft((e,s)=>{let l=0,h=0,d=!1;t.forEach(_=>{++l,_.next(()=>{++h,d&&h===l&&e()},y=>s(y))}),d=!0,h===l&&e()})}static or(t){let e=ft.resolve(!1);for(const s of t)e=e.next(l=>l?ft.resolve(l):s());return e}static forEach(t,e){const s=[];return t.forEach((l,h)=>{s.push(e.call(this,l,h))}),this.waitFor(s)}static mapArray(t,e){return new ft((s,l)=>{const h=t.length,d=new Array(h);let _=0;for(let y=0;y<h;y++){const T=y;e(t[T]).next(S=>{d[T]=S,++_,_===h&&s(d)},S=>l(S))}})}static doWhile(t,e){return new ft((s,l)=>{const h=()=>{t()===!0?e().next(()=>{h()},l):s()};h()})}}function kC(i){const t=i.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function hu(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>e.writeSequenceNumber(s))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}Hf.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg=-1;function qf(i){return i==null}function yf(i){return i===0&&1/i==-1/0}function VC(i){return typeof i=="number"&&Number.isInteger(i)&&!yf(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="";function zC(i){let t="";for(let e=0;e<i.length;e++)t.length>0&&(t=C0(t)),t=UC(i.get(e),t);return C0(t)}function UC(i,t){let e=t;const s=i.length;for(let l=0;l<s;l++){const h=i.charAt(l);switch(h){case"\0":e+="";break;case qE:e+="";break;default:e+=h}}return e}function C0(i){return i+qE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(i){let t=0;for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t++;return t}function Wo(i,t){for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t(e,i[e])}function jE(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(t,e){this.comparator=t,this.root=e||Rn.EMPTY}insert(t,e){return new je(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Rn.BLACK,null,null))}remove(t){return new je(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Rn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const s=this.comparator(t,e.key);if(s===0)return e.value;s<0?e=e.left:s>0&&(e=e.right)}return null}indexOf(t){let e=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return e+s.left.size;l<0?s=s.left:(e+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,s)=>(t(e,s),!1))}toString(){const t=[];return this.inorderTraversal((e,s)=>(t.push(`${e}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Qh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Qh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Qh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Qh(this.root,t,this.comparator,!0)}}class Qh{constructor(t,e,s,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=e?s(t.key,e):1,e&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Rn{constructor(t,e,s,l,h){this.key=t,this.value=e,this.color=s??Rn.RED,this.left=l??Rn.EMPTY,this.right=h??Rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,s,l,h){return new Rn(t??this.key,e??this.value,s??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,s){let l=this;const h=s(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,e,s),null):h===0?l.copy(null,e,null,null,null):l.copy(null,null,null,null,l.right.insert(t,e,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Rn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let s,l=this;if(e(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,e),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),e(t,l.key)===0){if(l.right.isEmpty())return Rn.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,e))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ut(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ut(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Ut(27949);return t+(this.isRed()?0:1)}}Rn.EMPTY=null,Rn.RED=!0,Rn.BLACK=!1;Rn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ut(57766)}get value(){throw Ut(16141)}get color(){throw Ut(16727)}get left(){throw Ut(29726)}get right(){throw Ut(36894)}copy(t,e,s,l,h){return this}insert(t,e,s){return new Rn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(t){this.comparator=t,this.data=new je(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,s)=>(t(e),!1))}forEachInRange(t,e){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;e(l.key)}}forEachWhile(t,e){let s;for(s=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new P0(this.data.getIterator())}getIteratorFrom(t){return new P0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(s=>{e=e.add(s)}),e}isEqual(t){if(!(t instanceof cn)||this.size!==t.size)return!1;const e=this.data.getIterator(),s=t.data.getIterator();for(;e.hasNext();){const l=e.getNext().key,h=s.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new cn(this.comparator);return e.data=t,e}}class P0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(t){this.fields=t,t.sort(Cn.comparator)}static empty(){return new Tr([])}unionWith(t){let e=new cn(Cn.comparator);for(const s of this.fields)e=e.add(s);for(const s of t)e=e.add(s);return new Tr(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Wl(this.fields,t.fields,(e,s)=>e.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new FE("Invalid base64 string: "+h):h}}(t);return new xn(e)}static fromUint8Array(t){const e=function(l){let h="";for(let d=0;d<l.length;++d)h+=String.fromCharCode(l[d]);return h}(t);return new xn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const s=new Uint8Array(e.length);for(let l=0;l<e.length;l++)s[l]=e.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Yt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}xn.EMPTY_BYTE_STRING=new xn("");const BC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $a(i){if(me(!!i,39018),typeof i=="string"){let t=0;const e=BC.exec(i);if(me(!!e,46558,{timestamp:i}),e[1]){let l=e[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Xe(i.seconds),nanos:Xe(i.nanos)}}function Xe(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Ka(i){return typeof i=="string"?xn.fromBase64String(i):xn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="server_timestamp",ZE="__type__",$E="__previous_value__",KE="__local_write_time__";function ag(i){var t,e;return((e=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[ZE])===null||e===void 0?void 0:e.stringValue)===GE}function jf(i){const t=i.mapValue.fields[$E];return ag(t)?jf(t):t}function bc(i){const t=$a(i.mapValue.fields[KE].timestampValue);return new un(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(t,e,s,l,h,d,_,y,T,S){this.databaseId=t,this.appId=e,this.persistenceKey=s,this.host=l,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=_,this.longPollingOptions=y,this.useFetchStreams=T,this.isUsingEmulator=S}}const vf="(default)";class Ac{constructor(t,e){this.projectId=t,this.database=e||vf}static empty(){return new Ac("","")}get isDefaultDatabase(){return this.database===vf}isEqual(t){return t instanceof Ac&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="__type__",qC="__max__",Xh={mapValue:{}},QE="__vector__",Tf="value";function Ya(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ag(i)?4:FC(i)?9007199254740991:jC(i)?10:11:Ut(28295,{value:i})}function Xr(i,t){if(i===t)return!0;const e=Ya(i);if(e!==Ya(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return bc(i).isEqual(bc(t));case 3:return function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const d=$a(l.timestampValue),_=$a(h.timestampValue);return d.seconds===_.seconds&&d.nanos===_.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return function(l,h){return Ka(l.bytesValue).isEqual(Ka(h.bytesValue))}(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return function(l,h){return Xe(l.geoPointValue.latitude)===Xe(h.geoPointValue.latitude)&&Xe(l.geoPointValue.longitude)===Xe(h.geoPointValue.longitude)}(i,t);case 2:return function(l,h){if("integerValue"in l&&"integerValue"in h)return Xe(l.integerValue)===Xe(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const d=Xe(l.doubleValue),_=Xe(h.doubleValue);return d===_?yf(d)===yf(_):isNaN(d)&&isNaN(_)}return!1}(i,t);case 9:return Wl(i.arrayValue.values||[],t.arrayValue.values||[],Xr);case 10:case 11:return function(l,h){const d=l.mapValue.fields||{},_=h.mapValue.fields||{};if(x0(d)!==x0(_))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(_[y]===void 0||!Xr(d[y],_[y])))return!1;return!0}(i,t);default:return Ut(52216,{left:i})}}function Sc(i,t){return(i.values||[]).find(e=>Xr(e,t))!==void 0}function Jl(i,t){if(i===t)return 0;const e=Ya(i),s=Ya(t);if(e!==s)return Yt(e,s);switch(e){case 0:case 9007199254740991:return 0;case 1:return Yt(i.booleanValue,t.booleanValue);case 2:return function(h,d){const _=Xe(h.integerValue||h.doubleValue),y=Xe(d.integerValue||d.doubleValue);return _<y?-1:_>y?1:_===y?0:isNaN(_)?isNaN(y)?0:-1:1}(i,t);case 3:return O0(i.timestampValue,t.timestampValue);case 4:return O0(bc(i),bc(t));case 5:return _p(i.stringValue,t.stringValue);case 6:return function(h,d){const _=Ka(h),y=Ka(d);return _.compareTo(y)}(i.bytesValue,t.bytesValue);case 7:return function(h,d){const _=h.split("/"),y=d.split("/");for(let T=0;T<_.length&&T<y.length;T++){const S=Yt(_[T],y[T]);if(S!==0)return S}return Yt(_.length,y.length)}(i.referenceValue,t.referenceValue);case 8:return function(h,d){const _=Yt(Xe(h.latitude),Xe(d.latitude));return _!==0?_:Yt(Xe(h.longitude),Xe(d.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return L0(i.arrayValue,t.arrayValue);case 10:return function(h,d){var _,y,T,S;const x=h.fields||{},C=d.fields||{},V=(_=x[Tf])===null||_===void 0?void 0:_.arrayValue,q=(y=C[Tf])===null||y===void 0?void 0:y.arrayValue,G=Yt(((T=V==null?void 0:V.values)===null||T===void 0?void 0:T.length)||0,((S=q==null?void 0:q.values)===null||S===void 0?void 0:S.length)||0);return G!==0?G:L0(V,q)}(i.mapValue,t.mapValue);case 11:return function(h,d){if(h===Xh.mapValue&&d===Xh.mapValue)return 0;if(h===Xh.mapValue)return 1;if(d===Xh.mapValue)return-1;const _=h.fields||{},y=Object.keys(_),T=d.fields||{},S=Object.keys(T);y.sort(),S.sort();for(let x=0;x<y.length&&x<S.length;++x){const C=_p(y[x],S[x]);if(C!==0)return C;const V=Jl(_[y[x]],T[S[x]]);if(V!==0)return V}return Yt(y.length,S.length)}(i.mapValue,t.mapValue);default:throw Ut(23264,{Pe:e})}}function O0(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Yt(i,t);const e=$a(i),s=$a(t),l=Yt(e.seconds,s.seconds);return l!==0?l:Yt(e.nanos,s.nanos)}function L0(i,t){const e=i.values||[],s=t.values||[];for(let l=0;l<e.length&&l<s.length;++l){const h=Jl(e[l],s[l]);if(h)return h}return Yt(e.length,s.length)}function tu(i){return yp(i)}function yp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(e){const s=$a(e);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(e){return Ka(e).toBase64()}(i.bytesValue):"referenceValue"in i?function(e){return Dt.fromName(e).toString()}(i.referenceValue):"geoPointValue"in i?function(e){return`geo(${e.latitude},${e.longitude})`}(i.geoPointValue):"arrayValue"in i?function(e){let s="[",l=!0;for(const h of e.values||[])l?l=!1:s+=",",s+=yp(h);return s+"]"}(i.arrayValue):"mapValue"in i?function(e){const s=Object.keys(e.fields||{}).sort();let l="{",h=!0;for(const d of s)h?h=!1:l+=",",l+=`${d}:${yp(e.fields[d])}`;return l+"}"}(i.mapValue):Ut(61005,{value:i})}function sf(i){switch(Ya(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=jf(i);return t?16+sf(t):16;case 5:return 2*i.stringValue.length;case 6:return Ka(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,h)=>l+sf(h),0)}(i.arrayValue);case 10:case 11:return function(s){let l=0;return Wo(s.fields,(h,d)=>{l+=h.length+sf(d)}),l}(i.mapValue);default:throw Ut(13486,{value:i})}}function M0(i,t){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${t.path.canonicalString()}`}}function vp(i){return!!i&&"integerValue"in i}function og(i){return!!i&&"arrayValue"in i}function D0(i){return!!i&&"nullValue"in i}function N0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function af(i){return!!i&&"mapValue"in i}function jC(i){var t,e;return((e=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[YE])===null||e===void 0?void 0:e.stringValue)===QE}function mc(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return Wo(i.mapValue.fields,(e,s)=>t.mapValue.fields[e]=mc(s)),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(i.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=mc(i.arrayValue.values[e]);return t}return Object.assign({},i)}function FC(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===qC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(t){this.value=t}static empty(){return new Wi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let s=0;s<t.length-1;++s)if(e=(e.mapValue.fields||{})[t.get(s)],!af(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=mc(e)}setAll(t){let e=Cn.emptyPath(),s={},l=[];t.forEach((d,_)=>{if(!e.isImmediateParentOf(_)){const y=this.getFieldsMap(e);this.applyChanges(y,s,l),s={},l=[],e=_.popLast()}d?s[_.lastSegment()]=mc(d):l.push(_.lastSegment())});const h=this.getFieldsMap(e);this.applyChanges(h,s,l)}delete(t){const e=this.field(t.popLast());af(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Xr(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=e.mapValue.fields[t.get(s)];af(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},e.mapValue.fields[t.get(s)]=l),e=l}return e.mapValue.fields}applyChanges(t,e,s){Wo(e,(l,h)=>t[l]=h);for(const l of s)delete t[l]}clone(){return new Wi(mc(this.value))}}function XE(i){const t=[];return Wo(i.fields,(e,s)=>{const l=new Cn([e]);if(af(s)){const h=XE(s.mapValue).fields;if(h.length===0)t.push(l);else for(const d of h)t.push(l.child(d))}else t.push(l)}),new Tr(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(t,e,s,l,h,d,_){this.key=t,this.documentType=e,this.version=s,this.readTime=l,this.createTime=h,this.data=d,this.documentState=_}static newInvalidDocument(t){return new Hn(t,0,Ft.min(),Ft.min(),Ft.min(),Wi.empty(),0)}static newFoundDocument(t,e,s,l){return new Hn(t,1,e,Ft.min(),s,l,0)}static newNoDocument(t,e){return new Hn(t,2,e,Ft.min(),Ft.min(),Wi.empty(),0)}static newUnknownDocument(t,e){return new Hn(t,3,e,Ft.min(),Ft.min(),Wi.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Ft.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Wi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Wi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ft.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Hn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(t,e){this.position=t,this.inclusive=e}}function k0(i,t,e){let s=0;for(let l=0;l<i.position.length;l++){const h=t[l],d=i.position[l];if(h.field.isKeyField()?s=Dt.comparator(Dt.fromName(d.referenceValue),e.key):s=Jl(d,e.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function V0(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let e=0;e<i.position.length;e++)if(!Xr(i.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(t,e="asc"){this.field=t,this.dir=e}}function GC(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{}class rn extends WE{constructor(t,e,s){super(),this.field=t,this.op=e,this.value=s}static create(t,e,s){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,s):new $C(t,e,s):e==="array-contains"?new QC(t,s):e==="in"?new XC(t,s):e==="not-in"?new WC(t,s):e==="array-contains-any"?new JC(t,s):new rn(t,e,s)}static createKeyFieldInFilter(t,e,s){return e==="in"?new KC(t,s):new YC(t,s)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Jl(e,this.value)):e!==null&&Ya(this.value)===Ya(e)&&this.matchesComparison(Jl(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ut(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ar extends WE{constructor(t,e){super(),this.filters=t,this.op=e,this.Te=null}static create(t,e){return new Ar(t,e)}matches(t){return JE(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function JE(i){return i.op==="and"}function tw(i){return ZC(i)&&JE(i)}function ZC(i){for(const t of i.filters)if(t instanceof Ar)return!1;return!0}function Tp(i){if(i instanceof rn)return i.field.canonicalString()+i.op.toString()+tu(i.value);if(tw(i))return i.filters.map(t=>Tp(t)).join(",");{const t=i.filters.map(e=>Tp(e)).join(",");return`${i.op}(${t})`}}function ew(i,t){return i instanceof rn?function(s,l){return l instanceof rn&&s.op===l.op&&s.field.isEqual(l.field)&&Xr(s.value,l.value)}(i,t):i instanceof Ar?function(s,l){return l instanceof Ar&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((h,d,_)=>h&&ew(d,l.filters[_]),!0):!1}(i,t):void Ut(19439)}function nw(i){return i instanceof rn?function(e){return`${e.field.canonicalString()} ${e.op} ${tu(e.value)}`}(i):i instanceof Ar?function(e){return e.op.toString()+" {"+e.getFilters().map(nw).join(" ,")+"}"}(i):"Filter"}class $C extends rn{constructor(t,e,s){super(t,e,s),this.key=Dt.fromName(s.referenceValue)}matches(t){const e=Dt.comparator(t.key,this.key);return this.matchesComparison(e)}}class KC extends rn{constructor(t,e){super(t,"in",e),this.keys=iw("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class YC extends rn{constructor(t,e){super(t,"not-in",e),this.keys=iw("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function iw(i,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(s=>Dt.fromName(s.referenceValue))}class QC extends rn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return og(e)&&Sc(e.arrayValue,this.value)}}class XC extends rn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Sc(this.value.arrayValue,e)}}class WC extends rn{constructor(t,e){super(t,"not-in",e)}matches(t){if(Sc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Sc(this.value.arrayValue,e)}}class JC extends rn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!og(e)||!e.arrayValue.values)&&e.arrayValue.values.some(s=>Sc(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(t,e=null,s=[],l=[],h=null,d=null,_=null){this.path=t,this.collectionGroup=e,this.orderBy=s,this.filters=l,this.limit=h,this.startAt=d,this.endAt=_,this.Ie=null}}function z0(i,t=null,e=[],s=[],l=null,h=null,d=null){return new tx(i,t,e,s,l,h,d)}function lg(i){const t=Gt(i);if(t.Ie===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(s=>Tp(s)).join(","),e+="|ob:",e+=t.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),qf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(s=>tu(s)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(s=>tu(s)).join(",")),t.Ie=e}return t.Ie}function ug(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<i.orderBy.length;e++)if(!GC(i.orderBy[e],t.orderBy[e]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let e=0;e<i.filters.length;e++)if(!ew(i.filters[e],t.filters[e]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!V0(i.startAt,t.startAt)&&V0(i.endAt,t.endAt)}function Ep(i){return Dt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(t,e=null,s=[],l=[],h=null,d="F",_=null,y=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=s,this.filters=l,this.limit=h,this.limitType=d,this.startAt=_,this.endAt=y,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function ex(i,t,e,s,l,h,d,_){return new fu(i,t,e,s,l,h,d,_)}function Ff(i){return new fu(i)}function U0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function rw(i){return i.collectionGroup!==null}function pc(i){const t=Gt(i);if(t.Ee===null){t.Ee=[];const e=new Set;for(const h of t.explicitOrderBy)t.Ee.push(h),e.add(h.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let _=new cn(Cn.comparator);return d.filters.forEach(y=>{y.getFlattenedFilters().forEach(T=>{T.isInequality()&&(_=_.add(T.field))})}),_})(t).forEach(h=>{e.has(h.canonicalString())||h.isKeyField()||t.Ee.push(new Ic(h,s))}),e.has(Cn.keyField().canonicalString())||t.Ee.push(new Ic(Cn.keyField(),s))}return t.Ee}function Zr(i){const t=Gt(i);return t.de||(t.de=nx(t,pc(i))),t.de}function nx(i,t){if(i.limitType==="F")return z0(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map(l=>{const h=l.dir==="desc"?"asc":"desc";return new Ic(l.field,h)});const e=i.endAt?new Ef(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Ef(i.startAt.position,i.startAt.inclusive):null;return z0(i.path,i.collectionGroup,t,i.filters,i.limit,e,s)}}function wp(i,t){const e=i.filters.concat([t]);return new fu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),e,i.limit,i.limitType,i.startAt,i.endAt)}function bp(i,t,e){return new fu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,e,i.startAt,i.endAt)}function Gf(i,t){return ug(Zr(i),Zr(t))&&i.limitType===t.limitType}function sw(i){return`${lg(Zr(i))}|lt:${i.limitType}`}function jl(i){return`Query(target=${function(e){let s=e.path.canonicalString();return e.collectionGroup!==null&&(s+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(s+=`, filters: [${e.filters.map(l=>nw(l)).join(", ")}]`),qf(e.limit)||(s+=", limit: "+e.limit),e.orderBy.length>0&&(s+=`, orderBy: [${e.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),e.startAt&&(s+=", startAt: ",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map(l=>tu(l)).join(",")),e.endAt&&(s+=", endAt: ",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map(l=>tu(l)).join(",")),`Target(${s})`}(Zr(i))}; limitType=${i.limitType})`}function Zf(i,t){return t.isFoundDocument()&&function(s,l){const h=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):Dt.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(i,t)&&function(s,l){for(const h of pc(s))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0}(i,t)&&function(s,l){for(const h of s.filters)if(!h.matches(l))return!1;return!0}(i,t)&&function(s,l){return!(s.startAt&&!function(d,_,y){const T=k0(d,_,y);return d.inclusive?T<=0:T<0}(s.startAt,pc(s),l)||s.endAt&&!function(d,_,y){const T=k0(d,_,y);return d.inclusive?T>=0:T>0}(s.endAt,pc(s),l))}(i,t)}function ix(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function aw(i){return(t,e)=>{let s=!1;for(const l of pc(i)){const h=rx(l,t,e);if(h!==0)return h;s=s||l.field.isKeyField()}return 0}}function rx(i,t,e){const s=i.field.isKeyField()?Dt.comparator(t.key,e.key):function(h,d,_){const y=d.data.field(h),T=_.data.field(h);return y!==null&&T!==null?Jl(y,T):Ut(42886)}(i.field,t,e);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ut(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s!==void 0){for(const[l,h]of s)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,e){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,e]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,e]);l.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),s=this.inner[e];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[e]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Wo(this.inner,(e,s)=>{for(const[l,h]of s)t(l,h)})}isEmpty(){return jE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx=new je(Dt.comparator);function ks(){return sx}const ow=new je(Dt.comparator);function cc(...i){let t=ow;for(const e of i)t=t.insert(e.key,e);return t}function lw(i){let t=ow;return i.forEach((e,s)=>t=t.insert(e,s.overlayedDocument)),t}function zo(){return gc()}function uw(){return gc()}function gc(){return new Jo(i=>i.toString(),(i,t)=>i.isEqual(t))}const ax=new je(Dt.comparator),ox=new cn(Dt.comparator);function ie(...i){let t=ox;for(const e of i)t=t.add(e);return t}const lx=new cn(Yt);function ux(){return lx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yf(t)?"-0":t}}function cw(i){return{integerValue:""+i}}function cx(i,t){return VC(t)?cw(t):cg(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(){this._=void 0}}function hx(i,t,e){return i instanceof Rc?function(l,h){const d={fields:{[ZE]:{stringValue:GE},[KE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&ag(h)&&(h=jf(h)),h&&(d.fields[$E]=h),{mapValue:d}}(e,t):i instanceof Cc?fw(i,t):i instanceof xc?dw(i,t):function(l,h){const d=hw(l,h),_=B0(d)+B0(l.Re);return vp(d)&&vp(l.Re)?cw(_):cg(l.serializer,_)}(i,t)}function fx(i,t,e){return i instanceof Cc?fw(i,t):i instanceof xc?dw(i,t):e}function hw(i,t){return i instanceof wf?function(s){return vp(s)||function(h){return!!h&&"doubleValue"in h}(s)}(t)?t:{integerValue:0}:null}class Rc extends $f{}class Cc extends $f{constructor(t){super(),this.elements=t}}function fw(i,t){const e=mw(t);for(const s of i.elements)e.some(l=>Xr(l,s))||e.push(s);return{arrayValue:{values:e}}}class xc extends $f{constructor(t){super(),this.elements=t}}function dw(i,t){let e=mw(t);for(const s of i.elements)e=e.filter(l=>!Xr(l,s));return{arrayValue:{values:e}}}class wf extends $f{constructor(t,e){super(),this.serializer=t,this.Re=e}}function B0(i){return Xe(i.integerValue||i.doubleValue)}function mw(i){return og(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(t,e){this.field=t,this.transform=e}}function mx(i,t){return i.field.isEqual(t.field)&&function(s,l){return s instanceof Cc&&l instanceof Cc||s instanceof xc&&l instanceof xc?Wl(s.elements,l.elements,Xr):s instanceof wf&&l instanceof wf?Xr(s.Re,l.Re):s instanceof Rc&&l instanceof Rc}(i.transform,t.transform)}class px{constructor(t,e){this.version=t,this.transformResults=e}}class Os{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Os}static exists(t){return new Os(void 0,t)}static updateTime(t){return new Os(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function of(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class Kf{}function pw(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new _w(i.key,Os.none()):new Vc(i.key,i.data,Os.none());{const e=i.data,s=Wi.empty();let l=new cn(Cn.comparator);for(let h of t.fields)if(!l.has(h)){let d=e.field(h);d===null&&h.length>1&&(h=h.popLast(),d=e.field(h)),d===null?s.delete(h):s.set(h,d),l=l.add(h)}return new tl(i.key,s,new Tr(l.toArray()),Os.none())}}function gx(i,t,e){i instanceof Vc?function(l,h,d){const _=l.value.clone(),y=q0(l.fieldTransforms,h,d.transformResults);_.setAll(y),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(i,t,e):i instanceof tl?function(l,h,d){if(!of(l.precondition,h))return void h.convertToUnknownDocument(d.version);const _=q0(l.fieldTransforms,h,d.transformResults),y=h.data;y.setAll(gw(l)),y.setAll(_),h.convertToFoundDocument(d.version,y).setHasCommittedMutations()}(i,t,e):function(l,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,e)}function _c(i,t,e,s){return i instanceof Vc?function(h,d,_,y){if(!of(h.precondition,d))return _;const T=h.value.clone(),S=j0(h.fieldTransforms,y,d);return T.setAll(S),d.convertToFoundDocument(d.version,T).setHasLocalMutations(),null}(i,t,e,s):i instanceof tl?function(h,d,_,y){if(!of(h.precondition,d))return _;const T=j0(h.fieldTransforms,y,d),S=d.data;return S.setAll(gw(h)),S.setAll(T),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),_===null?null:_.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(x=>x.field))}(i,t,e,s):function(h,d,_){return of(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):_}(i,t,e)}function _x(i,t){let e=null;for(const s of i.fieldTransforms){const l=t.data.field(s.field),h=hw(s.transform,l||null);h!=null&&(e===null&&(e=Wi.empty()),e.set(s.field,h))}return e||null}function H0(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Wl(s,l,(h,d)=>mx(h,d))}(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class Vc extends Kf{constructor(t,e,s,l=[]){super(),this.key=t,this.value=e,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class tl extends Kf{constructor(t,e,s,l,h=[]){super(),this.key=t,this.data=e,this.fieldMask=s,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function gw(i){const t=new Map;return i.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const s=i.data.field(e);t.set(e,s)}}),t}function q0(i,t,e){const s=new Map;me(i.length===e.length,32656,{Ve:e.length,me:i.length});for(let l=0;l<e.length;l++){const h=i[l],d=h.transform,_=t.data.field(h.field);s.set(h.field,fx(d,_,e[l]))}return s}function j0(i,t,e){const s=new Map;for(const l of i){const h=l.transform,d=e.data.field(l.field);s.set(l.field,hx(h,d,t))}return s}class _w extends Kf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yx extends Kf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(t,e,s,l){this.batchId=t,this.localWriteTime=e,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,e){const s=e.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&gx(h,t,s[l])}}applyToLocalView(t,e){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(e=_c(s,t,e,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(e=_c(s,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const s=uw();return this.mutations.forEach(l=>{const h=t.get(l.key),d=h.overlayedDocument;let _=this.applyToLocalView(d,h.mutatedFields);_=e.has(l.key)?null:_;const y=pw(d,_);y!==null&&s.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(Ft.min())}),s}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),ie())}isEqual(t){return this.batchId===t.batchId&&Wl(this.mutations,t.mutations,(e,s)=>H0(e,s))&&Wl(this.baseMutations,t.baseMutations,(e,s)=>H0(e,s))}}class hg{constructor(t,e,s,l){this.batch=t,this.commitVersion=e,this.mutationResults=s,this.docVersions=l}static from(t,e,s){me(t.mutations.length===s.length,58842,{fe:t.mutations.length,ge:s.length});let l=function(){return ax}();const h=t.mutations;for(let d=0;d<h.length;d++)l=l.insert(h[d].key,s[d].version);return new hg(t,e,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn,le;function wx(i){switch(i){case ht.OK:return Ut(64938);case ht.CANCELLED:case ht.UNKNOWN:case ht.DEADLINE_EXCEEDED:case ht.RESOURCE_EXHAUSTED:case ht.INTERNAL:case ht.UNAVAILABLE:case ht.UNAUTHENTICATED:return!1;case ht.INVALID_ARGUMENT:case ht.NOT_FOUND:case ht.ALREADY_EXISTS:case ht.PERMISSION_DENIED:case ht.FAILED_PRECONDITION:case ht.ABORTED:case ht.OUT_OF_RANGE:case ht.UNIMPLEMENTED:case ht.DATA_LOSS:return!0;default:return Ut(15467,{code:i})}}function yw(i){if(i===void 0)return Ns("GRPC error has no .code"),ht.UNKNOWN;switch(i){case nn.OK:return ht.OK;case nn.CANCELLED:return ht.CANCELLED;case nn.UNKNOWN:return ht.UNKNOWN;case nn.DEADLINE_EXCEEDED:return ht.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return ht.RESOURCE_EXHAUSTED;case nn.INTERNAL:return ht.INTERNAL;case nn.UNAVAILABLE:return ht.UNAVAILABLE;case nn.UNAUTHENTICATED:return ht.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return ht.INVALID_ARGUMENT;case nn.NOT_FOUND:return ht.NOT_FOUND;case nn.ALREADY_EXISTS:return ht.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return ht.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return ht.FAILED_PRECONDITION;case nn.ABORTED:return ht.ABORTED;case nn.OUT_OF_RANGE:return ht.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return ht.UNIMPLEMENTED;case nn.DATA_LOSS:return ht.DATA_LOSS;default:return Ut(39323,{code:i})}}(le=nn||(nn={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx=new qa([4294967295,4294967295],0);function F0(i){const t=BE().encode(i),e=new LE;return e.update(t),new Uint8Array(e.digest())}function G0(i){const t=new DataView(i.buffer),e=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new qa([e,s],0),new qa([l,h],0)]}class fg{constructor(t,e,s){if(this.bitmap=t,this.padding=e,this.hashCount=s,e<0||e>=8)throw new hc(`Invalid padding: ${e}`);if(s<0)throw new hc(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new hc(`Invalid hash count: ${s}`);if(t.length===0&&e!==0)throw new hc(`Invalid padding when bitmap length is 0: ${e}`);this.pe=8*t.length-e,this.ye=qa.fromNumber(this.pe)}we(t,e,s){let l=t.add(e.multiply(qa.fromNumber(s)));return l.compare(bx)===1&&(l=new qa([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const e=F0(t),[s,l]=G0(e);for(let h=0;h<this.hashCount;h++){const d=this.we(s,l,h);if(!this.be(d))return!1}return!0}static create(t,e,s){const l=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),d=new fg(h,l,e);return s.forEach(_=>d.insert(_)),d}insert(t){if(this.pe===0)return;const e=F0(t),[s,l]=G0(e);for(let h=0;h<this.hashCount;h++){const d=this.we(s,l,h);this.Se(d)}}Se(t){const e=Math.floor(t/8),s=t%8;this.bitmap[e]|=1<<s}}class hc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(t,e,s,l,h){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,e,s){const l=new Map;return l.set(t,zc.createSynthesizedTargetChangeForCurrentChange(t,e,s)),new Yf(Ft.min(),l,new je(Yt),ks(),ie())}}class zc{constructor(t,e,s,l,h){this.resumeToken=t,this.current=e,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,e,s){return new zc(s,e,ie(),ie(),ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(t,e,s,l){this.De=t,this.removedTargetIds=e,this.key=s,this.ve=l}}class vw{constructor(t,e){this.targetId=t,this.Ce=e}}class Tw{constructor(t,e,s=xn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=e,this.resumeToken=s,this.cause=l}}class Z0{constructor(){this.Fe=0,this.Me=$0(),this.xe=xn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=ie(),e=ie(),s=ie();return this.Me.forEach((l,h)=>{switch(h){case 0:t=t.add(l);break;case 2:e=e.add(l);break;case 1:s=s.add(l);break;default:Ut(38017,{changeType:h})}}),new zc(this.xe,this.Oe,t,e,s)}Qe(){this.Ne=!1,this.Me=$0()}$e(t,e){this.Ne=!0,this.Me=this.Me.insert(t,e)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,me(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Ax{constructor(t){this.ze=t,this.je=new Map,this.He=ks(),this.Je=Wh(),this.Ye=Wh(),this.Ze=new je(Yt)}Xe(t){for(const e of t.De)t.ve&&t.ve.isFoundDocument()?this.et(e,t.ve):this.tt(e,t.key,t.ve);for(const e of t.removedTargetIds)this.tt(e,t.key,t.ve)}nt(t){this.forEachTarget(t,e=>{const s=this.rt(e);switch(t.state){case 0:this.it(e)&&s.ke(t.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(t.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(e);break;case 3:this.it(e)&&(s.Ge(),s.ke(t.resumeToken));break;case 4:this.it(e)&&(this.st(e),s.ke(t.resumeToken));break;default:Ut(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.je.forEach((s,l)=>{this.it(l)&&e(l)})}ot(t){const e=t.targetId,s=t.Ce.count,l=this._t(e);if(l){const h=l.target;if(Ep(h))if(s===0){const d=new Dt(h.path);this.tt(e,d,Hn.newNoDocument(d,Ft.min()))}else me(s===1,20013,{expectedCount:s});else{const d=this.ut(e);if(d!==s){const _=this.ct(t),y=_?this.lt(_,t,d):1;if(y!==0){this.st(e);const T=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,T)}}}}}ct(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:h=0}=e;let d,_;try{d=Ka(s).toUint8Array()}catch(y){if(y instanceof FE)return Xl("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{_=new fg(d,l,h)}catch(y){return Xl(y instanceof hc?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return _.pe===0?null:_}lt(t,e,s){return e.Ce.count===s-this.Tt(t,e.targetId)?0:2}Tt(t,e){const s=this.ze.getRemoteKeysForTarget(e);let l=0;return s.forEach(h=>{const d=this.ze.Pt(),_=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;t.mightContain(_)||(this.tt(e,h,null),l++)}),l}It(t){const e=new Map;this.je.forEach((h,d)=>{const _=this._t(d);if(_){if(h.current&&Ep(_.target)){const y=new Dt(_.target.path);this.Et(y).has(d)||this.dt(d,y)||this.tt(d,y,Hn.newNoDocument(y,t))}h.Le&&(e.set(d,h.qe()),h.Qe())}});let s=ie();this.Ye.forEach((h,d)=>{let _=!0;d.forEachWhile(y=>{const T=this._t(y);return!T||T.purpose==="TargetPurposeLimboResolution"||(_=!1,!1)}),_&&(s=s.add(h))}),this.He.forEach((h,d)=>d.setReadTime(t));const l=new Yf(t,e,this.Ze,this.He,s);return this.He=ks(),this.Je=Wh(),this.Ye=Wh(),this.Ze=new je(Yt),l}et(t,e){if(!this.it(t))return;const s=this.dt(t,e.key)?2:0;this.rt(t).$e(e.key,s),this.He=this.He.insert(e.key,e),this.Je=this.Je.insert(e.key,this.Et(e.key).add(t)),this.Ye=this.Ye.insert(e.key,this.At(e.key).add(t))}tt(t,e,s){if(!this.it(t))return;const l=this.rt(t);this.dt(t,e)?l.$e(e,1):l.Ue(e),this.Ye=this.Ye.insert(e,this.At(e).delete(t)),this.Ye=this.Ye.insert(e,this.At(e).add(t)),s&&(this.He=this.He.insert(e,s))}removeTarget(t){this.je.delete(t)}ut(t){const e=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let e=this.je.get(t);return e||(e=new Z0,this.je.set(t,e)),e}At(t){let e=this.Ye.get(t);return e||(e=new cn(Yt),this.Ye=this.Ye.insert(t,e)),e}Et(t){let e=this.Je.get(t);return e||(e=new cn(Yt),this.Je=this.Je.insert(t,e)),e}it(t){const e=this._t(t)!==null;return e||St("WatchChangeAggregator","Detected inactive target",t),e}_t(t){const e=this.je.get(t);return e&&e.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new Z0),this.ze.getRemoteKeysForTarget(t).forEach(e=>{this.tt(t,e,null)})}dt(t,e){return this.ze.getRemoteKeysForTarget(t).has(e)}}function Wh(){return new je(Dt.comparator)}function $0(){return new je(Dt.comparator)}const Sx={asc:"ASCENDING",desc:"DESCENDING"},Ix={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Rx={and:"AND",or:"OR"};class Cx{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Ap(i,t){return i.useProto3Json||qf(t)?t:{value:t}}function bf(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ew(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function xx(i,t){return bf(i,t.toTimestamp())}function $r(i){return me(!!i,49232),Ft.fromTimestamp(function(e){const s=$a(e);return new un(s.seconds,s.nanos)}(i))}function dg(i,t){return Sp(i,t).canonicalString()}function Sp(i,t){const e=function(l){return new ke(["projects",l.projectId,"databases",l.database])}(i).child("documents");return t===void 0?e:e.child(t)}function ww(i){const t=ke.fromString(i);return me(Rw(t),10190,{key:t.toString()}),t}function Ip(i,t){return dg(i.databaseId,t.path)}function tp(i,t){const e=ww(t);if(e.get(1)!==i.databaseId.projectId)throw new Rt(ht.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+i.databaseId.projectId);if(e.get(3)!==i.databaseId.database)throw new Rt(ht.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+i.databaseId.database);return new Dt(Aw(e))}function bw(i,t){return dg(i.databaseId,t)}function Px(i){const t=ww(i);return t.length===4?ke.emptyPath():Aw(t)}function Rp(i){return new ke(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Aw(i){return me(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function K0(i,t,e){return{name:Ip(i,t),fields:e.value.mapValue.fields}}function Ox(i,t){let e;if("targetChange"in t){t.targetChange;const s=function(T){return T==="NO_CHANGE"?0:T==="ADD"?1:T==="REMOVE"?2:T==="CURRENT"?3:T==="RESET"?4:Ut(39313,{state:T})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],h=function(T,S){return T.useProto3Json?(me(S===void 0||typeof S=="string",58123),xn.fromBase64String(S||"")):(me(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),xn.fromUint8Array(S||new Uint8Array))}(i,t.targetChange.resumeToken),d=t.targetChange.cause,_=d&&function(T){const S=T.code===void 0?ht.UNKNOWN:yw(T.code);return new Rt(S,T.message||"")}(d);e=new Tw(s,l,h,_||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=tp(i,s.document.name),h=$r(s.document.updateTime),d=s.document.createTime?$r(s.document.createTime):Ft.min(),_=new Wi({mapValue:{fields:s.document.fields}}),y=Hn.newFoundDocument(l,h,d,_),T=s.targetIds||[],S=s.removedTargetIds||[];e=new lf(T,S,y.key,y)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=tp(i,s.document),h=s.readTime?$r(s.readTime):Ft.min(),d=Hn.newNoDocument(l,h),_=s.removedTargetIds||[];e=new lf([],_,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=tp(i,s.document),h=s.removedTargetIds||[];e=new lf([],h,l,null)}else{if(!("filter"in t))return Ut(11601,{Vt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:h}=s,d=new Ex(l,h),_=s.targetId;e=new vw(_,d)}}return e}function Lx(i,t){let e;if(t instanceof Vc)e={update:K0(i,t.key,t.value)};else if(t instanceof _w)e={delete:Ip(i,t.key)};else if(t instanceof tl)e={update:K0(i,t.key,t.data),updateMask:Hx(t.fieldMask)};else{if(!(t instanceof yx))return Ut(16599,{ft:t.type});e={verify:Ip(i,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(s=>function(h,d){const _=d.transform;if(_ instanceof Rc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof Cc)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof xc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof wf)return{fieldPath:d.field.canonicalString(),increment:_.Re};throw Ut(20930,{transform:d.transform})}(0,s))),t.precondition.isNone||(e.currentDocument=function(l,h){return h.updateTime!==void 0?{updateTime:xx(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:Ut(27497)}(i,t.precondition)),e}function Mx(i,t){return i&&i.length>0?(me(t!==void 0,14353),i.map(e=>function(l,h){let d=l.updateTime?$r(l.updateTime):$r(h);return d.isEqual(Ft.min())&&(d=$r(h)),new px(d,l.transformResults||[])}(e,t))):[]}function Dx(i,t){return{documents:[bw(i,t.path)]}}function Nx(i,t){const e={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),e.structuredQuery.from=[{collectionId:s.lastSegment()}]),e.parent=bw(i,l);const h=function(T){if(T.length!==0)return Iw(Ar.create(T,"and"))}(t.filters);h&&(e.structuredQuery.where=h);const d=function(T){if(T.length!==0)return T.map(S=>function(C){return{field:Fl(C.field),direction:zx(C.dir)}}(S))}(t.orderBy);d&&(e.structuredQuery.orderBy=d);const _=Ap(i,t.limit);return _!==null&&(e.structuredQuery.limit=_),t.startAt&&(e.structuredQuery.startAt=function(T){return{before:T.inclusive,values:T.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(T){return{before:!T.inclusive,values:T.position}}(t.endAt)),{gt:e,parent:l}}function kx(i){let t=Px(i.parent);const e=i.structuredQuery,s=e.from?e.from.length:0;let l=null;if(s>0){me(s===1,65062);const S=e.from[0];S.allDescendants?l=S.collectionId:t=t.child(S.collectionId)}let h=[];e.where&&(h=function(x){const C=Sw(x);return C instanceof Ar&&tw(C)?C.getFilters():[C]}(e.where));let d=[];e.orderBy&&(d=function(x){return x.map(C=>function(q){return new Ic(Gl(q.field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(q.direction))}(C))}(e.orderBy));let _=null;e.limit&&(_=function(x){let C;return C=typeof x=="object"?x.value:x,qf(C)?null:C}(e.limit));let y=null;e.startAt&&(y=function(x){const C=!!x.before,V=x.values||[];return new Ef(V,C)}(e.startAt));let T=null;return e.endAt&&(T=function(x){const C=!x.before,V=x.values||[];return new Ef(V,C)}(e.endAt)),ex(t,l,d,h,_,"F",y,T)}function Vx(i,t){const e=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ut(28987,{purpose:l})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function Sw(i){return i.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const s=Gl(e.unaryFilter.field);return rn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Gl(e.unaryFilter.field);return rn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Gl(e.unaryFilter.field);return rn.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Gl(e.unaryFilter.field);return rn.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ut(61313);default:return Ut(60726)}}(i):i.fieldFilter!==void 0?function(e){return rn.create(Gl(e.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ut(58110);default:return Ut(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(e){return Ar.create(e.compositeFilter.filters.map(s=>Sw(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return Ut(1026)}}(e.compositeFilter.op))}(i):Ut(30097,{filter:i})}function zx(i){return Sx[i]}function Ux(i){return Ix[i]}function Bx(i){return Rx[i]}function Fl(i){return{fieldPath:i.canonicalString()}}function Gl(i){return Cn.fromServerFormat(i.fieldPath)}function Iw(i){return i instanceof rn?function(e){if(e.op==="=="){if(N0(e.value))return{unaryFilter:{field:Fl(e.field),op:"IS_NAN"}};if(D0(e.value))return{unaryFilter:{field:Fl(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(N0(e.value))return{unaryFilter:{field:Fl(e.field),op:"IS_NOT_NAN"}};if(D0(e.value))return{unaryFilter:{field:Fl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fl(e.field),op:Ux(e.op),value:e.value}}}(i):i instanceof Ar?function(e){const s=e.getFilters().map(l=>Iw(l));return s.length===1?s[0]:{compositeFilter:{op:Bx(e.op),filters:s}}}(i):Ut(54877,{filter:i})}function Hx(i){const t=[];return i.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Rw(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(t,e,s,l,h=Ft.min(),d=Ft.min(),_=xn.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=e,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=_,this.expectedCount=y}withSequenceNumber(t){return new Ua(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Ua(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(t){this.wt=t}}function jx(i){const t=kx({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?bp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(){this.Cn=new Gx}addToCollectionParentIndex(t,e){return this.Cn.add(e),ft.resolve()}getCollectionParents(t,e){return ft.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return ft.resolve()}deleteFieldIndex(t,e){return ft.resolve()}deleteAllFieldIndexes(t){return ft.resolve()}createTargetIndexes(t,e){return ft.resolve()}getDocumentsMatchingTarget(t,e){return ft.resolve(null)}getIndexType(t,e){return ft.resolve(0)}getFieldIndexes(t,e){return ft.resolve([])}getNextCollectionGroupToUpdate(t){return ft.resolve(null)}getMinOffset(t,e){return ft.resolve(Za.min())}getMinOffsetFromCollectionGroup(t,e){return ft.resolve(Za.min())}updateCollectionGroup(t,e,s){return ft.resolve()}updateIndexEntries(t,e){return ft.resolve()}}class Gx{constructor(){this.index={}}add(t){const e=t.lastSegment(),s=t.popLast(),l=this.index[e]||new cn(ke.comparator),h=!l.has(s);return this.index[e]=l.add(s),h}has(t){const e=t.lastSegment(),s=t.popLast(),l=this.index[e];return l&&l.has(s)}getEntries(t){return(this.index[t]||new cn(ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Cw=41943040;class ai{static withCacheSize(t){return new ai(t,ai.DEFAULT_COLLECTION_PERCENTILE,ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ai.DEFAULT_COLLECTION_PERCENTILE=10,ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ai.DEFAULT=new ai(Cw,ai.DEFAULT_COLLECTION_PERCENTILE,ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ai.DISABLED=new ai(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new eu(0)}static lr(){return new eu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="LruGarbageCollector",Zx=1048576;function X0([i,t],[e,s]){const l=Yt(i,e);return l===0?Yt(t,s):l}class $x{constructor(t){this.Er=t,this.buffer=new cn(X0),this.dr=0}Ar(){return++this.dr}Rr(t){const e=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(e);else{const s=this.buffer.last();X0(e,s)<0&&(this.buffer=this.buffer.delete(s).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Kx{constructor(t,e,s){this.garbageCollector=t,this.asyncQueue=e,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){St(Q0,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){hu(e)?St(Q0,"Ignoring IndexedDB error during garbage collection: ",e):await cu(e)}await this.mr(3e5)})}}class Yx{constructor(t,e){this.gr=t,this.params=e}calculateTargetCount(t,e){return this.gr.pr(t).next(s=>Math.floor(e/100*s))}nthSequenceNumber(t,e){if(e===0)return ft.resolve(Hf.le);const s=new $x(e);return this.gr.forEachTarget(t,l=>s.Rr(l.sequenceNumber)).next(()=>this.gr.yr(t,l=>s.Rr(l))).next(()=>s.maxValue)}removeTargets(t,e,s){return this.gr.removeTargets(t,e,s)}removeOrphanedDocuments(t,e){return this.gr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(St("LruGarbageCollector","Garbage collection skipped; disabled"),ft.resolve(Y0)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(St("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Y0):this.wr(t,e))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,e){let s,l,h,d,_,y,T;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(St("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),l=this.params.maximumSequenceNumbersToCollect):l=x,d=Date.now(),this.nthSequenceNumber(t,l))).next(x=>(s=x,_=Date.now(),this.removeTargets(t,s,e))).next(x=>(h=x,y=Date.now(),this.removeOrphanedDocuments(t,s))).next(x=>(T=Date.now(),ql()<=ne.DEBUG&&St("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(_-d)+`ms
	Removed ${h} targets in `+(y-_)+`ms
	Removed ${x} documents in `+(T-y)+`ms
Total Duration: ${T-S}ms`),ft.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:x})))}}function Qx(i,t){return new Yx(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(){this.changes=new Jo(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Hn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const s=this.changes.get(e);return s!==void 0?ft.resolve(s):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(t,e,s,l){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,e){let s=null;return this.documentOverlayCache.getOverlay(t,e).next(l=>(s=l,this.remoteDocumentCache.getEntry(t,e))).next(l=>(s!==null&&_c(s.mutation,l,Tr.empty(),un.now()),l))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(s=>this.getLocalViewOfDocuments(t,s,ie()).next(()=>s))}getLocalViewOfDocuments(t,e,s=ie()){const l=zo();return this.populateOverlays(t,l,e).next(()=>this.computeViews(t,e,l,s).next(h=>{let d=cc();return h.forEach((_,y)=>{d=d.insert(_,y.overlayedDocument)}),d}))}getOverlayedDocuments(t,e){const s=zo();return this.populateOverlays(t,s,e).next(()=>this.computeViews(t,e,s,ie()))}populateOverlays(t,e,s){const l=[];return s.forEach(h=>{e.has(h)||l.push(h)}),this.documentOverlayCache.getOverlays(t,l).next(h=>{h.forEach((d,_)=>{e.set(d,_)})})}computeViews(t,e,s,l){let h=ks();const d=gc(),_=function(){return gc()}();return e.forEach((y,T)=>{const S=s.get(T.key);l.has(T.key)&&(S===void 0||S.mutation instanceof tl)?h=h.insert(T.key,T):S!==void 0?(d.set(T.key,S.mutation.getFieldMask()),_c(S.mutation,T,S.mutation.getFieldMask(),un.now())):d.set(T.key,Tr.empty())}),this.recalculateAndSaveOverlays(t,h).next(y=>(y.forEach((T,S)=>d.set(T,S)),e.forEach((T,S)=>{var x;return _.set(T,new Wx(S,(x=d.get(T))!==null&&x!==void 0?x:null))}),_))}recalculateAndSaveOverlays(t,e){const s=gc();let l=new je((d,_)=>d-_),h=ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(d=>{for(const _ of d)_.keys().forEach(y=>{const T=e.get(y);if(T===null)return;let S=s.get(y)||Tr.empty();S=_.applyToLocalView(T,S),s.set(y,S);const x=(l.get(_.batchId)||ie()).add(y);l=l.insert(_.batchId,x)})}).next(()=>{const d=[],_=l.getReverseIterator();for(;_.hasNext();){const y=_.getNext(),T=y.key,S=y.value,x=uw();S.forEach(C=>{if(!h.has(C)){const V=pw(e.get(C),s.get(C));V!==null&&x.set(C,V),h=h.add(C)}}),d.push(this.documentOverlayCache.saveOverlays(t,T,x))}return ft.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,e,s,l){return function(d){return Dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):rw(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,s,l):this.getDocumentsMatchingCollectionQuery(t,e,s,l)}getNextDocuments(t,e,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,s,l).next(h=>{const d=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,s.largestBatchId,l-h.size):ft.resolve(zo());let _=wc,y=h;return d.next(T=>ft.forEach(T,(S,x)=>(_<x.largestBatchId&&(_=x.largestBatchId),h.get(S)?ft.resolve():this.remoteDocumentCache.getEntry(t,S).next(C=>{y=y.insert(S,C)}))).next(()=>this.populateOverlays(t,T,h)).next(()=>this.computeViews(t,y,T,ie())).next(S=>({batchId:_,changes:lw(S)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Dt(e)).next(s=>{let l=cc();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(t,e,s,l){const h=e.collectionGroup;let d=cc();return this.indexManager.getCollectionParents(t,h).next(_=>ft.forEach(_,y=>{const T=function(x,C){return new fu(C,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)}(e,y.child(h));return this.getDocumentsMatchingCollectionQuery(t,T,s,l).next(S=>{S.forEach((x,C)=>{d=d.insert(x,C)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,e,s,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,s.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,s,h,l))).next(d=>{h.forEach((y,T)=>{const S=T.getKey();d.get(S)===null&&(d=d.insert(S,Hn.newInvalidDocument(S)))});let _=cc();return d.forEach((y,T)=>{const S=h.get(y);S!==void 0&&_c(S.mutation,T,Tr.empty(),un.now()),Zf(e,T)&&(_=_.insert(y,T))}),_})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,e){return ft.resolve(this.kr.get(e))}saveBundleMetadata(t,e){return this.kr.set(e.id,function(l){return{id:l.id,version:l.version,createTime:$r(l.createTime)}}(e)),ft.resolve()}getNamedQuery(t,e){return ft.resolve(this.qr.get(e))}saveNamedQuery(t,e){return this.qr.set(e.name,function(l){return{name:l.name,query:jx(l.bundledQuery),readTime:$r(l.readTime)}}(e)),ft.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(){this.overlays=new je(Dt.comparator),this.Qr=new Map}getOverlay(t,e){return ft.resolve(this.overlays.get(e))}getOverlays(t,e){const s=zo();return ft.forEach(e,l=>this.getOverlay(t,l).next(h=>{h!==null&&s.set(l,h)})).next(()=>s)}saveOverlays(t,e,s){return s.forEach((l,h)=>{this.St(t,e,h)}),ft.resolve()}removeOverlaysForBatchId(t,e,s){const l=this.Qr.get(s);return l!==void 0&&(l.forEach(h=>this.overlays=this.overlays.remove(h)),this.Qr.delete(s)),ft.resolve()}getOverlaysForCollection(t,e,s){const l=zo(),h=e.length+1,d=new Dt(e.child("")),_=this.overlays.getIteratorFrom(d);for(;_.hasNext();){const y=_.getNext().value,T=y.getKey();if(!e.isPrefixOf(T.path))break;T.path.length===h&&y.largestBatchId>s&&l.set(y.getKey(),y)}return ft.resolve(l)}getOverlaysForCollectionGroup(t,e,s,l){let h=new je((T,S)=>T-S);const d=this.overlays.getIterator();for(;d.hasNext();){const T=d.getNext().value;if(T.getKey().getCollectionGroup()===e&&T.largestBatchId>s){let S=h.get(T.largestBatchId);S===null&&(S=zo(),h=h.insert(T.largestBatchId,S)),S.set(T.getKey(),T)}}const _=zo(),y=h.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((T,S)=>_.set(T,S)),!(_.size()>=l)););return ft.resolve(_)}St(t,e,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.Qr.get(l.largestBatchId).delete(s.key);this.Qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new Tx(e,s));let h=this.Qr.get(e);h===void 0&&(h=ie(),this.Qr.set(e,h)),this.Qr.set(e,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(){this.sessionToken=xn.EMPTY_BYTE_STRING}getSessionToken(t){return ft.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,ft.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(){this.$r=new cn(Tn.Ur),this.Kr=new cn(Tn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,e){const s=new Tn(t,e);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(t,e){t.forEach(s=>this.addReference(s,e))}removeReference(t,e){this.zr(new Tn(t,e))}jr(t,e){t.forEach(s=>this.removeReference(s,e))}Hr(t){const e=new Dt(new ke([])),s=new Tn(e,t),l=new Tn(e,t+1),h=[];return this.Kr.forEachInRange([s,l],d=>{this.zr(d),h.push(d.key)}),h}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const e=new Dt(new ke([])),s=new Tn(e,t),l=new Tn(e,t+1);let h=ie();return this.Kr.forEachInRange([s,l],d=>{h=h.add(d.key)}),h}containsKey(t){const e=new Tn(t,0),s=this.$r.firstAfterOrEqual(e);return s!==null&&t.isEqual(s.key)}}class Tn{constructor(t,e){this.key=t,this.Zr=e}static Ur(t,e){return Dt.comparator(t.key,e.key)||Yt(t.Zr,e.Zr)}static Wr(t,e){return Yt(t.Zr,e.Zr)||Dt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nr=1,this.Xr=new cn(Tn.Ur)}checkEmpty(t){return ft.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,s,l){const h=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new vx(h,e,s,l);this.mutationQueue.push(d);for(const _ of l)this.Xr=this.Xr.add(new Tn(_.key,h)),this.indexManager.addToCollectionParentIndex(t,_.key.path.popLast());return ft.resolve(d)}lookupMutationBatch(t,e){return ft.resolve(this.ei(e))}getNextMutationBatchAfterBatchId(t,e){const s=e+1,l=this.ti(s),h=l<0?0:l;return ft.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return ft.resolve(this.mutationQueue.length===0?sg:this.nr-1)}getAllMutationBatches(t){return ft.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const s=new Tn(e,0),l=new Tn(e,Number.POSITIVE_INFINITY),h=[];return this.Xr.forEachInRange([s,l],d=>{const _=this.ei(d.Zr);h.push(_)}),ft.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,e){let s=new cn(Yt);return e.forEach(l=>{const h=new Tn(l,0),d=new Tn(l,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([h,d],_=>{s=s.add(_.Zr)})}),ft.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(t,e){const s=e.path,l=s.length+1;let h=s;Dt.isDocumentKey(h)||(h=h.child(""));const d=new Tn(new Dt(h),0);let _=new cn(Yt);return this.Xr.forEachWhile(y=>{const T=y.key.path;return!!s.isPrefixOf(T)&&(T.length===l&&(_=_.add(y.Zr)),!0)},d),ft.resolve(this.ni(_))}ni(t){const e=[];return t.forEach(s=>{const l=this.ei(s);l!==null&&e.push(l)}),e}removeMutationBatch(t,e){me(this.ri(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return ft.forEach(e.mutations,l=>{const h=new Tn(l.key,e.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Xr=s})}sr(t){}containsKey(t,e){const s=new Tn(e,0),l=this.Xr.firstAfterOrEqual(s);return ft.resolve(e.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,ft.resolve()}ri(t,e){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const e=this.ti(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(t){this.ii=t,this.docs=function(){return new je(Dt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const s=e.key,l=this.docs.get(s),h=l?l.size:0,d=this.ii(e);return this.docs=this.docs.insert(s,{document:e.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const s=this.docs.get(e);return ft.resolve(s?s.document.mutableCopy():Hn.newInvalidDocument(e))}getEntries(t,e){let s=ks();return e.forEach(l=>{const h=this.docs.get(l);s=s.insert(l,h?h.document.mutableCopy():Hn.newInvalidDocument(l))}),ft.resolve(s)}getDocumentsMatchingQuery(t,e,s,l){let h=ks();const d=e.path,_=new Dt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(_);for(;y.hasNext();){const{key:T,value:{document:S}}=y.getNext();if(!d.isPrefixOf(T.path))break;T.path.length>d.length+1||MC(LC(S),s)<=0||(l.has(S.key)||Zf(e,S))&&(h=h.insert(S.key,S.mutableCopy()))}return ft.resolve(h)}getAllFromCollectionGroup(t,e,s,l){Ut(9500)}si(t,e){return ft.forEach(this.docs,s=>e(s))}newChangeBuffer(t){return new s2(this)}getSize(t){return ft.resolve(this.size)}}class s2 extends Xx{constructor(t){super(),this.Br=t}applyChanges(t){const e=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?e.push(this.Br.addEntry(t,l)):this.Br.removeEntry(s)}),ft.waitFor(e)}getFromCache(t,e){return this.Br.getEntry(t,e)}getAllFromCache(t,e){return this.Br.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(t){this.persistence=t,this.oi=new Jo(e=>lg(e),ug),this.lastRemoteSnapshotVersion=Ft.min(),this.highestTargetId=0,this._i=0,this.ai=new mg,this.targetCount=0,this.ui=eu.cr()}forEachTarget(t,e){return this.oi.forEach((s,l)=>e(l)),ft.resolve()}getLastRemoteSnapshotVersion(t){return ft.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ft.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),ft.resolve(this.highestTargetId)}setTargetsMetadata(t,e,s){return s&&(this.lastRemoteSnapshotVersion=s),e>this._i&&(this._i=e),ft.resolve()}Tr(t){this.oi.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ui=new eu(e),this.highestTargetId=e),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,e){return this.Tr(e),this.targetCount+=1,ft.resolve()}updateTargetData(t,e){return this.Tr(e),ft.resolve()}removeTargetData(t,e){return this.oi.delete(e.target),this.ai.Hr(e.targetId),this.targetCount-=1,ft.resolve()}removeTargets(t,e,s){let l=0;const h=[];return this.oi.forEach((d,_)=>{_.sequenceNumber<=e&&s.get(_.targetId)===null&&(this.oi.delete(d),h.push(this.removeMatchingKeysForTargetId(t,_.targetId)),l++)}),ft.waitFor(h).next(()=>l)}getTargetCount(t){return ft.resolve(this.targetCount)}getTargetData(t,e){const s=this.oi.get(e)||null;return ft.resolve(s)}addMatchingKeys(t,e,s){return this.ai.Gr(e,s),ft.resolve()}removeMatchingKeys(t,e,s){this.ai.jr(e,s);const l=this.persistence.referenceDelegate,h=[];return l&&e.forEach(d=>{h.push(l.markPotentiallyOrphaned(t,d))}),ft.waitFor(h)}removeMatchingKeysForTargetId(t,e){return this.ai.Hr(e),ft.resolve()}getMatchingKeysForTargetId(t,e){const s=this.ai.Yr(e);return ft.resolve(s)}containsKey(t,e){return ft.resolve(this.ai.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(t,e){this.ci={},this.overlays={},this.li=new Hf(0),this.hi=!1,this.hi=!0,this.Pi=new n2,this.referenceDelegate=t(this),this.Ti=new a2(this),this.indexManager=new Fx,this.remoteDocumentCache=function(l){return new r2(l)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new qx(e),this.Ei=new t2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new e2,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let s=this.ci[t.toKey()];return s||(s=new i2(e,this.referenceDelegate),this.ci[t.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,e,s){St("MemoryPersistence","Starting transaction:",t);const l=new o2(this.li.next());return this.referenceDelegate.di(),s(l).next(h=>this.referenceDelegate.Ai(l).next(()=>h)).toPromise().then(h=>(l.raiseOnCommittedEvent(),h))}Ri(t,e){return ft.or(Object.values(this.ci).map(s=>()=>s.containsKey(t,e)))}}class o2 extends NC{constructor(t){super(),this.currentSequenceNumber=t}}class pg{constructor(t){this.persistence=t,this.Vi=new mg,this.mi=null}static fi(t){return new pg(t)}get gi(){if(this.mi)return this.mi;throw Ut(60996)}addReference(t,e,s){return this.Vi.addReference(s,e),this.gi.delete(s.toString()),ft.resolve()}removeReference(t,e,s){return this.Vi.removeReference(s,e),this.gi.add(s.toString()),ft.resolve()}markPotentiallyOrphaned(t,e){return this.gi.add(e.toString()),ft.resolve()}removeTarget(t,e){this.Vi.Hr(e.targetId).forEach(l=>this.gi.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,e.targetId).next(l=>{l.forEach(h=>this.gi.add(h.toString()))}).next(()=>s.removeTargetData(t,e))}di(){this.mi=new Set}Ai(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ft.forEach(this.gi,s=>{const l=Dt.fromPath(s);return this.pi(t,l).next(h=>{h||e.removeEntry(l,Ft.min())})}).next(()=>(this.mi=null,e.apply(t)))}updateLimboDocument(t,e){return this.pi(t,e).next(s=>{s?this.gi.delete(e.toString()):this.gi.add(e.toString())})}Ii(t){return 0}pi(t,e){return ft.or([()=>ft.resolve(this.Vi.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ri(t,e)])}}class Af{constructor(t,e){this.persistence=t,this.yi=new Jo(s=>zC(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=Qx(this,e)}static fi(t,e){return new Af(t,e)}di(){}Ai(t){return ft.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}pr(t){const e=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>e.next(l=>s+l))}br(t){let e=0;return this.yr(t,s=>{e++}).next(()=>e)}yr(t,e){return ft.forEach(this.yi,(s,l)=>this.Dr(t,s,l).next(h=>h?ft.resolve():e(l)))}removeTargets(t,e,s){return this.persistence.getTargetCache().removeTargets(t,e,s)}removeOrphanedDocuments(t,e){let s=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.si(t,d=>this.Dr(t,d,e).next(_=>{_||(s++,h.removeEntry(d,Ft.min()))})).next(()=>h.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,e){return this.yi.set(e,t.currentSequenceNumber),ft.resolve()}removeTarget(t,e){const s=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,e,s){return this.yi.set(s,t.currentSequenceNumber),ft.resolve()}removeReference(t,e,s){return this.yi.set(s,t.currentSequenceNumber),ft.resolve()}updateLimboDocument(t,e){return this.yi.set(e,t.currentSequenceNumber),ft.resolve()}Ii(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=sf(t.data.value)),e}Dr(t,e,s){return ft.or([()=>this.persistence.Ri(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const l=this.yi.get(e);return ft.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(t,e,s,l){this.targetId=t,this.fromCache=e,this.ds=s,this.As=l}static Rs(t,e){let s=ie(),l=ie();for(const h of e.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new gg(t,e.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return iR()?8:kC(qn())>0?6:4}()}initialize(t,e){this.ys=t,this.indexManager=e,this.Vs=!0}getDocumentsMatchingQuery(t,e,s,l){const h={result:null};return this.ws(t,e).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.bs(t,e,l,s).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new l2;return this.Ss(t,e,d).next(_=>{if(h.result=_,this.fs)return this.Ds(t,e,d,_.size)})}).next(()=>h.result)}Ds(t,e,s,l){return s.documentReadCount<this.gs?(ql()<=ne.DEBUG&&St("QueryEngine","SDK will not create cache indexes for query:",jl(e),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ft.resolve()):(ql()<=ne.DEBUG&&St("QueryEngine","Query:",jl(e),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ps*l?(ql()<=ne.DEBUG&&St("QueryEngine","The SDK decides to create cache indexes for query:",jl(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Zr(e))):ft.resolve())}ws(t,e){if(U0(e))return ft.resolve(null);let s=Zr(e);return this.indexManager.getIndexType(t,s).next(l=>l===0?null:(e.limit!==null&&l===1&&(e=bp(e,null,"F"),s=Zr(e)),this.indexManager.getDocumentsMatchingTarget(t,s).next(h=>{const d=ie(...h);return this.ys.getDocuments(t,d).next(_=>this.indexManager.getMinOffset(t,s).next(y=>{const T=this.vs(e,_);return this.Cs(e,T,d,y.readTime)?this.ws(t,bp(e,null,"F")):this.Fs(t,T,e,y)}))})))}bs(t,e,s,l){return U0(e)||l.isEqual(Ft.min())?ft.resolve(null):this.ys.getDocuments(t,s).next(h=>{const d=this.vs(e,h);return this.Cs(e,d,s,l)?ft.resolve(null):(ql()<=ne.DEBUG&&St("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),jl(e)),this.Fs(t,d,e,OC(l,wc)).next(_=>_))})}vs(t,e){let s=new cn(aw(t));return e.forEach((l,h)=>{Zf(t,h)&&(s=s.add(h))}),s}Cs(t,e,s,l){if(t.limit===null)return!1;if(s.size!==e.size)return!0;const h=t.limitType==="F"?e.last():e.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Ss(t,e,s){return ql()<=ne.DEBUG&&St("QueryEngine","Using full collection scan to execute query:",jl(e)),this.ys.getDocumentsMatchingQuery(t,e,Za.min(),s)}Fs(t,e,s,l){return this.ys.getDocumentsMatchingQuery(t,s,l).next(h=>(e.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g="LocalStore",c2=3e8;class h2{constructor(t,e,s,l){this.persistence=t,this.Ms=e,this.serializer=l,this.xs=new je(Yt),this.Os=new Jo(h=>lg(h),ug),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(s)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Jx(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.xs))}}function f2(i,t,e,s){return new h2(i,t,e,s)}async function Pw(i,t){const e=Gt(i);return await e.persistence.runTransaction("Handle user change","readonly",s=>{let l;return e.mutationQueue.getAllMutationBatches(s).next(h=>(l=h,e.Ls(t),e.mutationQueue.getAllMutationBatches(s))).next(h=>{const d=[],_=[];let y=ie();for(const T of l){d.push(T.batchId);for(const S of T.mutations)y=y.add(S.key)}for(const T of h){_.push(T.batchId);for(const S of T.mutations)y=y.add(S.key)}return e.localDocuments.getDocuments(s,y).next(T=>({ks:T,removedBatchIds:d,addedBatchIds:_}))})})}function d2(i,t){const e=Gt(i);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=t.batch.keys(),h=e.Bs.newChangeBuffer({trackRemovals:!0});return function(_,y,T,S){const x=T.batch,C=x.keys();let V=ft.resolve();return C.forEach(q=>{V=V.next(()=>S.getEntry(y,q)).next(G=>{const Z=T.docVersions.get(q);me(Z!==null,48541),G.version.compareTo(Z)<0&&(x.applyToRemoteDocument(G,T),G.isValidDocument()&&(G.setReadTime(T.commitVersion),S.addEntry(G)))})}),V.next(()=>_.mutationQueue.removeMutationBatch(y,x))}(e,s,t,h).next(()=>h.apply(s)).next(()=>e.mutationQueue.performConsistencyCheck(s)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(_){let y=ie();for(let T=0;T<_.mutationResults.length;++T)_.mutationResults[T].transformResults.length>0&&(y=y.add(_.batch.mutations[T].key));return y}(t))).next(()=>e.localDocuments.getDocuments(s,l))})}function Ow(i){const t=Gt(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ti.getLastRemoteSnapshotVersion(e))}function m2(i,t){const e=Gt(i),s=t.snapshotVersion;let l=e.xs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=e.Bs.newChangeBuffer({trackRemovals:!0});l=e.xs;const _=[];t.targetChanges.forEach((S,x)=>{const C=l.get(x);if(!C)return;_.push(e.Ti.removeMatchingKeys(h,S.removedDocuments,x).next(()=>e.Ti.addMatchingKeys(h,S.addedDocuments,x)));let V=C.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(x)!==null?V=V.withResumeToken(xn.EMPTY_BYTE_STRING,Ft.min()).withLastLimboFreeSnapshotVersion(Ft.min()):S.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(S.resumeToken,s)),l=l.insert(x,V),function(G,Z,tt){return G.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=c2?!0:tt.addedDocuments.size+tt.modifiedDocuments.size+tt.removedDocuments.size>0}(C,V,S)&&_.push(e.Ti.updateTargetData(h,V))});let y=ks(),T=ie();if(t.documentUpdates.forEach(S=>{t.resolvedLimboDocuments.has(S)&&_.push(e.persistence.referenceDelegate.updateLimboDocument(h,S))}),_.push(p2(h,d,t.documentUpdates).next(S=>{y=S.qs,T=S.Qs})),!s.isEqual(Ft.min())){const S=e.Ti.getLastRemoteSnapshotVersion(h).next(x=>e.Ti.setTargetsMetadata(h,h.currentSequenceNumber,s));_.push(S)}return ft.waitFor(_).next(()=>d.apply(h)).next(()=>e.localDocuments.getLocalViewOfDocuments(h,y,T)).next(()=>y)}).then(h=>(e.xs=l,h))}function p2(i,t,e){let s=ie(),l=ie();return e.forEach(h=>s=s.add(h)),t.getEntries(i,s).next(h=>{let d=ks();return e.forEach((_,y)=>{const T=h.get(_);y.isFoundDocument()!==T.isFoundDocument()&&(l=l.add(_)),y.isNoDocument()&&y.version.isEqual(Ft.min())?(t.removeEntry(_,y.readTime),d=d.insert(_,y)):!T.isValidDocument()||y.version.compareTo(T.version)>0||y.version.compareTo(T.version)===0&&T.hasPendingWrites?(t.addEntry(y),d=d.insert(_,y)):St(_g,"Ignoring outdated watch update for ",_,". Current version:",T.version," Watch version:",y.version)}),{qs:d,Qs:l}})}function g2(i,t){const e=Gt(i);return e.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=sg),e.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function _2(i,t){const e=Gt(i);return e.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return e.Ti.getTargetData(s,t).next(h=>h?(l=h,ft.resolve(l)):e.Ti.allocateTargetId(s).next(d=>(l=new Ua(t,d,"TargetPurposeListen",s.currentSequenceNumber),e.Ti.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=e.xs.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(e.xs=e.xs.insert(s.targetId,s),e.Os.set(t,s.targetId)),s})}async function Cp(i,t,e){const s=Gt(i),l=s.xs.get(t),h=e?"readwrite":"readwrite-primary";try{e||await s.persistence.runTransaction("Release target",h,d=>s.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!hu(d))throw d;St(_g,`Failed to update sequence numbers for target ${t}: ${d}`)}s.xs=s.xs.remove(t),s.Os.delete(l.target)}function W0(i,t,e){const s=Gt(i);let l=Ft.min(),h=ie();return s.persistence.runTransaction("Execute query","readwrite",d=>function(y,T,S){const x=Gt(y),C=x.Os.get(S);return C!==void 0?ft.resolve(x.xs.get(C)):x.Ti.getTargetData(T,S)}(s,d,Zr(t)).next(_=>{if(_)return l=_.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(d,_.targetId).next(y=>{h=y})}).next(()=>s.Ms.getDocumentsMatchingQuery(d,t,e?l:Ft.min(),e?h:ie())).next(_=>(y2(s,ix(t),_),{documents:_,$s:h})))}function y2(i,t,e){let s=i.Ns.get(t)||Ft.min();e.forEach((l,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),i.Ns.set(t,s)}class J0{constructor(){this.activeTargetIds=ux()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class v2{constructor(){this.xo=new J0,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,s){}addLocalQueryTarget(t,e=!0){return e&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,e,s){this.Oo[t]=e}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new J0,Promise.resolve()}handleUserChange(t,e,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="ConnectivityMonitor";class eT{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){St(tT,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){St(tT,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jh=null;function xp(){return Jh===null?Jh=function(){return 268435456+Math.round(2147483648*Math.random())}():Jh++,"0x"+Jh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="RestConnection",E2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class w2{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Ko=e+"://"+t.host,this.Wo=`projects/${s}/databases/${l}`,this.Go=this.databaseId.database===vf?`project_id=${s}`:`project_id=${s}&database_id=${l}`}zo(t,e,s,l,h){const d=xp(),_=this.jo(t,e.toUriEncodedString());St(ep,`Sending RPC '${t}' ${d}:`,_,s);const y={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(y,l,h);const{host:T}=new URL(_),S=ou(T);return this.Jo(t,_,y,s,S).then(x=>(St(ep,`Received RPC '${t}' ${d}: `,x),x),x=>{throw Xl(ep,`RPC '${t}' ${d} failed with error: `,x,"url: ",_,"request:",s),x})}Yo(t,e,s,l,h,d){return this.zo(t,e,s,l,h)}Ho(t,e,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+uu}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((l,h)=>t[h]=l),s&&s.headers.forEach((l,h)=>t[h]=l)}jo(t,e){const s=E2[t];return`${this.Ko}/v1/${e}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Un="WebChannelConnection";class A2 extends w2{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,s,l,h){const d=xp();return new Promise((_,y)=>{const T=new ME;T.setWithCredentials(!0),T.listenOnce(DE.COMPLETE,()=>{try{switch(T.getLastErrorCode()){case rf.NO_ERROR:const x=T.getResponseJson();St(Un,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(x)),_(x);break;case rf.TIMEOUT:St(Un,`RPC '${t}' ${d} timed out`),y(new Rt(ht.DEADLINE_EXCEEDED,"Request time out"));break;case rf.HTTP_ERROR:const C=T.getStatus();if(St(Un,`RPC '${t}' ${d} failed with status:`,C,"response text:",T.getResponseText()),C>0){let V=T.getResponseJson();Array.isArray(V)&&(V=V[0]);const q=V==null?void 0:V.error;if(q&&q.status&&q.message){const G=function(tt){const W=tt.toLowerCase().replace(/_/g,"-");return Object.values(ht).indexOf(W)>=0?W:ht.UNKNOWN}(q.status);y(new Rt(G,q.message))}else y(new Rt(ht.UNKNOWN,"Server responded with status "+T.getStatus()))}else y(new Rt(ht.UNAVAILABLE,"Connection failed."));break;default:Ut(9055,{h_:t,streamId:d,P_:T.getLastErrorCode(),T_:T.getLastError()})}}finally{St(Un,`RPC '${t}' ${d} completed.`)}});const S=JSON.stringify(l);St(Un,`RPC '${t}' ${d} sending request:`,l),T.send(e,"POST",S,s,15)})}I_(t,e,s){const l=xp(),h=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=VE(),_=kE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},T=this.longPollingOptions.timeoutSeconds;T!==void 0&&(y.longPollingTimeout=Math.round(1e3*T)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Ho(y.initMessageHeaders,e,s),y.encodeInitMessageHeaders=!0;const S=h.join("");St(Un,`Creating RPC '${t}' stream ${l}: ${S}`,y);const x=d.createWebChannel(S,y);this.E_(x);let C=!1,V=!1;const q=new b2({Zo:Z=>{V?St(Un,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(C||(St(Un,`Opening RPC '${t}' stream ${l} transport.`),x.open(),C=!0),St(Un,`RPC '${t}' stream ${l} sending:`,Z),x.send(Z))},Xo:()=>x.close()}),G=(Z,tt,W)=>{Z.listen(tt,nt=>{try{W(nt)}catch(gt){setTimeout(()=>{throw gt},0)}})};return G(x,uc.EventType.OPEN,()=>{V||(St(Un,`RPC '${t}' stream ${l} transport opened.`),q.__())}),G(x,uc.EventType.CLOSE,()=>{V||(V=!0,St(Un,`RPC '${t}' stream ${l} transport closed`),q.u_(),this.d_(x))}),G(x,uc.EventType.ERROR,Z=>{V||(V=!0,Xl(Un,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),q.u_(new Rt(ht.UNAVAILABLE,"The operation could not be completed")))}),G(x,uc.EventType.MESSAGE,Z=>{var tt;if(!V){const W=Z.data[0];me(!!W,16349);const nt=W,gt=(nt==null?void 0:nt.error)||((tt=nt[0])===null||tt===void 0?void 0:tt.error);if(gt){St(Un,`RPC '${t}' stream ${l} received error:`,gt);const Tt=gt.status;let Pt=function(M){const B=nn[M];if(B!==void 0)return yw(B)}(Tt),z=gt.message;Pt===void 0&&(Pt=ht.INTERNAL,z="Unknown error status: "+Tt+" with message "+gt.message),V=!0,q.u_(new Rt(Pt,z)),x.close()}else St(Un,`RPC '${t}' stream ${l} received:`,W),q.c_(W)}}),G(_,NE.STAT_EVENT,Z=>{Z.stat===gp.PROXY?St(Un,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===gp.NOPROXY&&St(Un,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{q.a_()},0),q}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(e=>e===t)}}function np(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(i){return new Cx(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(t,e,s=1e3,l=1.5,h=6e4){this.xi=t,this.timerId=e,this.A_=s,this.R_=l,this.V_=h,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const e=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),l=Math.max(0,e-s);l>0&&St("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.m_} ms, delay with jitter: ${e} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,l,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="PersistentStream";class Mw{constructor(t,e,s,l,h,d,_,y){this.xi=t,this.S_=s,this.D_=l,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=_,this.listener=y,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new Lw(t,e)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,e){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():e&&e.code===ht.RESOURCE_EXHAUSTED?(Ns(e.toString()),Ns("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):e&&e.code===ht.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(e)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),e=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.v_===e&&this.z_(s,l)},s=>{t(()=>{const l=new Rt(ht.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(l)})})}z_(t,e){const s=this.G_(this.v_);this.stream=this.H_(t,e),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(l=>{s(()=>this.j_(l))}),this.stream.onMessage(l=>{s(()=>++this.M_==1?this.J_(l):this.onNext(l))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return St(nT,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return e=>{this.xi.enqueueAndForget(()=>this.v_===t?e():(St(nT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class S2 extends Mw{constructor(t,e,s,l,h,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,s,l,d),this.serializer=h}H_(t,e){return this.connection.I_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const e=Ox(this.serializer,t),s=function(h){if(!("targetChange"in h))return Ft.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?Ft.min():d.readTime?$r(d.readTime):Ft.min()}(t);return this.listener.Y_(e,s)}Z_(t){const e={};e.database=Rp(this.serializer),e.addTarget=function(h,d){let _;const y=d.target;if(_=Ep(y)?{documents:Dx(h,y)}:{query:Nx(h,y).gt},_.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){_.resumeToken=Ew(h,d.resumeToken);const T=Ap(h,d.expectedCount);T!==null&&(_.expectedCount=T)}else if(d.snapshotVersion.compareTo(Ft.min())>0){_.readTime=bf(h,d.snapshotVersion.toTimestamp());const T=Ap(h,d.expectedCount);T!==null&&(_.expectedCount=T)}return _}(this.serializer,t);const s=Vx(this.serializer,t);s&&(e.labels=s),this.Q_(e)}X_(t){const e={};e.database=Rp(this.serializer),e.removeTarget=t,this.Q_(e)}}class I2 extends Mw{constructor(t,e,s,l,h,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,s,l,d),this.serializer=h}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,e){return this.connection.I_("Write",t,e)}J_(t){return me(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,me(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){me(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const e=Mx(t.writeResults,t.commitTime),s=$r(t.commitTime);return this.listener.ra(s,e)}ia(){const t={};t.database=Rp(this.serializer),this.Q_(t)}ta(t){const e={streamToken:this.lastStreamToken,writes:t.map(s=>Lx(this.serializer,s))};this.Q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{}class C2 extends R2{constructor(t,e,s,l){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=s,this.serializer=l,this.sa=!1}oa(){if(this.sa)throw new Rt(ht.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,e,s,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.zo(t,Sp(e,s),l,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Rt(ht.UNKNOWN,h.toString())})}Yo(t,e,s,l,h){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,_])=>this.connection.Yo(t,Sp(e,s),l,d,_,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Rt(ht.UNKNOWN,d.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class x2{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ns(e),this.ua=!1):St("OnlineStateTracker",e)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo="RemoteStore";class P2{constructor(t,e,s,l,h){this.localStore=t,this.datastore=e,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=h,this.Ra.No(d=>{s.enqueueAndForget(async()=>{el(this)&&(St(jo,"Restarting streams for network reachability change."),await async function(y){const T=Gt(y);T.da.add(4),await Uc(T),T.Va.set("Unknown"),T.da.delete(4),await Xf(T)}(this))})}),this.Va=new x2(s,l)}}async function Xf(i){if(el(i))for(const t of i.Aa)await t(!0)}async function Uc(i){for(const t of i.Aa)await t(!1)}function Dw(i,t){const e=Gt(i);e.Ea.has(t.targetId)||(e.Ea.set(t.targetId,t),Eg(e)?Tg(e):du(e).N_()&&vg(e,t))}function yg(i,t){const e=Gt(i),s=du(e);e.Ea.delete(t),s.N_()&&Nw(e,t),e.Ea.size===0&&(s.N_()?s.k_():el(e)&&e.Va.set("Unknown"))}function vg(i,t){if(i.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ft.min())>0){const e=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}du(i).Z_(t)}function Nw(i,t){i.ma.Ke(t),du(i).X_(t)}function Tg(i){i.ma=new Ax({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>i.Ea.get(t)||null,Pt:()=>i.datastore.serializer.databaseId}),du(i).start(),i.Va.ca()}function Eg(i){return el(i)&&!du(i).O_()&&i.Ea.size>0}function el(i){return Gt(i).da.size===0}function kw(i){i.ma=void 0}async function O2(i){i.Va.set("Online")}async function L2(i){i.Ea.forEach((t,e)=>{vg(i,t)})}async function M2(i,t){kw(i),Eg(i)?(i.Va.Pa(t),Tg(i)):i.Va.set("Unknown")}async function D2(i,t,e){if(i.Va.set("Online"),t instanceof Tw&&t.state===2&&t.cause)try{await async function(l,h){const d=h.cause;for(const _ of h.targetIds)l.Ea.has(_)&&(await l.remoteSyncer.rejectListen(_,d),l.Ea.delete(_),l.ma.removeTarget(_))}(i,t)}catch(s){St(jo,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Sf(i,s)}else if(t instanceof lf?i.ma.Xe(t):t instanceof vw?i.ma.ot(t):i.ma.nt(t),!e.isEqual(Ft.min()))try{const s=await Ow(i.localStore);e.compareTo(s)>=0&&await function(h,d){const _=h.ma.It(d);return _.targetChanges.forEach((y,T)=>{if(y.resumeToken.approximateByteSize()>0){const S=h.Ea.get(T);S&&h.Ea.set(T,S.withResumeToken(y.resumeToken,d))}}),_.targetMismatches.forEach((y,T)=>{const S=h.Ea.get(y);if(!S)return;h.Ea.set(y,S.withResumeToken(xn.EMPTY_BYTE_STRING,S.snapshotVersion)),Nw(h,y);const x=new Ua(S.target,y,T,S.sequenceNumber);vg(h,x)}),h.remoteSyncer.applyRemoteEvent(_)}(i,e)}catch(s){St(jo,"Failed to raise snapshot:",s),await Sf(i,s)}}async function Sf(i,t,e){if(!hu(t))throw t;i.da.add(1),await Uc(i),i.Va.set("Offline"),e||(e=()=>Ow(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{St(jo,"Retrying IndexedDB access"),await e(),i.da.delete(1),await Xf(i)})}function Vw(i,t){return t().catch(e=>Sf(i,e,t))}async function Wf(i){const t=Gt(i),e=Qa(t);let s=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:sg;for(;N2(t);)try{const l=await g2(t.localStore,s);if(l===null){t.Ia.length===0&&e.k_();break}s=l.batchId,k2(t,l)}catch(l){await Sf(t,l)}zw(t)&&Uw(t)}function N2(i){return el(i)&&i.Ia.length<10}function k2(i,t){i.Ia.push(t);const e=Qa(i);e.N_()&&e.ea&&e.ta(t.mutations)}function zw(i){return el(i)&&!Qa(i).O_()&&i.Ia.length>0}function Uw(i){Qa(i).start()}async function V2(i){Qa(i).ia()}async function z2(i){const t=Qa(i);for(const e of i.Ia)t.ta(e.mutations)}async function U2(i,t,e){const s=i.Ia.shift(),l=hg.from(s,t,e);await Vw(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),await Wf(i)}async function B2(i,t){t&&Qa(i).ea&&await async function(s,l){if(function(d){return wx(d)&&d!==ht.ABORTED}(l.code)){const h=s.Ia.shift();Qa(s).L_(),await Vw(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,l)),await Wf(s)}}(i,t),zw(i)&&Uw(i)}async function iT(i,t){const e=Gt(i);e.asyncQueue.verifyOperationInProgress(),St(jo,"RemoteStore received new credentials");const s=el(e);e.da.add(3),await Uc(e),s&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.da.delete(3),await Xf(e)}async function H2(i,t){const e=Gt(i);t?(e.da.delete(2),await Xf(e)):t||(e.da.add(2),await Uc(e),e.Va.set("Unknown"))}function du(i){return i.fa||(i.fa=function(e,s,l){const h=Gt(e);return h.oa(),new S2(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)}(i.datastore,i.asyncQueue,{e_:O2.bind(null,i),n_:L2.bind(null,i),i_:M2.bind(null,i),Y_:D2.bind(null,i)}),i.Aa.push(async t=>{t?(i.fa.L_(),Eg(i)?Tg(i):i.Va.set("Unknown")):(await i.fa.stop(),kw(i))})),i.fa}function Qa(i){return i.ga||(i.ga=function(e,s,l){const h=Gt(e);return h.oa(),new I2(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)}(i.datastore,i.asyncQueue,{e_:()=>Promise.resolve(),n_:V2.bind(null,i),i_:B2.bind(null,i),na:z2.bind(null,i),ra:U2.bind(null,i)}),i.Aa.push(async t=>{t?(i.ga.L_(),await Wf(i)):(await i.ga.stop(),i.Ia.length>0&&(St(jo,`Stopping write stream with ${i.Ia.length} pending writes`),i.Ia=[]))})),i.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(t,e,s,l,h){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=s,this.op=l,this.removalCallback=h,this.deferred=new Ps,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,s,l,h){const d=Date.now()+s,_=new wg(t,e,d,l,h);return _.start(s),_}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Rt(ht.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bg(i,t){if(Ns("AsyncQueue",`${t}: ${i}`),hu(i))return new Rt(ht.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{static emptySet(t){return new $l(t.comparator)}constructor(t){this.comparator=t?(e,s)=>t(e,s)||Dt.comparator(e.key,s.key):(e,s)=>Dt.comparator(e.key,s.key),this.keyedMap=cc(),this.sortedSet=new je(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,s)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof $l)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;e.hasNext();){const l=e.getNext().key,h=s.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const s=new $l;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=e,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(){this.pa=new je(Dt.comparator)}track(t){const e=t.doc.key,s=this.pa.get(e);s?t.type!==0&&s.type===3?this.pa=this.pa.insert(e,t):t.type===3&&s.type!==1?this.pa=this.pa.insert(e,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.pa=this.pa.insert(e,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.pa=this.pa.insert(e,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.pa=this.pa.remove(e):t.type===1&&s.type===2?this.pa=this.pa.insert(e,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.pa=this.pa.insert(e,{type:2,doc:t.doc}):Ut(63341,{Vt:t,ya:s}):this.pa=this.pa.insert(e,t)}wa(){const t=[];return this.pa.inorderTraversal((e,s)=>{t.push(s)}),t}}class nu{constructor(t,e,s,l,h,d,_,y,T){this.query=t,this.docs=e,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=_,this.excludesMetadataChanges=y,this.hasCachedResults=T}static fromInitialDocuments(t,e,s,l,h){const d=[];return e.forEach(_=>{d.push({type:0,doc:_})}),new nu(t,e,$l.emptySet(e),d,s,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Gf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,s=t.docChanges;if(e.length!==s.length)return!1;for(let l=0;l<e.length;l++)if(e[l].type!==s[l].type||!e[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class j2{constructor(){this.queries=sT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,s){const l=Gt(e),h=l.queries;l.queries=sT(),h.forEach((d,_)=>{for(const y of _.Sa)y.onError(s)})})(this,new Rt(ht.ABORTED,"Firestore shutting down"))}}function sT(){return new Jo(i=>sw(i),Gf)}async function Ag(i,t){const e=Gt(i);let s=3;const l=t.query;let h=e.queries.get(l);h?!h.Da()&&t.va()&&(s=2):(h=new q2,s=t.va()?0:1);try{switch(s){case 0:h.ba=await e.onListen(l,!0);break;case 1:h.ba=await e.onListen(l,!1);break;case 2:await e.onFirstRemoteStoreListen(l)}}catch(d){const _=bg(d,`Initialization of query '${jl(t.query)}' failed`);return void t.onError(_)}e.queries.set(l,h),h.Sa.push(t),t.Fa(e.onlineState),h.ba&&t.Ma(h.ba)&&Ig(e)}async function Sg(i,t){const e=Gt(i),s=t.query;let l=3;const h=e.queries.get(s);if(h){const d=h.Sa.indexOf(t);d>=0&&(h.Sa.splice(d,1),h.Sa.length===0?l=t.va()?0:1:!h.Da()&&t.va()&&(l=2))}switch(l){case 0:return e.queries.delete(s),e.onUnlisten(s,!0);case 1:return e.queries.delete(s),e.onUnlisten(s,!1);case 2:return e.onLastRemoteStoreUnlisten(s);default:return}}function F2(i,t){const e=Gt(i);let s=!1;for(const l of t){const h=l.query,d=e.queries.get(h);if(d){for(const _ of d.Sa)_.Ma(l)&&(s=!0);d.ba=l}}s&&Ig(e)}function G2(i,t,e){const s=Gt(i),l=s.queries.get(t);if(l)for(const h of l.Sa)h.onError(e);s.queries.delete(t)}function Ig(i){i.Ca.forEach(t=>{t.next()})}var Pp,aT;(aT=Pp||(Pp={})).xa="default",aT.Cache="cache";class Rg{constructor(t,e,s){this.query=t,this.Oa=e,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new nu(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Na?this.La(t)&&(this.Oa.next(t),e=!0):this.ka(t,this.onlineState)&&(this.qa(t),e=!0),this.Ba=t,e}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let e=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),e=!0),e}ka(t,e){if(!t.fromCache||!this.va())return!0;const s=e!=="Offline";return(!this.options.Qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}La(t){if(t.docChanges.length>0)return!0;const e=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}qa(t){t=nu.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==Pp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(t){this.key=t}}class Hw{constructor(t){this.key=t}}class Z2{constructor(t,e){this.query=t,this.Ha=e,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ie(),this.mutatedKeys=ie(),this.Za=aw(t),this.Xa=new $l(this.Za)}get eu(){return this.Ha}tu(t,e){const s=e?e.nu:new rT,l=e?e.Xa:this.Xa;let h=e?e.mutatedKeys:this.mutatedKeys,d=l,_=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,T=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((S,x)=>{const C=l.get(S),V=Zf(this.query,x)?x:null,q=!!C&&this.mutatedKeys.has(C.key),G=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let Z=!1;C&&V?C.data.isEqual(V.data)?q!==G&&(s.track({type:3,doc:V}),Z=!0):this.ru(C,V)||(s.track({type:2,doc:V}),Z=!0,(y&&this.Za(V,y)>0||T&&this.Za(V,T)<0)&&(_=!0)):!C&&V?(s.track({type:0,doc:V}),Z=!0):C&&!V&&(s.track({type:1,doc:C}),Z=!0,(y||T)&&(_=!0)),Z&&(V?(d=d.add(V),h=G?h.add(S):h.delete(S)):(d=d.delete(S),h=h.delete(S)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),h=h.delete(S.key),s.track({type:1,doc:S})}return{Xa:d,nu:s,Cs:_,mutatedKeys:h}}ru(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,s,l){const h=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const d=t.nu.wa();d.sort((S,x)=>function(V,q){const G=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ut(20277,{Vt:Z})}};return G(V)-G(q)}(S.type,x.type)||this.Za(S.doc,x.doc)),this.iu(s),l=l!=null&&l;const _=e&&!l?this.su():[],y=this.Ya.size===0&&this.current&&!l?1:0,T=y!==this.Ja;return this.Ja=y,d.length!==0||T?{snapshot:new nu(this.query,t.Xa,h,d,t.mutatedKeys,y===0,T,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:_}:{ou:_}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new rT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=ie(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const e=[];return t.forEach(s=>{this.Ya.has(s)||e.push(new Hw(s))}),this.Ya.forEach(s=>{t.has(s)||e.push(new Bw(s))}),e}au(t){this.Ha=t.$s,this.Ya=ie();const e=this.tu(t.documents);return this.applyChanges(e,!0)}uu(){return nu.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Cg="SyncEngine";class $2{constructor(t,e,s){this.query=t,this.targetId=e,this.view=s}}class K2{constructor(t){this.key=t,this.cu=!1}}class Y2{constructor(t,e,s,l,h,d){this.localStore=t,this.remoteStore=e,this.eventManager=s,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.lu={},this.hu=new Jo(_=>sw(_),Gf),this.Pu=new Map,this.Tu=new Set,this.Iu=new je(Dt.comparator),this.Eu=new Map,this.du=new mg,this.Au={},this.Ru=new Map,this.Vu=eu.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function Q2(i,t,e=!0){const s=$w(i);let l;const h=s.hu.get(t);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.uu()):l=await qw(s,t,e,!0),l}async function X2(i,t){const e=$w(i);await qw(e,t,!0,!1)}async function qw(i,t,e,s){const l=await _2(i.localStore,Zr(t)),h=l.targetId,d=i.sharedClientState.addLocalQueryTarget(h,e);let _;return s&&(_=await W2(i,t,h,d==="current",l.resumeToken)),i.isPrimaryClient&&e&&Dw(i.remoteStore,l),_}async function W2(i,t,e,s,l){i.fu=(x,C,V)=>async function(G,Z,tt,W){let nt=Z.view.tu(tt);nt.Cs&&(nt=await W0(G.localStore,Z.query,!1).then(({documents:z})=>Z.view.tu(z,nt)));const gt=W&&W.targetChanges.get(Z.targetId),Tt=W&&W.targetMismatches.get(Z.targetId)!=null,Pt=Z.view.applyChanges(nt,G.isPrimaryClient,gt,Tt);return lT(G,Z.targetId,Pt.ou),Pt.snapshot}(i,x,C,V);const h=await W0(i.localStore,t,!0),d=new Z2(t,h.$s),_=d.tu(h.documents),y=zc.createSynthesizedTargetChangeForCurrentChange(e,s&&i.onlineState!=="Offline",l),T=d.applyChanges(_,i.isPrimaryClient,y);lT(i,e,T.ou);const S=new $2(t,e,d);return i.hu.set(t,S),i.Pu.has(e)?i.Pu.get(e).push(t):i.Pu.set(e,[t]),T.snapshot}async function J2(i,t,e){const s=Gt(i),l=s.hu.get(t),h=s.Pu.get(l.targetId);if(h.length>1)return s.Pu.set(l.targetId,h.filter(d=>!Gf(d,t))),void s.hu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await Cp(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),e&&yg(s.remoteStore,l.targetId),Op(s,l.targetId)}).catch(cu)):(Op(s,l.targetId),await Cp(s.localStore,l.targetId,!0))}async function tP(i,t){const e=Gt(i),s=e.hu.get(t),l=e.Pu.get(s.targetId);e.isPrimaryClient&&l.length===1&&(e.sharedClientState.removeLocalQueryTarget(s.targetId),yg(e.remoteStore,s.targetId))}async function eP(i,t,e){const s=lP(i);try{const l=await function(d,_){const y=Gt(d),T=un.now(),S=_.reduce((V,q)=>V.add(q.key),ie());let x,C;return y.persistence.runTransaction("Locally write mutations","readwrite",V=>{let q=ks(),G=ie();return y.Bs.getEntries(V,S).next(Z=>{q=Z,q.forEach((tt,W)=>{W.isValidDocument()||(G=G.add(tt))})}).next(()=>y.localDocuments.getOverlayedDocuments(V,q)).next(Z=>{x=Z;const tt=[];for(const W of _){const nt=_x(W,x.get(W.key).overlayedDocument);nt!=null&&tt.push(new tl(W.key,nt,XE(nt.value.mapValue),Os.exists(!0)))}return y.mutationQueue.addMutationBatch(V,T,tt,_)}).next(Z=>{C=Z;const tt=Z.applyToLocalDocumentSet(x,G);return y.documentOverlayCache.saveOverlays(V,Z.batchId,tt)})}).then(()=>({batchId:C.batchId,changes:lw(x)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),function(d,_,y){let T=d.Au[d.currentUser.toKey()];T||(T=new je(Yt)),T=T.insert(_,y),d.Au[d.currentUser.toKey()]=T}(s,l.batchId,e),await Bc(s,l.changes),await Wf(s.remoteStore)}catch(l){const h=bg(l,"Failed to persist write");e.reject(h)}}async function jw(i,t){const e=Gt(i);try{const s=await m2(e.localStore,t);t.targetChanges.forEach((l,h)=>{const d=e.Eu.get(h);d&&(me(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.cu=!0:l.modifiedDocuments.size>0?me(d.cu,14607):l.removedDocuments.size>0&&(me(d.cu,42227),d.cu=!1))}),await Bc(e,s,t)}catch(s){await cu(s)}}function oT(i,t,e){const s=Gt(i);if(s.isPrimaryClient&&e===0||!s.isPrimaryClient&&e===1){const l=[];s.hu.forEach((h,d)=>{const _=d.view.Fa(t);_.snapshot&&l.push(_.snapshot)}),function(d,_){const y=Gt(d);y.onlineState=_;let T=!1;y.queries.forEach((S,x)=>{for(const C of x.Sa)C.Fa(_)&&(T=!0)}),T&&Ig(y)}(s.eventManager,t),l.length&&s.lu.Y_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function nP(i,t,e){const s=Gt(i);s.sharedClientState.updateQueryState(t,"rejected",e);const l=s.Eu.get(t),h=l&&l.key;if(h){let d=new je(Dt.comparator);d=d.insert(h,Hn.newNoDocument(h,Ft.min()));const _=ie().add(h),y=new Yf(Ft.min(),new Map,new je(Yt),d,_);await jw(s,y),s.Iu=s.Iu.remove(h),s.Eu.delete(t),xg(s)}else await Cp(s.localStore,t,!1).then(()=>Op(s,t,e)).catch(cu)}async function iP(i,t){const e=Gt(i),s=t.batch.batchId;try{const l=await d2(e.localStore,t);Gw(e,s,null),Fw(e,s),e.sharedClientState.updateMutationState(s,"acknowledged"),await Bc(e,l)}catch(l){await cu(l)}}async function rP(i,t,e){const s=Gt(i);try{const l=await function(d,_){const y=Gt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",T=>{let S;return y.mutationQueue.lookupMutationBatch(T,_).next(x=>(me(x!==null,37113),S=x.keys(),y.mutationQueue.removeMutationBatch(T,x))).next(()=>y.mutationQueue.performConsistencyCheck(T)).next(()=>y.documentOverlayCache.removeOverlaysForBatchId(T,S,_)).next(()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(T,S)).next(()=>y.localDocuments.getDocuments(T,S))})}(s.localStore,t);Gw(s,t,e),Fw(s,t),s.sharedClientState.updateMutationState(t,"rejected",e),await Bc(s,l)}catch(l){await cu(l)}}function Fw(i,t){(i.Ru.get(t)||[]).forEach(e=>{e.resolve()}),i.Ru.delete(t)}function Gw(i,t,e){const s=Gt(i);let l=s.Au[s.currentUser.toKey()];if(l){const h=l.get(t);h&&(e?h.reject(e):h.resolve(),l=l.remove(t)),s.Au[s.currentUser.toKey()]=l}}function Op(i,t,e=null){i.sharedClientState.removeLocalQueryTarget(t);for(const s of i.Pu.get(t))i.hu.delete(s),e&&i.lu.gu(s,e);i.Pu.delete(t),i.isPrimaryClient&&i.du.Hr(t).forEach(s=>{i.du.containsKey(s)||Zw(i,s)})}function Zw(i,t){i.Tu.delete(t.path.canonicalString());const e=i.Iu.get(t);e!==null&&(yg(i.remoteStore,e),i.Iu=i.Iu.remove(t),i.Eu.delete(e),xg(i))}function lT(i,t,e){for(const s of e)s instanceof Bw?(i.du.addReference(s.key,t),sP(i,s)):s instanceof Hw?(St(Cg,"Document no longer in limbo: "+s.key),i.du.removeReference(s.key,t),i.du.containsKey(s.key)||Zw(i,s.key)):Ut(19791,{pu:s})}function sP(i,t){const e=t.key,s=e.path.canonicalString();i.Iu.get(e)||i.Tu.has(s)||(St(Cg,"New document in limbo: "+e),i.Tu.add(s),xg(i))}function xg(i){for(;i.Tu.size>0&&i.Iu.size<i.maxConcurrentLimboResolutions;){const t=i.Tu.values().next().value;i.Tu.delete(t);const e=new Dt(ke.fromString(t)),s=i.Vu.next();i.Eu.set(s,new K2(e)),i.Iu=i.Iu.insert(e,s),Dw(i.remoteStore,new Ua(Zr(Ff(e.path)),s,"TargetPurposeLimboResolution",Hf.le))}}async function Bc(i,t,e){const s=Gt(i),l=[],h=[],d=[];s.hu.isEmpty()||(s.hu.forEach((_,y)=>{d.push(s.fu(y,t,e).then(T=>{var S;if((T||e)&&s.isPrimaryClient){const x=T?!T.fromCache:(S=e==null?void 0:e.targetChanges.get(y.targetId))===null||S===void 0?void 0:S.current;s.sharedClientState.updateQueryState(y.targetId,x?"current":"not-current")}if(T){l.push(T);const x=gg.Rs(y.targetId,T);h.push(x)}}))}),await Promise.all(d),s.lu.Y_(l),await async function(y,T){const S=Gt(y);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>ft.forEach(T,C=>ft.forEach(C.ds,V=>S.persistence.referenceDelegate.addReference(x,C.targetId,V)).next(()=>ft.forEach(C.As,V=>S.persistence.referenceDelegate.removeReference(x,C.targetId,V)))))}catch(x){if(!hu(x))throw x;St(_g,"Failed to update sequence numbers: "+x)}for(const x of T){const C=x.targetId;if(!x.fromCache){const V=S.xs.get(C),q=V.snapshotVersion,G=V.withLastLimboFreeSnapshotVersion(q);S.xs=S.xs.insert(C,G)}}}(s.localStore,h))}async function aP(i,t){const e=Gt(i);if(!e.currentUser.isEqual(t)){St(Cg,"User change. New user:",t.toKey());const s=await Pw(e.localStore,t);e.currentUser=t,function(h,d){h.Ru.forEach(_=>{_.forEach(y=>{y.reject(new Rt(ht.CANCELLED,d))})}),h.Ru.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Bc(e,s.ks)}}function oP(i,t){const e=Gt(i),s=e.Eu.get(t);if(s&&s.cu)return ie().add(s.key);{let l=ie();const h=e.Pu.get(t);if(!h)return l;for(const d of h){const _=e.hu.get(d);l=l.unionWith(_.view.eu)}return l}}function $w(i){const t=Gt(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=jw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=oP.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=nP.bind(null,t),t.lu.Y_=F2.bind(null,t.eventManager),t.lu.gu=G2.bind(null,t.eventManager),t}function lP(i){const t=Gt(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=iP.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=rP.bind(null,t),t}class If{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Qf(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,e){return null}Cu(t,e){return null}Du(t){return f2(this.persistence,new u2,t.initialUser,this.serializer)}Su(t){return new xw(pg.fi,this.serializer)}bu(t){return new v2}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}If.provider={build:()=>new If};class uP extends If{constructor(t){super(),this.cacheSizeBytes=t}vu(t,e){me(this.persistence.referenceDelegate instanceof Af,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new Kx(s,t.asyncQueue,e)}Su(t){const e=this.cacheSizeBytes!==void 0?ai.withCacheSize(this.cacheSizeBytes):ai.DEFAULT;return new xw(s=>Af.fi(s,e),this.serializer)}}class Lp{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>oT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=aP.bind(null,this.syncEngine),await H2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new j2}()}createDatastore(t){const e=Qf(t.databaseInfo.databaseId),s=function(h){return new A2(h)}(t.databaseInfo);return function(h,d,_,y){return new C2(h,d,_,y)}(t.authCredentials,t.appCheckCredentials,s,e)}createRemoteStore(t){return function(s,l,h,d,_){return new P2(s,l,h,d,_)}(this.localStore,this.datastore,t.asyncQueue,e=>oT(this.syncEngine,e,0),function(){return eT.C()?new eT:new T2}())}createSyncEngine(t,e){return function(l,h,d,_,y,T,S){const x=new Y2(l,h,d,_,y,T);return S&&(x.mu=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(l){const h=Gt(l);St(jo,"RemoteStore shutting down."),h.da.add(5),await Uc(h),h.Ra.shutdown(),h.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}Lp.provider={build:()=>new Lp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):Ns("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa="FirestoreClient";class cP{constructor(t,e,s,l,h){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=s,this.databaseInfo=l,this.user=Bn.UNAUTHENTICATED,this.clientId=HE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async d=>{St(Xa,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(St(Xa,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ps;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const s=bg(e,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function ip(i,t){i.asyncQueue.verifyOperationInProgress(),St(Xa,"Initializing OfflineComponentProvider");const e=i.configuration;await t.initialize(e);let s=e.initialUser;i.setCredentialChangeListener(async l=>{s.isEqual(l)||(await Pw(t.localStore,l),s=l)}),t.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=t}async function uT(i,t){i.asyncQueue.verifyOperationInProgress();const e=await hP(i);St(Xa,"Initializing OnlineComponentProvider"),await t.initialize(e,i.configuration),i.setCredentialChangeListener(s=>iT(t.remoteStore,s)),i.setAppCheckTokenChangeListener((s,l)=>iT(t.remoteStore,l)),i._onlineComponents=t}async function hP(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){St(Xa,"Using user provided OfflineComponentProvider");try{await ip(i,i._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(l){return l.name==="FirebaseError"?l.code===ht.FAILED_PRECONDITION||l.code===ht.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(e))throw e;Xl("Error using user provided cache. Falling back to memory cache: "+e),await ip(i,new If)}}else St(Xa,"Using default OfflineComponentProvider"),await ip(i,new uP(void 0));return i._offlineComponents}async function Kw(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(St(Xa,"Using user provided OnlineComponentProvider"),await uT(i,i._uninitializedComponentsProvider._online)):(St(Xa,"Using default OnlineComponentProvider"),await uT(i,new Lp))),i._onlineComponents}function fP(i){return Kw(i).then(t=>t.syncEngine)}async function Rf(i){const t=await Kw(i),e=t.eventManager;return e.onListen=Q2.bind(null,t.syncEngine),e.onUnlisten=J2.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=X2.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=tP.bind(null,t.syncEngine),e}function dP(i,t,e={}){const s=new Ps;return i.asyncQueue.enqueueAndForget(async()=>function(h,d,_,y,T){const S=new Pg({next:C=>{S.xu(),d.enqueueAndForget(()=>Sg(h,x));const V=C.docs.has(_);!V&&C.fromCache?T.reject(new Rt(ht.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&C.fromCache&&y&&y.source==="server"?T.reject(new Rt(ht.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):T.resolve(C)},error:C=>T.reject(C)}),x=new Rg(Ff(_.path),S,{includeMetadataChanges:!0,Qa:!0});return Ag(h,x)}(await Rf(i),i.asyncQueue,t,e,s)),s.promise}function mP(i,t,e={}){const s=new Ps;return i.asyncQueue.enqueueAndForget(async()=>function(h,d,_,y,T){const S=new Pg({next:C=>{S.xu(),d.enqueueAndForget(()=>Sg(h,x)),C.fromCache&&y.source==="server"?T.reject(new Rt(ht.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):T.resolve(C)},error:C=>T.reject(C)}),x=new Rg(_,S,{includeMetadataChanges:!0,Qa:!0});return Ag(h,x)}(await Rf(i),i.asyncQueue,t,e,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(i,t,e){if(!e)throw new Rt(ht.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function pP(i,t,e,s){if(t===!0&&s===!0)throw new Rt(ht.INVALID_ARGUMENT,`${i} and ${e} cannot be used together.`)}function hT(i){if(!Dt.isDocumentKey(i))throw new Rt(ht.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function fT(i){if(Dt.isDocumentKey(i))throw new Rt(ht.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Jf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":Ut(12329,{type:typeof i})}function Ls(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new Rt(ht.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Jf(i);throw new Rt(ht.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="firestore.googleapis.com",dT=!0;class mT{constructor(t){var e,s;if(t.host===void 0){if(t.ssl!==void 0)throw new Rt(ht.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Xw,this.ssl=dT}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:dT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=Cw;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Zx)throw new Rt(ht.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}pP("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Yw((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new Rt(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new Rt(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new Rt(ht.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class td{constructor(t,e,s,l){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Rt(ht.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Rt(ht.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new wC;switch(s.type){case"firstParty":return new IC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Rt(ht.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const s=cT.get(e);s&&(St("ComponentProvider","Removing Datastore"),cT.delete(e),s.terminate())}(this),Promise.resolve()}}function gP(i,t,e,s={}){var l;i=Ls(i,td);const h=ou(t),d=i._getSettings(),_=Object.assign(Object.assign({},d),{emulatorOptions:i._getEmulatorOptions()}),y=`${t}:${e}`;h&&(bE(`https://${y}`),AE("Firestore",!0)),d.host!==Xw&&d.host!==y&&Xl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const T=Object.assign(Object.assign({},d),{host:y,ssl:h,emulatorOptions:s});if(!Ga(T,_)&&(i._setSettings(T),s.mockUserToken)){let S,x;if(typeof s.mockUserToken=="string")S=s.mockUserToken,x=Bn.MOCK_USER;else{S=YI(s.mockUserToken,(l=i._app)===null||l===void 0?void 0:l.options.projectId);const C=s.mockUserToken.sub||s.mockUserToken.user_id;if(!C)throw new Rt(ht.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Bn(C)}i._authCredentials=new bC(new UE(S,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(t,e,s){this.converter=e,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Ja(this.firestore,t,this._query)}}class oi{constructor(t,e,s){this.converter=e,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ja(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new oi(this.firestore,t,this._key)}}class ja extends Ja{constructor(t,e,s){super(t,e,Ff(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new oi(this.firestore,null,new Dt(t))}withConverter(t){return new ja(this.firestore,t,this._path)}}function iu(i,t,...e){if(i=jn(i),Qw("collection","path",t),i instanceof td){const s=ke.fromString(t,...e);return fT(s),new ja(i,null,s)}{if(!(i instanceof oi||i instanceof ja))throw new Rt(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ke.fromString(t,...e));return fT(s),new ja(i.firestore,null,s)}}function Ww(i,t,...e){if(i=jn(i),arguments.length===1&&(t=HE.newId()),Qw("doc","path",t),i instanceof td){const s=ke.fromString(t,...e);return hT(s),new oi(i,null,new Dt(s))}{if(!(i instanceof oi||i instanceof ja))throw new Rt(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ke.fromString(t,...e));return hT(s),new oi(i.firestore,i instanceof ja?i.converter:null,new Dt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="AsyncQueue";class gT{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new Lw(this,"async_queue_retry"),this.rc=()=>{const s=np();s&&St(pT,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=t;const e=np();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const e=np();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const e=new Ps;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!hu(t))throw t;St(pT,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const e=this.sc.then(()=>(this.ec=!0,t().catch(s=>{throw this.Xu=s,this.ec=!1,Ns("INTERNAL UNHANDLED ERROR: ",_T(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=e,e}enqueueAfterDelay(t,e,s){this.oc(),this.nc.indexOf(t)>-1&&(e=0);const l=wg.createAndSchedule(this,t,e,s,h=>this.uc(h));return this.Zu.push(l),l}oc(){this.Xu&&Ut(47125,{cc:_T(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const e of this.Zu)if(e.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((e,s)=>e.targetTimeMs-s.targetTimeMs);for(const e of this.Zu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const e=this.Zu.indexOf(t);this.Zu.splice(e,1)}}function _T(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(i){return function(e,s){if(typeof e!="object"||e===null)return!1;const l=e;for(const h of s)if(h in l&&typeof l[h]=="function")return!0;return!1}(i,["next","error","complete"])}class ru extends td{constructor(t,e,s,l){super(t,e,s,l),this.type="firestore",this._queue=new gT,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new gT(t),this._firestoreClient=void 0,await t}}}function _P(i,t){const e=typeof i=="object"?i:ig(),s=typeof i=="string"?i:vf,l=Xo(e,"firestore").getImmediate({identifier:s});if(!l._initialized){const h=$I("firestore");h&&gP(l,...h)}return l}function ed(i){if(i._terminated)throw new Rt(ht.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||yP(i),i._firestoreClient}function yP(i){var t,e,s;const l=i._freezeSettings(),h=function(_,y,T,S){return new HC(_,y,T,S.host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,Yw(S.experimentalLongPollingOptions),S.useFetchStreams,S.isUsingEmulator)}(i._databaseId,((t=i._app)===null||t===void 0?void 0:t.options.appId)||"",i._persistenceKey,l);i._componentsProvider||!((e=l.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),i._firestoreClient=new cP(i._authCredentials,i._appCheckCredentials,i._queue,h,i._componentsProvider&&function(_){const y=_==null?void 0:_._online.build();return{_offline:_==null?void 0:_._offline.build(y),_online:y}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(t){this._byteString=t}static fromBase64String(t){try{return new su(xn.fromBase64String(t))}catch(e){throw new Rt(ht.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new su(xn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new Rt(ht.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Rt(ht.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Rt(ht.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Yt(this._lat,t._lat)||Yt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,l){if(s.length!==l.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==l[h])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP=/^__.*__$/;class TP{constructor(t,e,s){this.data=t,this.fieldMask=e,this.fieldTransforms=s}toMutation(t,e){return this.fieldMask!==null?new tl(t,this.data,this.fieldMask,e,this.fieldTransforms):new Vc(t,this.data,e,this.fieldTransforms)}}function Jw(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ut(40011,{Ic:i})}}class Ng{constructor(t,e,s,l,h,d){this.settings=t,this.databaseId=e,this.serializer=s,this.ignoreUndefinedProperties=l,h===void 0&&this.Ec(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new Ng(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var e;const s=(e=this.path)===null||e===void 0?void 0:e.child(t),l=this.dc({path:s,Rc:!1});return l.Vc(t),l}mc(t){var e;const s=(e=this.path)===null||e===void 0?void 0:e.child(t),l=this.dc({path:s,Rc:!1});return l.Ec(),l}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return Cf(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(Jw(this.Ic)&&vP.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class EP{constructor(t,e,s){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=s||Qf(t)}bc(t,e,s,l=!1){return new Ng({Ic:t,methodName:e,wc:s,path:Cn.emptyPath(),Rc:!1,yc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tb(i){const t=i._freezeSettings(),e=Qf(i._databaseId);return new EP(i._databaseId,!!t.ignoreUndefinedProperties,e)}function wP(i,t,e,s,l,h={}){const d=i.bc(h.merge||h.mergeFields?2:0,t,e,l);ib("Data must be an object, but it was:",d,s);const _=eb(s,d);let y,T;if(h.merge)y=new Tr(d.fieldMask),T=d.fieldTransforms;else if(h.mergeFields){const S=[];for(const x of h.mergeFields){const C=AP(t,x,e);if(!d.contains(C))throw new Rt(ht.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);IP(S,C)||S.push(C)}y=new Tr(S),T=d.fieldTransforms.filter(x=>y.covers(x.field))}else y=null,T=d.fieldTransforms;return new TP(new Wi(_),y,T)}class kg extends Lg{_toFieldTransform(t){return new dx(t.path,new Rc)}isEqual(t){return t instanceof kg}}function bP(i,t,e,s=!1){return Vg(e,i.bc(s?4:3,t))}function Vg(i,t){if(nb(i=jn(i)))return ib("Unsupported field value:",t,i),eb(i,t);if(i instanceof Lg)return function(s,l){if(!Jw(l.Ic))throw l.gc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.gc(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(l);h&&l.fieldTransforms.push(h)}(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(s,l){const h=[];let d=0;for(const _ of s){let y=Vg(_,l.fc(d));y==null&&(y={nullValue:"NULL_VALUE"}),h.push(y),d++}return{arrayValue:{values:h}}}(i,t)}return function(s,l){if((s=jn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return cx(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=un.fromDate(s);return{timestampValue:bf(l.serializer,h)}}if(s instanceof un){const h=new un(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:bf(l.serializer,h)}}if(s instanceof Mg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof su)return{bytesValue:Ew(l.serializer,s._byteString)};if(s instanceof oi){const h=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(h))throw l.gc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:dg(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Dg)return function(d,_){return{mapValue:{fields:{[YE]:{stringValue:QE},[Tf]:{arrayValue:{values:d.toArray().map(T=>{if(typeof T!="number")throw _.gc("VectorValues must only contain numeric values.");return cg(_.serializer,T)})}}}}}}(s,l);throw l.gc(`Unsupported field value: ${Jf(s)}`)}(i,t)}function eb(i,t){const e={};return jE(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Wo(i,(s,l)=>{const h=Vg(l,t.Ac(s));h!=null&&(e[s]=h)}),{mapValue:{fields:e}}}function nb(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof un||i instanceof Mg||i instanceof su||i instanceof oi||i instanceof Lg||i instanceof Dg)}function ib(i,t,e){if(!nb(e)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(e)){const s=Jf(e);throw s==="an object"?t.gc(i+" a custom object"):t.gc(i+" "+s)}}function AP(i,t,e){if((t=jn(t))instanceof Og)return t._internalPath;if(typeof t=="string")return rb(i,t);throw Cf("Field path arguments must be of type string or ",i,!1,void 0,e)}const SP=new RegExp("[~\\*/\\[\\]]");function rb(i,t,e){if(t.search(SP)>=0)throw Cf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,e);try{return new Og(...t.split("."))._internalPath}catch{throw Cf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,e)}}function Cf(i,t,e,s,l){const h=s&&!s.isEmpty(),d=l!==void 0;let _=`Function ${t}() called with invalid data`;e&&(_+=" (via `toFirestore()`)"),_+=". ";let y="";return(h||d)&&(y+=" (found",h&&(y+=` in field ${s}`),d&&(y+=` in document ${l}`),y+=")"),new Rt(ht.INVALID_ARGUMENT,_+i+y)}function IP(i,t){return i.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(t,e,s,l,h){this._firestore=t,this._userDataWriter=e,this._key=s,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new oi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new RP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(zg("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class RP extends sb{data(){return super.data()}}function zg(i,t){return typeof t=="string"?rb(i,t):t instanceof Og?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new Rt(ht.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ug{}class ob extends Ug{}function lb(i,t,...e){let s=[];t instanceof Ug&&s.push(t),s=s.concat(e),function(h){const d=h.filter(y=>y instanceof Hg).length,_=h.filter(y=>y instanceof Bg).length;if(d>1||d>0&&_>0)throw new Rt(ht.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)i=l._apply(i);return i}class Bg extends ob{constructor(t,e,s){super(),this._field=t,this._op=e,this._value=s,this.type="where"}static _create(t,e,s){return new Bg(t,e,s)}_apply(t){const e=this._parse(t);return ub(t._query,e),new Ja(t.firestore,t.converter,wp(t._query,e))}_parse(t){const e=tb(t.firestore);return function(h,d,_,y,T,S,x){let C;if(T.isKeyField()){if(S==="array-contains"||S==="array-contains-any")throw new Rt(ht.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if(S==="in"||S==="not-in"){TT(x,S);const q=[];for(const G of x)q.push(vT(y,h,G));C={arrayValue:{values:q}}}else C=vT(y,h,x)}else S!=="in"&&S!=="not-in"&&S!=="array-contains-any"||TT(x,S),C=bP(_,d,x,S==="in"||S==="not-in");return rn.create(T,S,C)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class Hg extends Ug{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Hg(t,e)}_parse(t){const e=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return e.length===1?e[0]:Ar.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(l,h){let d=l;const _=h.getFlattenedFilters();for(const y of _)ub(d,y),d=wp(d,y)}(t._query,e),new Ja(t.firestore,t.converter,wp(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class qg extends ob{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new qg(t,e)}_apply(t){const e=function(l,h,d){if(l.startAt!==null)throw new Rt(ht.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(l.endAt!==null)throw new Rt(ht.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ic(h,d)}(t._query,this._field,this._direction);return new Ja(t.firestore,t.converter,function(l,h){const d=l.explicitOrderBy.concat([h]);return new fu(l.path,l.collectionGroup,d,l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(t._query,e))}}function CP(i,t="asc"){const e=t,s=zg("orderBy",i);return qg._create(s,e)}function vT(i,t,e){if(typeof(e=jn(e))=="string"){if(e==="")throw new Rt(ht.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rw(t)&&e.indexOf("/")!==-1)throw new Rt(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const s=t.path.child(ke.fromString(e));if(!Dt.isDocumentKey(s))throw new Rt(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return M0(i,new Dt(s))}if(e instanceof oi)return M0(i,e._key);throw new Rt(ht.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jf(e)}.`)}function TT(i,t){if(!Array.isArray(i)||i.length===0)throw new Rt(ht.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function ub(i,t){const e=function(l,h){for(const d of l)for(const _ of d.getFlattenedFilters())if(h.indexOf(_.op)>=0)return _.op;return null}(i.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new Rt(ht.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Rt(ht.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class xP{convertValue(t,e="none"){switch(Ya(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Xe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Ka(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Ut(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const s={};return Wo(t,(l,h)=>{s[l]=this.convertValue(h,e)}),s}convertVectorValue(t){var e,s,l;const h=(l=(s=(e=t.fields)===null||e===void 0?void 0:e[Tf].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(d=>Xe(d.doubleValue));return new Dg(h)}convertGeoPoint(t){return new Mg(Xe(t.latitude),Xe(t.longitude))}convertArray(t,e){return(t.values||[]).map(s=>this.convertValue(s,e))}convertServerTimestamp(t,e){switch(e){case"previous":const s=jf(t);return s==null?null:this.convertValue(s,e);case"estimate":return this.convertTimestamp(bc(t));default:return null}}convertTimestamp(t){const e=$a(t);return new un(e.seconds,e.nanos)}convertDocumentKey(t,e){const s=ke.fromString(t);me(Rw(s),9688,{name:t});const l=new Ac(s.get(1),s.get(3)),h=new Dt(s.popFirst(5));return l.isEqual(e)||Ns(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PP(i,t,e){let s;return s=i?i.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class cb extends sb{constructor(t,e,s,l,h,d){super(t,e,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new uf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const s=this._document.data.field(zg("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,e.serverTimestamps)}}}class uf extends cb{data(t={}){return super.data(t)}}class hb{constructor(t,e,s,l){this._firestore=t,this._userDataWriter=e,this._snapshot=l,this.metadata=new fc(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(s=>{t.call(e,new uf(this._firestore,this._userDataWriter,s.key,s,new fc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Rt(ht.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(l,h){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map(_=>{const y=new uf(l._firestore,l._userDataWriter,_.doc.key,_.doc,new fc(l._snapshot.mutatedKeys.has(_.doc.key),l._snapshot.fromCache),l.query.converter);return _.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}})}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(_=>h||_.type!==3).map(_=>{const y=new uf(l._firestore,l._userDataWriter,_.doc.key,_.doc,new fc(l._snapshot.mutatedKeys.has(_.doc.key),l._snapshot.fromCache),l.query.converter);let T=-1,S=-1;return _.type!==0&&(T=d.indexOf(_.doc.key),d=d.delete(_.doc.key)),_.type!==1&&(d=d.add(_.doc),S=d.indexOf(_.doc.key)),{type:OP(_.type),doc:y,oldIndex:T,newIndex:S}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function OP(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ut(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(i){i=Ls(i,oi);const t=Ls(i.firestore,ru);return dP(ed(t),i._key).then(e=>mb(t,i,e))}class jg extends xP{constructor(t){super(),this.firestore=t}convertBytes(t){return new su(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new oi(this.firestore,null,e)}}function ET(i){i=Ls(i,Ja);const t=Ls(i.firestore,ru),e=ed(t),s=new jg(t);return ab(i._query),mP(e,i._query).then(l=>new hb(t,s,i,l))}function fb(i,t){const e=Ls(i.firestore,ru),s=Ww(i),l=PP(i.converter,t);return MP(e,[wP(tb(i.firestore),"addDoc",s._key,l,i.converter!==null,{}).toMutation(s._key,Os.exists(!1))]).then(()=>s)}function db(i,...t){var e,s,l;i=jn(i);let h={includeMetadataChanges:!1,source:"default"},d=0;typeof t[d]!="object"||yT(t[d])||(h=t[d],d++);const _={includeMetadataChanges:h.includeMetadataChanges,source:h.source};if(yT(t[d])){const x=t[d];t[d]=(e=x.next)===null||e===void 0?void 0:e.bind(x),t[d+1]=(s=x.error)===null||s===void 0?void 0:s.bind(x),t[d+2]=(l=x.complete)===null||l===void 0?void 0:l.bind(x)}let y,T,S;if(i instanceof oi)T=Ls(i.firestore,ru),S=Ff(i._key.path),y={next:x=>{t[d]&&t[d](mb(T,i,x))},error:t[d+1],complete:t[d+2]};else{const x=Ls(i,Ja);T=Ls(x.firestore,ru),S=x._query;const C=new jg(T);y={next:V=>{t[d]&&t[d](new hb(T,C,x,V))},error:t[d+1],complete:t[d+2]},ab(i._query)}return function(C,V,q,G){const Z=new Pg(G),tt=new Rg(V,Z,q);return C.asyncQueue.enqueueAndForget(async()=>Ag(await Rf(C),tt)),()=>{Z.xu(),C.asyncQueue.enqueueAndForget(async()=>Sg(await Rf(C),tt))}}(ed(T),S,_,y)}function MP(i,t){return function(s,l){const h=new Ps;return s.asyncQueue.enqueueAndForget(async()=>eP(await fP(s),l,h)),h.promise}(ed(i),t)}function mb(i,t,e){const s=e.docs.get(t._key),l=new jg(i);return new cb(i,l,t._key,s,new fc(e.hasPendingWrites,e.fromCache),t.converter)}function DP(){return new kg("serverTimestamp")}(function(t,e=!0){(function(l){uu=l})(lu),Qr(new br("firestore",(s,{instanceIdentifier:l,options:h})=>{const d=s.getProvider("app").getImmediate(),_=new ru(new AC(s.getProvider("auth-internal")),new RC(d,s.getProvider("app-check-internal")),function(T,S){if(!Object.prototype.hasOwnProperty.apply(T.options,["projectId"]))throw new Rt(ht.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ac(T.options.projectId,S)}(d,l),d);return h=Object.assign({useFetchStreams:e},h),_._setSettings(h),_},"PUBLIC").setMultipleInstances(!0)),Ji(E0,w0,t),Ji(E0,w0,"esm2017")})();var NP="firebase",kP="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ji(NP,kP,"app");const pb="@firebase/installations",Fg="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb=1e4,_b=`w:${Fg}`,yb="FIS_v2",VP="https://firebaseinstallations.googleapis.com/v1",zP=60*60*1e3,UP="installations",BP="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Fo=new Qo(UP,BP,HP);function vb(i){return i instanceof Sr&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb({projectId:i}){return`${VP}/projects/${i}/installations`}function Eb(i){return{token:i.token,requestStatus:2,expiresIn:jP(i.expiresIn),creationTime:Date.now()}}async function wb(i,t){const s=(await t.json()).error;return Fo.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function bb({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function qP(i,{refreshToken:t}){const e=bb(i);return e.append("Authorization",FP(t)),e}async function Ab(i){const t=await i();return t.status>=500&&t.status<600?i():t}function jP(i){return Number(i.replace("s","000"))}function FP(i){return`${yb} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GP({appConfig:i,heartbeatServiceProvider:t},{fid:e}){const s=Tb(i),l=bb(i),h=t.getImmediate({optional:!0});if(h){const T=await h.getHeartbeatsHeader();T&&l.append("x-firebase-client",T)}const d={fid:e,authVersion:yb,appId:i.appId,sdkVersion:_b},_={method:"POST",headers:l,body:JSON.stringify(d)},y=await Ab(()=>fetch(s,_));if(y.ok){const T=await y.json();return{fid:T.fid||e,registrationStatus:2,refreshToken:T.refreshToken,authToken:Eb(T.authToken)}}else throw await wb("Create Installation",y)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(i){return new Promise(t=>{setTimeout(t,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZP(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $P=/^[cdef][\w-]{21}$/,Mp="";function KP(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const e=YP(i);return $P.test(e)?e:Mp}catch{return Mp}}function YP(i){return ZP(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nd(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib=new Map;function Rb(i,t){const e=nd(i);Cb(e,t),QP(e,t)}function Cb(i,t){const e=Ib.get(i);if(e)for(const s of e)s(t)}function QP(i,t){const e=XP();e&&e.postMessage({key:i,fid:t}),WP()}let Uo=null;function XP(){return!Uo&&"BroadcastChannel"in self&&(Uo=new BroadcastChannel("[Firebase] FID Change"),Uo.onmessage=i=>{Cb(i.data.key,i.data.fid)}),Uo}function WP(){Ib.size===0&&Uo&&(Uo.close(),Uo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JP="firebase-installations-database",tO=1,Go="firebase-installations-store";let rp=null;function Gg(){return rp||(rp=CE(JP,tO,{upgrade:(i,t)=>{switch(t){case 0:i.createObjectStore(Go)}}})),rp}async function xf(i,t){const e=nd(i),l=(await Gg()).transaction(Go,"readwrite"),h=l.objectStore(Go),d=await h.get(e);return await h.put(t,e),await l.done,(!d||d.fid!==t.fid)&&Rb(i,t.fid),t}async function xb(i){const t=nd(i),s=(await Gg()).transaction(Go,"readwrite");await s.objectStore(Go).delete(t),await s.done}async function id(i,t){const e=nd(i),l=(await Gg()).transaction(Go,"readwrite"),h=l.objectStore(Go),d=await h.get(e),_=t(d);return _===void 0?await h.delete(e):await h.put(_,e),await l.done,_&&(!d||d.fid!==_.fid)&&Rb(i,_.fid),_}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zg(i){let t;const e=await id(i.appConfig,s=>{const l=eO(s),h=nO(i,l);return t=h.registrationPromise,h.installationEntry});return e.fid===Mp?{installationEntry:await t}:{installationEntry:e,registrationPromise:t}}function eO(i){const t=i||{fid:KP(),registrationStatus:0};return Pb(t)}function nO(i,t){if(t.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(Fo.create("app-offline"));return{installationEntry:t,registrationPromise:l}}const e={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},s=iO(i,e);return{installationEntry:e,registrationPromise:s}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:rO(i)}:{installationEntry:t}}async function iO(i,t){try{const e=await GP(i,t);return xf(i.appConfig,e)}catch(e){throw vb(e)&&e.customData.serverCode===409?await xb(i.appConfig):await xf(i.appConfig,{fid:t.fid,registrationStatus:0}),e}}async function rO(i){let t=await wT(i.appConfig);for(;t.registrationStatus===1;)await Sb(100),t=await wT(i.appConfig);if(t.registrationStatus===0){const{installationEntry:e,registrationPromise:s}=await Zg(i);return s||e}return t}function wT(i){return id(i,t=>{if(!t)throw Fo.create("installation-not-found");return Pb(t)})}function Pb(i){return sO(i)?{fid:i.fid,registrationStatus:0}:i}function sO(i){return i.registrationStatus===1&&i.registrationTime+gb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aO({appConfig:i,heartbeatServiceProvider:t},e){const s=oO(i,e),l=qP(i,e),h=t.getImmediate({optional:!0});if(h){const T=await h.getHeartbeatsHeader();T&&l.append("x-firebase-client",T)}const d={installation:{sdkVersion:_b,appId:i.appId}},_={method:"POST",headers:l,body:JSON.stringify(d)},y=await Ab(()=>fetch(s,_));if(y.ok){const T=await y.json();return Eb(T)}else throw await wb("Generate Auth Token",y)}function oO(i,{fid:t}){return`${Tb(i)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $g(i,t=!1){let e;const s=await id(i.appConfig,h=>{if(!Ob(h))throw Fo.create("not-registered");const d=h.authToken;if(!t&&cO(d))return h;if(d.requestStatus===1)return e=lO(i,t),h;{if(!navigator.onLine)throw Fo.create("app-offline");const _=fO(h);return e=uO(i,_),_}});return e?await e:s.authToken}async function lO(i,t){let e=await bT(i.appConfig);for(;e.authToken.requestStatus===1;)await Sb(100),e=await bT(i.appConfig);const s=e.authToken;return s.requestStatus===0?$g(i,t):s}function bT(i){return id(i,t=>{if(!Ob(t))throw Fo.create("not-registered");const e=t.authToken;return dO(e)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function uO(i,t){try{const e=await aO(i,t),s=Object.assign(Object.assign({},t),{authToken:e});return await xf(i.appConfig,s),e}catch(e){if(vb(e)&&(e.customData.serverCode===401||e.customData.serverCode===404))await xb(i.appConfig);else{const s=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await xf(i.appConfig,s)}throw e}}function Ob(i){return i!==void 0&&i.registrationStatus===2}function cO(i){return i.requestStatus===2&&!hO(i)}function hO(i){const t=Date.now();return t<i.creationTime||i.creationTime+i.expiresIn<t+zP}function fO(i){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:t})}function dO(i){return i.requestStatus===1&&i.requestTime+gb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mO(i){const t=i,{installationEntry:e,registrationPromise:s}=await Zg(t);return s?s.catch(console.error):$g(t).catch(console.error),e.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pO(i,t=!1){const e=i;return await gO(e),(await $g(e,t)).token}async function gO(i){const{registrationPromise:t}=await Zg(i);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(i){if(!i||!i.options)throw sp("App Configuration");if(!i.name)throw sp("App Name");const t=["projectId","apiKey","appId"];for(const e of t)if(!i.options[e])throw sp(e);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function sp(i){return Fo.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="installations",yO="installations-internal",vO=i=>{const t=i.getProvider("app").getImmediate(),e=_O(t),s=Xo(t,"heartbeat");return{app:t,appConfig:e,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},TO=i=>{const t=i.getProvider("app").getImmediate(),e=Xo(t,Lb).getImmediate();return{getId:()=>mO(e),getToken:l=>pO(e,l)}};function EO(){Qr(new br(Lb,vO,"PUBLIC")),Qr(new br(yO,TO,"PRIVATE"))}EO();Ji(pb,Fg);Ji(pb,Fg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf="analytics",wO="firebase_id",bO="origin",AO=60*1e3,SO="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Kg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li=new Bf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Oi=new Qo("analytics","Analytics",IO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(i){if(!i.startsWith(Kg)){const t=Oi.create("invalid-gtag-resource",{gtagURL:i});return li.warn(t.message),""}return i}function Mb(i){return Promise.all(i.map(t=>t.catch(e=>e)))}function CO(i,t){let e;return window.trustedTypes&&(e=window.trustedTypes.createPolicy(i,t)),e}function xO(i,t){const e=CO("firebase-js-sdk-policy",{createScriptURL:RO}),s=document.createElement("script"),l=`${Kg}?l=${i}&id=${t}`;s.src=e?e==null?void 0:e.createScriptURL(l):l,s.async=!0,document.head.appendChild(s)}function PO(i){let t=[];return Array.isArray(window[i])?t=window[i]:window[i]=t,t}async function OO(i,t,e,s,l,h){const d=s[l];try{if(d)await t[d];else{const y=(await Mb(e)).find(T=>T.measurementId===l);y&&await t[y.appId]}}catch(_){li.error(_)}i("config",l,h)}async function LO(i,t,e,s,l){try{let h=[];if(l&&l.send_to){let d=l.send_to;Array.isArray(d)||(d=[d]);const _=await Mb(e);for(const y of d){const T=_.find(x=>x.measurementId===y),S=T&&t[T.appId];if(S)h.push(S);else{h=[];break}}}h.length===0&&(h=Object.values(t)),await Promise.all(h),i("event",s,l||{})}catch(h){li.error(h)}}function MO(i,t,e,s){async function l(h,...d){try{if(h==="event"){const[_,y]=d;await LO(i,t,e,_,y)}else if(h==="config"){const[_,y]=d;await OO(i,t,e,s,_,y)}else if(h==="consent"){const[_,y]=d;i("consent",_,y)}else if(h==="get"){const[_,y,T]=d;i("get",_,y,T)}else if(h==="set"){const[_]=d;i("set",_)}else i(h,...d)}catch(_){li.error(_)}}return l}function DO(i,t,e,s,l){let h=function(...d){window[s].push(arguments)};return window[l]&&typeof window[l]=="function"&&(h=window[l]),window[l]=MO(h,i,t,e),{gtagCore:h,wrappedGtag:window[l]}}function NO(i){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(Kg)&&e.src.includes(i))return e;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=30,VO=1e3;class zO{constructor(t={},e=VO){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const Db=new zO;function UO(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function BO(i){var t;const{appId:e,apiKey:s}=i,l={method:"GET",headers:UO(s)},h=SO.replace("{app-id}",e),d=await fetch(h,l);if(d.status!==200&&d.status!==304){let _="";try{const y=await d.json();!((t=y.error)===null||t===void 0)&&t.message&&(_=y.error.message)}catch{}throw Oi.create("config-fetch-failed",{httpStatus:d.status,responseMessage:_})}return d.json()}async function HO(i,t=Db,e){const{appId:s,apiKey:l,measurementId:h}=i.options;if(!s)throw Oi.create("no-app-id");if(!l){if(h)return{measurementId:h,appId:s};throw Oi.create("no-api-key")}const d=t.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},_=new FO;return setTimeout(async()=>{_.abort()},AO),Nb({appId:s,apiKey:l,measurementId:h},d,_,t)}async function Nb(i,{throttleEndTimeMillis:t,backoffCount:e},s,l=Db){var h;const{appId:d,measurementId:_}=i;try{await qO(s,t)}catch(y){if(_)return li.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:d,measurementId:_};throw y}try{const y=await BO(i);return l.deleteThrottleMetadata(d),y}catch(y){const T=y;if(!jO(T)){if(l.deleteThrottleMetadata(d),_)return li.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_} provided in the "measurementId" field in the local Firebase config. [${T==null?void 0:T.message}]`),{appId:d,measurementId:_};throw y}const S=Number((h=T==null?void 0:T.customData)===null||h===void 0?void 0:h.httpStatus)===503?h0(e,l.intervalMillis,kO):h0(e,l.intervalMillis),x={throttleEndTimeMillis:Date.now()+S,backoffCount:e+1};return l.setThrottleMetadata(d,x),li.debug(`Calling attemptFetch again in ${S} millis`),Nb(i,x,s,l)}}function qO(i,t){return new Promise((e,s)=>{const l=Math.max(t-Date.now(),0),h=setTimeout(e,l);i.addEventListener(()=>{clearTimeout(h),s(Oi.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function jO(i){if(!(i instanceof Sr)||!i.customData)return!1;const t=Number(i.customData.httpStatus);return t===429||t===500||t===503||t===504}class FO{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function GO(i,t,e,s,l){if(l&&l.global){i("event",e,s);return}else{const h=await t,d=Object.assign(Object.assign({},s),{send_to:h});i("event",e,d)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZO(){if(tg())try{await eg()}catch(i){return li.warn(Oi.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return li.warn(Oi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function $O(i,t,e,s,l,h,d){var _;const y=HO(i);y.then(V=>{e[V.measurementId]=V.appId,i.options.measurementId&&V.measurementId!==i.options.measurementId&&li.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${V.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(V=>li.error(V)),t.push(y);const T=ZO().then(V=>{if(V)return s.getId()}),[S,x]=await Promise.all([y,T]);NO(h)||xO(h,S.measurementId),l("js",new Date);const C=(_=d==null?void 0:d.config)!==null&&_!==void 0?_:{};return C[bO]="firebase",C.update=!0,x!=null&&(C[wO]=x),l("config",S.measurementId,C),S.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(t){this.app=t}_delete(){return delete yc[this.app.options.appId],Promise.resolve()}}let yc={},AT=[];const ST={};let ap="dataLayer",YO="gtag",IT,kb,RT=!1;function QO(){const i=[];if(Jp()&&i.push("This is a browser extension environment."),SE()||i.push("Cookies are not available."),i.length>0){const t=i.map((s,l)=>`(${l+1}) ${s}`).join(" "),e=Oi.create("invalid-analytics-context",{errorInfo:t});li.warn(e.message)}}function XO(i,t,e){QO();const s=i.options.appId;if(!s)throw Oi.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)li.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Oi.create("no-api-key");if(yc[s]!=null)throw Oi.create("already-exists",{id:s});if(!RT){PO(ap);const{wrappedGtag:h,gtagCore:d}=DO(yc,AT,ST,ap,YO);kb=h,IT=d,RT=!0}return yc[s]=$O(i,AT,ST,t,IT,ap,e),new KO(i)}function WO(i=ig()){i=jn(i);const t=Xo(i,Pf);return t.isInitialized()?t.getImmediate():JO(i)}function JO(i,t={}){const e=Xo(i,Pf);if(e.isInitialized()){const l=e.getImmediate();if(Ga(t,e.getOptions()))return l;throw Oi.create("already-initialized")}return e.initialize({options:t})}async function tL(){if(Jp()||!SE()||!tg())return!1;try{return await eg()}catch{return!1}}function eL(i,t,e,s){i=jn(i),GO(kb,yc[i.app.options.appId],t,e,s).catch(l=>li.error(l))}const CT="@firebase/analytics",xT="0.10.16";function nL(){Qr(new br(Pf,(t,{options:e})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("installations-internal").getImmediate();return XO(s,l,e)},"PUBLIC")),Qr(new br("analytics-internal",i,"PRIVATE")),Ji(CT,xT),Ji(CT,xT,"esm2017");function i(t){try{const e=t.getProvider(Pf).getImmediate();return{logEvent:(s,l,h)=>eL(e,s,l,h)}}catch(e){throw Oi.create("interop-component-reg-failed",{reason:e})}}}nL();function Yg(i,t){var e={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.indexOf(s)<0&&(e[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(i);l<s.length;l++)t.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(i,s[l])&&(e[s[l]]=i[s[l]]);return e}function Vb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const iL=Vb,zb=new Qo("auth","Firebase",Vb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of=new Bf("@firebase/auth");function rL(i,...t){Of.logLevel<=ne.WARN&&Of.warn(`Auth (${lu}): ${i}`,...t)}function cf(i,...t){Of.logLevel<=ne.ERROR&&Of.error(`Auth (${lu}): ${i}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vs(i,...t){throw Qg(i,...t)}function Kr(i,...t){return Qg(i,...t)}function Ub(i,t,e){const s=Object.assign(Object.assign({},iL()),{[t]:e});return new Qo("auth","Firebase",s).create(t,{appName:i.name})}function Fa(i){return Ub(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qg(i,...t){if(typeof i!="string"){const e=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(e,...s)}return zb.create(i,...t)}function qt(i,t,...e){if(!i)throw Qg(t,...e)}function Rs(i){const t="INTERNAL ASSERTION FAILED: "+i;throw cf(t),new Error(t)}function zs(i,t){i||Rs(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function sL(){return PT()==="http:"||PT()==="https:"}function PT(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sL()||Jp()||"connection"in navigator)?navigator.onLine:!0}function oL(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(t,e){this.shortDelay=t,this.longDelay=e,zs(e>t,"Short delay should be less than long delay!"),this.isMobile=WI()||eR()}get(){return aL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xg(i,t){zs(i.emulator,"Emulator should always be set here");const{url:e}=i.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{static initialize(t,e,s){this.fetchImpl=t,e&&(this.headersImpl=e),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cL=new Hc(3e4,6e4);function rd(i,t){return i.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:i.tenantId}):t}async function mu(i,t,e,s,l={}){return Hb(i,l,async()=>{let h={},d={};s&&(t==="GET"?d=s:h={body:JSON.stringify(s)});const _=kc(Object.assign({key:i.config.apiKey},d)).slice(1),y=await i._getAdditionalHeaders();y["Content-Type"]="application/json",i.languageCode&&(y["X-Firebase-Locale"]=i.languageCode);const T=Object.assign({method:t,headers:y},h);return tR()||(T.referrerPolicy="no-referrer"),i.emulatorConfig&&ou(i.emulatorConfig.host)&&(T.credentials="include"),Bb.fetch()(await jb(i,i.config.apiHost,e,_),T)})}async function Hb(i,t,e){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},lL),t);try{const l=new hL(i),h=await Promise.race([e(),l.promise]);l.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw tf(i,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const _=h.ok?d.errorMessage:d.error.message,[y,T]=_.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw tf(i,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw tf(i,"email-already-in-use",d);if(y==="USER_DISABLED")throw tf(i,"user-disabled",d);const S=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(T)throw Ub(i,S,T);Vs(i,S)}}catch(l){if(l instanceof Sr)throw l;Vs(i,"network-request-failed",{message:String(l)})}}async function qb(i,t,e,s,l={}){const h=await mu(i,t,e,s,l);return"mfaPendingCredential"in h&&Vs(i,"multi-factor-auth-required",{_serverResponse:h}),h}async function jb(i,t,e,s){const l=`${t}${e}?${s}`,h=i,d=h.config.emulator?Xg(i.config,l):`${i.config.apiScheme}://${l}`;return uL.includes(e)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(d).toString():d}class hL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,s)=>{this.timer=setTimeout(()=>s(Kr(this.auth,"network-request-failed")),cL.get())})}}function tf(i,t,e){const s={appName:i.name};e.email&&(s.email=e.email),e.phoneNumber&&(s.phoneNumber=e.phoneNumber);const l=Kr(i,t,s);return l.customData._tokenResponse=e,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fL(i,t){return mu(i,"POST","/v1/accounts:delete",t)}async function Lf(i,t){return mu(i,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function dL(i,t=!1){const e=jn(i),s=await e.getIdToken(t),l=Wg(s);qt(l&&l.exp&&l.auth_time&&l.iat,e.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,d=h==null?void 0:h.sign_in_provider;return{claims:l,token:s,authTime:vc(op(l.auth_time)),issuedAtTime:vc(op(l.iat)),expirationTime:vc(op(l.exp)),signInProvider:d||null,signInSecondFactor:(h==null?void 0:h.sign_in_second_factor)||null}}function op(i){return Number(i)*1e3}function Wg(i){const[t,e,s]=i.split(".");if(t===void 0||e===void 0||s===void 0)return cf("JWT malformed, contained fewer than 3 sections"),null;try{const l=vE(e);return l?JSON.parse(l):(cf("Failed to decode base64 JWT payload"),null)}catch(l){return cf("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function OT(i){const t=Wg(i);return qt(t,"internal-error"),qt(typeof t.exp<"u","internal-error"),qt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pc(i,t,e=!1){if(e)return t;try{return await t}catch(s){throw s instanceof Sr&&mL(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function mL({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=vc(this.lastLoginAt),this.creationTime=vc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mf(i){var t;const e=i.auth,s=await i.getIdToken(),l=await Pc(i,Lf(e,{idToken:s}));qt(l==null?void 0:l.users.length,e,"internal-error");const h=l.users[0];i._notifyReloadListener(h);const d=!((t=h.providerUserInfo)===null||t===void 0)&&t.length?Fb(h.providerUserInfo):[],_=_L(i.providerData,d),y=i.isAnonymous,T=!(i.email&&h.passwordHash)&&!(_!=null&&_.length),S=y?T:!1,x={uid:h.localId,displayName:h.displayName||null,photoURL:h.photoUrl||null,email:h.email||null,emailVerified:h.emailVerified||!1,phoneNumber:h.phoneNumber||null,tenantId:h.tenantId||null,providerData:_,metadata:new Np(h.createdAt,h.lastLoginAt),isAnonymous:S};Object.assign(i,x)}async function gL(i){const t=jn(i);await Mf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function _L(i,t){return[...i.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function Fb(i){return i.map(t=>{var{providerId:e}=t,s=Yg(t,["providerId"]);return{providerId:e,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yL(i,t){const e=await Hb(i,{},async()=>{const s=kc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=i.config,d=await jb(i,l,"/v1/token",`key=${h}`),_=await i._getAdditionalHeaders();_["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:_,body:s};return i.emulatorConfig&&ou(i.emulatorConfig.host)&&(y.credentials="include"),Bb.fetch()(d,y)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function vL(i,t){return mu(i,"POST","/v2/accounts:revokeToken",rd(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){qt(t.idToken,"internal-error"),qt(typeof t.idToken<"u","internal-error"),qt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):OT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){qt(t.length!==0,"internal-error");const e=OT(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(qt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:s,refreshToken:l,expiresIn:h}=await yL(t,e);this.updateTokensAndExpiration(s,l,Number(h))}updateTokensAndExpiration(t,e,s){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,e){const{refreshToken:s,accessToken:l,expirationTime:h}=e,d=new Kl;return s&&(qt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(qt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),h&&(qt(typeof h=="number","internal-error",{appName:t}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Kl,this.toJSON())}_performRefresh(){return Rs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Da(i,t){qt(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class Er{constructor(t){var{uid:e,auth:s,stsTokenManager:l}=t,h=Yg(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=h.displayName||null,this.email=h.email||null,this.emailVerified=h.emailVerified||!1,this.phoneNumber=h.phoneNumber||null,this.photoURL=h.photoURL||null,this.isAnonymous=h.isAnonymous||!1,this.tenantId=h.tenantId||null,this.providerData=h.providerData?[...h.providerData]:[],this.metadata=new Np(h.createdAt||void 0,h.lastLoginAt||void 0)}async getIdToken(t){const e=await Pc(this,this.stsTokenManager.getToken(this.auth,t));return qt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return dL(this,t)}reload(){return gL(this)}_assign(t){this!==t&&(qt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Er(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){qt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),e&&await Mf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vr(this.auth.app))return Promise.reject(Fa(this.auth));const t=await this.getIdToken();return await Pc(this,fL(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var s,l,h,d,_,y,T,S;const x=(s=e.displayName)!==null&&s!==void 0?s:void 0,C=(l=e.email)!==null&&l!==void 0?l:void 0,V=(h=e.phoneNumber)!==null&&h!==void 0?h:void 0,q=(d=e.photoURL)!==null&&d!==void 0?d:void 0,G=(_=e.tenantId)!==null&&_!==void 0?_:void 0,Z=(y=e._redirectEventId)!==null&&y!==void 0?y:void 0,tt=(T=e.createdAt)!==null&&T!==void 0?T:void 0,W=(S=e.lastLoginAt)!==null&&S!==void 0?S:void 0,{uid:nt,emailVerified:gt,isAnonymous:Tt,providerData:Pt,stsTokenManager:z}=e;qt(nt&&z,t,"internal-error");const O=Kl.fromJSON(this.name,z);qt(typeof nt=="string",t,"internal-error"),Da(x,t.name),Da(C,t.name),qt(typeof gt=="boolean",t,"internal-error"),qt(typeof Tt=="boolean",t,"internal-error"),Da(V,t.name),Da(q,t.name),Da(G,t.name),Da(Z,t.name),Da(tt,t.name),Da(W,t.name);const M=new Er({uid:nt,auth:t,email:C,emailVerified:gt,displayName:x,isAnonymous:Tt,photoURL:q,phoneNumber:V,tenantId:G,stsTokenManager:O,createdAt:tt,lastLoginAt:W});return Pt&&Array.isArray(Pt)&&(M.providerData=Pt.map(B=>Object.assign({},B))),Z&&(M._redirectEventId=Z),M}static async _fromIdTokenResponse(t,e,s=!1){const l=new Kl;l.updateFromServerResponse(e);const h=new Er({uid:e.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Mf(h),h}static async _fromGetAccountInfoResponse(t,e,s){const l=e.users[0];qt(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?Fb(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(h!=null&&h.length),_=new Kl;_.updateFromIdToken(s);const y=new Er({uid:l.localId,auth:t,stsTokenManager:_,isAnonymous:d}),T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new Np(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(h!=null&&h.length)};return Object.assign(y,T),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT=new Map;function Cs(i){zs(i instanceof Function,"Expected a class definition");let t=LT.get(i);return t?(zs(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,LT.set(i,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}Gb.type="NONE";const MT=Gb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(i,t,e){return`firebase:${i}:${t}:${e}`}class Yl{constructor(t,e,s){this.persistence=t,this.auth=e,this.userKey=s;const{config:l,name:h}=this.auth;this.fullUserKey=hf(this.userKey,l.apiKey,h),this.fullPersistenceKey=hf("persistence",l.apiKey,h),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Lf(this.auth,{idToken:t}).catch(()=>{});return e?Er._fromGetAccountInfoResponse(this.auth,e,t):null}return Er._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,s="authUser"){if(!e.length)return new Yl(Cs(MT),t,s);const l=(await Promise.all(e.map(async T=>{if(await T._isAvailable())return T}))).filter(T=>T);let h=l[0]||Cs(MT);const d=hf(s,t.config.apiKey,t.name);let _=null;for(const T of e)try{const S=await T._get(d);if(S){let x;if(typeof S=="string"){const C=await Lf(t,{idToken:S}).catch(()=>{});if(!C)break;x=await Er._fromGetAccountInfoResponse(t,C,S)}else x=Er._fromJSON(t,S);T!==h&&(_=x),h=T;break}}catch{}const y=l.filter(T=>T._shouldAllowMigration);return!h._shouldAllowMigration||!y.length?new Yl(h,t,s):(h=y[0],_&&await h._set(d,_.toJSON()),await Promise.all(e.map(async T=>{if(T!==h)try{await T._remove(d)}catch{}})),new Yl(h,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Yb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Zb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Xb(t))return"Blackberry";if(Wb(t))return"Webos";if($b(t))return"Safari";if((t.includes("chrome/")||Kb(t))&&!t.includes("edge/"))return"Chrome";if(Qb(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(e);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Zb(i=qn()){return/firefox\//i.test(i)}function $b(i=qn()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Kb(i=qn()){return/crios\//i.test(i)}function Yb(i=qn()){return/iemobile/i.test(i)}function Qb(i=qn()){return/android/i.test(i)}function Xb(i=qn()){return/blackberry/i.test(i)}function Wb(i=qn()){return/webos/i.test(i)}function Jg(i=qn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function TL(i=qn()){var t;return Jg(i)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function EL(){return nR()&&document.documentMode===10}function Jb(i=qn()){return Jg(i)||Qb(i)||Wb(i)||Xb(i)||/windows phone/i.test(i)||Yb(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(i,t=[]){let e;switch(i){case"Browser":e=DT(qn());break;case"Worker":e=`${DT(qn())}-${i}`;break;default:e=i}const s=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${lu}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const s=h=>new Promise((d,_)=>{try{const y=t(h);d(y)}catch(y){_(y)}});s.onAbort=e,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const s of this.queue)await s(t),s.onAbort&&e.push(s.onAbort)}catch(s){e.reverse();for(const l of e)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bL(i,t={}){return mu(i,"GET","/v2/passwordPolicy",rd(i,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AL=6;class SL{constructor(t){var e,s,l,h;const d=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=d.minPasswordLength)!==null&&e!==void 0?e:AL,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(h=t.forceUpgradeOnSignin)!==null&&h!==void 0?h:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,s,l,h,d,_;const y={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,y),this.validatePasswordCharacterOptions(t,y),y.isValid&&(y.isValid=(e=y.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),y.isValid&&(y.isValid=(s=y.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),y.isValid&&(y.isValid=(l=y.containsLowercaseLetter)!==null&&l!==void 0?l:!0),y.isValid&&(y.isValid=(h=y.containsUppercaseLetter)!==null&&h!==void 0?h:!0),y.isValid&&(y.isValid=(d=y.containsNumericCharacter)!==null&&d!==void 0?d:!0),y.isValid&&(y.isValid=(_=y.containsNonAlphanumericCharacter)!==null&&_!==void 0?_:!0),y}validatePasswordLengthOptions(t,e){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(e.meetsMinPasswordLength=t.length>=s),l&&(e.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(e,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,e,s,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(t,e,s,l){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new NT(this),this.idTokenSubscription=new NT(this),this.beforeStateQueue=new wL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=zb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Cs(e)),this._initializationPromise=this.queue(async()=>{var s,l,h;if(!this._deleted&&(this.persistenceManager=await Yl.create(this,t),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((h=this.currentUser)===null||h===void 0?void 0:h.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Lf(this,{idToken:t}),s=await Er._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(s)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(vr(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(_=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(_,_))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,h=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,_=l==null?void 0:l._redirectEventId,y=await this.tryRedirectSignIn(t);(!d||d===_)&&(y!=null&&y.user)&&(l=y.user,h=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(h)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return qt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Mf(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=oL()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(vr(this.app))return Promise.reject(Fa(this));const e=t?jn(t):null;return e&&qt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&qt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return vr(this.app)?Promise.reject(Fa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return vr(this.app)?Promise.reject(Fa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await bL(this),e=new SL(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Qo("auth","Firebase",t())}onAuthStateChanged(t,e,s){return this.registerStateListener(this.authStateSubscription,t,e,s)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,s){return this.registerStateListener(this.idTokenSubscription,t,e,s)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(s.tenantId=this.tenantId),await vL(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const s=await this.getOrInitRedirectPersistenceManager(e);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Cs(t)||this._popupRedirectResolver;qt(e,this,"argument-error"),this.redirectPersistenceManager=await Yl.create(this,[Cs(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,s;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,s,l){if(this._deleted)return()=>{};const h=typeof e=="function"?e:e.next.bind(e);let d=!1;const _=this._isInitialized?Promise.resolve():this._initializationPromise;if(qt(_,this,"internal-error"),_.then(()=>{d||h(this.currentUser)}),typeof e=="function"){const y=t.addObserver(e,s,l);return()=>{d=!0,y()}}else{const y=t.addObserver(e);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return qt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=t1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(e["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(e["X-Firebase-AppCheck"]=l),e}async _getAppCheckToken(){var t;if(vr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&rL(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function sd(i){return jn(i)}class NT{constructor(t){this.auth=t,this.observer=null,this.addObserver=lR(e=>this.observer=e)}get next(){return qt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let t_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RL(i){t_=i}function CL(i){return t_.loadJS(i)}function xL(){return t_.gapiScript}function PL(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OL(i,t){const e=Xo(i,"auth");if(e.isInitialized()){const l=e.getImmediate(),h=e.getOptions();if(Ga(h,t??{}))return l;Vs(l,"already-initialized")}return e.initialize({options:t})}function LL(i,t){const e=(t==null?void 0:t.persistence)||[],s=(Array.isArray(e)?e:[e]).map(Cs);t!=null&&t.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function ML(i,t,e){const s=sd(i);qt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,h=e1(t),{host:d,port:_}=DL(t),y=_===null?"":`:${_}`,T={url:`${h}//${d}${y}/`},S=Object.freeze({host:d,port:_,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){qt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),qt(Ga(T,s.config.emulator)&&Ga(S,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=T,s.emulatorConfig=S,s.settings.appVerificationDisabledForTesting=!0,ou(d)?(bE(`${h}//${d}${y}`),AE("Auth",!0)):NL()}function e1(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function DL(i){const t=e1(i),e=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!e)return{host:"",port:null};const s=e[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const h=l[1];return{host:h,port:kT(s.substr(h.length+1))}}else{const[h,d]=s.split(":");return{host:h,port:kT(d)}}}function kT(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function NL(){function i(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Rs("not implemented")}_getIdTokenResponse(t){return Rs("not implemented")}_linkToIdToken(t,e){return Rs("not implemented")}_getReauthenticationResolver(t){return Rs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(i,t){return qb(i,"POST","/v1/accounts:signInWithIdp",rd(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kL="http://localhost";class Zo extends n1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Zo(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Vs("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l}=e,h=Yg(e,["providerId","signInMethod"]);if(!s||!l)return null;const d=new Zo(s,l);return d.idToken=h.idToken||void 0,d.accessToken=h.accessToken||void 0,d.secret=h.secret,d.nonce=h.nonce,d.pendingToken=h.pendingToken||null,d}_getIdTokenResponse(t){const e=this.buildRequest();return Ql(t,e)}_linkToIdToken(t,e){const s=this.buildRequest();return s.idToken=e,Ql(t,s)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Ql(t,e)}buildRequest(){const t={requestUri:kL,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=kc(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc extends i1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends qc{constructor(){super("facebook.com")}static credential(t){return Zo._fromParams({providerId:Na.PROVIDER_ID,signInMethod:Na.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Na.credentialFromTaggedObject(t)}static credentialFromError(t){return Na.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Na.credential(t.oauthAccessToken)}catch{return null}}}Na.FACEBOOK_SIGN_IN_METHOD="facebook.com";Na.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka extends qc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Zo._fromParams({providerId:ka.PROVIDER_ID,signInMethod:ka.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return ka.credentialFromTaggedObject(t)}static credentialFromError(t){return ka.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:s}=t;if(!e&&!s)return null;try{return ka.credential(e,s)}catch{return null}}}ka.GOOGLE_SIGN_IN_METHOD="google.com";ka.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va extends qc{constructor(){super("github.com")}static credential(t){return Zo._fromParams({providerId:Va.PROVIDER_ID,signInMethod:Va.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Va.credentialFromTaggedObject(t)}static credentialFromError(t){return Va.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Va.credential(t.oauthAccessToken)}catch{return null}}}Va.GITHUB_SIGN_IN_METHOD="github.com";Va.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za extends qc{constructor(){super("twitter.com")}static credential(t,e){return Zo._fromParams({providerId:za.PROVIDER_ID,signInMethod:za.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return za.credentialFromTaggedObject(t)}static credentialFromError(t){return za.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:s}=t;if(!e||!s)return null;try{return za.credential(e,s)}catch{return null}}}za.TWITTER_SIGN_IN_METHOD="twitter.com";za.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VL(i,t){return qb(i,"POST","/v1/accounts:signUp",rd(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,s,l=!1){const h=await Er._fromIdTokenResponse(t,s,l),d=VT(s);return new Wa({user:h,providerId:d,_tokenResponse:s,operationType:e})}static async _forOperation(t,e,s){await t._updateTokensIfNecessary(s,!0);const l=VT(s);return new Wa({user:t,providerId:l,_tokenResponse:s,operationType:e})}}function VT(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zL(i){var t;if(vr(i.app))return Promise.reject(Fa(i));const e=sd(i);if(await e._initializationPromise,!((t=e.currentUser)===null||t===void 0)&&t.isAnonymous)return new Wa({user:e.currentUser,providerId:null,operationType:"signIn"});const s=await VL(e,{returnSecureToken:!0}),l=await Wa._fromIdTokenResponse(e,"signIn",s,!0);return await e._updateCurrentUser(l.user),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df extends Sr{constructor(t,e,s,l){var h;super(e.code,e.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Df.prototype),this.customData={appName:t.name,tenantId:(h=t.tenantId)!==null&&h!==void 0?h:void 0,_serverResponse:e.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,e,s,l){return new Df(t,e,s,l)}}function r1(i,t,e,s){return(t==="reauthenticate"?e._getReauthenticationResolver(i):e._getIdTokenResponse(i)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?Df._fromErrorAndOperation(i,h,t,s):h})}async function UL(i,t,e=!1){const s=await Pc(i,t._linkToIdToken(i.auth,await i.getIdToken()),e);return Wa._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BL(i,t,e=!1){const{auth:s}=i;if(vr(s.app))return Promise.reject(Fa(s));const l="reauthenticate";try{const h=await Pc(i,r1(s,l,t,i),e);qt(h.idToken,s,"internal-error");const d=Wg(h.idToken);qt(d,s,"internal-error");const{sub:_}=d;return qt(i.uid===_,s,"user-mismatch"),Wa._forOperation(i,l,h)}catch(h){throw(h==null?void 0:h.code)==="auth/user-not-found"&&Vs(s,"user-mismatch"),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HL(i,t,e=!1){if(vr(i.app))return Promise.reject(Fa(i));const s="signIn",l=await r1(i,s,t),h=await Wa._fromIdTokenResponse(i,s,l);return e||await i._updateCurrentUser(h.user),h}function qL(i,t,e,s){return jn(i).onIdTokenChanged(t,e,s)}function jL(i,t,e){return jn(i).beforeAuthStateChanged(t,e)}function FL(i,t,e,s){return jn(i).onAuthStateChanged(t,e,s)}const Nf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Nf,"1"),this.storage.removeItem(Nf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL=1e3,ZL=10;class a1 extends s1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Jb(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const s=this.storage.getItem(e),l=this.localCache[e];s!==l&&t(e,l,s)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((d,_,y)=>{this.notifyListeners(d,y)});return}const s=t.key;e?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!e&&this.localCache[s]===d||this.notifyListeners(s,d)},h=this.storage.getItem(s);EL()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,ZL):l()}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:s}),!0)})},GL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}a1.type="LOCAL";const $L=a1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1 extends s1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}o1.type="SESSION";const l1=o1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(l=>l.isListeningto(t));if(e)return e;const s=new ad(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:s,eventType:l,data:h}=e.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;e.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const _=Array.from(d).map(async T=>T(e.origin,h)),y=await KL(_);e.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:y})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ad.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(i="",t=10){let e="";for(let s=0;s<t;s++)e+=Math.floor(Math.random()*10);return i+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,d;return new Promise((_,y)=>{const T=e_("",20);l.port1.start();const S=setTimeout(()=>{y(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(x){const C=x;if(C.data.eventId===T)switch(C.data.status){case"ack":clearTimeout(S),h=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),_(C.data.response);break;default:clearTimeout(S),clearTimeout(h),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:T,data:e},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yr(){return window}function QL(i){Yr().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(){return typeof Yr().WorkerGlobalScope<"u"&&typeof Yr().importScripts=="function"}async function XL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WL(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function JL(){return u1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1="firebaseLocalStorageDb",tM=1,kf="firebaseLocalStorage",h1="fbase_key";class jc{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function od(i,t){return i.transaction([kf],t?"readwrite":"readonly").objectStore(kf)}function eM(){const i=indexedDB.deleteDatabase(c1);return new jc(i).toPromise()}function kp(){const i=indexedDB.open(c1,tM);return new Promise((t,e)=>{i.addEventListener("error",()=>{e(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(kf,{keyPath:h1})}catch(l){e(l)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(kf)?t(s):(s.close(),await eM(),t(await kp()))})})}async function zT(i,t,e){const s=od(i,!0).put({[h1]:t,value:e});return new jc(s).toPromise()}async function nM(i,t){const e=od(i,!1).get(t),s=await new jc(e).toPromise();return s===void 0?null:s.value}function UT(i,t){const e=od(i,!0).delete(t);return new jc(e).toPromise()}const iM=800,rM=3;class f1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await kp(),this.db)}async _withRetries(t){let e=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(e++>rM)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return u1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ad._getInstance(JL()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await XL(),!this.activeServiceWorker)return;this.sender=new YL(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((e=s[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||WL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await kp();return await zT(t,Nf,"1"),await UT(t,Nf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(s=>zT(s,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(s=>nM(s,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>UT(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=od(l,!1).getAll();return new jc(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),e.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),e.push(l));return e}notifyListeners(t,e){this.localCache[t]=e;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}f1.type="LOCAL";const sM=f1;new Hc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(i,t){return t?Cs(t):(qt(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_ extends n1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ql(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Ql(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Ql(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function oM(i){return HL(i.auth,new n_(i),i.bypassAuthState)}function lM(i){const{auth:t,user:e}=i;return qt(e,t,"internal-error"),BL(e,new n_(i),i.bypassAuthState)}async function uM(i){const{auth:t,user:e}=i;return qt(e,t,"internal-error"),UL(e,new n_(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(t,e,s,l,h=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:s,postBody:l,tenantId:h,error:d,type:_}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:e,sessionId:s,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(_)(y))}catch(T){this.reject(T)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return oM;case"linkViaPopup":case"linkViaRedirect":return uM;case"reauthViaPopup":case"reauthViaRedirect":return lM;default:Vs(this.auth,"internal-error")}}resolve(t){zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){zs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cM=new Hc(2e3,1e4);class Zl extends d1{constructor(t,e,s,l,h){super(t,e,l,h),this.provider=s,this.authWindow=null,this.pollId=null,Zl.currentPopupAction&&Zl.currentPopupAction.cancel(),Zl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return qt(t,this.auth,"internal-error"),t}async onExecution(){zs(this.filter.length===1,"Popup operations only handle one event");const t=e_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zl.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,s;if(!((s=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Kr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,cM.get())};t()}}Zl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hM="pendingRedirect",ff=new Map;class fM extends d1{constructor(t,e,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,s),this.eventId=null}async execute(){let t=ff.get(this.auth._key());if(!t){try{const s=await dM(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(e){t=()=>Promise.reject(e)}ff.set(this.auth._key(),t)}return this.bypassAuthState||ff.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function dM(i,t){const e=gM(t),s=pM(i);if(!await s._isAvailable())return!1;const l=await s._get(e)==="true";return await s._remove(e),l}function mM(i,t){ff.set(i._key(),t)}function pM(i){return Cs(i._redirectPersistence)}function gM(i){return hf(hM,i.config.apiKey,i.name)}async function _M(i,t,e=!1){if(vr(i.app))return Promise.reject(Fa(i));const s=sd(i),l=aM(s,t),d=await new fM(s,l,e).execute();return d&&!e&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM=10*60*1e3;class vM{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(e=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!TM(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var s;if(t.error&&!m1(t)){const l=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";e.onError(Kr(this.auth,l))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const s=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=yM&&this.cachedEventUids.clear(),this.cachedEventUids.has(BT(t))}saveEventToCache(t){this.cachedEventUids.add(BT(t)),this.lastProcessedEventTime=Date.now()}}function BT(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function m1({type:i,error:t}){return i==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function TM(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return m1(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EM(i,t={}){return mu(i,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bM=/^https?/;async function AM(i){if(i.config.emulator)return;const{authorizedDomains:t}=await EM(i);for(const e of t)try{if(SM(e))return}catch{}Vs(i,"unauthorized-domain")}function SM(i){const t=Dp(),{protocol:e,hostname:s}=new URL(t);if(i.startsWith("chrome-extension://")){const d=new URL(i);return d.hostname===""&&s===""?e==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&d.hostname===s}if(!bM.test(e))return!1;if(wM.test(i))return s===i;const l=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IM=new Hc(3e4,6e4);function HT(){const i=Yr().___jsl;if(i!=null&&i.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let e=0;e<i.CP.length;e++)i.CP[e]=null}}function RM(i){return new Promise((t,e)=>{var s,l,h;function d(){HT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{HT(),e(Kr(i,"network-request-failed"))},timeout:IM.get()})}if(!((l=(s=Yr().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((h=Yr().gapi)===null||h===void 0)&&h.load)d();else{const _=PL("iframefcb");return Yr()[_]=()=>{gapi.load?d():e(Kr(i,"network-request-failed"))},CL(`${xL()}?onload=${_}`).catch(y=>e(y))}}).catch(t=>{throw df=null,t})}let df=null;function CM(i){return df=df||RM(i),df}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM=new Hc(5e3,15e3),PM="__/auth/iframe",OM="emulator/auth/iframe",LM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function DM(i){const t=i.config;qt(t.authDomain,i,"auth-domain-config-required");const e=t.emulator?Xg(t,OM):`https://${i.config.authDomain}/${PM}`,s={apiKey:t.apiKey,appName:i.name,v:lu},l=MM.get(i.config.apiHost);l&&(s.eid=l);const h=i._getFrameworks();return h.length&&(s.fw=h.join(",")),`${e}?${kc(s).slice(1)}`}async function NM(i){const t=await CM(i),e=Yr().gapi;return qt(e,i,"internal-error"),t.open({where:document.body,url:DM(i),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:LM,dontclear:!0},s=>new Promise(async(l,h)=>{await s.restyle({setHideOnLeave:!1});const d=Kr(i,"network-request-failed"),_=Yr().setTimeout(()=>{h(d)},xM.get());function y(){Yr().clearTimeout(_),l(s)}s.ping(y).then(y,()=>{h(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},VM=500,zM=600,UM="_blank",BM="http://localhost";class qT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HM(i,t,e,s=VM,l=zM){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let _="";const y=Object.assign(Object.assign({},kM),{width:s.toString(),height:l.toString(),top:h,left:d}),T=qn().toLowerCase();e&&(_=Kb(T)?UM:e),Zb(T)&&(t=t||BM,y.scrollbars="yes");const S=Object.entries(y).reduce((C,[V,q])=>`${C}${V}=${q},`,"");if(TL(T)&&_!=="_self")return qM(t||"",_),new qT(null);const x=window.open(t||"",_,S);qt(x,i,"popup-blocked");try{x.focus()}catch{}return new qT(x)}function qM(i,t){const e=document.createElement("a");e.href=i,e.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM="__/auth/handler",FM="emulator/auth/handler",GM=encodeURIComponent("fac");async function jT(i,t,e,s,l,h){qt(i.config.authDomain,i,"auth-domain-config-required"),qt(i.config.apiKey,i,"invalid-api-key");const d={apiKey:i.config.apiKey,appName:i.name,authType:e,redirectUrl:s,v:lu,eventId:l};if(t instanceof i1){t.setDefaultLanguage(i.languageCode),d.providerId=t.providerId||"",oR(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,x]of Object.entries({}))d[S]=x}if(t instanceof qc){const S=t.getScopes().filter(x=>x!=="");S.length>0&&(d.scopes=S.join(","))}i.tenantId&&(d.tid=i.tenantId);const _=d;for(const S of Object.keys(_))_[S]===void 0&&delete _[S];const y=await i._getAppCheckToken(),T=y?`#${GM}=${encodeURIComponent(y)}`:"";return`${ZM(i)}?${kc(_).slice(1)}${T}`}function ZM({config:i}){return i.emulator?Xg(i,FM):`https://${i.authDomain}/${jM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp="webStorageSupport";class $M{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=l1,this._completeRedirectFn=_M,this._overrideRedirectResult=mM}async _openPopup(t,e,s,l){var h;zs((h=this.eventManagers[t._key()])===null||h===void 0?void 0:h.manager,"_initialize() not called before _openPopup()");const d=await jT(t,e,s,Dp(),l);return HM(t,d,e_())}async _openRedirect(t,e,s,l){await this._originValidation(t);const h=await jT(t,e,s,Dp(),l);return QL(h),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:l,promise:h}=this.eventManagers[e];return l?Promise.resolve(l):(zs(h,"If manager is not set, promise should be"),h)}const s=this.initAndGetManager(t);return this.eventManagers[e]={promise:s},s.catch(()=>{delete this.eventManagers[e]}),s}async initAndGetManager(t){const e=await NM(t),s=new vM(t);return e.register("authEvent",l=>(qt(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=e,s}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(lp,{type:lp},l=>{var h;const d=(h=l==null?void 0:l[0])===null||h===void 0?void 0:h[lp];d!==void 0&&e(!!d),Vs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=AM(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return Jb()||$b()||Jg()}}const KM=$M;var FT="@firebase/auth",GT="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YM{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){qt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XM(i){Qr(new br("auth",(t,{options:e})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:d,authDomain:_}=s.options;qt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:d,authDomain:_,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:t1(i)},T=new IL(s,l,h,y);return LL(T,e),T},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,s)=>{t.getProvider("auth-internal").initialize()})),Qr(new br("auth-internal",t=>{const e=sd(t.getProvider("auth").getImmediate());return(s=>new YM(s))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ji(FT,GT,QM(i)),Ji(FT,GT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM=5*60,JM=wE("authIdTokenMaxAge")||WM;let ZT=null;const tD=i=>async t=>{const e=t&&await t.getIdTokenResult(),s=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(s&&s>JM)return;const l=e==null?void 0:e.token;ZT!==l&&(ZT=l,await fetch(i,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function eD(i=ig()){const t=Xo(i,"auth");if(t.isInitialized())return t.getImmediate();const e=OL(i,{popupRedirectResolver:KM,persistence:[sM,$L,l1]}),s=wE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(s,location.origin);if(location.origin===h.origin){const d=tD(h.toString());jL(e,d,()=>d(e.currentUser)),qL(e,_=>d(_))}}const l=TE("auth");return l&&ML(e,`http://${l}`),e}function nD(){var i,t;return(t=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&t!==void 0?t:document}RL({loadJS(i){return new Promise((t,e)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=t,s.onerror=l=>{const h=Kr("internal-error");h.customData=l,e(h)},s.type="text/javascript",s.charset="UTF-8",nD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XM("Browser");const iD={apiKey:"AIzaSyB34vwxqdgDvGctHQfEfrBJSk04a1rzQgg",authDomain:"tapasradar.firebaseapp.com",projectId:"tapasradar",storageBucket:"tapasradar.appspot.com",messagingSenderId:"164963298374",appId:"1:164963298374:web:5e29f30e084ede3ecdae47",measurementId:"G-0GS8PM4XGB"},i_=xE(iD);tL().then(i=>{i&&WO(i_)});const $T=eD(i_),Bo=_P(i_);delete pE.Icon.Default.prototype._getIconUrl;pE.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.3/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.3/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.3/dist/images/marker-shadow.png"});const rD=()=>{const[i,t]=K.useState([]),e=[40.4168,-3.7038];return K.useEffect(()=>{(async()=>{const l=await ET(iu(Bo,"bars")),h=[];for(const d of l.docs){const _=d.data(),T=(await ET(iu(Bo,`bars/${d.id}/comments`))).docs.map(x=>x.data()),S=T.length>0?T.reduce((x,C)=>x+C.rating,0)/T.length:null;h.push({id:d.id,nom:_.nom,lat:_.lat,lng:_.lng,note:S??null})}t(h)})()},[]),At.jsxs("div",{className:"container",children:[At.jsx("h2",{className:"title",children:"Mapa de bares en Madrid"}),At.jsx("div",{className:"map",children:At.jsxs(NI,{center:e,zoom:13,style:{height:"100%",width:"100%"},children:[At.jsx(zI,{attribution:' <a href="https://openstreetmap.org/copyright">OpenStreetMap</a>',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),i.map(s=>At.jsx(kI,{position:[s.lat,s.lng],children:At.jsxs(VI,{children:[At.jsx("strong",{children:s.nom}),At.jsx("br",{}),s.note!==null?` ${s.note.toFixed(1)} / 5`:"Sin valoraciones",At.jsx("br",{}),At.jsx(pf,{to:`/bar/${s.id}`,children:"Ver ficha"})]})},s.id))]})}),At.jsx(pf,{to:"/",className:"back-link",children:"Volver al inicio"})]})},sD=()=>{const[i,t]=K.useState([]),[e,s]=K.useState(!0);return K.useEffect(()=>{const h=lb(iu(Bo,"bars")),d=db(h,_=>{const y=_.docs.map(T=>({id:T.id,...T.data()}));console.log("Bars rcuprs :",y),t(y),s(!1)});return()=>d()},[]),{bars:i,ajouterBar:async h=>{await fb(iu(Bo,"bars"),h)},loading:e}};function p1(i){var t,e,s="";if(typeof i=="string"||typeof i=="number")s+=i;else if(typeof i=="object")if(Array.isArray(i)){var l=i.length;for(t=0;t<l;t++)i[t]&&(e=p1(i[t]))&&(s&&(s+=" "),s+=e)}else for(e in i)i[e]&&(s&&(s+=" "),s+=e);return s}function Ho(){for(var i,t,e=0,s="",l=arguments.length;e<l;e++)(i=arguments[e])&&(t=p1(i))&&(s&&(s+=" "),s+=t);return s}function aD(i){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e),e.styleSheet?e.styleSheet.cssText=i:e.appendChild(document.createTextNode(i))}aD(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Fc=i=>typeof i=="number"&&!isNaN(i),$o=i=>typeof i=="string",Us=i=>typeof i=="function",oD=i=>$o(i)||Fc(i),Vp=i=>$o(i)||Us(i)?i:null,lD=(i,t)=>i===!1||Fc(i)&&i>0?i:t,zp=i=>K.isValidElement(i)||$o(i)||Us(i)||Fc(i);function uD(i,t,e=300){let{scrollHeight:s,style:l}=i;requestAnimationFrame(()=>{l.minHeight="initial",l.height=s+"px",l.transition=`all ${e}ms`,requestAnimationFrame(()=>{l.height="0",l.padding="0",l.margin="0",setTimeout(t,e)})})}function cD({enter:i,exit:t,appendPosition:e=!1,collapse:s=!0,collapseDuration:l=300}){return function({children:h,position:d,preventExitTransition:_,done:y,nodeRef:T,isIn:S,playToast:x}){let C=e?`${i}--${d}`:i,V=e?`${t}--${d}`:t,q=K.useRef(0);return K.useLayoutEffect(()=>{let G=T.current,Z=C.split(" "),tt=W=>{W.target===T.current&&(x(),G.removeEventListener("animationend",tt),G.removeEventListener("animationcancel",tt),q.current===0&&W.type!=="animationcancel"&&G.classList.remove(...Z))};G.classList.add(...Z),G.addEventListener("animationend",tt),G.addEventListener("animationcancel",tt)},[]),K.useEffect(()=>{let G=T.current,Z=()=>{G.removeEventListener("animationend",Z),s?uD(G,y,l):y()};S||(_?Z():(q.current=1,G.className+=` ${V}`,G.addEventListener("animationend",Z)))},[S]),Te.createElement(Te.Fragment,null,h)}}function KT(i,t){return{content:g1(i.content,i.props),containerId:i.props.containerId,id:i.props.toastId,theme:i.props.theme,type:i.props.type,data:i.props.data||{},isLoading:i.props.isLoading,icon:i.props.icon,reason:i.removalReason,status:t}}function g1(i,t,e=!1){return K.isValidElement(i)&&!$o(i.type)?K.cloneElement(i,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:e}):Us(i)?i({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:e}):i}function hD({closeToast:i,theme:t,ariaLabel:e="close"}){return Te.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:s=>{s.stopPropagation(),i(!0)},"aria-label":e},Te.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Te.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function fD({delay:i,isRunning:t,closeToast:e,type:s="default",hide:l,className:h,controlledProgress:d,progress:_,rtl:y,isIn:T,theme:S}){let x=l||d&&_===0,C={animationDuration:`${i}ms`,animationPlayState:t?"running":"paused"};d&&(C.transform=`scaleX(${_})`);let V=Ho("Toastify__progress-bar",d?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${S}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":y}),q=Us(h)?h({rtl:y,type:s,defaultClassName:V}):Ho(V,h),G={[d&&_>=1?"onTransitionEnd":"onAnimationEnd"]:d&&_<1?null:()=>{T&&e()}};return Te.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":x},Te.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${S} Toastify__progress-bar--${s}`}),Te.createElement("div",{role:"progressbar","aria-hidden":x?"true":"false","aria-label":"notification timer",className:q,style:C,...G}))}var dD=1,_1=()=>`${dD++}`;function mD(i,t,e){let s=1,l=0,h=[],d=[],_=t,y=new Map,T=new Set,S=W=>(T.add(W),()=>T.delete(W)),x=()=>{d=Array.from(y.values()),T.forEach(W=>W())},C=({containerId:W,toastId:nt,updateId:gt})=>{let Tt=W?W!==i:i!==1,Pt=y.has(nt)&&gt==null;return Tt||Pt},V=(W,nt)=>{y.forEach(gt=>{var Tt;(nt==null||nt===gt.props.toastId)&&((Tt=gt.toggle)==null||Tt.call(gt,W))})},q=W=>{var nt,gt;(gt=(nt=W.props)==null?void 0:nt.onClose)==null||gt.call(nt,W.removalReason),W.isActive=!1},G=W=>{if(W==null)y.forEach(q);else{let nt=y.get(W);nt&&q(nt)}x()},Z=()=>{l-=h.length,h=[]},tt=W=>{var nt,gt;let{toastId:Tt,updateId:Pt}=W.props,z=Pt==null;W.staleId&&y.delete(W.staleId),W.isActive=!0,y.set(Tt,W),x(),e(KT(W,z?"added":"updated")),z&&((gt=(nt=W.props).onOpen)==null||gt.call(nt))};return{id:i,props:_,observe:S,toggle:V,removeToast:G,toasts:y,clearQueue:Z,buildToast:(W,nt)=>{if(C(nt))return;let{toastId:gt,updateId:Tt,data:Pt,staleId:z,delay:O}=nt,M=Tt==null;M&&l++;let B={..._,style:_.toastStyle,key:s++,...Object.fromEntries(Object.entries(nt).filter(([F,U])=>U!=null)),toastId:gt,updateId:Tt,data:Pt,isIn:!1,className:Vp(nt.className||_.toastClassName),progressClassName:Vp(nt.progressClassName||_.progressClassName),autoClose:nt.isLoading?!1:lD(nt.autoClose,_.autoClose),closeToast(F){y.get(gt).removalReason=F,G(gt)},deleteToast(){let F=y.get(gt);if(F!=null){if(e(KT(F,"removed")),y.delete(gt),l--,l<0&&(l=0),h.length>0){tt(h.shift());return}x()}}};B.closeButton=_.closeButton,nt.closeButton===!1||zp(nt.closeButton)?B.closeButton=nt.closeButton:nt.closeButton===!0&&(B.closeButton=zp(_.closeButton)?_.closeButton:!0);let H={content:W,props:B,staleId:z};_.limit&&_.limit>0&&l>_.limit&&M?h.push(H):Fc(O)?setTimeout(()=>{tt(H)},O):tt(H)},setProps(W){_=W},setToggle:(W,nt)=>{let gt=y.get(W);gt&&(gt.toggle=nt)},isToastActive:W=>{var nt;return(nt=y.get(W))==null?void 0:nt.isActive},getSnapshot:()=>d}}var Xn=new Map,Oc=[],Up=new Set,pD=i=>Up.forEach(t=>t(i)),y1=()=>Xn.size>0;function gD(){Oc.forEach(i=>T1(i.content,i.options)),Oc=[]}var _D=(i,{containerId:t})=>{var e;return(e=Xn.get(t||1))==null?void 0:e.toasts.get(i)};function v1(i,t){var e;if(t)return!!((e=Xn.get(t))!=null&&e.isToastActive(i));let s=!1;return Xn.forEach(l=>{l.isToastActive(i)&&(s=!0)}),s}function yD(i){if(!y1()){Oc=Oc.filter(t=>i!=null&&t.options.toastId!==i);return}if(i==null||oD(i))Xn.forEach(t=>{t.removeToast(i)});else if(i&&("containerId"in i||"id"in i)){let t=Xn.get(i.containerId);t?t.removeToast(i.id):Xn.forEach(e=>{e.removeToast(i.id)})}}var vD=(i={})=>{Xn.forEach(t=>{t.props.limit&&(!i.containerId||t.id===i.containerId)&&t.clearQueue()})};function T1(i,t){zp(i)&&(y1()||Oc.push({content:i,options:t}),Xn.forEach(e=>{e.buildToast(i,t)}))}function TD(i){var t;(t=Xn.get(i.containerId||1))==null||t.setToggle(i.id,i.fn)}function E1(i,t){Xn.forEach(e=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===e.id)&&e.toggle(i,t==null?void 0:t.id)})}function ED(i){let t=i.containerId||1;return{subscribe(e){let s=mD(t,i,pD);Xn.set(t,s);let l=s.observe(e);return gD(),()=>{l(),Xn.delete(t)}},setProps(e){var s;(s=Xn.get(t))==null||s.setProps(e)},getSnapshot(){var e;return(e=Xn.get(t))==null?void 0:e.getSnapshot()}}}function wD(i){return Up.add(i),()=>{Up.delete(i)}}function bD(i){return i&&($o(i.toastId)||Fc(i.toastId))?i.toastId:_1()}function Gc(i,t){return T1(i,t),t.toastId}function ld(i,t){return{...t,type:t&&t.type||i,toastId:bD(t)}}function ud(i){return(t,e)=>Gc(t,ld(i,e))}function ve(i,t){return Gc(i,ld("default",t))}ve.loading=(i,t)=>Gc(i,ld("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function AD(i,{pending:t,error:e,success:s},l){let h;t&&(h=$o(t)?ve.loading(t,l):ve.loading(t.render,{...l,...t}));let d={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},_=(T,S,x)=>{if(S==null){ve.dismiss(h);return}let C={type:T,...d,...l,data:x},V=$o(S)?{render:S}:S;return h?ve.update(h,{...C,...V}):ve(V.render,{...C,...V}),x},y=Us(i)?i():i;return y.then(T=>_("success",s,T)).catch(T=>_("error",e,T)),y}ve.promise=AD;ve.success=ud("success");ve.info=ud("info");ve.error=ud("error");ve.warning=ud("warning");ve.warn=ve.warning;ve.dark=(i,t)=>Gc(i,ld("default",{theme:"dark",...t}));function SD(i){yD(i)}ve.dismiss=SD;ve.clearWaitingQueue=vD;ve.isActive=v1;ve.update=(i,t={})=>{let e=_D(i,t);if(e){let{props:s,content:l}=e,h={delay:100,...s,...t,toastId:t.toastId||i,updateId:_1()};h.toastId!==i&&(h.staleId=i);let d=h.render||l;delete h.render,Gc(d,h)}};ve.done=i=>{ve.update(i,{progress:1})};ve.onChange=wD;ve.play=i=>E1(!0,i);ve.pause=i=>E1(!1,i);function ID(i){var t;let{subscribe:e,getSnapshot:s,setProps:l}=K.useRef(ED(i)).current;l(i);let h=(t=K.useSyncExternalStore(e,s,s))==null?void 0:t.slice();function d(_){if(!h)return[];let y=new Map;return i.newestOnTop&&h.reverse(),h.forEach(T=>{let{position:S}=T.props;y.has(S)||y.set(S,[]),y.get(S).push(T)}),Array.from(y,T=>_(T[0],T[1]))}return{getToastToRender:d,isToastActive:v1,count:h==null?void 0:h.length}}function RD(i){let[t,e]=K.useState(!1),[s,l]=K.useState(!1),h=K.useRef(null),d=K.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:_,pauseOnHover:y,closeToast:T,onClick:S,closeOnClick:x}=i;TD({id:i.toastId,containerId:i.containerId,fn:e}),K.useEffect(()=>{if(i.pauseOnFocusLoss)return C(),()=>{V()}},[i.pauseOnFocusLoss]);function C(){document.hasFocus()||tt(),window.addEventListener("focus",Z),window.addEventListener("blur",tt)}function V(){window.removeEventListener("focus",Z),window.removeEventListener("blur",tt)}function q(z){if(i.draggable===!0||i.draggable===z.pointerType){W();let O=h.current;d.canCloseOnClick=!0,d.canDrag=!0,O.style.transition="none",i.draggableDirection==="x"?(d.start=z.clientX,d.removalDistance=O.offsetWidth*(i.draggablePercent/100)):(d.start=z.clientY,d.removalDistance=O.offsetHeight*(i.draggablePercent===80?i.draggablePercent*1.5:i.draggablePercent)/100)}}function G(z){let{top:O,bottom:M,left:B,right:H}=h.current.getBoundingClientRect();z.nativeEvent.type!=="touchend"&&i.pauseOnHover&&z.clientX>=B&&z.clientX<=H&&z.clientY>=O&&z.clientY<=M?tt():Z()}function Z(){e(!0)}function tt(){e(!1)}function W(){d.didMove=!1,document.addEventListener("pointermove",gt),document.addEventListener("pointerup",Tt)}function nt(){document.removeEventListener("pointermove",gt),document.removeEventListener("pointerup",Tt)}function gt(z){let O=h.current;if(d.canDrag&&O){d.didMove=!0,t&&tt(),i.draggableDirection==="x"?d.delta=z.clientX-d.start:d.delta=z.clientY-d.start,d.start!==z.clientX&&(d.canCloseOnClick=!1);let M=i.draggableDirection==="x"?`${d.delta}px, var(--y)`:`0, calc(${d.delta}px + var(--y))`;O.style.transform=`translate3d(${M},0)`,O.style.opacity=`${1-Math.abs(d.delta/d.removalDistance)}`}}function Tt(){nt();let z=h.current;if(d.canDrag&&d.didMove&&z){if(d.canDrag=!1,Math.abs(d.delta)>d.removalDistance){l(!0),i.closeToast(!0),i.collapseAll();return}z.style.transition="transform 0.2s, opacity 0.2s",z.style.removeProperty("transform"),z.style.removeProperty("opacity")}}let Pt={onPointerDown:q,onPointerUp:G};return _&&y&&(Pt.onMouseEnter=tt,i.stacked||(Pt.onMouseLeave=Z)),x&&(Pt.onClick=z=>{S&&S(z),d.canCloseOnClick&&T(!0)}),{playToast:Z,pauseToast:tt,isRunning:t,preventExitTransition:s,toastRef:h,eventHandlers:Pt}}var CD=typeof window<"u"?K.useLayoutEffect:K.useEffect,cd=({theme:i,type:t,isLoading:e,...s})=>Te.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:i==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...s});function xD(i){return Te.createElement(cd,{...i},Te.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function PD(i){return Te.createElement(cd,{...i},Te.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function OD(i){return Te.createElement(cd,{...i},Te.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function LD(i){return Te.createElement(cd,{...i},Te.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function MD(){return Te.createElement("div",{className:"Toastify__spinner"})}var Bp={info:PD,warning:xD,success:OD,error:LD,spinner:MD},DD=i=>i in Bp;function ND({theme:i,type:t,isLoading:e,icon:s}){let l=null,h={theme:i,type:t};return s===!1||(Us(s)?l=s({...h,isLoading:e}):K.isValidElement(s)?l=K.cloneElement(s,h):e?l=Bp.spinner():DD(t)&&(l=Bp[t](h))),l}var kD=i=>{let{isRunning:t,preventExitTransition:e,toastRef:s,eventHandlers:l,playToast:h}=RD(i),{closeButton:d,children:_,autoClose:y,onClick:T,type:S,hideProgressBar:x,closeToast:C,transition:V,position:q,className:G,style:Z,progressClassName:tt,updateId:W,role:nt,progress:gt,rtl:Tt,toastId:Pt,deleteToast:z,isIn:O,isLoading:M,closeOnClick:B,theme:H,ariaLabel:F}=i,U=Ho("Toastify__toast",`Toastify__toast-theme--${H}`,`Toastify__toast--${S}`,{"Toastify__toast--rtl":Tt},{"Toastify__toast--close-on-click":B}),pe=Us(G)?G({rtl:Tt,position:q,type:S,defaultClassName:U}):Ho(U,G),Ie=ND(i),at=!!gt||!y,yt={closeToast:C,type:S,theme:H},pt=null;return d===!1||(Us(d)?pt=d(yt):K.isValidElement(d)?pt=K.cloneElement(d,yt):pt=hD(yt)),Te.createElement(V,{isIn:O,done:z,position:q,preventExitTransition:e,nodeRef:s,playToast:h},Te.createElement("div",{id:Pt,tabIndex:0,onClick:T,"data-in":O,className:pe,...l,style:Z,ref:s,...O&&{role:nt,"aria-label":F}},Ie!=null&&Te.createElement("div",{className:Ho("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!M})},Ie),g1(_,i,!t),pt,!i.customProgressBar&&Te.createElement(fD,{...W&&!at?{key:`p-${W}`}:{},rtl:Tt,theme:H,delay:y,isRunning:t,isIn:O,closeToast:C,hide:x,type:S,className:tt,controlledProgress:at,progress:gt||0})))},VD=(i,t=!1)=>({enter:`Toastify--animate Toastify__${i}-enter`,exit:`Toastify--animate Toastify__${i}-exit`,appendPosition:t}),zD=cD(VD("bounce",!0)),UD={position:"top-right",transition:zD,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:i=>i.altKey&&i.code==="KeyT"};function BD(i){let t={...UD,...i},e=i.stacked,[s,l]=K.useState(!0),h=K.useRef(null),{getToastToRender:d,isToastActive:_,count:y}=ID(t),{className:T,style:S,rtl:x,containerId:C,hotKeys:V}=t;function q(Z){let tt=Ho("Toastify__toast-container",`Toastify__toast-container--${Z}`,{"Toastify__toast-container--rtl":x});return Us(T)?T({position:Z,rtl:x,defaultClassName:tt}):Ho(tt,Vp(T))}function G(){e&&(l(!0),ve.play())}return CD(()=>{var Z;if(e){let tt=h.current.querySelectorAll('[data-in="true"]'),W=12,nt=(Z=t.position)==null?void 0:Z.includes("top"),gt=0,Tt=0;Array.from(tt).reverse().forEach((Pt,z)=>{let O=Pt;O.classList.add("Toastify__toast--stacked"),z>0&&(O.dataset.collapsed=`${s}`),O.dataset.pos||(O.dataset.pos=nt?"top":"bot");let M=gt*(s?.2:1)+(s?0:W*z);O.style.setProperty("--y",`${nt?M:M*-1}px`),O.style.setProperty("--g",`${W}`),O.style.setProperty("--s",`${1-(s?Tt:0)}`),gt+=O.offsetHeight,Tt+=.025})}},[s,y,e]),K.useEffect(()=>{function Z(tt){var W;let nt=h.current;V(tt)&&((W=nt.querySelector('[tabIndex="0"]'))==null||W.focus(),l(!1),ve.pause()),tt.key==="Escape"&&(document.activeElement===nt||nt!=null&&nt.contains(document.activeElement))&&(l(!0),ve.play())}return document.addEventListener("keydown",Z),()=>{document.removeEventListener("keydown",Z)}},[V]),Te.createElement("section",{ref:h,className:"Toastify",id:C,onMouseEnter:()=>{e&&(l(!1),ve.pause())},onMouseLeave:G,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},d((Z,tt)=>{let W=tt.length?{...S}:{...S,pointerEvents:"none"};return Te.createElement("div",{tabIndex:-1,className:q(Z),"data-stacked":e,style:W,key:`c-${Z}`},tt.map(({content:nt,props:gt})=>Te.createElement(kD,{...gt,stacked:e,collapseAll:G,isIn:_(gt.toastId,gt.containerId),key:`t-${gt.key}`},nt)))}))}const HD=()=>{const[i,t]=K.useState(""),[e,s]=K.useState(""),[l,h]=K.useState(""),[d,_]=K.useState(!1),{ajouterBar:y}=sD(),T=Fp(),S=()=>{T("/")},x=async V=>{if(V.preventDefault(),!i||!e||!l)return alert("Por favor, completa todos los campos.");try{await y({nom:i,lat:parseFloat(e),lng:parseFloat(l)}),T("/mapa"),ve.success("Formulario enviado correctamente ")}catch(q){console.error("Error al aadir bar:",q),alert("Hubo un error al guardar el bar.")}},C=()=>{window.confirm("Ests seguro de que quieres borrar el formulario?")&&(_(!0),setTimeout(()=>{t(""),s(""),h(""),_(!1),ve.info("Formulario limpiado correctamente ")},300))};return At.jsx("div",{className:"form-container",children:At.jsxs("form",{onSubmit:x,children:[At.jsx("input",{type:"text",placeholder:"Nombre del bar",value:i,onChange:V=>t(V.target.value),className:d?"resetting":""}),At.jsx("input",{type:"number",placeholder:"Latitud",value:e,onChange:V=>s(V.target.value),className:d?"resetting":""}),At.jsx("input",{type:"number",placeholder:"Longitud",value:l,onChange:V=>h(V.target.value),className:d?"resetting":""}),At.jsx("button",{type:"submit",children:"Guardar"}),At.jsx("button",{type:"button",onClick:C,children:"Resetear"}),At.jsx("button",{type:"button",onClick:S,children:"Ir a inicio"})]})})};function w1(){const[i,t]=K.useState(null),[e,s]=K.useState(!0);return K.useEffect(()=>{const l=FL($T,h=>{t(h?{uid:h.uid,isAnonymous:h.isAnonymous}:null),s(!1)});return zL($T).catch(h=>{console.error("Erreur lors de la connexion anonyme",h),s(!1)}),()=>l()},[]),{user:i,loading:e}}const qD=i=>{const t=Math.floor(i),e=i-t>=.5,s=5-t-(e?1:0),l=[];for(let h=0;h<t;h++)l.push(At.jsx("span",{className:"star active",children:""},`full-${h}`));e&&l.push(At.jsx("span",{className:"star half",children:""},"half"));for(let h=0;h<s;h++)l.push(At.jsx("span",{className:"star",children:""},`empty-${h}`));return l},jD=()=>{const{id:i}=bS(),{user:t}=w1(),[e,s]=K.useState(""),[l,h]=K.useState([]),[d,_]=K.useState(""),[y,T]=K.useState(0);K.useEffect(()=>{const C=async()=>{const G=Ww(Bo,"bars",i),Z=await LP(G);Z.exists()&&s(Z.data().nom)},V=lb(iu(Bo,`bars/${i}/comments`),CP("timestamp","desc")),q=db(V,G=>{const Z=G.docs.map(tt=>tt.data());h(Z)});return C(),()=>q()},[i]);const S=l.length?(l.reduce((C,V)=>C+V.rating,0)/l.length).toFixed(1):"Sin valoraciones",x=async C=>{if(C.preventDefault(),!d||y===0){alert("Completa todos los campos.");return}try{await fb(iu(Bo,`bars/${i}/comments`),{uid:(t==null?void 0:t.uid)||"anon",nom:"Annimo",message:d,rating:y,timestamp:DP()}),_(""),T(0)}catch(V){console.error("Error al enviar comentario:",V),alert("Hubo un problema al enviar el comentario.")}};return At.jsxs("div",{className:"bar-page",children:[At.jsx("h2",{children:e}),At.jsxs("div",{className:"rating",children:[At.jsx("span",{className:"label",children:"Nota media:"}),typeof S=="string"?At.jsxs("span",{children:[" ",S]}):At.jsxs(At.Fragment,{children:[qD(parseFloat(S)),At.jsxs("span",{style:{marginLeft:"0.5rem"},children:["(",S," / 5)"]}),At.jsxs("span",{style:{marginLeft:"0.5rem",fontSize:"1rem"},children:[" ",l.length," ",l.length===1?"comentario":"comentarios"]})]})]}),At.jsx("h3",{children:"Comentarios:"}),At.jsx("ul",{children:l.map((C,V)=>At.jsxs("li",{children:[At.jsx("strong",{children:C.nom}),"   ",C.rating,At.jsx("br",{}),C.message]},V))}),At.jsx("h3",{children:"Aadir comentario:"}),At.jsxs("form",{onSubmit:x,className:"comment-form",children:[At.jsx("textarea",{placeholder:"Escribe tu comentario...",value:d,onChange:C=>_(C.target.value),required:!0}),At.jsx("div",{className:"stars",children:[1,2,3,4,5].map(C=>At.jsx("span",{onClick:()=>T(C),className:C<=y?"star active":"star",children:""},C))}),At.jsx("button",{type:"submit",children:"Enviar"})]})]})},FD="Mael Develop",GD=1;let ZD=new Date().getFullYear();function $D(){return"Beta"}const KD=` ${ZD}, ${FD} in version ${GD} ${$D()}`,YD=()=>At.jsx("div",{className:"footer",children:At.jsxs("p",{className:"credits",children:[" ",KD]})}),QD=()=>{const{user:i,loading:t}=w1();return t?At.jsx("p",{children:"Cargando..."}):i?(console.log(`Conectado annimamente con UID ${i.uid}`),At.jsx(At.Fragment,{children:At.jsxs(lI,{children:[At.jsxs(zS,{children:[At.jsx(oc,{path:"/",element:At.jsx(vI,{})}),At.jsx(oc,{path:"/mapa",element:At.jsx(rD,{})}),At.jsx(oc,{path:"/aadir",element:At.jsx(HD,{})}),At.jsx(oc,{path:"/bar/:id",element:At.jsx(jD,{})})," "]}),At.jsx(YD,{}),At.jsx(BD,{})]})})):At.jsx("p",{children:"Problema con la autenticacin"})};ZA.createRoot(document.getElementById("root")).render(At.jsx(Te.StrictMode,{children:At.jsx(QD,{})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./service-worker.js").then(i=>console.log(" Service Worker registrado",i)).catch(i=>console.error(" Error registrando el Service Worker:",i))});
