(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const m of h.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&a(m)}).observe(document,{childList:!0,subtree:!0});function e(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(l){if(l.ep)return;l.ep=!0;const h=e(l);fetch(l.href,h)}})();function kp(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Dm={exports:{}},Xu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function TA(){if(Mv)return Xu;Mv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(a,l,h){var m=null;if(h!==void 0&&(m=""+h),l.key!==void 0&&(m=""+l.key),"key"in l){h={};for(var y in l)y!=="key"&&(h[y]=l[y])}else h=l;return l=h.ref,{$$typeof:i,type:a,key:m,ref:l!==void 0?l:null,props:h}}return Xu.Fragment=t,Xu.jsx=e,Xu.jsxs=e,Xu}var Dv;function EA(){return Dv||(Dv=1,Dm.exports=TA()),Dm.exports}var $t=EA(),Nm={exports:{}},Zt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv;function wA(){if(Nv)return Zt;Nv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),m=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),T=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.iterator;function P(D){return D===null||typeof D!="object"?null:(D=C&&D[C]||D["@@iterator"],typeof D=="function"?D:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,Z={};function W(D,ot,gt){this.props=D,this.context=ot,this.refs=Z,this.updater=gt||U}W.prototype.isReactComponent={},W.prototype.setState=function(D,ot){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,ot,"setState")},W.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function st(){}st.prototype=W.prototype;function J(D,ot,gt){this.props=D,this.context=ot,this.refs=Z,this.updater=gt||U}var it=J.prototype=new st;it.constructor=J,q(it,W.prototype),it.isPureReactComponent=!0;var _t=Array.isArray,Tt={H:null,A:null,T:null,S:null,V:null},xt=Object.prototype.hasOwnProperty;function V(D,ot,gt,mt,wt,St){return gt=St.ref,{$$typeof:i,type:D,key:ot,ref:gt!==void 0?gt:null,props:St}}function O(D,ot){return V(D.type,ot,void 0,void 0,void 0,D.props)}function M(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function B(D){var ot={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(gt){return ot[gt]})}var H=/\/+/g;function F(D,ot){return typeof D=="object"&&D!==null&&D.key!=null?B(""+D.key):ot.toString(36)}function z(){}function pe(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(z,z):(D.status="pending",D.then(function(ot){D.status==="pending"&&(D.status="fulfilled",D.value=ot)},function(ot){D.status==="pending"&&(D.status="rejected",D.reason=ot)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function Ie(D,ot,gt,mt,wt){var St=typeof D;(St==="undefined"||St==="boolean")&&(D=null);var Et=!1;if(D===null)Et=!0;else switch(St){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(D.$$typeof){case i:case t:Et=!0;break;case S:return Et=D._init,Ie(Et(D._payload),ot,gt,mt,wt)}}if(Et)return wt=wt(D),Et=mt===""?"."+F(D,0):mt,_t(wt)?(gt="",Et!=null&&(gt=Et.replace(H,"$&/")+"/"),Ie(wt,ot,gt,"",function(li){return li})):wt!=null&&(M(wt)&&(wt=O(wt,gt+(wt.key==null||D&&D.key===wt.key?"":(""+wt.key).replace(H,"$&/")+"/")+Et)),ot.push(wt)),1;Et=0;var Ee=mt===""?".":mt+":";if(_t(D))for(var re=0;re<D.length;re++)mt=D[re],St=Ee+F(mt,re),Et+=Ie(mt,ot,gt,St,wt);else if(re=P(D),typeof re=="function")for(D=re.call(D),re=0;!(mt=D.next()).done;)mt=mt.value,St=Ee+F(mt,re++),Et+=Ie(mt,ot,gt,St,wt);else if(St==="object"){if(typeof D.then=="function")return Ie(pe(D),ot,gt,mt,wt);throw ot=String(D),Error("Objects are not valid as a React child (found: "+(ot==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":ot)+"). If you meant to render a collection of children, use an array instead.")}return Et}function at(D,ot,gt){if(D==null)return D;var mt=[],wt=0;return Ie(D,mt,"","",function(St){return ot.call(gt,St,wt++)}),mt}function yt(D){if(D._status===-1){var ot=D._result;ot=ot(),ot.then(function(gt){(D._status===0||D._status===-1)&&(D._status=1,D._result=gt)},function(gt){(D._status===0||D._status===-1)&&(D._status=2,D._result=gt)}),D._status===-1&&(D._status=0,D._result=ot)}if(D._status===1)return D._result.default;throw D._result}var pt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ot=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(ot))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function se(){}return Zt.Children={map:at,forEach:function(D,ot,gt){at(D,function(){ot.apply(this,arguments)},gt)},count:function(D){var ot=0;return at(D,function(){ot++}),ot},toArray:function(D){return at(D,function(ot){return ot})||[]},only:function(D){if(!M(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Zt.Component=W,Zt.Fragment=e,Zt.Profiler=l,Zt.PureComponent=J,Zt.StrictMode=a,Zt.Suspense=v,Zt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Tt,Zt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return Tt.H.useMemoCache(D)}},Zt.cache=function(D){return function(){return D.apply(null,arguments)}},Zt.cloneElement=function(D,ot,gt){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var mt=q({},D.props),wt=D.key,St=void 0;if(ot!=null)for(Et in ot.ref!==void 0&&(St=void 0),ot.key!==void 0&&(wt=""+ot.key),ot)!xt.call(ot,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&ot.ref===void 0||(mt[Et]=ot[Et]);var Et=arguments.length-2;if(Et===1)mt.children=gt;else if(1<Et){for(var Ee=Array(Et),re=0;re<Et;re++)Ee[re]=arguments[re+2];mt.children=Ee}return V(D.type,wt,void 0,void 0,St,mt)},Zt.createContext=function(D){return D={$$typeof:m,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:h,_context:D},D},Zt.createElement=function(D,ot,gt){var mt,wt={},St=null;if(ot!=null)for(mt in ot.key!==void 0&&(St=""+ot.key),ot)xt.call(ot,mt)&&mt!=="key"&&mt!=="__self"&&mt!=="__source"&&(wt[mt]=ot[mt]);var Et=arguments.length-2;if(Et===1)wt.children=gt;else if(1<Et){for(var Ee=Array(Et),re=0;re<Et;re++)Ee[re]=arguments[re+2];wt.children=Ee}if(D&&D.defaultProps)for(mt in Et=D.defaultProps,Et)wt[mt]===void 0&&(wt[mt]=Et[mt]);return V(D,St,void 0,void 0,null,wt)},Zt.createRef=function(){return{current:null}},Zt.forwardRef=function(D){return{$$typeof:y,render:D}},Zt.isValidElement=M,Zt.lazy=function(D){return{$$typeof:S,_payload:{_status:-1,_result:D},_init:yt}},Zt.memo=function(D,ot){return{$$typeof:T,type:D,compare:ot===void 0?null:ot}},Zt.startTransition=function(D){var ot=Tt.T,gt={};Tt.T=gt;try{var mt=D(),wt=Tt.S;wt!==null&&wt(gt,mt),typeof mt=="object"&&mt!==null&&typeof mt.then=="function"&&mt.then(se,pt)}catch(St){pt(St)}finally{Tt.T=ot}},Zt.unstable_useCacheRefresh=function(){return Tt.H.useCacheRefresh()},Zt.use=function(D){return Tt.H.use(D)},Zt.useActionState=function(D,ot,gt){return Tt.H.useActionState(D,ot,gt)},Zt.useCallback=function(D,ot){return Tt.H.useCallback(D,ot)},Zt.useContext=function(D){return Tt.H.useContext(D)},Zt.useDebugValue=function(){},Zt.useDeferredValue=function(D,ot){return Tt.H.useDeferredValue(D,ot)},Zt.useEffect=function(D,ot,gt){var mt=Tt.H;if(typeof gt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return mt.useEffect(D,ot)},Zt.useId=function(){return Tt.H.useId()},Zt.useImperativeHandle=function(D,ot,gt){return Tt.H.useImperativeHandle(D,ot,gt)},Zt.useInsertionEffect=function(D,ot){return Tt.H.useInsertionEffect(D,ot)},Zt.useLayoutEffect=function(D,ot){return Tt.H.useLayoutEffect(D,ot)},Zt.useMemo=function(D,ot){return Tt.H.useMemo(D,ot)},Zt.useOptimistic=function(D,ot){return Tt.H.useOptimistic(D,ot)},Zt.useReducer=function(D,ot,gt){return Tt.H.useReducer(D,ot,gt)},Zt.useRef=function(D){return Tt.H.useRef(D)},Zt.useState=function(D){return Tt.H.useState(D)},Zt.useSyncExternalStore=function(D,ot,gt){return Tt.H.useSyncExternalStore(D,ot,gt)},Zt.useTransition=function(){return Tt.H.useTransition()},Zt.version="19.1.0",Zt}var kv;function Vp(){return kv||(kv=1,Nm.exports=wA()),Nm.exports}var Q=Vp();const Te=kp(Q);var km={exports:{}},Wu={},Vm={exports:{}},zm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv;function bA(){return Vv||(Vv=1,function(i){function t(at,yt){var pt=at.length;at.push(yt);t:for(;0<pt;){var se=pt-1>>>1,D=at[se];if(0<l(D,yt))at[se]=yt,at[pt]=D,pt=se;else break t}}function e(at){return at.length===0?null:at[0]}function a(at){if(at.length===0)return null;var yt=at[0],pt=at.pop();if(pt!==yt){at[0]=pt;t:for(var se=0,D=at.length,ot=D>>>1;se<ot;){var gt=2*(se+1)-1,mt=at[gt],wt=gt+1,St=at[wt];if(0>l(mt,pt))wt<D&&0>l(St,mt)?(at[se]=St,at[wt]=pt,se=wt):(at[se]=mt,at[gt]=pt,se=gt);else if(wt<D&&0>l(St,pt))at[se]=St,at[wt]=pt,se=wt;else break t}}return yt}function l(at,yt){var pt=at.sortIndex-yt.sortIndex;return pt!==0?pt:at.id-yt.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;i.unstable_now=function(){return h.now()}}else{var m=Date,y=m.now();i.unstable_now=function(){return m.now()-y}}var v=[],T=[],S=1,C=null,P=3,U=!1,q=!1,Z=!1,W=!1,st=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;function _t(at){for(var yt=e(T);yt!==null;){if(yt.callback===null)a(T);else if(yt.startTime<=at)a(T),yt.sortIndex=yt.expirationTime,t(v,yt);else break;yt=e(T)}}function Tt(at){if(Z=!1,_t(at),!q)if(e(v)!==null)q=!0,xt||(xt=!0,F());else{var yt=e(T);yt!==null&&Ie(Tt,yt.startTime-at)}}var xt=!1,V=-1,O=5,M=-1;function B(){return W?!0:!(i.unstable_now()-M<O)}function H(){if(W=!1,xt){var at=i.unstable_now();M=at;var yt=!0;try{t:{q=!1,Z&&(Z=!1,J(V),V=-1),U=!0;var pt=P;try{e:{for(_t(at),C=e(v);C!==null&&!(C.expirationTime>at&&B());){var se=C.callback;if(typeof se=="function"){C.callback=null,P=C.priorityLevel;var D=se(C.expirationTime<=at);if(at=i.unstable_now(),typeof D=="function"){C.callback=D,_t(at),yt=!0;break e}C===e(v)&&a(v),_t(at)}else a(v);C=e(v)}if(C!==null)yt=!0;else{var ot=e(T);ot!==null&&Ie(Tt,ot.startTime-at),yt=!1}}break t}finally{C=null,P=pt,U=!1}yt=void 0}}finally{yt?F():xt=!1}}}var F;if(typeof it=="function")F=function(){it(H)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,pe=z.port2;z.port1.onmessage=H,F=function(){pe.postMessage(null)}}else F=function(){st(H,0)};function Ie(at,yt){V=st(function(){at(i.unstable_now())},yt)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(at){at.callback=null},i.unstable_forceFrameRate=function(at){0>at||125<at?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<at?Math.floor(1e3/at):5},i.unstable_getCurrentPriorityLevel=function(){return P},i.unstable_next=function(at){switch(P){case 1:case 2:case 3:var yt=3;break;default:yt=P}var pt=P;P=yt;try{return at()}finally{P=pt}},i.unstable_requestPaint=function(){W=!0},i.unstable_runWithPriority=function(at,yt){switch(at){case 1:case 2:case 3:case 4:case 5:break;default:at=3}var pt=P;P=at;try{return yt()}finally{P=pt}},i.unstable_scheduleCallback=function(at,yt,pt){var se=i.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?se+pt:se):pt=se,at){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=pt+D,at={id:S++,callback:yt,priorityLevel:at,startTime:pt,expirationTime:D,sortIndex:-1},pt>se?(at.sortIndex=pt,t(T,at),e(v)===null&&at===e(T)&&(Z?(J(V),V=-1):Z=!0,Ie(Tt,pt-se))):(at.sortIndex=D,t(v,at),q||U||(q=!0,xt||(xt=!0,F()))),at},i.unstable_shouldYield=B,i.unstable_wrapCallback=function(at){var yt=P;return function(){var pt=P;P=yt;try{return at.apply(this,arguments)}finally{P=pt}}}}(zm)),zm}var zv;function AA(){return zv||(zv=1,Vm.exports=bA()),Vm.exports}var Um={exports:{}},zn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uv;function SA(){if(Uv)return zn;Uv=1;var i=Vp();function t(v){var T="https://react.dev/errors/"+v;if(1<arguments.length){T+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)T+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+T+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var a={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(v,T,S){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:C==null?null:""+C,children:v,containerInfo:T,implementation:S}}var m=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,T){if(v==="font")return"";if(typeof T=="string")return T==="use-credentials"?T:""}return zn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,zn.createPortal=function(v,T){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!T||T.nodeType!==1&&T.nodeType!==9&&T.nodeType!==11)throw Error(t(299));return h(v,T,null,S)},zn.flushSync=function(v){var T=m.T,S=a.p;try{if(m.T=null,a.p=2,v)return v()}finally{m.T=T,a.p=S,a.d.f()}},zn.preconnect=function(v,T){typeof v=="string"&&(T?(T=T.crossOrigin,T=typeof T=="string"?T==="use-credentials"?T:"":void 0):T=null,a.d.C(v,T))},zn.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},zn.preinit=function(v,T){if(typeof v=="string"&&T&&typeof T.as=="string"){var S=T.as,C=y(S,T.crossOrigin),P=typeof T.integrity=="string"?T.integrity:void 0,U=typeof T.fetchPriority=="string"?T.fetchPriority:void 0;S==="style"?a.d.S(v,typeof T.precedence=="string"?T.precedence:void 0,{crossOrigin:C,integrity:P,fetchPriority:U}):S==="script"&&a.d.X(v,{crossOrigin:C,integrity:P,fetchPriority:U,nonce:typeof T.nonce=="string"?T.nonce:void 0})}},zn.preinitModule=function(v,T){if(typeof v=="string")if(typeof T=="object"&&T!==null){if(T.as==null||T.as==="script"){var S=y(T.as,T.crossOrigin);a.d.M(v,{crossOrigin:S,integrity:typeof T.integrity=="string"?T.integrity:void 0,nonce:typeof T.nonce=="string"?T.nonce:void 0})}}else T==null&&a.d.M(v)},zn.preload=function(v,T){if(typeof v=="string"&&typeof T=="object"&&T!==null&&typeof T.as=="string"){var S=T.as,C=y(S,T.crossOrigin);a.d.L(v,S,{crossOrigin:C,integrity:typeof T.integrity=="string"?T.integrity:void 0,nonce:typeof T.nonce=="string"?T.nonce:void 0,type:typeof T.type=="string"?T.type:void 0,fetchPriority:typeof T.fetchPriority=="string"?T.fetchPriority:void 0,referrerPolicy:typeof T.referrerPolicy=="string"?T.referrerPolicy:void 0,imageSrcSet:typeof T.imageSrcSet=="string"?T.imageSrcSet:void 0,imageSizes:typeof T.imageSizes=="string"?T.imageSizes:void 0,media:typeof T.media=="string"?T.media:void 0})}},zn.preloadModule=function(v,T){if(typeof v=="string")if(T){var S=y(T.as,T.crossOrigin);a.d.m(v,{as:typeof T.as=="string"&&T.as!=="script"?T.as:void 0,crossOrigin:S,integrity:typeof T.integrity=="string"?T.integrity:void 0})}else a.d.m(v)},zn.requestFormReset=function(v){a.d.r(v)},zn.unstable_batchedUpdates=function(v,T){return v(T)},zn.useFormState=function(v,T,S){return m.H.useFormState(v,T,S)},zn.useFormStatus=function(){return m.H.useHostTransitionStatus()},zn.version="19.1.0",zn}var Bv;function NT(){if(Bv)return Um.exports;Bv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Um.exports=SA(),Um.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv;function IA(){if(Hv)return Wu;Hv=1;var i=AA(),t=Vp(),e=NT();function a(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function h(n){var r=n,o=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(o=r.return),n=r.return;while(n)}return r.tag===3?o:null}function m(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function y(n){if(h(n)!==n)throw Error(a(188))}function v(n){var r=n.alternate;if(!r){if(r=h(n),r===null)throw Error(a(188));return r!==n?null:n}for(var o=n,c=r;;){var p=o.return;if(p===null)break;var g=p.alternate;if(g===null){if(c=p.return,c!==null){o=c;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===o)return y(p),n;if(g===c)return y(p),r;g=g.sibling}throw Error(a(188))}if(o.return!==c.return)o=p,c=g;else{for(var A=!1,R=p.child;R;){if(R===o){A=!0,o=p,c=g;break}if(R===c){A=!0,c=p,o=g;break}R=R.sibling}if(!A){for(R=g.child;R;){if(R===o){A=!0,o=g,c=p;break}if(R===c){A=!0,c=g,o=p;break}R=R.sibling}if(!A)throw Error(a(189))}}if(o.alternate!==c)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?n:r}function T(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=T(n),r!==null)return r;n=n.sibling}return null}var S=Object.assign,C=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),st=Symbol.for("react.provider"),J=Symbol.for("react.consumer"),it=Symbol.for("react.context"),_t=Symbol.for("react.forward_ref"),Tt=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function F(n){return n===null||typeof n!="object"?null:(n=H&&n[H]||n["@@iterator"],typeof n=="function"?n:null)}var z=Symbol.for("react.client.reference");function pe(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===z?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case q:return"Fragment";case W:return"Profiler";case Z:return"StrictMode";case Tt:return"Suspense";case xt:return"SuspenseList";case M:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case U:return"Portal";case it:return(n.displayName||"Context")+".Provider";case J:return(n._context.displayName||"Context")+".Consumer";case _t:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case V:return r=n.displayName||null,r!==null?r:pe(n.type)||"Memo";case O:r=n._payload,n=n._init;try{return pe(n(r))}catch{}}return null}var Ie=Array.isArray,at=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},se=[],D=-1;function ot(n){return{current:n}}function gt(n){0>D||(n.current=se[D],se[D]=null,D--)}function mt(n,r){D++,se[D]=n.current,n.current=r}var wt=ot(null),St=ot(null),Et=ot(null),Ee=ot(null);function re(n,r){switch(mt(Et,r),mt(St,n),mt(wt,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?ov(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=ov(r),n=lv(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}gt(wt),mt(wt,n)}function li(){gt(wt),gt(St),gt(Et)}function Li(n){n.memoizedState!==null&&mt(Ee,n);var r=wt.current,o=lv(r,n.type);r!==o&&(mt(St,n),mt(wt,o))}function ui(n){St.current===n&&(gt(wt),gt(St)),Ee.current===n&&(gt(Ee),Zu._currentValue=pt)}var ci=Object.prototype.hasOwnProperty,tr=i.unstable_scheduleCallback,Xr=i.unstable_cancelCallback,Vs=i.unstable_shouldYield,Xa=i.unstable_requestPaint,Pn=i.unstable_now,zs=i.unstable_getCurrentPriorityLevel,Wa=i.unstable_ImmediatePriority,Wr=i.unstable_UserBlockingPriority,er=i.unstable_NormalPriority,Wo=i.unstable_LowPriority,Jr=i.unstable_IdlePriority,Ja=i.log,Jo=i.unstable_setDisableYieldValue,xe=null,ue=null;function On(n){if(typeof Ja=="function"&&Jo(n),ue&&typeof ue.setStrictMode=="function")try{ue.setStrictMode(xe,n)}catch{}}var hn=Math.clz32?Math.clz32:ts,to=Math.log,tl=Math.LN2;function ts(n){return n>>>=0,n===0?32:31-(to(n)/tl|0)|0}var Sr=256,nr=4194304;function Wn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Us(n,r,o){var c=n.pendingLanes;if(c===0)return 0;var p=0,g=n.suspendedLanes,A=n.pingedLanes;n=n.warmLanes;var R=c&134217727;return R!==0?(c=R&~g,c!==0?p=Wn(c):(A&=R,A!==0?p=Wn(A):o||(o=R&~n,o!==0&&(p=Wn(o))))):(R=c&~g,R!==0?p=Wn(R):A!==0?p=Wn(A):o||(o=c&~n,o!==0&&(p=Wn(o)))),p===0?0:r!==0&&r!==p&&(r&g)===0&&(g=p&-p,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:p}function hi(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function eo(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function no(){var n=Sr;return Sr<<=1,(Sr&4194048)===0&&(Sr=256),n}function Bs(){var n=nr;return nr<<=1,(nr&62914560)===0&&(nr=4194304),n}function Mi(n){for(var r=[],o=0;31>o;o++)r.push(n);return r}function Di(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function io(n,r,o,c,p,g){var A=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var R=n.entanglements,k=n.expirationTimes,X=n.hiddenUpdates;for(o=A&~o;0<o;){var lt=31-hn(o),ct=1<<lt;R[lt]=0,k[lt]=-1;var tt=X[lt];if(tt!==null)for(X[lt]=null,lt=0;lt<tt.length;lt++){var et=tt[lt];et!==null&&(et.lane&=-536870913)}o&=~ct}c!==0&&Ni(n,c,0),g!==0&&p===0&&n.tag!==0&&(n.suspendedLanes|=g&~(A&~r))}function Ni(n,r,o){n.pendingLanes|=r,n.suspendedLanes&=~r;var c=31-hn(r);n.entangledLanes|=r,n.entanglements[c]=n.entanglements[c]|1073741824|o&4194090}function ro(n,r){var o=n.entangledLanes|=r;for(n=n.entanglements;o;){var c=31-hn(o),p=1<<c;p&r|n[c]&r&&(n[c]|=r),o&=~p}}function Ir(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Hs(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Rr(){var n=yt.p;return n!==0?n:(n=window.event,n===void 0?32:Rv(n.type))}function qs(n,r){var o=yt.p;try{return yt.p=n,r()}finally{yt.p=o}}var Pe=Math.random().toString(36).slice(2),Ze="__reactFiber$"+Pe,je="__reactProps$"+Pe,Jn="__reactContainer$"+Pe,Ln="__reactEvents$"+Pe,Ot="__reactListeners$"+Pe,ir="__reactHandles$"+Pe,so="__reactResources$"+Pe,Cr="__reactMarker$"+Pe;function rr(n){delete n[Ze],delete n[je],delete n[Ln],delete n[Ot],delete n[ir]}function fi(n){var r=n[Ze];if(r)return r;for(var o=n.parentNode;o;){if(r=o[Jn]||o[Ze]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(n=fv(n);n!==null;){if(o=n[Ze])return o;n=fv(n)}return r}n=o,o=n.parentNode}return null}function di(n){if(n=n[Ze]||n[Jn]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function En(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(a(33))}function fn(n){var r=n[so];return r||(r=n[so]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ue(n){n[Cr]=!0}var ao=new Set,js={};function mi(n,r){ki(n,r),ki(n+"Capture",r)}function ki(n,r){for(js[n]=r,n=0;n<r.length;n++)ao.add(r[n])}var el=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),es={},ns={};function nl(n){return ci.call(ns,n)?!0:ci.call(es,n)?!1:el.test(n)?ns[n]=!0:(es[n]=!0,!1)}function xr(n,r,o){if(nl(r))if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+o)}}function Vi(n,r,o){if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+o)}}function sn(n,r,o,c){if(c===null)n.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(r,o,""+c)}}var sr,Pr;function zi(n){if(sr===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);sr=r&&r[1]||"",Pr=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+sr+n+Pr}var is=!1;function Ui(n,r){if(!n||is)return"";is=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var ct=function(){throw Error()};if(Object.defineProperty(ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ct,[])}catch(et){var tt=et}Reflect.construct(n,[],ct)}else{try{ct.call()}catch(et){tt=et}n.call(ct.prototype)}}else{try{throw Error()}catch(et){tt=et}(ct=n())&&typeof ct.catch=="function"&&ct.catch(function(){})}}catch(et){if(et&&tt&&typeof et.stack=="string")return[et.stack,tt.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),A=g[0],R=g[1];if(A&&R){var k=A.split(`
`),X=R.split(`
`);for(p=c=0;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;for(;p<X.length&&!X[p].includes("DetermineComponentFrameRoot");)p++;if(c===k.length||p===X.length)for(c=k.length-1,p=X.length-1;1<=c&&0<=p&&k[c]!==X[p];)p--;for(;1<=c&&0<=p;c--,p--)if(k[c]!==X[p]){if(c!==1||p!==1)do if(c--,p--,0>p||k[c]!==X[p]){var lt=`
`+k[c].replace(" at new "," at ");return n.displayName&&lt.includes("<anonymous>")&&(lt=lt.replace("<anonymous>",n.displayName)),lt}while(1<=c&&0<=p);break}}}finally{is=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?zi(o):""}function Qt(n){switch(n.tag){case 26:case 27:case 5:return zi(n.type);case 16:return zi("Lazy");case 13:return zi("Suspense");case 19:return zi("SuspenseList");case 0:case 15:return Ui(n.type,!1);case 11:return Ui(n.type.render,!1);case 1:return Ui(n.type,!0);case 31:return zi("Activity");default:return""}}function fe(n){try{var r="";do r+=Qt(n),n=n.return;while(n);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function We(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Bi(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Or(n){var r=Bi(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),c=""+n[r];if(!n.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var p=o.get,g=o.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return p.call(this)},set:function(A){c=""+A,g.call(this,A)}}),Object.defineProperty(n,r,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(A){c=""+A},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Lr(n){n._valueTracker||(n._valueTracker=Or(n))}function qt(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return n&&(c=Bi(n)?n.checked?"true":"false":n.value),n=c,n!==o?(r.setValue(n),!0):!1}function ge(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var oo=/[\n"\\]/g;function Ne(n){return n.replace(oo,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Oe(n,r,o,c,p,g,A,R){n.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?n.type=A:n.removeAttribute("type"),r!=null?A==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+We(r)):n.value!==""+We(r)&&(n.value=""+We(r)):A!=="submit"&&A!=="reset"||n.removeAttribute("value"),r!=null?pi(n,A,We(r)):o!=null?pi(n,A,We(o)):c!=null&&n.removeAttribute("value"),p==null&&g!=null&&(n.defaultChecked=!!g),p!=null&&(n.checked=p&&typeof p!="function"&&typeof p!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?n.name=""+We(R):n.removeAttribute("name")}function rs(n,r,o,c,p,g,A,R){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null))return;o=o!=null?""+We(o):"",r=r!=null?""+We(r):o,R||r===n.value||(n.value=r),n.defaultValue=r}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=R?n.checked:!!c,n.defaultChecked=!!c,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(n.name=A)}function pi(n,r,o){r==="number"&&ge(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function wn(n,r,o,c){if(n=n.options,r){r={};for(var p=0;p<o.length;p++)r["$"+o[p]]=!0;for(o=0;o<n.length;o++)p=r.hasOwnProperty("$"+n[o].value),n[o].selected!==p&&(n[o].selected=p),p&&c&&(n[o].defaultSelected=!0)}else{for(o=""+We(o),r=null,p=0;p<n.length;p++){if(n[p].value===o){n[p].selected=!0,c&&(n[p].defaultSelected=!0);return}r!==null||n[p].disabled||(r=n[p])}r!==null&&(r.selected=!0)}}function Vt(n,r,o){if(r!=null&&(r=""+We(r),r!==n.value&&(n.value=r),o==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=o!=null?""+We(o):""}function Fn(n,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(a(92));if(Ie(c)){if(1<c.length)throw Error(a(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=We(r),n.defaultValue=o,c=n.textContent,c===o&&c!==""&&c!==null&&(n.value=c)}function dn(n,r){if(r){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=r;return}}n.textContent=r}var gi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fs(n,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":c?n.setProperty(r,o):typeof o!="number"||o===0||gi.has(r)?r==="float"?n.cssFloat=o:n[r]=(""+o).trim():n[r]=o+"px"}function ar(n,r,o){if(r!=null&&typeof r!="object")throw Error(a(62));if(n=n.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var p in r)c=r[p],r.hasOwnProperty(p)&&o[p]!==c&&Fs(n,p,c)}else for(var g in r)r.hasOwnProperty(g)&&Fs(n,g,r[g])}function ss(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mr(n){return Gs.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var _i=null;function bn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Hi=null,yi=null;function uo(n){var r=di(n);if(r&&(n=r.stateNode)){var o=n[je]||null;t:switch(n=r.stateNode,r.type){case"input":if(Oe(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ne(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==n&&c.form===n.form){var p=c[je]||null;if(!p)throw Error(a(90));Oe(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===n.form&&qt(c)}break t;case"textarea":Vt(n,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&wn(n,!!o.multiple,r,!1)}}}var Dt=!1;function Gn(n,r,o){if(Dt)return n(r,o);Dt=!0;try{var c=n(r);return c}finally{if(Dt=!1,(Hi!==null||yi!==null)&&(_h(),Hi&&(r=Hi,n=yi,yi=Hi=null,uo(r),n)))for(r=0;r<n.length;r++)uo(n[r])}}function ae(n,r){var o=n.stateNode;if(o===null)return null;var c=o[je]||null;if(c===null)return null;o=c[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break t;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(a(231,r,typeof o));return o}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mn=!1;if(ti)try{var or={};Object.defineProperty(or,"passive",{get:function(){Mn=!0}}),window.addEventListener("test",or,or),window.removeEventListener("test",or,or)}catch{Mn=!1}var ei=null,Dn=null,vi=null;function lr(){if(vi)return vi;var n,r=Dn,o=r.length,c,p="value"in ei?ei.value:ei.textContent,g=p.length;for(n=0;n<o&&r[n]===p[n];n++);var A=o-n;for(c=1;c<=A&&r[o-c]===p[g-c];c++);return vi=p.slice(n,1<c?1-c:void 0)}function we(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function mn(){return!0}function Zs(){return!1}function $e(n){function r(o,c,p,g,A){this._reactName=o,this._targetInst=p,this.type=c,this.nativeEvent=g,this.target=A,this.currentTarget=null;for(var R in n)n.hasOwnProperty(R)&&(o=n[R],this[R]=o?o(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?mn:Zs,this.isPropagationStopped=Zs,this}return S(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=mn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=mn)},persist:function(){},isPersistent:mn}),r}var ce={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},as=$e(ce),ur=S({},ce,{view:0,detail:0}),il=$e(ur),os,Gt,qi,an=S({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==qi&&(qi&&n.type==="mousemove"?(os=n.screenX-qi.screenX,Gt=n.screenY-qi.screenY):Gt=os=0,qi=n),os)},movementY:function(n){return"movementY"in n?n.movementY:Gt}}),pn=$e(an),co=S({},an,{dataTransfer:0}),uu=$e(co),cr=S({},ur,{relatedTarget:0}),$s=$e(cr),Ks=S({},ce,{animationName:0,elapsedTime:0,pseudoElement:0}),Ys=$e(Ks),rl=S({},ce,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Dr=$e(rl),cu=S({},ce,{data:0}),Nn=$e(cu),ls={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ho={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ti={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qs(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Ti[n])?!!r[n]:!1}function Nr(){return Qs}var Xs=S({},ur,{key:function(n){if(n.key){var r=ls[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=we(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ho[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nr,charCode:function(n){return n.type==="keypress"?we(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?we(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ws=$e(Xs),fo=S({},an,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Js=$e(fo),hr=S({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nr}),sl=$e(hr),ta=S({},ce,{propertyName:0,elapsedTime:0,pseudoElement:0}),al=$e(ta),mo=S({},an,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),us=$e(mo),Je=S({},ce,{newState:0,oldState:0}),ji=$e(Je),ol=[9,13,27,32],kn=ti&&"CompositionEvent"in window,f=null;ti&&"documentMode"in document&&(f=document.documentMode);var E=ti&&"TextEvent"in window&&!f,b=ti&&(!kn||f&&8<f&&11>=f),x=" ",$=!1;function rt(n,r){switch(n){case"keyup":return ol.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vt(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var te=!1;function Fe(n,r){switch(n){case"compositionend":return vt(r);case"keypress":return r.which!==32?null:($=!0,x);case"textInput":return n=r.data,n===x&&$?null:n;default:return null}}function ee(n,r){if(te)return n==="compositionend"||!kn&&rt(n,r)?(n=lr(),vi=Dn=ei=null,te=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return b&&r.locale!=="ko"?null:r.data;default:return null}}var de={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Le(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!de[n.type]:r==="textarea"}function fr(n,r,o,c){Hi?yi?yi.push(c):yi=[c]:Hi=c,r=bh(r,"onChange"),0<r.length&&(o=new as("onChange","change",null,o,c),n.push({event:o,listeners:r}))}var Re=null,Fi=null;function Gi(n){nv(n,0)}function ll(n){var r=En(n);if(qt(r))return n}function ea(n,r){if(n==="change")return r}var hu=!1;if(ti){var na;if(ti){var fu="oninput"in document;if(!fu){var dr=document.createElement("div");dr.setAttribute("oninput","return;"),fu=typeof dr.oninput=="function"}na=fu}else na=!1;hu=na&&(!document.documentMode||9<document.documentMode)}function po(){Re&&(Re.detachEvent("onpropertychange",kc),Fi=Re=null)}function kc(n){if(n.propertyName==="value"&&ll(Fi)){var r=[];fr(r,Fi,n,bn(n)),Gn(Gi,r)}}function du(n,r,o){n==="focusin"?(po(),Re=r,Fi=o,Re.attachEvent("onpropertychange",kc)):n==="focusout"&&po()}function rd(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ll(Fi)}function mr(n,r){if(n==="click")return ll(r)}function sd(n,r){if(n==="input"||n==="change")return ll(r)}function ia(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Zn=typeof Object.is=="function"?Object.is:ia;function $n(n,r){if(Zn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var o=Object.keys(n),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var p=o[c];if(!ci.call(r,p)||!Zn(n[p],r[p]))return!1}return!0}function go(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function mu(n,r){var o=go(n);n=0;for(var c;o;){if(o.nodeType===3){if(c=n+o.textContent.length,n<=r&&c>=r)return{node:o,offset:r-n};n=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=go(o)}}function ul(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?ul(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function _o(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=ge(n.document);r instanceof n.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)n=r.contentWindow;else break;r=ge(n.document)}return r}function yo(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var cl=ti&&"documentMode"in document&&11>=document.documentMode,Ei=null,ra=null,cs=null,hl=!1;function Vc(n,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;hl||Ei==null||Ei!==ge(c)||(c=Ei,"selectionStart"in c&&yo(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),cs&&$n(cs,c)||(cs=c,c=bh(ra,"onSelect"),0<c.length&&(r=new as("onSelect","select",null,r,o),n.push({event:r,listeners:c}),r.target=Ei)))}function Zi(n,r){var o={};return o[n.toLowerCase()]=r.toLowerCase(),o["Webkit"+n]="webkit"+r,o["Moz"+n]="moz"+r,o}var sa={animationend:Zi("Animation","AnimationEnd"),animationiteration:Zi("Animation","AnimationIteration"),animationstart:Zi("Animation","AnimationStart"),transitionrun:Zi("Transition","TransitionRun"),transitionstart:Zi("Transition","TransitionStart"),transitioncancel:Zi("Transition","TransitionCancel"),transitionend:Zi("Transition","TransitionEnd")},fl={},zc={};ti&&(zc=document.createElement("div").style,"AnimationEvent"in window||(delete sa.animationend.animation,delete sa.animationiteration.animation,delete sa.animationstart.animation),"TransitionEvent"in window||delete sa.transitionend.transition);function kr(n){if(fl[n])return fl[n];if(!sa[n])return n;var r=sa[n],o;for(o in r)if(r.hasOwnProperty(o)&&o in zc)return fl[n]=r[o];return n}var Uc=kr("animationend"),wi=kr("animationiteration"),vo=kr("animationstart"),ad=kr("transitionrun"),dl=kr("transitionstart"),od=kr("transitioncancel"),pu=kr("transitionend"),Bc=new Map,hs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");hs.push("scrollEnd");function bi(n,r){Bc.set(n,r),mi(r,[n])}var fs=new WeakMap;function Kn(n,r){if(typeof n=="object"&&n!==null){var o=fs.get(n);return o!==void 0?o:(r={value:n,source:r,stack:fe(r)},fs.set(n,r),r)}return{value:n,source:r,stack:fe(r)}}var Yn=[],aa=0,Ai=0;function To(){for(var n=aa,r=Ai=aa=0;r<n;){var o=Yn[r];Yn[r++]=null;var c=Yn[r];Yn[r++]=null;var p=Yn[r];Yn[r++]=null;var g=Yn[r];if(Yn[r++]=null,c!==null&&p!==null){var A=c.pending;A===null?p.next=p:(p.next=A.next,A.next=p),c.pending=p}g!==0&&wo(o,p,g)}}function Eo(n,r,o,c){Yn[aa++]=n,Yn[aa++]=r,Yn[aa++]=o,Yn[aa++]=c,Ai|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function ds(n,r,o,c){return Eo(n,r,o,c),Vr(n)}function oa(n,r){return Eo(n,null,null,r),Vr(n)}function wo(n,r,o){n.lanes|=o;var c=n.alternate;c!==null&&(c.lanes|=o);for(var p=!1,g=n.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(n=g.stateNode,n===null||n._visibility&1||(p=!0)),n=g,g=g.return;return n.tag===3?(g=n.stateNode,p&&r!==null&&(p=31-hn(o),n=g.hiddenUpdates,c=n[p],c===null?n[p]=[r]:c.push(r),r.lane=o|536870912),g):null}function Vr(n){if(50<zu)throw zu=0,rm=null,Error(a(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var ms={};function Hc(n,r,o,c){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(n,r,o,c){return new Hc(n,r,o,c)}function ml(n){return n=n.prototype,!(!n||!n.isReactComponent)}function $i(n,r){var o=n.alternate;return o===null?(o=Qn(n.tag,r,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=r,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,r=n.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function gu(n,r){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,r=o.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function bo(n,r,o,c,p,g){var A=0;if(c=n,typeof n=="function")ml(n)&&(A=1);else if(typeof n=="string")A=oA(n,o,wt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case M:return n=Qn(31,o,r,p),n.elementType=M,n.lanes=g,n;case q:return zr(o.children,p,g,r);case Z:A=8,p|=24;break;case W:return n=Qn(12,o,r,p|2),n.elementType=W,n.lanes=g,n;case Tt:return n=Qn(13,o,r,p),n.elementType=Tt,n.lanes=g,n;case xt:return n=Qn(19,o,r,p),n.elementType=xt,n.lanes=g,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case st:case it:A=10;break t;case J:A=9;break t;case _t:A=11;break t;case V:A=14;break t;case O:A=16,c=null;break t}A=29,o=Error(a(130,n===null?"null":typeof n,"")),c=null}return r=Qn(A,o,r,p),r.elementType=n,r.type=c,r.lanes=g,r}function zr(n,r,o,c){return n=Qn(7,n,c,r),n.lanes=o,n}function _u(n,r,o){return n=Qn(6,n,null,r),n.lanes=o,n}function pl(n,r,o){return r=Qn(4,n.children!==null?n.children:[],n.key,r),r.lanes=o,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var ps=[],la=0,s=null,u=0,d=[],_=0,w=null,I=1,N="";function K(n,r){ps[la++]=u,ps[la++]=s,s=n,u=r}function nt(n,r,o){d[_++]=I,d[_++]=N,d[_++]=w,w=n;var c=I;n=N;var p=32-hn(c)-1;c&=~(1<<p),o+=1;var g=32-hn(r)+p;if(30<g){var A=p-p%5;g=(c&(1<<A)-1).toString(32),c>>=A,p-=A,I=1<<32-hn(r)+p|o<<p|c,N=g+n}else I=1<<g|o<<p|c,N=n}function ft(n){n.return!==null&&(K(n,1),nt(n,1,0))}function bt(n){for(;n===s;)s=ps[--la],ps[la]=null,u=ps[--la],ps[la]=null;for(;n===w;)w=d[--_],d[_]=null,N=d[--_],d[_]=null,I=d[--_],d[_]=null}var It=null,Pt=null,Bt=!1,Me=null,Be=!1,gn=Error(a(519));function ni(n){var r=Error(a(418,""));throw ca(Kn(r,n)),gn}function qc(n){var r=n.stateNode,o=n.type,c=n.memoizedProps;switch(r[Ze]=n,r[je]=c,o){case"dialog":Jt("cancel",r),Jt("close",r);break;case"iframe":case"object":case"embed":Jt("load",r);break;case"video":case"audio":for(o=0;o<Bu.length;o++)Jt(Bu[o],r);break;case"source":Jt("error",r);break;case"img":case"image":case"link":Jt("error",r),Jt("load",r);break;case"details":Jt("toggle",r);break;case"input":Jt("invalid",r),rs(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Lr(r);break;case"select":Jt("invalid",r);break;case"textarea":Jt("invalid",r),Fn(r,c.value,c.defaultValue,c.children),Lr(r)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||av(r.textContent,o)?(c.popover!=null&&(Jt("beforetoggle",r),Jt("toggle",r)),c.onScroll!=null&&Jt("scroll",r),c.onScrollEnd!=null&&Jt("scrollend",r),c.onClick!=null&&(r.onclick=Ah),r=!0):r=!1,r||ni(n)}function jc(n){for(It=n.return;It;)switch(It.tag){case 5:case 13:Be=!1;return;case 27:case 3:Be=!0;return;default:It=It.return}}function Ao(n){if(n!==It)return!1;if(!Bt)return jc(n),Bt=!0,!1;var r=n.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||Tm(n.type,n.memoizedProps)),o=!o),o&&Pt&&ni(n),jc(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));t:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(r===0){Pt=yr(n.nextSibling);break t}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;n=n.nextSibling}Pt=null}}else r===27?(r=Pt,Sa(n.type)?(n=Am,Am=null,Pt=n):Pt=r):Pt=It?yr(n.stateNode.nextSibling):null;return!0}function ua(){Pt=It=null,Bt=!1}function Fc(){var n=Me;return n!==null&&(si===null?si=n:si.push.apply(si,n),Me=null),n}function ca(n){Me===null?Me=[n]:Me.push(n)}var Ve=ot(null),Ki=null,pr=null;function Ur(n,r,o){mt(Ve,r._currentValue),r._currentValue=o}function gr(n){n._currentValue=Ve.current,gt(Ve)}function So(n,r,o){for(;n!==null;){var c=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),n===o)break;n=n.return}}function gl(n,r,o,c){var p=n.child;for(p!==null&&(p.return=n);p!==null;){var g=p.dependencies;if(g!==null){var A=p.child;g=g.firstContext;t:for(;g!==null;){var R=g;g=p;for(var k=0;k<r.length;k++)if(R.context===r[k]){g.lanes|=o,R=g.alternate,R!==null&&(R.lanes|=o),So(g.return,o,n),c||(A=null);break t}g=R.next}}else if(p.tag===18){if(A=p.return,A===null)throw Error(a(341));A.lanes|=o,g=A.alternate,g!==null&&(g.lanes|=o),So(A,o,n),A=null}else A=p.child;if(A!==null)A.return=p;else for(A=p;A!==null;){if(A===n){A=null;break}if(p=A.sibling,p!==null){p.return=A.return,A=p;break}A=A.return}p=A}}function Io(n,r,o,c){n=null;for(var p=r,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var A=p.alternate;if(A===null)throw Error(a(387));if(A=A.memoizedProps,A!==null){var R=p.type;Zn(p.pendingProps.value,A.value)||(n!==null?n.push(R):n=[R])}}else if(p===Ee.current){if(A=p.alternate,A===null)throw Error(a(387));A.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(n!==null?n.push(Zu):n=[Zu])}p=p.return}n!==null&&gl(r,n,o,c),r.flags|=262144}function Gc(n){for(n=n.firstContext;n!==null;){if(!Zn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Ro(n){Ki=n,pr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Vn(n){return Zg(Ki,n)}function Zc(n,r){return Ki===null&&Ro(n),Zg(n,r)}function Zg(n,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},pr===null){if(n===null)throw Error(a(308));pr=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else pr=pr.next=r;return o}var a1=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(o,c){n.push(c)}};this.abort=function(){r.aborted=!0,n.forEach(function(o){return o()})}},o1=i.unstable_scheduleCallback,l1=i.unstable_NormalPriority,on={$$typeof:it,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ld(){return{controller:new a1,data:new Map,refCount:0}}function yu(n){n.refCount--,n.refCount===0&&o1(l1,function(){n.controller.abort()})}var vu=null,ud=0,_l=0,yl=null;function u1(n,r){if(vu===null){var o=vu=[];ud=0,_l=hm(),yl={status:"pending",value:void 0,then:function(c){o.push(c)}}}return ud++,r.then($g,$g),r}function $g(){if(--ud===0&&vu!==null){yl!==null&&(yl.status="fulfilled");var n=vu;vu=null,_l=0,yl=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function c1(n,r){var o=[],c={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return n.then(function(){c.status="fulfilled",c.value=r;for(var p=0;p<o.length;p++)(0,o[p])(r)},function(p){for(c.status="rejected",c.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),c}var Kg=at.S;at.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&u1(n,r),Kg!==null&&Kg(n,r)};var Co=ot(null);function cd(){var n=Co.current;return n!==null?n:De.pooledCache}function $c(n,r){r===null?mt(Co,Co.current):mt(Co,r.pool)}function Yg(){var n=cd();return n===null?null:{parent:on._currentValue,pool:n}}var Tu=Error(a(460)),Qg=Error(a(474)),Kc=Error(a(542)),hd={then:function(){}};function Xg(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Yc(){}function Wg(n,r,o){switch(o=n[o],o===void 0?n.push(r):o!==r&&(r.then(Yc,Yc),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,t_(n),n;default:if(typeof r.status=="string")r.then(Yc,Yc);else{if(n=De,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=r,n.status="pending",n.then(function(c){if(r.status==="pending"){var p=r;p.status="fulfilled",p.value=c}},function(c){if(r.status==="pending"){var p=r;p.status="rejected",p.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,t_(n),n}throw Eu=r,Tu}}var Eu=null;function Jg(){if(Eu===null)throw Error(a(459));var n=Eu;return Eu=null,n}function t_(n){if(n===Tu||n===Kc)throw Error(a(483))}var ha=!1;function fd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dd(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function fa(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function da(n,r,o){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(_e&2)!==0){var p=c.pending;return p===null?r.next=r:(r.next=p.next,p.next=r),c.pending=r,r=Vr(n),wo(n,null,o),r}return Eo(n,c,r,o),Vr(n)}function wu(n,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=n.pendingLanes,o|=c,r.lanes=o,ro(n,o)}}function md(n,r){var o=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var p=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var A={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?p=g=A:g=g.next=A,o=o.next}while(o!==null);g===null?p=g=r:g=g.next=r}else p=g=r;o={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=r:n.next=r,o.lastBaseUpdate=r}var pd=!1;function bu(){if(pd){var n=yl;if(n!==null)throw n}}function Au(n,r,o,c){pd=!1;var p=n.updateQueue;ha=!1;var g=p.firstBaseUpdate,A=p.lastBaseUpdate,R=p.shared.pending;if(R!==null){p.shared.pending=null;var k=R,X=k.next;k.next=null,A===null?g=X:A.next=X,A=k;var lt=n.alternate;lt!==null&&(lt=lt.updateQueue,R=lt.lastBaseUpdate,R!==A&&(R===null?lt.firstBaseUpdate=X:R.next=X,lt.lastBaseUpdate=k))}if(g!==null){var ct=p.baseState;A=0,lt=X=k=null,R=g;do{var tt=R.lane&-536870913,et=tt!==R.lane;if(et?(oe&tt)===tt:(c&tt)===tt){tt!==0&&tt===_l&&(pd=!0),lt!==null&&(lt=lt.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});t:{var Ut=n,Nt=R;tt=r;var Se=o;switch(Nt.tag){case 1:if(Ut=Nt.payload,typeof Ut=="function"){ct=Ut.call(Se,ct,tt);break t}ct=Ut;break t;case 3:Ut.flags=Ut.flags&-65537|128;case 0:if(Ut=Nt.payload,tt=typeof Ut=="function"?Ut.call(Se,ct,tt):Ut,tt==null)break t;ct=S({},ct,tt);break t;case 2:ha=!0}}tt=R.callback,tt!==null&&(n.flags|=64,et&&(n.flags|=8192),et=p.callbacks,et===null?p.callbacks=[tt]:et.push(tt))}else et={lane:tt,tag:R.tag,payload:R.payload,callback:R.callback,next:null},lt===null?(X=lt=et,k=ct):lt=lt.next=et,A|=tt;if(R=R.next,R===null){if(R=p.shared.pending,R===null)break;et=R,R=et.next,et.next=null,p.lastBaseUpdate=et,p.shared.pending=null}}while(!0);lt===null&&(k=ct),p.baseState=k,p.firstBaseUpdate=X,p.lastBaseUpdate=lt,g===null&&(p.shared.lanes=0),Ea|=A,n.lanes=A,n.memoizedState=ct}}function e_(n,r){if(typeof n!="function")throw Error(a(191,n));n.call(r)}function n_(n,r){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)e_(o[n],r)}var vl=ot(null),Qc=ot(0);function i_(n,r){n=ws,mt(Qc,n),mt(vl,r),ws=n|r.baseLanes}function gd(){mt(Qc,ws),mt(vl,vl.current)}function _d(){ws=Qc.current,gt(vl),gt(Qc)}var ma=0,Kt=null,be=null,tn=null,Xc=!1,Tl=!1,xo=!1,Wc=0,Su=0,El=null,h1=0;function Ke(){throw Error(a(321))}function yd(n,r){if(r===null)return!1;for(var o=0;o<r.length&&o<n.length;o++)if(!Zn(n[o],r[o]))return!1;return!0}function vd(n,r,o,c,p,g){return ma=g,Kt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,at.H=n===null||n.memoizedState===null?B_:H_,xo=!1,g=o(c,p),xo=!1,Tl&&(g=s_(r,o,c,p)),r_(n),g}function r_(n){at.H=rh;var r=be!==null&&be.next!==null;if(ma=0,tn=be=Kt=null,Xc=!1,Su=0,El=null,r)throw Error(a(300));n===null||_n||(n=n.dependencies,n!==null&&Gc(n)&&(_n=!0))}function s_(n,r,o,c){Kt=n;var p=0;do{if(Tl&&(El=null),Su=0,Tl=!1,25<=p)throw Error(a(301));if(p+=1,tn=be=null,n.updateQueue!=null){var g=n.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}at.H=y1,g=r(o,c)}while(Tl);return g}function f1(){var n=at.H,r=n.useState()[0];return r=typeof r.then=="function"?Iu(r):r,n=n.useState()[0],(be!==null?be.memoizedState:null)!==n&&(Kt.flags|=1024),r}function Td(){var n=Wc!==0;return Wc=0,n}function Ed(n,r,o){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~o}function wd(n){if(Xc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Xc=!1}ma=0,tn=be=Kt=null,Tl=!1,Su=Wc=0,El=null}function ii(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?Kt.memoizedState=tn=n:tn=tn.next=n,tn}function en(){if(be===null){var n=Kt.alternate;n=n!==null?n.memoizedState:null}else n=be.next;var r=tn===null?Kt.memoizedState:tn.next;if(r!==null)tn=r,be=n;else{if(n===null)throw Kt.alternate===null?Error(a(467)):Error(a(310));be=n,n={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},tn===null?Kt.memoizedState=tn=n:tn=tn.next=n}return tn}function bd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Iu(n){var r=Su;return Su+=1,El===null&&(El=[]),n=Wg(El,n,r),r=Kt,(tn===null?r.memoizedState:tn.next)===null&&(r=r.alternate,at.H=r===null||r.memoizedState===null?B_:H_),n}function Jc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Iu(n);if(n.$$typeof===it)return Vn(n)}throw Error(a(438,String(n)))}function Ad(n){var r=null,o=Kt.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=Kt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(p){return p.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=bd(),Kt.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(n),c=0;c<n;c++)o[c]=B;return r.index++,o}function gs(n,r){return typeof r=="function"?r(n):r}function th(n){var r=en();return Sd(r,be,n)}function Sd(n,r,o){var c=n.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=o;var p=n.baseQueue,g=c.pending;if(g!==null){if(p!==null){var A=p.next;p.next=g.next,g.next=A}r.baseQueue=p=g,c.pending=null}if(g=n.baseState,p===null)n.memoizedState=g;else{r=p.next;var R=A=null,k=null,X=r,lt=!1;do{var ct=X.lane&-536870913;if(ct!==X.lane?(oe&ct)===ct:(ma&ct)===ct){var tt=X.revertLane;if(tt===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),ct===_l&&(lt=!0);else if((ma&tt)===tt){X=X.next,tt===_l&&(lt=!0);continue}else ct={lane:0,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},k===null?(R=k=ct,A=g):k=k.next=ct,Kt.lanes|=tt,Ea|=tt;ct=X.action,xo&&o(g,ct),g=X.hasEagerState?X.eagerState:o(g,ct)}else tt={lane:ct,revertLane:X.revertLane,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null},k===null?(R=k=tt,A=g):k=k.next=tt,Kt.lanes|=ct,Ea|=ct;X=X.next}while(X!==null&&X!==r);if(k===null?A=g:k.next=R,!Zn(g,n.memoizedState)&&(_n=!0,lt&&(o=yl,o!==null)))throw o;n.memoizedState=g,n.baseState=A,n.baseQueue=k,c.lastRenderedState=g}return p===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function Id(n){var r=en(),o=r.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=n;var c=o.dispatch,p=o.pending,g=r.memoizedState;if(p!==null){o.pending=null;var A=p=p.next;do g=n(g,A.action),A=A.next;while(A!==p);Zn(g,r.memoizedState)||(_n=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,c]}function a_(n,r,o){var c=Kt,p=en(),g=Bt;if(g){if(o===void 0)throw Error(a(407));o=o()}else o=r();var A=!Zn((be||p).memoizedState,o);A&&(p.memoizedState=o,_n=!0),p=p.queue;var R=u_.bind(null,c,p,n);if(Ru(2048,8,R,[n]),p.getSnapshot!==r||A||tn!==null&&tn.memoizedState.tag&1){if(c.flags|=2048,wl(9,eh(),l_.bind(null,c,p,o,r),null),De===null)throw Error(a(349));g||(ma&124)!==0||o_(c,r,o)}return o}function o_(n,r,o){n.flags|=16384,n={getSnapshot:r,value:o},r=Kt.updateQueue,r===null?(r=bd(),Kt.updateQueue=r,r.stores=[n]):(o=r.stores,o===null?r.stores=[n]:o.push(n))}function l_(n,r,o,c){r.value=o,r.getSnapshot=c,c_(r)&&h_(n)}function u_(n,r,o){return o(function(){c_(r)&&h_(n)})}function c_(n){var r=n.getSnapshot;n=n.value;try{var o=r();return!Zn(n,o)}catch{return!0}}function h_(n){var r=oa(n,2);r!==null&&xi(r,n,2)}function Rd(n){var r=ii();if(typeof n=="function"){var o=n;if(n=o(),xo){On(!0);try{o()}finally{On(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:n},r}function f_(n,r,o,c){return n.baseState=o,Sd(n,be,typeof c=="function"?c:gs)}function d1(n,r,o,c,p){if(ih(n))throw Error(a(485));if(n=r.action,n!==null){var g={payload:p,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){g.listeners.push(A)}};at.T!==null?o(!0):g.isTransition=!1,c(g),o=r.pending,o===null?(g.next=r.pending=g,d_(r,g)):(g.next=o.next,r.pending=o.next=g)}}function d_(n,r){var o=r.action,c=r.payload,p=n.state;if(r.isTransition){var g=at.T,A={};at.T=A;try{var R=o(p,c),k=at.S;k!==null&&k(A,R),m_(n,r,R)}catch(X){Cd(n,r,X)}finally{at.T=g}}else try{g=o(p,c),m_(n,r,g)}catch(X){Cd(n,r,X)}}function m_(n,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){p_(n,r,c)},function(c){return Cd(n,r,c)}):p_(n,r,o)}function p_(n,r,o){r.status="fulfilled",r.value=o,g_(r),n.state=o,r=n.pending,r!==null&&(o=r.next,o===r?n.pending=null:(o=o.next,r.next=o,d_(n,o)))}function Cd(n,r,o){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,g_(r),r=r.next;while(r!==c)}n.action=null}function g_(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function __(n,r){return r}function y_(n,r){if(Bt){var o=De.formState;if(o!==null){t:{var c=Kt;if(Bt){if(Pt){e:{for(var p=Pt,g=Be;p.nodeType!==8;){if(!g){p=null;break e}if(p=yr(p.nextSibling),p===null){p=null;break e}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){Pt=yr(p.nextSibling),c=p.data==="F!";break t}}ni(c)}c=!1}c&&(r=o[0])}}return o=ii(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:__,lastRenderedState:r},o.queue=c,o=V_.bind(null,Kt,c),c.dispatch=o,c=Rd(!1),g=Md.bind(null,Kt,!1,c.queue),c=ii(),p={state:r,dispatch:null,action:n,pending:null},c.queue=p,o=d1.bind(null,Kt,p,g,o),p.dispatch=o,c.memoizedState=n,[r,o,!1]}function v_(n){var r=en();return T_(r,be,n)}function T_(n,r,o){if(r=Sd(n,r,__)[0],n=th(gs)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=Iu(r)}catch(A){throw A===Tu?Kc:A}else c=r;r=en();var p=r.queue,g=p.dispatch;return o!==r.memoizedState&&(Kt.flags|=2048,wl(9,eh(),m1.bind(null,p,o),null)),[c,g,n]}function m1(n,r){n.action=r}function E_(n){var r=en(),o=be;if(o!==null)return T_(r,o,n);en(),r=r.memoizedState,o=en();var c=o.queue.dispatch;return o.memoizedState=n,[r,c,!1]}function wl(n,r,o,c){return n={tag:n,create:o,deps:c,inst:r,next:null},r=Kt.updateQueue,r===null&&(r=bd(),Kt.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=n.next=n:(c=o.next,o.next=n,n.next=c,r.lastEffect=n),n}function eh(){return{destroy:void 0,resource:void 0}}function w_(){return en().memoizedState}function nh(n,r,o,c){var p=ii();c=c===void 0?null:c,Kt.flags|=n,p.memoizedState=wl(1|r,eh(),o,c)}function Ru(n,r,o,c){var p=en();c=c===void 0?null:c;var g=p.memoizedState.inst;be!==null&&c!==null&&yd(c,be.memoizedState.deps)?p.memoizedState=wl(r,g,o,c):(Kt.flags|=n,p.memoizedState=wl(1|r,g,o,c))}function b_(n,r){nh(8390656,8,n,r)}function A_(n,r){Ru(2048,8,n,r)}function S_(n,r){return Ru(4,2,n,r)}function I_(n,r){return Ru(4,4,n,r)}function R_(n,r){if(typeof r=="function"){n=n();var o=r(n);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function C_(n,r,o){o=o!=null?o.concat([n]):null,Ru(4,4,R_.bind(null,r,n),o)}function xd(){}function x_(n,r){var o=en();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&yd(r,c[1])?c[0]:(o.memoizedState=[n,r],n)}function P_(n,r){var o=en();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&yd(r,c[1]))return c[0];if(c=n(),xo){On(!0);try{n()}finally{On(!1)}}return o.memoizedState=[c,r],c}function Pd(n,r,o){return o===void 0||(ma&1073741824)!==0?n.memoizedState=r:(n.memoizedState=o,n=My(),Kt.lanes|=n,Ea|=n,o)}function O_(n,r,o,c){return Zn(o,r)?o:vl.current!==null?(n=Pd(n,o,c),Zn(n,r)||(_n=!0),n):(ma&42)===0?(_n=!0,n.memoizedState=o):(n=My(),Kt.lanes|=n,Ea|=n,r)}function L_(n,r,o,c,p){var g=yt.p;yt.p=g!==0&&8>g?g:8;var A=at.T,R={};at.T=R,Md(n,!1,r,o);try{var k=p(),X=at.S;if(X!==null&&X(R,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var lt=c1(k,c);Cu(n,r,lt,Ci(n))}else Cu(n,r,c,Ci(n))}catch(ct){Cu(n,r,{then:function(){},status:"rejected",reason:ct},Ci())}finally{yt.p=g,at.T=A}}function p1(){}function Od(n,r,o,c){if(n.tag!==5)throw Error(a(476));var p=M_(n).queue;L_(n,p,r,pt,o===null?p1:function(){return D_(n),o(c)})}function M_(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:pt},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gs,lastRenderedState:o},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function D_(n){var r=M_(n).next.queue;Cu(n,r,{},Ci())}function Ld(){return Vn(Zu)}function N_(){return en().memoizedState}function k_(){return en().memoizedState}function g1(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var o=Ci();n=fa(o);var c=da(r,n,o);c!==null&&(xi(c,r,o),wu(c,r,o)),r={cache:ld()},n.payload=r;return}r=r.return}}function _1(n,r,o){var c=Ci();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},ih(n)?z_(r,o):(o=ds(n,r,o,c),o!==null&&(xi(o,n,c),U_(o,r,c)))}function V_(n,r,o){var c=Ci();Cu(n,r,o,c)}function Cu(n,r,o,c){var p={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(ih(n))z_(r,p);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var A=r.lastRenderedState,R=g(A,o);if(p.hasEagerState=!0,p.eagerState=R,Zn(R,A))return Eo(n,r,p,0),De===null&&To(),!1}catch{}finally{}if(o=ds(n,r,p,c),o!==null)return xi(o,n,c),U_(o,r,c),!0}return!1}function Md(n,r,o,c){if(c={lane:2,revertLane:hm(),action:c,hasEagerState:!1,eagerState:null,next:null},ih(n)){if(r)throw Error(a(479))}else r=ds(n,o,c,2),r!==null&&xi(r,n,2)}function ih(n){var r=n.alternate;return n===Kt||r!==null&&r===Kt}function z_(n,r){Tl=Xc=!0;var o=n.pending;o===null?r.next=r:(r.next=o.next,o.next=r),n.pending=r}function U_(n,r,o){if((o&4194048)!==0){var c=r.lanes;c&=n.pendingLanes,o|=c,r.lanes=o,ro(n,o)}}var rh={readContext:Vn,use:Jc,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useLayoutEffect:Ke,useInsertionEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useSyncExternalStore:Ke,useId:Ke,useHostTransitionStatus:Ke,useFormState:Ke,useActionState:Ke,useOptimistic:Ke,useMemoCache:Ke,useCacheRefresh:Ke},B_={readContext:Vn,use:Jc,useCallback:function(n,r){return ii().memoizedState=[n,r===void 0?null:r],n},useContext:Vn,useEffect:b_,useImperativeHandle:function(n,r,o){o=o!=null?o.concat([n]):null,nh(4194308,4,R_.bind(null,r,n),o)},useLayoutEffect:function(n,r){return nh(4194308,4,n,r)},useInsertionEffect:function(n,r){nh(4,2,n,r)},useMemo:function(n,r){var o=ii();r=r===void 0?null:r;var c=n();if(xo){On(!0);try{n()}finally{On(!1)}}return o.memoizedState=[c,r],c},useReducer:function(n,r,o){var c=ii();if(o!==void 0){var p=o(r);if(xo){On(!0);try{o(r)}finally{On(!1)}}}else p=r;return c.memoizedState=c.baseState=p,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:p},c.queue=n,n=n.dispatch=_1.bind(null,Kt,n),[c.memoizedState,n]},useRef:function(n){var r=ii();return n={current:n},r.memoizedState=n},useState:function(n){n=Rd(n);var r=n.queue,o=V_.bind(null,Kt,r);return r.dispatch=o,[n.memoizedState,o]},useDebugValue:xd,useDeferredValue:function(n,r){var o=ii();return Pd(o,n,r)},useTransition:function(){var n=Rd(!1);return n=L_.bind(null,Kt,n.queue,!0,!1),ii().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,o){var c=Kt,p=ii();if(Bt){if(o===void 0)throw Error(a(407));o=o()}else{if(o=r(),De===null)throw Error(a(349));(oe&124)!==0||o_(c,r,o)}p.memoizedState=o;var g={value:o,getSnapshot:r};return p.queue=g,b_(u_.bind(null,c,g,n),[n]),c.flags|=2048,wl(9,eh(),l_.bind(null,c,g,o,r),null),o},useId:function(){var n=ii(),r=De.identifierPrefix;if(Bt){var o=N,c=I;o=(c&~(1<<32-hn(c)-1)).toString(32)+o,r="«"+r+"R"+o,o=Wc++,0<o&&(r+="H"+o.toString(32)),r+="»"}else o=h1++,r="«"+r+"r"+o.toString(32)+"»";return n.memoizedState=r},useHostTransitionStatus:Ld,useFormState:y_,useActionState:y_,useOptimistic:function(n){var r=ii();r.memoizedState=r.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Md.bind(null,Kt,!0,o),o.dispatch=r,[n,r]},useMemoCache:Ad,useCacheRefresh:function(){return ii().memoizedState=g1.bind(null,Kt)}},H_={readContext:Vn,use:Jc,useCallback:x_,useContext:Vn,useEffect:A_,useImperativeHandle:C_,useInsertionEffect:S_,useLayoutEffect:I_,useMemo:P_,useReducer:th,useRef:w_,useState:function(){return th(gs)},useDebugValue:xd,useDeferredValue:function(n,r){var o=en();return O_(o,be.memoizedState,n,r)},useTransition:function(){var n=th(gs)[0],r=en().memoizedState;return[typeof n=="boolean"?n:Iu(n),r]},useSyncExternalStore:a_,useId:N_,useHostTransitionStatus:Ld,useFormState:v_,useActionState:v_,useOptimistic:function(n,r){var o=en();return f_(o,be,n,r)},useMemoCache:Ad,useCacheRefresh:k_},y1={readContext:Vn,use:Jc,useCallback:x_,useContext:Vn,useEffect:A_,useImperativeHandle:C_,useInsertionEffect:S_,useLayoutEffect:I_,useMemo:P_,useReducer:Id,useRef:w_,useState:function(){return Id(gs)},useDebugValue:xd,useDeferredValue:function(n,r){var o=en();return be===null?Pd(o,n,r):O_(o,be.memoizedState,n,r)},useTransition:function(){var n=Id(gs)[0],r=en().memoizedState;return[typeof n=="boolean"?n:Iu(n),r]},useSyncExternalStore:a_,useId:N_,useHostTransitionStatus:Ld,useFormState:E_,useActionState:E_,useOptimistic:function(n,r){var o=en();return be!==null?f_(o,be,n,r):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:Ad,useCacheRefresh:k_},bl=null,xu=0;function sh(n){var r=xu;return xu+=1,bl===null&&(bl=[]),Wg(bl,n,r)}function Pu(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function ah(n,r){throw r.$$typeof===C?Error(a(525)):(n=Object.prototype.toString.call(r),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function q_(n){var r=n._init;return r(n._payload)}function j_(n){function r(G,j){if(n){var Y=G.deletions;Y===null?(G.deletions=[j],G.flags|=16):Y.push(j)}}function o(G,j){if(!n)return null;for(;j!==null;)r(G,j),j=j.sibling;return null}function c(G){for(var j=new Map;G!==null;)G.key!==null?j.set(G.key,G):j.set(G.index,G),G=G.sibling;return j}function p(G,j){return G=$i(G,j),G.index=0,G.sibling=null,G}function g(G,j,Y){return G.index=Y,n?(Y=G.alternate,Y!==null?(Y=Y.index,Y<j?(G.flags|=67108866,j):Y):(G.flags|=67108866,j)):(G.flags|=1048576,j)}function A(G){return n&&G.alternate===null&&(G.flags|=67108866),G}function R(G,j,Y,ut){return j===null||j.tag!==6?(j=_u(Y,G.mode,ut),j.return=G,j):(j=p(j,Y),j.return=G,j)}function k(G,j,Y,ut){var Rt=Y.type;return Rt===q?lt(G,j,Y.props.children,ut,Y.key):j!==null&&(j.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===O&&q_(Rt)===j.type)?(j=p(j,Y.props),Pu(j,Y),j.return=G,j):(j=bo(Y.type,Y.key,Y.props,null,G.mode,ut),Pu(j,Y),j.return=G,j)}function X(G,j,Y,ut){return j===null||j.tag!==4||j.stateNode.containerInfo!==Y.containerInfo||j.stateNode.implementation!==Y.implementation?(j=pl(Y,G.mode,ut),j.return=G,j):(j=p(j,Y.children||[]),j.return=G,j)}function lt(G,j,Y,ut,Rt){return j===null||j.tag!==7?(j=zr(Y,G.mode,ut,Rt),j.return=G,j):(j=p(j,Y),j.return=G,j)}function ct(G,j,Y){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=_u(""+j,G.mode,Y),j.return=G,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case P:return Y=bo(j.type,j.key,j.props,null,G.mode,Y),Pu(Y,j),Y.return=G,Y;case U:return j=pl(j,G.mode,Y),j.return=G,j;case O:var ut=j._init;return j=ut(j._payload),ct(G,j,Y)}if(Ie(j)||F(j))return j=zr(j,G.mode,Y,null),j.return=G,j;if(typeof j.then=="function")return ct(G,sh(j),Y);if(j.$$typeof===it)return ct(G,Zc(G,j),Y);ah(G,j)}return null}function tt(G,j,Y,ut){var Rt=j!==null?j.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Rt!==null?null:R(G,j,""+Y,ut);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case P:return Y.key===Rt?k(G,j,Y,ut):null;case U:return Y.key===Rt?X(G,j,Y,ut):null;case O:return Rt=Y._init,Y=Rt(Y._payload),tt(G,j,Y,ut)}if(Ie(Y)||F(Y))return Rt!==null?null:lt(G,j,Y,ut,null);if(typeof Y.then=="function")return tt(G,j,sh(Y),ut);if(Y.$$typeof===it)return tt(G,j,Zc(G,Y),ut);ah(G,Y)}return null}function et(G,j,Y,ut,Rt){if(typeof ut=="string"&&ut!==""||typeof ut=="number"||typeof ut=="bigint")return G=G.get(Y)||null,R(j,G,""+ut,Rt);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case P:return G=G.get(ut.key===null?Y:ut.key)||null,k(j,G,ut,Rt);case U:return G=G.get(ut.key===null?Y:ut.key)||null,X(j,G,ut,Rt);case O:var Xt=ut._init;return ut=Xt(ut._payload),et(G,j,Y,ut,Rt)}if(Ie(ut)||F(ut))return G=G.get(Y)||null,lt(j,G,ut,Rt,null);if(typeof ut.then=="function")return et(G,j,Y,sh(ut),Rt);if(ut.$$typeof===it)return et(G,j,Y,Zc(j,ut),Rt);ah(j,ut)}return null}function Ut(G,j,Y,ut){for(var Rt=null,Xt=null,Lt=j,kt=j=0,vn=null;Lt!==null&&kt<Y.length;kt++){Lt.index>kt?(vn=Lt,Lt=null):vn=Lt.sibling;var he=tt(G,Lt,Y[kt],ut);if(he===null){Lt===null&&(Lt=vn);break}n&&Lt&&he.alternate===null&&r(G,Lt),j=g(he,j,kt),Xt===null?Rt=he:Xt.sibling=he,Xt=he,Lt=vn}if(kt===Y.length)return o(G,Lt),Bt&&K(G,kt),Rt;if(Lt===null){for(;kt<Y.length;kt++)Lt=ct(G,Y[kt],ut),Lt!==null&&(j=g(Lt,j,kt),Xt===null?Rt=Lt:Xt.sibling=Lt,Xt=Lt);return Bt&&K(G,kt),Rt}for(Lt=c(Lt);kt<Y.length;kt++)vn=et(Lt,G,kt,Y[kt],ut),vn!==null&&(n&&vn.alternate!==null&&Lt.delete(vn.key===null?kt:vn.key),j=g(vn,j,kt),Xt===null?Rt=vn:Xt.sibling=vn,Xt=vn);return n&&Lt.forEach(function(Pa){return r(G,Pa)}),Bt&&K(G,kt),Rt}function Nt(G,j,Y,ut){if(Y==null)throw Error(a(151));for(var Rt=null,Xt=null,Lt=j,kt=j=0,vn=null,he=Y.next();Lt!==null&&!he.done;kt++,he=Y.next()){Lt.index>kt?(vn=Lt,Lt=null):vn=Lt.sibling;var Pa=tt(G,Lt,he.value,ut);if(Pa===null){Lt===null&&(Lt=vn);break}n&&Lt&&Pa.alternate===null&&r(G,Lt),j=g(Pa,j,kt),Xt===null?Rt=Pa:Xt.sibling=Pa,Xt=Pa,Lt=vn}if(he.done)return o(G,Lt),Bt&&K(G,kt),Rt;if(Lt===null){for(;!he.done;kt++,he=Y.next())he=ct(G,he.value,ut),he!==null&&(j=g(he,j,kt),Xt===null?Rt=he:Xt.sibling=he,Xt=he);return Bt&&K(G,kt),Rt}for(Lt=c(Lt);!he.done;kt++,he=Y.next())he=et(Lt,G,kt,he.value,ut),he!==null&&(n&&he.alternate!==null&&Lt.delete(he.key===null?kt:he.key),j=g(he,j,kt),Xt===null?Rt=he:Xt.sibling=he,Xt=he);return n&&Lt.forEach(function(vA){return r(G,vA)}),Bt&&K(G,kt),Rt}function Se(G,j,Y,ut){if(typeof Y=="object"&&Y!==null&&Y.type===q&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case P:t:{for(var Rt=Y.key;j!==null;){if(j.key===Rt){if(Rt=Y.type,Rt===q){if(j.tag===7){o(G,j.sibling),ut=p(j,Y.props.children),ut.return=G,G=ut;break t}}else if(j.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===O&&q_(Rt)===j.type){o(G,j.sibling),ut=p(j,Y.props),Pu(ut,Y),ut.return=G,G=ut;break t}o(G,j);break}else r(G,j);j=j.sibling}Y.type===q?(ut=zr(Y.props.children,G.mode,ut,Y.key),ut.return=G,G=ut):(ut=bo(Y.type,Y.key,Y.props,null,G.mode,ut),Pu(ut,Y),ut.return=G,G=ut)}return A(G);case U:t:{for(Rt=Y.key;j!==null;){if(j.key===Rt)if(j.tag===4&&j.stateNode.containerInfo===Y.containerInfo&&j.stateNode.implementation===Y.implementation){o(G,j.sibling),ut=p(j,Y.children||[]),ut.return=G,G=ut;break t}else{o(G,j);break}else r(G,j);j=j.sibling}ut=pl(Y,G.mode,ut),ut.return=G,G=ut}return A(G);case O:return Rt=Y._init,Y=Rt(Y._payload),Se(G,j,Y,ut)}if(Ie(Y))return Ut(G,j,Y,ut);if(F(Y)){if(Rt=F(Y),typeof Rt!="function")throw Error(a(150));return Y=Rt.call(Y),Nt(G,j,Y,ut)}if(typeof Y.then=="function")return Se(G,j,sh(Y),ut);if(Y.$$typeof===it)return Se(G,j,Zc(G,Y),ut);ah(G,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,j!==null&&j.tag===6?(o(G,j.sibling),ut=p(j,Y),ut.return=G,G=ut):(o(G,j),ut=_u(Y,G.mode,ut),ut.return=G,G=ut),A(G)):o(G,j)}return function(G,j,Y,ut){try{xu=0;var Rt=Se(G,j,Y,ut);return bl=null,Rt}catch(Lt){if(Lt===Tu||Lt===Kc)throw Lt;var Xt=Qn(29,Lt,null,G.mode);return Xt.lanes=ut,Xt.return=G,Xt}finally{}}}var Al=j_(!0),F_=j_(!1),Yi=ot(null),Br=null;function pa(n){var r=n.alternate;mt(ln,ln.current&1),mt(Yi,n),Br===null&&(r===null||vl.current!==null||r.memoizedState!==null)&&(Br=n)}function G_(n){if(n.tag===22){if(mt(ln,ln.current),mt(Yi,n),Br===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(Br=n)}}else ga()}function ga(){mt(ln,ln.current),mt(Yi,Yi.current)}function _s(n){gt(Yi),Br===n&&(Br=null),gt(ln)}var ln=ot(0);function oh(n){for(var r=n;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||bm(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Dd(n,r,o,c){r=n.memoizedState,o=o(c,r),o=o==null?r:S({},r,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Nd={enqueueSetState:function(n,r,o){n=n._reactInternals;var c=Ci(),p=fa(c);p.payload=r,o!=null&&(p.callback=o),r=da(n,p,c),r!==null&&(xi(r,n,c),wu(r,n,c))},enqueueReplaceState:function(n,r,o){n=n._reactInternals;var c=Ci(),p=fa(c);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=da(n,p,c),r!==null&&(xi(r,n,c),wu(r,n,c))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var o=Ci(),c=fa(o);c.tag=2,r!=null&&(c.callback=r),r=da(n,c,o),r!==null&&(xi(r,n,o),wu(r,n,o))}};function Z_(n,r,o,c,p,g,A){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,g,A):r.prototype&&r.prototype.isPureReactComponent?!$n(o,c)||!$n(p,g):!0}function $_(n,r,o,c){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==n&&Nd.enqueueReplaceState(r,r.state,null)}function Po(n,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(n=n.defaultProps){o===r&&(o=S({},o));for(var p in n)o[p]===void 0&&(o[p]=n[p])}return o}var lh=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function K_(n){lh(n)}function Y_(n){console.error(n)}function Q_(n){lh(n)}function uh(n,r){try{var o=n.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function X_(n,r,o){try{var c=n.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function kd(n,r,o){return o=fa(o),o.tag=3,o.payload={element:null},o.callback=function(){uh(n,r)},o}function W_(n){return n=fa(n),n.tag=3,n}function J_(n,r,o,c){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var g=c.value;n.payload=function(){return p(g)},n.callback=function(){X_(r,o,c)}}var A=o.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(n.callback=function(){X_(r,o,c),typeof p!="function"&&(wa===null?wa=new Set([this]):wa.add(this));var R=c.stack;this.componentDidCatch(c.value,{componentStack:R!==null?R:""})})}function v1(n,r,o,c,p){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&Io(r,o,p,!0),o=Yi.current,o!==null){switch(o.tag){case 13:return Br===null?am():o.alternate===null&&Ge===0&&(Ge=3),o.flags&=-257,o.flags|=65536,o.lanes=p,c===hd?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),lm(n,c,p)),!1;case 22:return o.flags|=65536,c===hd?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),lm(n,c,p)),!1}throw Error(a(435,o.tag))}return lm(n,c,p),am(),!1}if(Bt)return r=Yi.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=p,c!==gn&&(n=Error(a(422),{cause:c}),ca(Kn(n,o)))):(c!==gn&&(r=Error(a(423),{cause:c}),ca(Kn(r,o))),n=n.current.alternate,n.flags|=65536,p&=-p,n.lanes|=p,c=Kn(c,o),p=kd(n.stateNode,c,p),md(n,p),Ge!==4&&(Ge=2)),!1;var g=Error(a(520),{cause:c});if(g=Kn(g,o),Vu===null?Vu=[g]:Vu.push(g),Ge!==4&&(Ge=2),r===null)return!0;c=Kn(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,n=p&-p,o.lanes|=n,n=kd(o.stateNode,c,n),md(o,n),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(wa===null||!wa.has(g))))return o.flags|=65536,p&=-p,o.lanes|=p,p=W_(p),J_(p,n,o,c),md(o,p),!1}o=o.return}while(o!==null);return!1}var ty=Error(a(461)),_n=!1;function An(n,r,o,c){r.child=n===null?F_(r,null,o,c):Al(r,n.child,o,c)}function ey(n,r,o,c,p){o=o.render;var g=r.ref;if("ref"in c){var A={};for(var R in c)R!=="ref"&&(A[R]=c[R])}else A=c;return Ro(r),c=vd(n,r,o,A,g,p),R=Td(),n!==null&&!_n?(Ed(n,r,p),ys(n,r,p)):(Bt&&R&&ft(r),r.flags|=1,An(n,r,c,p),r.child)}function ny(n,r,o,c,p){if(n===null){var g=o.type;return typeof g=="function"&&!ml(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,iy(n,r,g,c,p)):(n=bo(o.type,null,c,r,r.mode,p),n.ref=r.ref,n.return=r,r.child=n)}if(g=n.child,!Fd(n,p)){var A=g.memoizedProps;if(o=o.compare,o=o!==null?o:$n,o(A,c)&&n.ref===r.ref)return ys(n,r,p)}return r.flags|=1,n=$i(g,c),n.ref=r.ref,n.return=r,r.child=n}function iy(n,r,o,c,p){if(n!==null){var g=n.memoizedProps;if($n(g,c)&&n.ref===r.ref)if(_n=!1,r.pendingProps=c=g,Fd(n,p))(n.flags&131072)!==0&&(_n=!0);else return r.lanes=n.lanes,ys(n,r,p)}return Vd(n,r,o,c,p)}function ry(n,r,o){var c=r.pendingProps,p=c.children,g=n!==null?n.memoizedState:null;if(c.mode==="hidden"){if((r.flags&128)!==0){if(c=g!==null?g.baseLanes|o:o,n!==null){for(p=r.child=n.child,g=0;p!==null;)g=g|p.lanes|p.childLanes,p=p.sibling;r.childLanes=g&~c}else r.childLanes=0,r.child=null;return sy(n,r,c,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&$c(r,g!==null?g.cachePool:null),g!==null?i_(r,g):gd(),G_(r);else return r.lanes=r.childLanes=536870912,sy(n,r,g!==null?g.baseLanes|o:o,o)}else g!==null?($c(r,g.cachePool),i_(r,g),ga(),r.memoizedState=null):(n!==null&&$c(r,null),gd(),ga());return An(n,r,p,o),r.child}function sy(n,r,o,c){var p=cd();return p=p===null?null:{parent:on._currentValue,pool:p},r.memoizedState={baseLanes:o,cachePool:p},n!==null&&$c(r,null),gd(),G_(r),n!==null&&Io(n,r,c,!0),null}function ch(n,r){var o=r.ref;if(o===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(n===null||n.ref!==o)&&(r.flags|=4194816)}}function Vd(n,r,o,c,p){return Ro(r),o=vd(n,r,o,c,void 0,p),c=Td(),n!==null&&!_n?(Ed(n,r,p),ys(n,r,p)):(Bt&&c&&ft(r),r.flags|=1,An(n,r,o,p),r.child)}function ay(n,r,o,c,p,g){return Ro(r),r.updateQueue=null,o=s_(r,c,o,p),r_(n),c=Td(),n!==null&&!_n?(Ed(n,r,g),ys(n,r,g)):(Bt&&c&&ft(r),r.flags|=1,An(n,r,o,g),r.child)}function oy(n,r,o,c,p){if(Ro(r),r.stateNode===null){var g=ms,A=o.contextType;typeof A=="object"&&A!==null&&(g=Vn(A)),g=new o(c,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Nd,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=c,g.state=r.memoizedState,g.refs={},fd(r),A=o.contextType,g.context=typeof A=="object"&&A!==null?Vn(A):ms,g.state=r.memoizedState,A=o.getDerivedStateFromProps,typeof A=="function"&&(Dd(r,o,A,c),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(A=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),A!==g.state&&Nd.enqueueReplaceState(g,g.state,null),Au(r,c,g,p),bu(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(n===null){g=r.stateNode;var R=r.memoizedProps,k=Po(o,R);g.props=k;var X=g.context,lt=o.contextType;A=ms,typeof lt=="object"&&lt!==null&&(A=Vn(lt));var ct=o.getDerivedStateFromProps;lt=typeof ct=="function"||typeof g.getSnapshotBeforeUpdate=="function",R=r.pendingProps!==R,lt||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(R||X!==A)&&$_(r,g,c,A),ha=!1;var tt=r.memoizedState;g.state=tt,Au(r,c,g,p),bu(),X=r.memoizedState,R||tt!==X||ha?(typeof ct=="function"&&(Dd(r,o,ct,c),X=r.memoizedState),(k=ha||Z_(r,o,k,c,tt,X,A))?(lt||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=X),g.props=c,g.state=X,g.context=A,c=k):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{g=r.stateNode,dd(n,r),A=r.memoizedProps,lt=Po(o,A),g.props=lt,ct=r.pendingProps,tt=g.context,X=o.contextType,k=ms,typeof X=="object"&&X!==null&&(k=Vn(X)),R=o.getDerivedStateFromProps,(X=typeof R=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A!==ct||tt!==k)&&$_(r,g,c,k),ha=!1,tt=r.memoizedState,g.state=tt,Au(r,c,g,p),bu();var et=r.memoizedState;A!==ct||tt!==et||ha||n!==null&&n.dependencies!==null&&Gc(n.dependencies)?(typeof R=="function"&&(Dd(r,o,R,c),et=r.memoizedState),(lt=ha||Z_(r,o,lt,c,tt,et,k)||n!==null&&n.dependencies!==null&&Gc(n.dependencies))?(X||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,et,k),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,et,k)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||A===n.memoizedProps&&tt===n.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&tt===n.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=et),g.props=c,g.state=et,g.context=k,c=lt):(typeof g.componentDidUpdate!="function"||A===n.memoizedProps&&tt===n.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&tt===n.memoizedState||(r.flags|=1024),c=!1)}return g=c,ch(n,r),c=(r.flags&128)!==0,g||c?(g=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,n!==null&&c?(r.child=Al(r,n.child,null,p),r.child=Al(r,null,o,p)):An(n,r,o,p),r.memoizedState=g.state,n=r.child):n=ys(n,r,p),n}function ly(n,r,o,c){return ua(),r.flags|=256,An(n,r,o,c),r.child}var zd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ud(n){return{baseLanes:n,cachePool:Yg()}}function Bd(n,r,o){return n=n!==null?n.childLanes&~o:0,r&&(n|=Qi),n}function uy(n,r,o){var c=r.pendingProps,p=!1,g=(r.flags&128)!==0,A;if((A=g)||(A=n!==null&&n.memoizedState===null?!1:(ln.current&2)!==0),A&&(p=!0,r.flags&=-129),A=(r.flags&32)!==0,r.flags&=-33,n===null){if(Bt){if(p?pa(r):ga(),Bt){var R=Pt,k;if(k=R){t:{for(k=R,R=Be;k.nodeType!==8;){if(!R){R=null;break t}if(k=yr(k.nextSibling),k===null){R=null;break t}}R=k}R!==null?(r.memoizedState={dehydrated:R,treeContext:w!==null?{id:I,overflow:N}:null,retryLane:536870912,hydrationErrors:null},k=Qn(18,null,null,0),k.stateNode=R,k.return=r,r.child=k,It=r,Pt=null,k=!0):k=!1}k||ni(r)}if(R=r.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return bm(R)?r.lanes=32:r.lanes=536870912,null;_s(r)}return R=c.children,c=c.fallback,p?(ga(),p=r.mode,R=hh({mode:"hidden",children:R},p),c=zr(c,p,o,null),R.return=r,c.return=r,R.sibling=c,r.child=R,p=r.child,p.memoizedState=Ud(o),p.childLanes=Bd(n,A,o),r.memoizedState=zd,c):(pa(r),Hd(r,R))}if(k=n.memoizedState,k!==null&&(R=k.dehydrated,R!==null)){if(g)r.flags&256?(pa(r),r.flags&=-257,r=qd(n,r,o)):r.memoizedState!==null?(ga(),r.child=n.child,r.flags|=128,r=null):(ga(),p=c.fallback,R=r.mode,c=hh({mode:"visible",children:c.children},R),p=zr(p,R,o,null),p.flags|=2,c.return=r,p.return=r,c.sibling=p,r.child=c,Al(r,n.child,null,o),c=r.child,c.memoizedState=Ud(o),c.childLanes=Bd(n,A,o),r.memoizedState=zd,r=p);else if(pa(r),bm(R)){if(A=R.nextSibling&&R.nextSibling.dataset,A)var X=A.dgst;A=X,c=Error(a(419)),c.stack="",c.digest=A,ca({value:c,source:null,stack:null}),r=qd(n,r,o)}else if(_n||Io(n,r,o,!1),A=(o&n.childLanes)!==0,_n||A){if(A=De,A!==null&&(c=o&-o,c=(c&42)!==0?1:Ir(c),c=(c&(A.suspendedLanes|o))!==0?0:c,c!==0&&c!==k.retryLane))throw k.retryLane=c,oa(n,c),xi(A,n,c),ty;R.data==="$?"||am(),r=qd(n,r,o)}else R.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=k.treeContext,Pt=yr(R.nextSibling),It=r,Bt=!0,Me=null,Be=!1,n!==null&&(d[_++]=I,d[_++]=N,d[_++]=w,I=n.id,N=n.overflow,w=r),r=Hd(r,c.children),r.flags|=4096);return r}return p?(ga(),p=c.fallback,R=r.mode,k=n.child,X=k.sibling,c=$i(k,{mode:"hidden",children:c.children}),c.subtreeFlags=k.subtreeFlags&65011712,X!==null?p=$i(X,p):(p=zr(p,R,o,null),p.flags|=2),p.return=r,c.return=r,c.sibling=p,r.child=c,c=p,p=r.child,R=n.child.memoizedState,R===null?R=Ud(o):(k=R.cachePool,k!==null?(X=on._currentValue,k=k.parent!==X?{parent:X,pool:X}:k):k=Yg(),R={baseLanes:R.baseLanes|o,cachePool:k}),p.memoizedState=R,p.childLanes=Bd(n,A,o),r.memoizedState=zd,c):(pa(r),o=n.child,n=o.sibling,o=$i(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,n!==null&&(A=r.deletions,A===null?(r.deletions=[n],r.flags|=16):A.push(n)),r.child=o,r.memoizedState=null,o)}function Hd(n,r){return r=hh({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function hh(n,r){return n=Qn(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function qd(n,r,o){return Al(r,n.child,null,o),n=Hd(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function cy(n,r,o){n.lanes|=r;var c=n.alternate;c!==null&&(c.lanes|=r),So(n.return,r,o)}function jd(n,r,o,c,p){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:p}:(g.isBackwards=r,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=o,g.tailMode=p)}function hy(n,r,o){var c=r.pendingProps,p=c.revealOrder,g=c.tail;if(An(n,r,c.children,o),c=ln.current,(c&2)!==0)c=c&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&cy(n,o,r);else if(n.tag===19)cy(n,o,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break t;for(;n.sibling===null;){if(n.return===null||n.return===r)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}switch(mt(ln,c),p){case"forwards":for(o=r.child,p=null;o!==null;)n=o.alternate,n!==null&&oh(n)===null&&(p=o),o=o.sibling;o=p,o===null?(p=r.child,r.child=null):(p=o.sibling,o.sibling=null),jd(r,!1,p,o,g);break;case"backwards":for(o=null,p=r.child,r.child=null;p!==null;){if(n=p.alternate,n!==null&&oh(n)===null){r.child=p;break}n=p.sibling,p.sibling=o,o=p,p=n}jd(r,!0,o,null,g);break;case"together":jd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function ys(n,r,o){if(n!==null&&(r.dependencies=n.dependencies),Ea|=r.lanes,(o&r.childLanes)===0)if(n!==null){if(Io(n,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(a(153));if(r.child!==null){for(n=r.child,o=$i(n,n.pendingProps),r.child=o,o.return=r;n.sibling!==null;)n=n.sibling,o=o.sibling=$i(n,n.pendingProps),o.return=r;o.sibling=null}return r.child}function Fd(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Gc(n)))}function T1(n,r,o){switch(r.tag){case 3:re(r,r.stateNode.containerInfo),Ur(r,on,n.memoizedState.cache),ua();break;case 27:case 5:Li(r);break;case 4:re(r,r.stateNode.containerInfo);break;case 10:Ur(r,r.type,r.memoizedProps.value);break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(pa(r),r.flags|=128,null):(o&r.child.childLanes)!==0?uy(n,r,o):(pa(r),n=ys(n,r,o),n!==null?n.sibling:null);pa(r);break;case 19:var p=(n.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(Io(n,r,o,!1),c=(o&r.childLanes)!==0),p){if(c)return hy(n,r,o);r.flags|=128}if(p=r.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),mt(ln,ln.current),c)break;return null;case 22:case 23:return r.lanes=0,ry(n,r,o);case 24:Ur(r,on,n.memoizedState.cache)}return ys(n,r,o)}function fy(n,r,o){if(n!==null)if(n.memoizedProps!==r.pendingProps)_n=!0;else{if(!Fd(n,o)&&(r.flags&128)===0)return _n=!1,T1(n,r,o);_n=(n.flags&131072)!==0}else _n=!1,Bt&&(r.flags&1048576)!==0&&nt(r,u,r.index);switch(r.lanes=0,r.tag){case 16:t:{n=r.pendingProps;var c=r.elementType,p=c._init;if(c=p(c._payload),r.type=c,typeof c=="function")ml(c)?(n=Po(c,n),r.tag=1,r=oy(null,r,c,n,o)):(r.tag=0,r=Vd(null,r,c,n,o));else{if(c!=null){if(p=c.$$typeof,p===_t){r.tag=11,r=ey(null,r,c,n,o);break t}else if(p===V){r.tag=14,r=ny(null,r,c,n,o);break t}}throw r=pe(c)||c,Error(a(306,r,""))}}return r;case 0:return Vd(n,r,r.type,r.pendingProps,o);case 1:return c=r.type,p=Po(c,r.pendingProps),oy(n,r,c,p,o);case 3:t:{if(re(r,r.stateNode.containerInfo),n===null)throw Error(a(387));c=r.pendingProps;var g=r.memoizedState;p=g.element,dd(n,r),Au(r,c,null,o);var A=r.memoizedState;if(c=A.cache,Ur(r,on,c),c!==g.cache&&gl(r,[on],o,!0),bu(),c=A.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:A.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=ly(n,r,c,o);break t}else if(c!==p){p=Kn(Error(a(424)),r),ca(p),r=ly(n,r,c,o);break t}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Pt=yr(n.firstChild),It=r,Bt=!0,Me=null,Be=!0,o=F_(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ua(),c===p){r=ys(n,r,o);break t}An(n,r,c,o)}r=r.child}return r;case 26:return ch(n,r),n===null?(o=gv(r.type,null,r.pendingProps,null))?r.memoizedState=o:Bt||(o=r.type,n=r.pendingProps,c=Sh(Et.current).createElement(o),c[Ze]=r,c[je]=n,In(c,o,n),Ue(c),r.stateNode=c):r.memoizedState=gv(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Li(r),n===null&&Bt&&(c=r.stateNode=dv(r.type,r.pendingProps,Et.current),It=r,Be=!0,p=Pt,Sa(r.type)?(Am=p,Pt=yr(c.firstChild)):Pt=p),An(n,r,r.pendingProps.children,o),ch(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Bt&&((p=c=Pt)&&(c=K1(c,r.type,r.pendingProps,Be),c!==null?(r.stateNode=c,It=r,Pt=yr(c.firstChild),Be=!1,p=!0):p=!1),p||ni(r)),Li(r),p=r.type,g=r.pendingProps,A=n!==null?n.memoizedProps:null,c=g.children,Tm(p,g)?c=null:A!==null&&Tm(p,A)&&(r.flags|=32),r.memoizedState!==null&&(p=vd(n,r,f1,null,null,o),Zu._currentValue=p),ch(n,r),An(n,r,c,o),r.child;case 6:return n===null&&Bt&&((n=o=Pt)&&(o=Y1(o,r.pendingProps,Be),o!==null?(r.stateNode=o,It=r,Pt=null,n=!0):n=!1),n||ni(r)),null;case 13:return uy(n,r,o);case 4:return re(r,r.stateNode.containerInfo),c=r.pendingProps,n===null?r.child=Al(r,null,c,o):An(n,r,c,o),r.child;case 11:return ey(n,r,r.type,r.pendingProps,o);case 7:return An(n,r,r.pendingProps,o),r.child;case 8:return An(n,r,r.pendingProps.children,o),r.child;case 12:return An(n,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,Ur(r,r.type,c.value),An(n,r,c.children,o),r.child;case 9:return p=r.type._context,c=r.pendingProps.children,Ro(r),p=Vn(p),c=c(p),r.flags|=1,An(n,r,c,o),r.child;case 14:return ny(n,r,r.type,r.pendingProps,o);case 15:return iy(n,r,r.type,r.pendingProps,o);case 19:return hy(n,r,o);case 31:return c=r.pendingProps,o=r.mode,c={mode:c.mode,children:c.children},n===null?(o=hh(c,o),o.ref=r.ref,r.child=o,o.return=r,r=o):(o=$i(n.child,c),o.ref=r.ref,r.child=o,o.return=r,r=o),r;case 22:return ry(n,r,o);case 24:return Ro(r),c=Vn(on),n===null?(p=cd(),p===null&&(p=De,g=ld(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=o),p=g),r.memoizedState={parent:c,cache:p},fd(r),Ur(r,on,p)):((n.lanes&o)!==0&&(dd(n,r),Au(r,null,null,o),bu()),p=n.memoizedState,g=r.memoizedState,p.parent!==c?(p={parent:c,cache:c},r.memoizedState=p,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=p),Ur(r,on,c)):(c=g.cache,Ur(r,on,c),c!==p.cache&&gl(r,[on],o,!0))),An(n,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}function vs(n){n.flags|=4}function dy(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Ev(r)){if(r=Yi.current,r!==null&&((oe&4194048)===oe?Br!==null:(oe&62914560)!==oe&&(oe&536870912)===0||r!==Br))throw Eu=hd,Qg;n.flags|=8192}}function fh(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Bs():536870912,n.lanes|=r,Cl|=r)}function Ou(n,r){if(!Bt)switch(n.tailMode){case"hidden":r=n.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function He(n){var r=n.alternate!==null&&n.alternate.child===n.child,o=0,c=0;if(r)for(var p=n.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=n,p=p.sibling;else for(p=n.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=n,p=p.sibling;return n.subtreeFlags|=c,n.childLanes=o,r}function E1(n,r,o){var c=r.pendingProps;switch(bt(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(r),null;case 1:return He(r),null;case 3:return o=r.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),gr(on),li(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(Ao(r)?vs(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Fc())),He(r),null;case 26:return o=r.memoizedState,n===null?(vs(r),o!==null?(He(r),dy(r,o)):(He(r),r.flags&=-16777217)):o?o!==n.memoizedState?(vs(r),He(r),dy(r,o)):(He(r),r.flags&=-16777217):(n.memoizedProps!==c&&vs(r),He(r),r.flags&=-16777217),null;case 27:ui(r),o=Et.current;var p=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==c&&vs(r);else{if(!c){if(r.stateNode===null)throw Error(a(166));return He(r),null}n=wt.current,Ao(r)?qc(r):(n=dv(p,c,o),r.stateNode=n,vs(r))}return He(r),null;case 5:if(ui(r),o=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==c&&vs(r);else{if(!c){if(r.stateNode===null)throw Error(a(166));return He(r),null}if(n=wt.current,Ao(r))qc(r);else{switch(p=Sh(Et.current),n){case 1:n=p.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=p.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=p.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?n.multiple=!0:c.size&&(n.size=c.size);break;default:n=typeof c.is=="string"?p.createElement(o,{is:c.is}):p.createElement(o)}}n[Ze]=r,n[je]=c;t:for(p=r.child;p!==null;){if(p.tag===5||p.tag===6)n.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===r)break t;for(;p.sibling===null;){if(p.return===null||p.return===r)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}r.stateNode=n;t:switch(In(n,o,c),o){case"button":case"input":case"select":case"textarea":n=!!c.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&vs(r)}}return He(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==c&&vs(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(a(166));if(n=Et.current,Ao(r)){if(n=r.stateNode,o=r.memoizedProps,c=null,p=It,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}n[Ze]=r,n=!!(n.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||av(n.nodeValue,o)),n||ni(r)}else n=Sh(n).createTextNode(c),n[Ze]=r,r.stateNode=n}return He(r),null;case 13:if(c=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(p=Ao(r),c!==null&&c.dehydrated!==null){if(n===null){if(!p)throw Error(a(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(a(317));p[Ze]=r}else ua(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;He(r),p=!1}else p=Fc(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=p),p=!0;if(!p)return r.flags&256?(_s(r),r):(_s(r),null)}if(_s(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=c!==null,n=n!==null&&n.memoizedState!==null,o){c=r.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==p&&(c.flags|=2048)}return o!==n&&o&&(r.child.flags|=8192),fh(r,r.updateQueue),He(r),null;case 4:return li(),n===null&&pm(r.stateNode.containerInfo),He(r),null;case 10:return gr(r.type),He(r),null;case 19:if(gt(ln),p=r.memoizedState,p===null)return He(r),null;if(c=(r.flags&128)!==0,g=p.rendering,g===null)if(c)Ou(p,!1);else{if(Ge!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(g=oh(n),g!==null){for(r.flags|=128,Ou(p,!1),n=g.updateQueue,r.updateQueue=n,fh(r,n),r.subtreeFlags=0,n=o,o=r.child;o!==null;)gu(o,n),o=o.sibling;return mt(ln,ln.current&1|2),r.child}n=n.sibling}p.tail!==null&&Pn()>ph&&(r.flags|=128,c=!0,Ou(p,!1),r.lanes=4194304)}else{if(!c)if(n=oh(g),n!==null){if(r.flags|=128,c=!0,n=n.updateQueue,r.updateQueue=n,fh(r,n),Ou(p,!0),p.tail===null&&p.tailMode==="hidden"&&!g.alternate&&!Bt)return He(r),null}else 2*Pn()-p.renderingStartTime>ph&&o!==536870912&&(r.flags|=128,c=!0,Ou(p,!1),r.lanes=4194304);p.isBackwards?(g.sibling=r.child,r.child=g):(n=p.last,n!==null?n.sibling=g:r.child=g,p.last=g)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=Pn(),r.sibling=null,n=ln.current,mt(ln,c?n&1|2:n&1),r):(He(r),null);case 22:case 23:return _s(r),_d(),c=r.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(He(r),r.subtreeFlags&6&&(r.flags|=8192)):He(r),o=r.updateQueue,o!==null&&fh(r,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),n!==null&&gt(Co),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),gr(on),He(r),null;case 25:return null;case 30:return null}throw Error(a(156,r.tag))}function w1(n,r){switch(bt(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return gr(on),li(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return ui(r),null;case 13:if(_s(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(a(340));ua()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return gt(ln),null;case 4:return li(),null;case 10:return gr(r.type),null;case 22:case 23:return _s(r),_d(),n!==null&&gt(Co),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return gr(on),null;case 25:return null;default:return null}}function my(n,r){switch(bt(r),r.tag){case 3:gr(on),li();break;case 26:case 27:case 5:ui(r);break;case 4:li();break;case 13:_s(r);break;case 19:gt(ln);break;case 10:gr(r.type);break;case 22:case 23:_s(r),_d(),n!==null&&gt(Co);break;case 24:gr(on)}}function Lu(n,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var p=c.next;o=p;do{if((o.tag&n)===n){c=void 0;var g=o.create,A=o.inst;c=g(),A.destroy=c}o=o.next}while(o!==p)}}catch(R){Ce(r,r.return,R)}}function _a(n,r,o){try{var c=r.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var g=p.next;c=g;do{if((c.tag&n)===n){var A=c.inst,R=A.destroy;if(R!==void 0){A.destroy=void 0,p=r;var k=o,X=R;try{X()}catch(lt){Ce(p,k,lt)}}}c=c.next}while(c!==g)}}catch(lt){Ce(r,r.return,lt)}}function py(n){var r=n.updateQueue;if(r!==null){var o=n.stateNode;try{n_(r,o)}catch(c){Ce(n,n.return,c)}}}function gy(n,r,o){o.props=Po(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(c){Ce(n,r,c)}}function Mu(n,r){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof o=="function"?n.refCleanup=o(c):o.current=c}}catch(p){Ce(n,r,p)}}function Hr(n,r){var o=n.ref,c=n.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(p){Ce(n,r,p)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){Ce(n,r,p)}else o.current=null}function _y(n){var r=n.type,o=n.memoizedProps,c=n.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(p){Ce(n,n.return,p)}}function Gd(n,r,o){try{var c=n.stateNode;j1(c,n.type,o,r),c[je]=r}catch(p){Ce(n,n.return,p)}}function yy(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Sa(n.type)||n.tag===4}function Zd(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||yy(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Sa(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function $d(n,r,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(n),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Ah));else if(c!==4&&(c===27&&Sa(n.type)&&(o=n.stateNode,r=null),n=n.child,n!==null))for($d(n,r,o),n=n.sibling;n!==null;)$d(n,r,o),n=n.sibling}function dh(n,r,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?o.insertBefore(n,r):o.appendChild(n);else if(c!==4&&(c===27&&Sa(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(dh(n,r,o),n=n.sibling;n!==null;)dh(n,r,o),n=n.sibling}function vy(n){var r=n.stateNode,o=n.memoizedProps;try{for(var c=n.type,p=r.attributes;p.length;)r.removeAttributeNode(p[0]);In(r,c,o),r[Ze]=n,r[je]=o}catch(g){Ce(n,n.return,g)}}var Ts=!1,Ye=!1,Kd=!1,Ty=typeof WeakSet=="function"?WeakSet:Set,yn=null;function b1(n,r){if(n=n.containerInfo,ym=Oh,n=_o(n),yo(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else t:{o=(o=n.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var p=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var A=0,R=-1,k=-1,X=0,lt=0,ct=n,tt=null;e:for(;;){for(var et;ct!==o||p!==0&&ct.nodeType!==3||(R=A+p),ct!==g||c!==0&&ct.nodeType!==3||(k=A+c),ct.nodeType===3&&(A+=ct.nodeValue.length),(et=ct.firstChild)!==null;)tt=ct,ct=et;for(;;){if(ct===n)break e;if(tt===o&&++X===p&&(R=A),tt===g&&++lt===c&&(k=A),(et=ct.nextSibling)!==null)break;ct=tt,tt=ct.parentNode}ct=et}o=R===-1||k===-1?null:{start:R,end:k}}else o=null}o=o||{start:0,end:0}}else o=null;for(vm={focusedElem:n,selectionRange:o},Oh=!1,yn=r;yn!==null;)if(r=yn,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,yn=n;else for(;yn!==null;){switch(r=yn,g=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&g!==null){n=void 0,o=r,p=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var Ut=Po(o.type,p,o.elementType===o.type);n=c.getSnapshotBeforeUpdate(Ut,g),c.__reactInternalSnapshotBeforeUpdate=n}catch(Nt){Ce(o,o.return,Nt)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,o=n.nodeType,o===9)wm(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":wm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=r.sibling,n!==null){n.return=r.return,yn=n;break}yn=r.return}}function Ey(n,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:ya(n,o),c&4&&Lu(5,o);break;case 1:if(ya(n,o),c&4)if(n=o.stateNode,r===null)try{n.componentDidMount()}catch(A){Ce(o,o.return,A)}else{var p=Po(o.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(p,r,n.__reactInternalSnapshotBeforeUpdate)}catch(A){Ce(o,o.return,A)}}c&64&&py(o),c&512&&Mu(o,o.return);break;case 3:if(ya(n,o),c&64&&(n=o.updateQueue,n!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{n_(n,r)}catch(A){Ce(o,o.return,A)}}break;case 27:r===null&&c&4&&vy(o);case 26:case 5:ya(n,o),r===null&&c&4&&_y(o),c&512&&Mu(o,o.return);break;case 12:ya(n,o);break;case 13:ya(n,o),c&4&&Ay(n,o),c&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=L1.bind(null,o),Q1(n,o))));break;case 22:if(c=o.memoizedState!==null||Ts,!c){r=r!==null&&r.memoizedState!==null||Ye,p=Ts;var g=Ye;Ts=c,(Ye=r)&&!g?va(n,o,(o.subtreeFlags&8772)!==0):ya(n,o),Ts=p,Ye=g}break;case 30:break;default:ya(n,o)}}function wy(n){var r=n.alternate;r!==null&&(n.alternate=null,wy(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&rr(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ze=null,ri=!1;function Es(n,r,o){for(o=o.child;o!==null;)by(n,r,o),o=o.sibling}function by(n,r,o){if(ue&&typeof ue.onCommitFiberUnmount=="function")try{ue.onCommitFiberUnmount(xe,o)}catch{}switch(o.tag){case 26:Ye||Hr(o,r),Es(n,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Ye||Hr(o,r);var c=ze,p=ri;Sa(o.type)&&(ze=o.stateNode,ri=!1),Es(n,r,o),qu(o.stateNode),ze=c,ri=p;break;case 5:Ye||Hr(o,r);case 6:if(c=ze,p=ri,ze=null,Es(n,r,o),ze=c,ri=p,ze!==null)if(ri)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(o.stateNode)}catch(g){Ce(o,r,g)}else try{ze.removeChild(o.stateNode)}catch(g){Ce(o,r,g)}break;case 18:ze!==null&&(ri?(n=ze,hv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),Qu(n)):hv(ze,o.stateNode));break;case 4:c=ze,p=ri,ze=o.stateNode.containerInfo,ri=!0,Es(n,r,o),ze=c,ri=p;break;case 0:case 11:case 14:case 15:Ye||_a(2,o,r),Ye||_a(4,o,r),Es(n,r,o);break;case 1:Ye||(Hr(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&gy(o,r,c)),Es(n,r,o);break;case 21:Es(n,r,o);break;case 22:Ye=(c=Ye)||o.memoizedState!==null,Es(n,r,o),Ye=c;break;default:Es(n,r,o)}}function Ay(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Qu(n)}catch(o){Ce(r,r.return,o)}}function A1(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new Ty),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new Ty),r;default:throw Error(a(435,n.tag))}}function Yd(n,r){var o=A1(n);r.forEach(function(c){var p=M1.bind(null,n,c);o.has(c)||(o.add(c),c.then(p,p))})}function Si(n,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var p=o[c],g=n,A=r,R=A;t:for(;R!==null;){switch(R.tag){case 27:if(Sa(R.type)){ze=R.stateNode,ri=!1;break t}break;case 5:ze=R.stateNode,ri=!1;break t;case 3:case 4:ze=R.stateNode.containerInfo,ri=!0;break t}R=R.return}if(ze===null)throw Error(a(160));by(g,A,p),ze=null,ri=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Sy(r,n),r=r.sibling}var _r=null;function Sy(n,r){var o=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Si(r,n),Ii(n),c&4&&(_a(3,n,n.return),Lu(3,n),_a(5,n,n.return));break;case 1:Si(r,n),Ii(n),c&512&&(Ye||o===null||Hr(o,o.return)),c&64&&Ts&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var p=_r;if(Si(r,n),Ii(n),c&512&&(Ye||o===null||Hr(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=n.memoizedState,o===null)if(c===null)if(n.stateNode===null){t:{c=n.type,o=n.memoizedProps,p=p.ownerDocument||p;e:switch(c){case"title":g=p.getElementsByTagName("title")[0],(!g||g[Cr]||g[Ze]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(c),p.head.insertBefore(g,p.querySelector("head > title"))),In(g,c,o),g[Ze]=n,Ue(g),c=g;break t;case"link":var A=vv("link","href",p).get(c+(o.href||""));if(A){for(var R=0;R<A.length;R++)if(g=A[R],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){A.splice(R,1);break e}}g=p.createElement(c),In(g,c,o),p.head.appendChild(g);break;case"meta":if(A=vv("meta","content",p).get(c+(o.content||""))){for(R=0;R<A.length;R++)if(g=A[R],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){A.splice(R,1);break e}}g=p.createElement(c),In(g,c,o),p.head.appendChild(g);break;default:throw Error(a(468,c))}g[Ze]=n,Ue(g),c=g}n.stateNode=c}else Tv(p,n.type,n.stateNode);else n.stateNode=yv(p,c,n.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?Tv(p,n.type,n.stateNode):yv(p,c,n.memoizedProps)):c===null&&n.stateNode!==null&&Gd(n,n.memoizedProps,o.memoizedProps)}break;case 27:Si(r,n),Ii(n),c&512&&(Ye||o===null||Hr(o,o.return)),o!==null&&c&4&&Gd(n,n.memoizedProps,o.memoizedProps);break;case 5:if(Si(r,n),Ii(n),c&512&&(Ye||o===null||Hr(o,o.return)),n.flags&32){p=n.stateNode;try{dn(p,"")}catch(et){Ce(n,n.return,et)}}c&4&&n.stateNode!=null&&(p=n.memoizedProps,Gd(n,p,o!==null?o.memoizedProps:p)),c&1024&&(Kd=!0);break;case 6:if(Si(r,n),Ii(n),c&4){if(n.stateNode===null)throw Error(a(162));c=n.memoizedProps,o=n.stateNode;try{o.nodeValue=c}catch(et){Ce(n,n.return,et)}}break;case 3:if(Ch=null,p=_r,_r=Ih(r.containerInfo),Si(r,n),_r=p,Ii(n),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Qu(r.containerInfo)}catch(et){Ce(n,n.return,et)}Kd&&(Kd=!1,Iy(n));break;case 4:c=_r,_r=Ih(n.stateNode.containerInfo),Si(r,n),Ii(n),_r=c;break;case 12:Si(r,n),Ii(n);break;case 13:Si(r,n),Ii(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(em=Pn()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Yd(n,c)));break;case 22:p=n.memoizedState!==null;var k=o!==null&&o.memoizedState!==null,X=Ts,lt=Ye;if(Ts=X||p,Ye=lt||k,Si(r,n),Ye=lt,Ts=X,Ii(n),c&8192)t:for(r=n.stateNode,r._visibility=p?r._visibility&-2:r._visibility|1,p&&(o===null||k||Ts||Ye||Oo(n)),o=null,r=n;;){if(r.tag===5||r.tag===26){if(o===null){k=o=r;try{if(g=k.stateNode,p)A=g.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{R=k.stateNode;var ct=k.memoizedProps.style,tt=ct!=null&&ct.hasOwnProperty("display")?ct.display:null;R.style.display=tt==null||typeof tt=="boolean"?"":(""+tt).trim()}}catch(et){Ce(k,k.return,et)}}}else if(r.tag===6){if(o===null){k=r;try{k.stateNode.nodeValue=p?"":k.memoizedProps}catch(et){Ce(k,k.return,et)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break t;for(;r.sibling===null;){if(r.return===null||r.return===n)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=n.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Yd(n,o))));break;case 19:Si(r,n),Ii(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Yd(n,c)));break;case 30:break;case 21:break;default:Si(r,n),Ii(n)}}function Ii(n){var r=n.flags;if(r&2){try{for(var o,c=n.return;c!==null;){if(yy(c)){o=c;break}c=c.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var p=o.stateNode,g=Zd(n);dh(n,g,p);break;case 5:var A=o.stateNode;o.flags&32&&(dn(A,""),o.flags&=-33);var R=Zd(n);dh(n,R,A);break;case 3:case 4:var k=o.stateNode.containerInfo,X=Zd(n);$d(n,X,k);break;default:throw Error(a(161))}}catch(lt){Ce(n,n.return,lt)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function Iy(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;Iy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function ya(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Ey(n,r.alternate,r),r=r.sibling}function Oo(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:_a(4,r,r.return),Oo(r);break;case 1:Hr(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&gy(r,r.return,o),Oo(r);break;case 27:qu(r.stateNode);case 26:case 5:Hr(r,r.return),Oo(r);break;case 22:r.memoizedState===null&&Oo(r);break;case 30:Oo(r);break;default:Oo(r)}n=n.sibling}}function va(n,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,p=n,g=r,A=g.flags;switch(g.tag){case 0:case 11:case 15:va(p,g,o),Lu(4,g);break;case 1:if(va(p,g,o),c=g,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(X){Ce(c,c.return,X)}if(c=g,p=c.updateQueue,p!==null){var R=c.stateNode;try{var k=p.shared.hiddenCallbacks;if(k!==null)for(p.shared.hiddenCallbacks=null,p=0;p<k.length;p++)e_(k[p],R)}catch(X){Ce(c,c.return,X)}}o&&A&64&&py(g),Mu(g,g.return);break;case 27:vy(g);case 26:case 5:va(p,g,o),o&&c===null&&A&4&&_y(g),Mu(g,g.return);break;case 12:va(p,g,o);break;case 13:va(p,g,o),o&&A&4&&Ay(p,g);break;case 22:g.memoizedState===null&&va(p,g,o),Mu(g,g.return);break;case 30:break;default:va(p,g,o)}r=r.sibling}}function Qd(n,r){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&yu(o))}function Xd(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&yu(n))}function qr(n,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Ry(n,r,o,c),r=r.sibling}function Ry(n,r,o,c){var p=r.flags;switch(r.tag){case 0:case 11:case 15:qr(n,r,o,c),p&2048&&Lu(9,r);break;case 1:qr(n,r,o,c);break;case 3:qr(n,r,o,c),p&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&yu(n)));break;case 12:if(p&2048){qr(n,r,o,c),n=r.stateNode;try{var g=r.memoizedProps,A=g.id,R=g.onPostCommit;typeof R=="function"&&R(A,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(k){Ce(r,r.return,k)}}else qr(n,r,o,c);break;case 13:qr(n,r,o,c);break;case 23:break;case 22:g=r.stateNode,A=r.alternate,r.memoizedState!==null?g._visibility&2?qr(n,r,o,c):Du(n,r):g._visibility&2?qr(n,r,o,c):(g._visibility|=2,Sl(n,r,o,c,(r.subtreeFlags&10256)!==0)),p&2048&&Qd(A,r);break;case 24:qr(n,r,o,c),p&2048&&Xd(r.alternate,r);break;default:qr(n,r,o,c)}}function Sl(n,r,o,c,p){for(p=p&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var g=n,A=r,R=o,k=c,X=A.flags;switch(A.tag){case 0:case 11:case 15:Sl(g,A,R,k,p),Lu(8,A);break;case 23:break;case 22:var lt=A.stateNode;A.memoizedState!==null?lt._visibility&2?Sl(g,A,R,k,p):Du(g,A):(lt._visibility|=2,Sl(g,A,R,k,p)),p&&X&2048&&Qd(A.alternate,A);break;case 24:Sl(g,A,R,k,p),p&&X&2048&&Xd(A.alternate,A);break;default:Sl(g,A,R,k,p)}r=r.sibling}}function Du(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=n,c=r,p=c.flags;switch(c.tag){case 22:Du(o,c),p&2048&&Qd(c.alternate,c);break;case 24:Du(o,c),p&2048&&Xd(c.alternate,c);break;default:Du(o,c)}r=r.sibling}}var Nu=8192;function Il(n){if(n.subtreeFlags&Nu)for(n=n.child;n!==null;)Cy(n),n=n.sibling}function Cy(n){switch(n.tag){case 26:Il(n),n.flags&Nu&&n.memoizedState!==null&&uA(_r,n.memoizedState,n.memoizedProps);break;case 5:Il(n);break;case 3:case 4:var r=_r;_r=Ih(n.stateNode.containerInfo),Il(n),_r=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Nu,Nu=16777216,Il(n),Nu=r):Il(n));break;default:Il(n)}}function xy(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function ku(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];yn=c,Oy(c,n)}xy(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Py(n),n=n.sibling}function Py(n){switch(n.tag){case 0:case 11:case 15:ku(n),n.flags&2048&&_a(9,n,n.return);break;case 3:ku(n);break;case 12:ku(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,mh(n)):ku(n);break;default:ku(n)}}function mh(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];yn=c,Oy(c,n)}xy(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:_a(8,r,r.return),mh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,mh(r));break;default:mh(r)}n=n.sibling}}function Oy(n,r){for(;yn!==null;){var o=yn;switch(o.tag){case 0:case 11:case 15:_a(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:yu(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,yn=c;else t:for(o=n;yn!==null;){c=yn;var p=c.sibling,g=c.return;if(wy(c),c===o){yn=null;break t}if(p!==null){p.return=g,yn=p;break t}yn=g}}}var S1={getCacheForType:function(n){var r=Vn(on),o=r.data.get(n);return o===void 0&&(o=n(),r.data.set(n,o)),o}},I1=typeof WeakMap=="function"?WeakMap:Map,_e=0,De=null,Wt=null,oe=0,ye=0,Ri=null,Ta=!1,Rl=!1,Wd=!1,ws=0,Ge=0,Ea=0,Lo=0,Jd=0,Qi=0,Cl=0,Vu=null,si=null,tm=!1,em=0,ph=1/0,gh=null,wa=null,Sn=0,ba=null,xl=null,Pl=0,nm=0,im=null,Ly=null,zu=0,rm=null;function Ci(){if((_e&2)!==0&&oe!==0)return oe&-oe;if(at.T!==null){var n=_l;return n!==0?n:hm()}return Rr()}function My(){Qi===0&&(Qi=(oe&536870912)===0||Bt?no():536870912);var n=Yi.current;return n!==null&&(n.flags|=32),Qi}function xi(n,r,o){(n===De&&(ye===2||ye===9)||n.cancelPendingCommit!==null)&&(Ol(n,0),Aa(n,oe,Qi,!1)),Di(n,o),((_e&2)===0||n!==De)&&(n===De&&((_e&2)===0&&(Lo|=o),Ge===4&&Aa(n,oe,Qi,!1)),jr(n))}function Dy(n,r,o){if((_e&6)!==0)throw Error(a(327));var c=!o&&(r&124)===0&&(r&n.expiredLanes)===0||hi(n,r),p=c?x1(n,r):om(n,r,!0),g=c;do{if(p===0){Rl&&!c&&Aa(n,r,0,!1);break}else{if(o=n.current.alternate,g&&!R1(o)){p=om(n,r,!1),g=!1;continue}if(p===2){if(g=r,n.errorRecoveryDisabledLanes&g)var A=0;else A=n.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){r=A;t:{var R=n;p=Vu;var k=R.current.memoizedState.isDehydrated;if(k&&(Ol(R,A).flags|=256),A=om(R,A,!1),A!==2){if(Wd&&!k){R.errorRecoveryDisabledLanes|=g,Lo|=g,p=4;break t}g=si,si=p,g!==null&&(si===null?si=g:si.push.apply(si,g))}p=A}if(g=!1,p!==2)continue}}if(p===1){Ol(n,0),Aa(n,r,0,!0);break}t:{switch(c=n,g=p,g){case 0:case 1:throw Error(a(345));case 4:if((r&4194048)!==r)break;case 6:Aa(c,r,Qi,!Ta);break t;case 2:si=null;break;case 3:case 5:break;default:throw Error(a(329))}if((r&62914560)===r&&(p=em+300-Pn(),10<p)){if(Aa(c,r,Qi,!Ta),Us(c,0,!0)!==0)break t;c.timeoutHandle=uv(Ny.bind(null,c,o,si,gh,tm,r,Qi,Lo,Cl,Ta,g,2,-0,0),p);break t}Ny(c,o,si,gh,tm,r,Qi,Lo,Cl,Ta,g,0,-0,0)}}break}while(!0);jr(n)}function Ny(n,r,o,c,p,g,A,R,k,X,lt,ct,tt,et){if(n.timeoutHandle=-1,ct=r.subtreeFlags,(ct&8192||(ct&16785408)===16785408)&&(Gu={stylesheets:null,count:0,unsuspend:lA},Cy(r),ct=cA(),ct!==null)){n.cancelPendingCommit=ct(qy.bind(null,n,r,g,o,c,p,A,R,k,lt,1,tt,et)),Aa(n,g,A,!X);return}qy(n,r,g,o,c,p,A,R,k)}function R1(n){for(var r=n;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var p=o[c],g=p.getSnapshot;p=p.value;try{if(!Zn(g(),p))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Aa(n,r,o,c){r&=~Jd,r&=~Lo,n.suspendedLanes|=r,n.pingedLanes&=~r,c&&(n.warmLanes|=r),c=n.expirationTimes;for(var p=r;0<p;){var g=31-hn(p),A=1<<g;c[g]=-1,p&=~A}o!==0&&Ni(n,o,r)}function _h(){return(_e&6)===0?(Uu(0),!1):!0}function sm(){if(Wt!==null){if(ye===0)var n=Wt.return;else n=Wt,pr=Ki=null,wd(n),bl=null,xu=0,n=Wt;for(;n!==null;)my(n.alternate,n),n=n.return;Wt=null}}function Ol(n,r){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,G1(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),sm(),De=n,Wt=o=$i(n.current,null),oe=r,ye=0,Ri=null,Ta=!1,Rl=hi(n,r),Wd=!1,Cl=Qi=Jd=Lo=Ea=Ge=0,si=Vu=null,tm=!1,(r&8)!==0&&(r|=r&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=r;0<c;){var p=31-hn(c),g=1<<p;r|=n[p],c&=~g}return ws=r,To(),o}function ky(n,r){Kt=null,at.H=rh,r===Tu||r===Kc?(r=Jg(),ye=3):r===Qg?(r=Jg(),ye=4):ye=r===ty?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Ri=r,Wt===null&&(Ge=1,uh(n,Kn(r,n.current)))}function Vy(){var n=at.H;return at.H=rh,n===null?rh:n}function zy(){var n=at.A;return at.A=S1,n}function am(){Ge=4,Ta||(oe&4194048)!==oe&&Yi.current!==null||(Rl=!0),(Ea&134217727)===0&&(Lo&134217727)===0||De===null||Aa(De,oe,Qi,!1)}function om(n,r,o){var c=_e;_e|=2;var p=Vy(),g=zy();(De!==n||oe!==r)&&(gh=null,Ol(n,r)),r=!1;var A=Ge;t:do try{if(ye!==0&&Wt!==null){var R=Wt,k=Ri;switch(ye){case 8:sm(),A=6;break t;case 3:case 2:case 9:case 6:Yi.current===null&&(r=!0);var X=ye;if(ye=0,Ri=null,Ll(n,R,k,X),o&&Rl){A=0;break t}break;default:X=ye,ye=0,Ri=null,Ll(n,R,k,X)}}C1(),A=Ge;break}catch(lt){ky(n,lt)}while(!0);return r&&n.shellSuspendCounter++,pr=Ki=null,_e=c,at.H=p,at.A=g,Wt===null&&(De=null,oe=0,To()),A}function C1(){for(;Wt!==null;)Uy(Wt)}function x1(n,r){var o=_e;_e|=2;var c=Vy(),p=zy();De!==n||oe!==r?(gh=null,ph=Pn()+500,Ol(n,r)):Rl=hi(n,r);t:do try{if(ye!==0&&Wt!==null){r=Wt;var g=Ri;e:switch(ye){case 1:ye=0,Ri=null,Ll(n,r,g,1);break;case 2:case 9:if(Xg(g)){ye=0,Ri=null,By(r);break}r=function(){ye!==2&&ye!==9||De!==n||(ye=7),jr(n)},g.then(r,r);break t;case 3:ye=7;break t;case 4:ye=5;break t;case 7:Xg(g)?(ye=0,Ri=null,By(r)):(ye=0,Ri=null,Ll(n,r,g,7));break;case 5:var A=null;switch(Wt.tag){case 26:A=Wt.memoizedState;case 5:case 27:var R=Wt;if(!A||Ev(A)){ye=0,Ri=null;var k=R.sibling;if(k!==null)Wt=k;else{var X=R.return;X!==null?(Wt=X,yh(X)):Wt=null}break e}}ye=0,Ri=null,Ll(n,r,g,5);break;case 6:ye=0,Ri=null,Ll(n,r,g,6);break;case 8:sm(),Ge=6;break t;default:throw Error(a(462))}}P1();break}catch(lt){ky(n,lt)}while(!0);return pr=Ki=null,at.H=c,at.A=p,_e=o,Wt!==null?0:(De=null,oe=0,To(),Ge)}function P1(){for(;Wt!==null&&!Vs();)Uy(Wt)}function Uy(n){var r=fy(n.alternate,n,ws);n.memoizedProps=n.pendingProps,r===null?yh(n):Wt=r}function By(n){var r=n,o=r.alternate;switch(r.tag){case 15:case 0:r=ay(o,r,r.pendingProps,r.type,void 0,oe);break;case 11:r=ay(o,r,r.pendingProps,r.type.render,r.ref,oe);break;case 5:wd(r);default:my(o,r),r=Wt=gu(r,ws),r=fy(o,r,ws)}n.memoizedProps=n.pendingProps,r===null?yh(n):Wt=r}function Ll(n,r,o,c){pr=Ki=null,wd(r),bl=null,xu=0;var p=r.return;try{if(v1(n,p,r,o,oe)){Ge=1,uh(n,Kn(o,n.current)),Wt=null;return}}catch(g){if(p!==null)throw Wt=p,g;Ge=1,uh(n,Kn(o,n.current)),Wt=null;return}r.flags&32768?(Bt||c===1?n=!0:Rl||(oe&536870912)!==0?n=!1:(Ta=n=!0,(c===2||c===9||c===3||c===6)&&(c=Yi.current,c!==null&&c.tag===13&&(c.flags|=16384))),Hy(r,n)):yh(r)}function yh(n){var r=n;do{if((r.flags&32768)!==0){Hy(r,Ta);return}n=r.return;var o=E1(r.alternate,r,ws);if(o!==null){Wt=o;return}if(r=r.sibling,r!==null){Wt=r;return}Wt=r=n}while(r!==null);Ge===0&&(Ge=5)}function Hy(n,r){do{var o=w1(n.alternate,n);if(o!==null){o.flags&=32767,Wt=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(n=n.sibling,n!==null)){Wt=n;return}Wt=n=o}while(n!==null);Ge=6,Wt=null}function qy(n,r,o,c,p,g,A,R,k){n.cancelPendingCommit=null;do vh();while(Sn!==0);if((_e&6)!==0)throw Error(a(327));if(r!==null){if(r===n.current)throw Error(a(177));if(g=r.lanes|r.childLanes,g|=Ai,io(n,o,g,A,R,k),n===De&&(Wt=De=null,oe=0),xl=r,ba=n,Pl=o,nm=g,im=p,Ly=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,D1(er,function(){return $y(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=at.T,at.T=null,p=yt.p,yt.p=2,A=_e,_e|=4;try{b1(n,r,o)}finally{_e=A,yt.p=p,at.T=c}}Sn=1,jy(),Fy(),Gy()}}function jy(){if(Sn===1){Sn=0;var n=ba,r=xl,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=at.T,at.T=null;var c=yt.p;yt.p=2;var p=_e;_e|=4;try{Sy(r,n);var g=vm,A=_o(n.containerInfo),R=g.focusedElem,k=g.selectionRange;if(A!==R&&R&&R.ownerDocument&&ul(R.ownerDocument.documentElement,R)){if(k!==null&&yo(R)){var X=k.start,lt=k.end;if(lt===void 0&&(lt=X),"selectionStart"in R)R.selectionStart=X,R.selectionEnd=Math.min(lt,R.value.length);else{var ct=R.ownerDocument||document,tt=ct&&ct.defaultView||window;if(tt.getSelection){var et=tt.getSelection(),Ut=R.textContent.length,Nt=Math.min(k.start,Ut),Se=k.end===void 0?Nt:Math.min(k.end,Ut);!et.extend&&Nt>Se&&(A=Se,Se=Nt,Nt=A);var G=mu(R,Nt),j=mu(R,Se);if(G&&j&&(et.rangeCount!==1||et.anchorNode!==G.node||et.anchorOffset!==G.offset||et.focusNode!==j.node||et.focusOffset!==j.offset)){var Y=ct.createRange();Y.setStart(G.node,G.offset),et.removeAllRanges(),Nt>Se?(et.addRange(Y),et.extend(j.node,j.offset)):(Y.setEnd(j.node,j.offset),et.addRange(Y))}}}}for(ct=[],et=R;et=et.parentNode;)et.nodeType===1&&ct.push({element:et,left:et.scrollLeft,top:et.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<ct.length;R++){var ut=ct[R];ut.element.scrollLeft=ut.left,ut.element.scrollTop=ut.top}}Oh=!!ym,vm=ym=null}finally{_e=p,yt.p=c,at.T=o}}n.current=r,Sn=2}}function Fy(){if(Sn===2){Sn=0;var n=ba,r=xl,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=at.T,at.T=null;var c=yt.p;yt.p=2;var p=_e;_e|=4;try{Ey(n,r.alternate,r)}finally{_e=p,yt.p=c,at.T=o}}Sn=3}}function Gy(){if(Sn===4||Sn===3){Sn=0,Xa();var n=ba,r=xl,o=Pl,c=Ly;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Sn=5:(Sn=0,xl=ba=null,Zy(n,n.pendingLanes));var p=n.pendingLanes;if(p===0&&(wa=null),Hs(o),r=r.stateNode,ue&&typeof ue.onCommitFiberRoot=="function")try{ue.onCommitFiberRoot(xe,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=at.T,p=yt.p,yt.p=2,at.T=null;try{for(var g=n.onRecoverableError,A=0;A<c.length;A++){var R=c[A];g(R.value,{componentStack:R.stack})}}finally{at.T=r,yt.p=p}}(Pl&3)!==0&&vh(),jr(n),p=n.pendingLanes,(o&4194090)!==0&&(p&42)!==0?n===rm?zu++:(zu=0,rm=n):zu=0,Uu(0)}}function Zy(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,yu(r)))}function vh(n){return jy(),Fy(),Gy(),$y()}function $y(){if(Sn!==5)return!1;var n=ba,r=nm;nm=0;var o=Hs(Pl),c=at.T,p=yt.p;try{yt.p=32>o?32:o,at.T=null,o=im,im=null;var g=ba,A=Pl;if(Sn=0,xl=ba=null,Pl=0,(_e&6)!==0)throw Error(a(331));var R=_e;if(_e|=4,Py(g.current),Ry(g,g.current,A,o),_e=R,Uu(0,!1),ue&&typeof ue.onPostCommitFiberRoot=="function")try{ue.onPostCommitFiberRoot(xe,g)}catch{}return!0}finally{yt.p=p,at.T=c,Zy(n,r)}}function Ky(n,r,o){r=Kn(o,r),r=kd(n.stateNode,r,2),n=da(n,r,2),n!==null&&(Di(n,2),jr(n))}function Ce(n,r,o){if(n.tag===3)Ky(n,n,o);else for(;r!==null;){if(r.tag===3){Ky(r,n,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(wa===null||!wa.has(c))){n=Kn(o,n),o=W_(2),c=da(r,o,2),c!==null&&(J_(o,c,r,n),Di(c,2),jr(c));break}}r=r.return}}function lm(n,r,o){var c=n.pingCache;if(c===null){c=n.pingCache=new I1;var p=new Set;c.set(r,p)}else p=c.get(r),p===void 0&&(p=new Set,c.set(r,p));p.has(o)||(Wd=!0,p.add(o),n=O1.bind(null,n,r,o),r.then(n,n))}function O1(n,r,o){var c=n.pingCache;c!==null&&c.delete(r),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,De===n&&(oe&o)===o&&(Ge===4||Ge===3&&(oe&62914560)===oe&&300>Pn()-em?(_e&2)===0&&Ol(n,0):Jd|=o,Cl===oe&&(Cl=0)),jr(n)}function Yy(n,r){r===0&&(r=Bs()),n=oa(n,r),n!==null&&(Di(n,r),jr(n))}function L1(n){var r=n.memoizedState,o=0;r!==null&&(o=r.retryLane),Yy(n,o)}function M1(n,r){var o=0;switch(n.tag){case 13:var c=n.stateNode,p=n.memoizedState;p!==null&&(o=p.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(r),Yy(n,o)}function D1(n,r){return tr(n,r)}var Th=null,Ml=null,um=!1,Eh=!1,cm=!1,Mo=0;function jr(n){n!==Ml&&n.next===null&&(Ml===null?Th=Ml=n:Ml=Ml.next=n),Eh=!0,um||(um=!0,k1())}function Uu(n,r){if(!cm&&Eh){cm=!0;do for(var o=!1,c=Th;c!==null;){if(n!==0){var p=c.pendingLanes;if(p===0)var g=0;else{var A=c.suspendedLanes,R=c.pingedLanes;g=(1<<31-hn(42|n)+1)-1,g&=p&~(A&~R),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,Jy(c,g))}else g=oe,g=Us(c,c===De?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||hi(c,g)||(o=!0,Jy(c,g));c=c.next}while(o);cm=!1}}function N1(){Qy()}function Qy(){Eh=um=!1;var n=0;Mo!==0&&(F1()&&(n=Mo),Mo=0);for(var r=Pn(),o=null,c=Th;c!==null;){var p=c.next,g=Xy(c,r);g===0?(c.next=null,o===null?Th=p:o.next=p,p===null&&(Ml=o)):(o=c,(n!==0||(g&3)!==0)&&(Eh=!0)),c=p}Uu(n)}function Xy(n,r){for(var o=n.suspendedLanes,c=n.pingedLanes,p=n.expirationTimes,g=n.pendingLanes&-62914561;0<g;){var A=31-hn(g),R=1<<A,k=p[A];k===-1?((R&o)===0||(R&c)!==0)&&(p[A]=eo(R,r)):k<=r&&(n.expiredLanes|=R),g&=~R}if(r=De,o=oe,o=Us(n,n===r?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,o===0||n===r&&(ye===2||ye===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&Xr(c),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||hi(n,o)){if(r=o&-o,r===n.callbackPriority)return r;switch(c!==null&&Xr(c),Hs(o)){case 2:case 8:o=Wr;break;case 32:o=er;break;case 268435456:o=Jr;break;default:o=er}return c=Wy.bind(null,n),o=tr(o,c),n.callbackPriority=r,n.callbackNode=o,r}return c!==null&&c!==null&&Xr(c),n.callbackPriority=2,n.callbackNode=null,2}function Wy(n,r){if(Sn!==0&&Sn!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(vh()&&n.callbackNode!==o)return null;var c=oe;return c=Us(n,n===De?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(Dy(n,c,r),Xy(n,Pn()),n.callbackNode!=null&&n.callbackNode===o?Wy.bind(null,n):null)}function Jy(n,r){if(vh())return null;Dy(n,r,!0)}function k1(){Z1(function(){(_e&6)!==0?tr(Wa,N1):Qy()})}function hm(){return Mo===0&&(Mo=no()),Mo}function tv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Mr(""+n)}function ev(n,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,n.id&&o.setAttribute("form",n.id),r.parentNode.insertBefore(o,r),n=new FormData(n),o.parentNode.removeChild(o),n}function V1(n,r,o,c,p){if(r==="submit"&&o&&o.stateNode===p){var g=tv((p[je]||null).action),A=c.submitter;A&&(r=(r=A[je]||null)?tv(r.formAction):A.getAttribute("formAction"),r!==null&&(g=r,A=null));var R=new as("action","action",null,c,p);n.push({event:R,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Mo!==0){var k=A?ev(p,A):new FormData(p);Od(o,{pending:!0,data:k,method:p.method,action:g},null,k)}}else typeof g=="function"&&(R.preventDefault(),k=A?ev(p,A):new FormData(p),Od(o,{pending:!0,data:k,method:p.method,action:g},g,k))},currentTarget:p}]})}}for(var fm=0;fm<hs.length;fm++){var dm=hs[fm],z1=dm.toLowerCase(),U1=dm[0].toUpperCase()+dm.slice(1);bi(z1,"on"+U1)}bi(Uc,"onAnimationEnd"),bi(wi,"onAnimationIteration"),bi(vo,"onAnimationStart"),bi("dblclick","onDoubleClick"),bi("focusin","onFocus"),bi("focusout","onBlur"),bi(ad,"onTransitionRun"),bi(dl,"onTransitionStart"),bi(od,"onTransitionCancel"),bi(pu,"onTransitionEnd"),ki("onMouseEnter",["mouseout","mouseover"]),ki("onMouseLeave",["mouseout","mouseover"]),ki("onPointerEnter",["pointerout","pointerover"]),ki("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bu));function nv(n,r){r=(r&4)!==0;for(var o=0;o<n.length;o++){var c=n[o],p=c.event;c=c.listeners;t:{var g=void 0;if(r)for(var A=c.length-1;0<=A;A--){var R=c[A],k=R.instance,X=R.currentTarget;if(R=R.listener,k!==g&&p.isPropagationStopped())break t;g=R,p.currentTarget=X;try{g(p)}catch(lt){lh(lt)}p.currentTarget=null,g=k}else for(A=0;A<c.length;A++){if(R=c[A],k=R.instance,X=R.currentTarget,R=R.listener,k!==g&&p.isPropagationStopped())break t;g=R,p.currentTarget=X;try{g(p)}catch(lt){lh(lt)}p.currentTarget=null,g=k}}}}function Jt(n,r){var o=r[Ln];o===void 0&&(o=r[Ln]=new Set);var c=n+"__bubble";o.has(c)||(iv(r,n,2,!1),o.add(c))}function mm(n,r,o){var c=0;r&&(c|=4),iv(o,n,c,r)}var wh="_reactListening"+Math.random().toString(36).slice(2);function pm(n){if(!n[wh]){n[wh]=!0,ao.forEach(function(o){o!=="selectionchange"&&(B1.has(o)||mm(o,!1,n),mm(o,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[wh]||(r[wh]=!0,mm("selectionchange",!1,r))}}function iv(n,r,o,c){switch(Rv(r)){case 2:var p=dA;break;case 8:p=mA;break;default:p=xm}o=p.bind(null,r,o,n),p=void 0,!Mn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(p=!0),c?p!==void 0?n.addEventListener(r,o,{capture:!0,passive:p}):n.addEventListener(r,o,!0):p!==void 0?n.addEventListener(r,o,{passive:p}):n.addEventListener(r,o,!1)}function gm(n,r,o,c,p){var g=c;if((r&1)===0&&(r&2)===0&&c!==null)t:for(;;){if(c===null)return;var A=c.tag;if(A===3||A===4){var R=c.stateNode.containerInfo;if(R===p)break;if(A===4)for(A=c.return;A!==null;){var k=A.tag;if((k===3||k===4)&&A.stateNode.containerInfo===p)return;A=A.return}for(;R!==null;){if(A=fi(R),A===null)return;if(k=A.tag,k===5||k===6||k===26||k===27){c=g=A;continue t}R=R.parentNode}}c=c.return}Gn(function(){var X=g,lt=bn(o),ct=[];t:{var tt=Bc.get(n);if(tt!==void 0){var et=as,Ut=n;switch(n){case"keypress":if(we(o)===0)break t;case"keydown":case"keyup":et=Ws;break;case"focusin":Ut="focus",et=$s;break;case"focusout":Ut="blur",et=$s;break;case"beforeblur":case"afterblur":et=$s;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":et=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":et=uu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":et=sl;break;case Uc:case wi:case vo:et=Ys;break;case pu:et=al;break;case"scroll":case"scrollend":et=il;break;case"wheel":et=us;break;case"copy":case"cut":case"paste":et=Dr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":et=Js;break;case"toggle":case"beforetoggle":et=ji}var Nt=(r&4)!==0,Se=!Nt&&(n==="scroll"||n==="scrollend"),G=Nt?tt!==null?tt+"Capture":null:tt;Nt=[];for(var j=X,Y;j!==null;){var ut=j;if(Y=ut.stateNode,ut=ut.tag,ut!==5&&ut!==26&&ut!==27||Y===null||G===null||(ut=ae(j,G),ut!=null&&Nt.push(Hu(j,ut,Y))),Se)break;j=j.return}0<Nt.length&&(tt=new et(tt,Ut,null,o,lt),ct.push({event:tt,listeners:Nt}))}}if((r&7)===0){t:{if(tt=n==="mouseover"||n==="pointerover",et=n==="mouseout"||n==="pointerout",tt&&o!==_i&&(Ut=o.relatedTarget||o.fromElement)&&(fi(Ut)||Ut[Jn]))break t;if((et||tt)&&(tt=lt.window===lt?lt:(tt=lt.ownerDocument)?tt.defaultView||tt.parentWindow:window,et?(Ut=o.relatedTarget||o.toElement,et=X,Ut=Ut?fi(Ut):null,Ut!==null&&(Se=h(Ut),Nt=Ut.tag,Ut!==Se||Nt!==5&&Nt!==27&&Nt!==6)&&(Ut=null)):(et=null,Ut=X),et!==Ut)){if(Nt=pn,ut="onMouseLeave",G="onMouseEnter",j="mouse",(n==="pointerout"||n==="pointerover")&&(Nt=Js,ut="onPointerLeave",G="onPointerEnter",j="pointer"),Se=et==null?tt:En(et),Y=Ut==null?tt:En(Ut),tt=new Nt(ut,j+"leave",et,o,lt),tt.target=Se,tt.relatedTarget=Y,ut=null,fi(lt)===X&&(Nt=new Nt(G,j+"enter",Ut,o,lt),Nt.target=Y,Nt.relatedTarget=Se,ut=Nt),Se=ut,et&&Ut)e:{for(Nt=et,G=Ut,j=0,Y=Nt;Y;Y=Dl(Y))j++;for(Y=0,ut=G;ut;ut=Dl(ut))Y++;for(;0<j-Y;)Nt=Dl(Nt),j--;for(;0<Y-j;)G=Dl(G),Y--;for(;j--;){if(Nt===G||G!==null&&Nt===G.alternate)break e;Nt=Dl(Nt),G=Dl(G)}Nt=null}else Nt=null;et!==null&&rv(ct,tt,et,Nt,!1),Ut!==null&&Se!==null&&rv(ct,Se,Ut,Nt,!0)}}t:{if(tt=X?En(X):window,et=tt.nodeName&&tt.nodeName.toLowerCase(),et==="select"||et==="input"&&tt.type==="file")var Rt=ea;else if(Le(tt))if(hu)Rt=sd;else{Rt=rd;var Xt=du}else et=tt.nodeName,!et||et.toLowerCase()!=="input"||tt.type!=="checkbox"&&tt.type!=="radio"?X&&ss(X.elementType)&&(Rt=ea):Rt=mr;if(Rt&&(Rt=Rt(n,X))){fr(ct,Rt,o,lt);break t}Xt&&Xt(n,tt,X),n==="focusout"&&X&&tt.type==="number"&&X.memoizedProps.value!=null&&pi(tt,"number",tt.value)}switch(Xt=X?En(X):window,n){case"focusin":(Le(Xt)||Xt.contentEditable==="true")&&(Ei=Xt,ra=X,cs=null);break;case"focusout":cs=ra=Ei=null;break;case"mousedown":hl=!0;break;case"contextmenu":case"mouseup":case"dragend":hl=!1,Vc(ct,o,lt);break;case"selectionchange":if(cl)break;case"keydown":case"keyup":Vc(ct,o,lt)}var Lt;if(kn)t:{switch(n){case"compositionstart":var kt="onCompositionStart";break t;case"compositionend":kt="onCompositionEnd";break t;case"compositionupdate":kt="onCompositionUpdate";break t}kt=void 0}else te?rt(n,o)&&(kt="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(kt="onCompositionStart");kt&&(b&&o.locale!=="ko"&&(te||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&te&&(Lt=lr()):(ei=lt,Dn="value"in ei?ei.value:ei.textContent,te=!0)),Xt=bh(X,kt),0<Xt.length&&(kt=new Nn(kt,n,null,o,lt),ct.push({event:kt,listeners:Xt}),Lt?kt.data=Lt:(Lt=vt(o),Lt!==null&&(kt.data=Lt)))),(Lt=E?Fe(n,o):ee(n,o))&&(kt=bh(X,"onBeforeInput"),0<kt.length&&(Xt=new Nn("onBeforeInput","beforeinput",null,o,lt),ct.push({event:Xt,listeners:kt}),Xt.data=Lt)),V1(ct,n,X,o,lt)}nv(ct,r)})}function Hu(n,r,o){return{instance:n,listener:r,currentTarget:o}}function bh(n,r){for(var o=r+"Capture",c=[];n!==null;){var p=n,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=ae(n,o),p!=null&&c.unshift(Hu(n,p,g)),p=ae(n,r),p!=null&&c.push(Hu(n,p,g))),n.tag===3)return c;n=n.return}return[]}function Dl(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function rv(n,r,o,c,p){for(var g=r._reactName,A=[];o!==null&&o!==c;){var R=o,k=R.alternate,X=R.stateNode;if(R=R.tag,k!==null&&k===c)break;R!==5&&R!==26&&R!==27||X===null||(k=X,p?(X=ae(o,g),X!=null&&A.unshift(Hu(o,X,k))):p||(X=ae(o,g),X!=null&&A.push(Hu(o,X,k)))),o=o.return}A.length!==0&&n.push({event:r,listeners:A})}var H1=/\r\n?/g,q1=/\u0000|\uFFFD/g;function sv(n){return(typeof n=="string"?n:""+n).replace(H1,`
`).replace(q1,"")}function av(n,r){return r=sv(r),sv(n)===r}function Ah(){}function Ae(n,r,o,c,p,g){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||dn(n,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&dn(n,""+c);break;case"className":Vi(n,"class",c);break;case"tabIndex":Vi(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Vi(n,o,c);break;case"style":ar(n,c,g);break;case"data":if(r!=="object"){Vi(n,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){n.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=Mr(""+c),n.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&Ae(n,r,"name",p.name,p,null),Ae(n,r,"formEncType",p.formEncType,p,null),Ae(n,r,"formMethod",p.formMethod,p,null),Ae(n,r,"formTarget",p.formTarget,p,null)):(Ae(n,r,"encType",p.encType,p,null),Ae(n,r,"method",p.method,p,null),Ae(n,r,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=Mr(""+c),n.setAttribute(o,c);break;case"onClick":c!=null&&(n.onclick=Ah);break;case"onScroll":c!=null&&Jt("scroll",n);break;case"onScrollEnd":c!=null&&Jt("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(a(60));n.innerHTML=o}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}o=Mr(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""+c):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":c===!0?n.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,c):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(o,c):n.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(o):n.setAttribute(o,c);break;case"popover":Jt("beforetoggle",n),Jt("toggle",n),xr(n,"popover",c);break;case"xlinkActuate":sn(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":sn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":sn(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":sn(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":sn(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":sn(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":sn(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":sn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":sn(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":xr(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=lo.get(o)||o,xr(n,o,c))}}function _m(n,r,o,c,p,g){switch(o){case"style":ar(n,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(a(60));n.innerHTML=o}}break;case"children":typeof c=="string"?dn(n,c):(typeof c=="number"||typeof c=="bigint")&&dn(n,""+c);break;case"onScroll":c!=null&&Jt("scroll",n);break;case"onScrollEnd":c!=null&&Jt("scrollend",n);break;case"onClick":c!=null&&(n.onclick=Ah);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!js.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),r=o.slice(2,p?o.length-7:void 0),g=n[je]||null,g=g!=null?g[o]:null,typeof g=="function"&&n.removeEventListener(r,g,p),typeof c=="function")){typeof g!="function"&&g!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(r,c,p);break t}o in n?n[o]=c:c===!0?n.setAttribute(o,""):xr(n,o,c)}}}function In(n,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Jt("error",n),Jt("load",n);var c=!1,p=!1,g;for(g in o)if(o.hasOwnProperty(g)){var A=o[g];if(A!=null)switch(g){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:Ae(n,r,g,A,o,null)}}p&&Ae(n,r,"srcSet",o.srcSet,o,null),c&&Ae(n,r,"src",o.src,o,null);return;case"input":Jt("invalid",n);var R=g=A=p=null,k=null,X=null;for(c in o)if(o.hasOwnProperty(c)){var lt=o[c];if(lt!=null)switch(c){case"name":p=lt;break;case"type":A=lt;break;case"checked":k=lt;break;case"defaultChecked":X=lt;break;case"value":g=lt;break;case"defaultValue":R=lt;break;case"children":case"dangerouslySetInnerHTML":if(lt!=null)throw Error(a(137,r));break;default:Ae(n,r,c,lt,o,null)}}rs(n,g,R,k,X,A,p,!1),Lr(n);return;case"select":Jt("invalid",n),c=A=g=null;for(p in o)if(o.hasOwnProperty(p)&&(R=o[p],R!=null))switch(p){case"value":g=R;break;case"defaultValue":A=R;break;case"multiple":c=R;default:Ae(n,r,p,R,o,null)}r=g,o=A,n.multiple=!!c,r!=null?wn(n,!!c,r,!1):o!=null&&wn(n,!!c,o,!0);return;case"textarea":Jt("invalid",n),g=p=c=null;for(A in o)if(o.hasOwnProperty(A)&&(R=o[A],R!=null))switch(A){case"value":c=R;break;case"defaultValue":p=R;break;case"children":g=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(a(91));break;default:Ae(n,r,A,R,o,null)}Fn(n,c,p,g),Lr(n);return;case"option":for(k in o)if(o.hasOwnProperty(k)&&(c=o[k],c!=null))switch(k){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Ae(n,r,k,c,o,null)}return;case"dialog":Jt("beforetoggle",n),Jt("toggle",n),Jt("cancel",n),Jt("close",n);break;case"iframe":case"object":Jt("load",n);break;case"video":case"audio":for(c=0;c<Bu.length;c++)Jt(Bu[c],n);break;case"image":Jt("error",n),Jt("load",n);break;case"details":Jt("toggle",n);break;case"embed":case"source":case"link":Jt("error",n),Jt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(X in o)if(o.hasOwnProperty(X)&&(c=o[X],c!=null))switch(X){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:Ae(n,r,X,c,o,null)}return;default:if(ss(r)){for(lt in o)o.hasOwnProperty(lt)&&(c=o[lt],c!==void 0&&_m(n,r,lt,c,o,void 0));return}}for(R in o)o.hasOwnProperty(R)&&(c=o[R],c!=null&&Ae(n,r,R,c,o,null))}function j1(n,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,A=null,R=null,k=null,X=null,lt=null;for(et in o){var ct=o[et];if(o.hasOwnProperty(et)&&ct!=null)switch(et){case"checked":break;case"value":break;case"defaultValue":k=ct;default:c.hasOwnProperty(et)||Ae(n,r,et,null,c,ct)}}for(var tt in c){var et=c[tt];if(ct=o[tt],c.hasOwnProperty(tt)&&(et!=null||ct!=null))switch(tt){case"type":g=et;break;case"name":p=et;break;case"checked":X=et;break;case"defaultChecked":lt=et;break;case"value":A=et;break;case"defaultValue":R=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(a(137,r));break;default:et!==ct&&Ae(n,r,tt,et,c,ct)}}Oe(n,A,R,k,X,lt,g,p);return;case"select":et=A=R=tt=null;for(g in o)if(k=o[g],o.hasOwnProperty(g)&&k!=null)switch(g){case"value":break;case"multiple":et=k;default:c.hasOwnProperty(g)||Ae(n,r,g,null,c,k)}for(p in c)if(g=c[p],k=o[p],c.hasOwnProperty(p)&&(g!=null||k!=null))switch(p){case"value":tt=g;break;case"defaultValue":R=g;break;case"multiple":A=g;default:g!==k&&Ae(n,r,p,g,c,k)}r=R,o=A,c=et,tt!=null?wn(n,!!o,tt,!1):!!c!=!!o&&(r!=null?wn(n,!!o,r,!0):wn(n,!!o,o?[]:"",!1));return;case"textarea":et=tt=null;for(R in o)if(p=o[R],o.hasOwnProperty(R)&&p!=null&&!c.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Ae(n,r,R,null,c,p)}for(A in c)if(p=c[A],g=o[A],c.hasOwnProperty(A)&&(p!=null||g!=null))switch(A){case"value":tt=p;break;case"defaultValue":et=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(a(91));break;default:p!==g&&Ae(n,r,A,p,c,g)}Vt(n,tt,et);return;case"option":for(var Ut in o)if(tt=o[Ut],o.hasOwnProperty(Ut)&&tt!=null&&!c.hasOwnProperty(Ut))switch(Ut){case"selected":n.selected=!1;break;default:Ae(n,r,Ut,null,c,tt)}for(k in c)if(tt=c[k],et=o[k],c.hasOwnProperty(k)&&tt!==et&&(tt!=null||et!=null))switch(k){case"selected":n.selected=tt&&typeof tt!="function"&&typeof tt!="symbol";break;default:Ae(n,r,k,tt,c,et)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Nt in o)tt=o[Nt],o.hasOwnProperty(Nt)&&tt!=null&&!c.hasOwnProperty(Nt)&&Ae(n,r,Nt,null,c,tt);for(X in c)if(tt=c[X],et=o[X],c.hasOwnProperty(X)&&tt!==et&&(tt!=null||et!=null))switch(X){case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(a(137,r));break;default:Ae(n,r,X,tt,c,et)}return;default:if(ss(r)){for(var Se in o)tt=o[Se],o.hasOwnProperty(Se)&&tt!==void 0&&!c.hasOwnProperty(Se)&&_m(n,r,Se,void 0,c,tt);for(lt in c)tt=c[lt],et=o[lt],!c.hasOwnProperty(lt)||tt===et||tt===void 0&&et===void 0||_m(n,r,lt,tt,c,et);return}}for(var G in o)tt=o[G],o.hasOwnProperty(G)&&tt!=null&&!c.hasOwnProperty(G)&&Ae(n,r,G,null,c,tt);for(ct in c)tt=c[ct],et=o[ct],!c.hasOwnProperty(ct)||tt===et||tt==null&&et==null||Ae(n,r,ct,tt,c,et)}var ym=null,vm=null;function Sh(n){return n.nodeType===9?n:n.ownerDocument}function ov(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lv(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Tm(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Em=null;function F1(){var n=window.event;return n&&n.type==="popstate"?n===Em?!1:(Em=n,!0):(Em=null,!1)}var uv=typeof setTimeout=="function"?setTimeout:void 0,G1=typeof clearTimeout=="function"?clearTimeout:void 0,cv=typeof Promise=="function"?Promise:void 0,Z1=typeof queueMicrotask=="function"?queueMicrotask:typeof cv<"u"?function(n){return cv.resolve(null).then(n).catch($1)}:uv;function $1(n){setTimeout(function(){throw n})}function Sa(n){return n==="head"}function hv(n,r){var o=r,c=0,p=0;do{var g=o.nextSibling;if(n.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<c&&8>c){o=c;var A=n.ownerDocument;if(o&1&&qu(A.documentElement),o&2&&qu(A.body),o&4)for(o=A.head,qu(o),A=o.firstChild;A;){var R=A.nextSibling,k=A.nodeName;A[Cr]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&A.rel.toLowerCase()==="stylesheet"||o.removeChild(A),A=R}}if(p===0){n.removeChild(g),Qu(r);return}p--}else o==="$"||o==="$?"||o==="$!"?p++:c=o.charCodeAt(0)-48;else c=0;o=g}while(o);Qu(r)}function wm(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":wm(o),rr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function K1(n,r,o,c){for(;n.nodeType===1;){var p=o;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[Cr])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(g=n.getAttribute("rel"),g==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(g!==p.rel||n.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||n.getAttribute("title")!==(p.title==null?null:p.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(g=n.getAttribute("src"),(g!==(p.src==null?null:p.src)||n.getAttribute("type")!==(p.type==null?null:p.type)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&n.getAttribute("name")===g)return n}else return n;if(n=yr(n.nextSibling),n===null)break}return null}function Y1(n,r,o){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=yr(n.nextSibling),n===null))return null;return n}function bm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function Q1(n,r){var o=n.ownerDocument;if(n.data!=="$?"||o.readyState==="complete")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function yr(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var Am=null;function fv(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return n;r--}else o==="/$"&&r++}n=n.previousSibling}return null}function dv(n,r,o){switch(r=Sh(o),n){case"html":if(n=r.documentElement,!n)throw Error(a(452));return n;case"head":if(n=r.head,!n)throw Error(a(453));return n;case"body":if(n=r.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function qu(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);rr(n)}var Xi=new Map,mv=new Set;function Ih(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var bs=yt.d;yt.d={f:X1,r:W1,D:J1,C:tA,L:eA,m:nA,X:rA,S:iA,M:sA};function X1(){var n=bs.f(),r=_h();return n||r}function W1(n){var r=di(n);r!==null&&r.tag===5&&r.type==="form"?D_(r):bs.r(n)}var Nl=typeof document>"u"?null:document;function pv(n,r,o){var c=Nl;if(c&&typeof r=="string"&&r){var p=Ne(r);p='link[rel="'+n+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),mv.has(p)||(mv.add(p),n={rel:n,crossOrigin:o,href:r},c.querySelector(p)===null&&(r=c.createElement("link"),In(r,"link",n),Ue(r),c.head.appendChild(r)))}}function J1(n){bs.D(n),pv("dns-prefetch",n,null)}function tA(n,r){bs.C(n,r),pv("preconnect",n,r)}function eA(n,r,o){bs.L(n,r,o);var c=Nl;if(c&&n&&r){var p='link[rel="preload"][as="'+Ne(r)+'"]';r==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+Ne(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+Ne(o.imageSizes)+'"]')):p+='[href="'+Ne(n)+'"]';var g=p;switch(r){case"style":g=kl(n);break;case"script":g=Vl(n)}Xi.has(g)||(n=S({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:n,as:r},o),Xi.set(g,n),c.querySelector(p)!==null||r==="style"&&c.querySelector(ju(g))||r==="script"&&c.querySelector(Fu(g))||(r=c.createElement("link"),In(r,"link",n),Ue(r),c.head.appendChild(r)))}}function nA(n,r){bs.m(n,r);var o=Nl;if(o&&n){var c=r&&typeof r.as=="string"?r.as:"script",p='link[rel="modulepreload"][as="'+Ne(c)+'"][href="'+Ne(n)+'"]',g=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Vl(n)}if(!Xi.has(g)&&(n=S({rel:"modulepreload",href:n},r),Xi.set(g,n),o.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Fu(g)))return}c=o.createElement("link"),In(c,"link",n),Ue(c),o.head.appendChild(c)}}}function iA(n,r,o){bs.S(n,r,o);var c=Nl;if(c&&n){var p=fn(c).hoistableStyles,g=kl(n);r=r||"default";var A=p.get(g);if(!A){var R={loading:0,preload:null};if(A=c.querySelector(ju(g)))R.loading=5;else{n=S({rel:"stylesheet",href:n,"data-precedence":r},o),(o=Xi.get(g))&&Sm(n,o);var k=A=c.createElement("link");Ue(k),In(k,"link",n),k._p=new Promise(function(X,lt){k.onload=X,k.onerror=lt}),k.addEventListener("load",function(){R.loading|=1}),k.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Rh(A,r,c)}A={type:"stylesheet",instance:A,count:1,state:R},p.set(g,A)}}}function rA(n,r){bs.X(n,r);var o=Nl;if(o&&n){var c=fn(o).hoistableScripts,p=Vl(n),g=c.get(p);g||(g=o.querySelector(Fu(p)),g||(n=S({src:n,async:!0},r),(r=Xi.get(p))&&Im(n,r),g=o.createElement("script"),Ue(g),In(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function sA(n,r){bs.M(n,r);var o=Nl;if(o&&n){var c=fn(o).hoistableScripts,p=Vl(n),g=c.get(p);g||(g=o.querySelector(Fu(p)),g||(n=S({src:n,async:!0,type:"module"},r),(r=Xi.get(p))&&Im(n,r),g=o.createElement("script"),Ue(g),In(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function gv(n,r,o,c){var p=(p=Et.current)?Ih(p):null;if(!p)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=kl(o.href),o=fn(p).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=kl(o.href);var g=fn(p).hoistableStyles,A=g.get(n);if(A||(p=p.ownerDocument||p,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(n,A),(g=p.querySelector(ju(n)))&&!g._p&&(A.instance=g,A.state.loading=5),Xi.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Xi.set(n,o),g||aA(p,n,o,A.state))),r&&c===null)throw Error(a(528,""));return A}if(r&&c!==null)throw Error(a(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Vl(o),o=fn(p).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function kl(n){return'href="'+Ne(n)+'"'}function ju(n){return'link[rel="stylesheet"]['+n+"]"}function _v(n){return S({},n,{"data-precedence":n.precedence,precedence:null})}function aA(n,r,o,c){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=n.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),In(r,"link",o),Ue(r),n.head.appendChild(r))}function Vl(n){return'[src="'+Ne(n)+'"]'}function Fu(n){return"script[async]"+n}function yv(n,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=n.querySelector('style[data-href~="'+Ne(o.href)+'"]');if(c)return r.instance=c,Ue(c),c;var p=S({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),Ue(c),In(c,"style",p),Rh(c,o.precedence,n),r.instance=c;case"stylesheet":p=kl(o.href);var g=n.querySelector(ju(p));if(g)return r.state.loading|=4,r.instance=g,Ue(g),g;c=_v(o),(p=Xi.get(p))&&Sm(c,p),g=(n.ownerDocument||n).createElement("link"),Ue(g);var A=g;return A._p=new Promise(function(R,k){A.onload=R,A.onerror=k}),In(g,"link",c),r.state.loading|=4,Rh(g,o.precedence,n),r.instance=g;case"script":return g=Vl(o.src),(p=n.querySelector(Fu(g)))?(r.instance=p,Ue(p),p):(c=o,(p=Xi.get(g))&&(c=S({},o),Im(c,p)),n=n.ownerDocument||n,p=n.createElement("script"),Ue(p),In(p,"link",c),n.head.appendChild(p),r.instance=p);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,Rh(c,o.precedence,n));return r.instance}function Rh(n,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,g=p,A=0;A<c.length;A++){var R=c[A];if(R.dataset.precedence===r)g=R;else if(g!==p)break}g?g.parentNode.insertBefore(n,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(n,r.firstChild))}function Sm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Im(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Ch=null;function vv(n,r,o){if(Ch===null){var c=new Map,p=Ch=new Map;p.set(o,c)}else p=Ch,c=p.get(o),c||(c=new Map,p.set(o,c));if(c.has(n))return c;for(c.set(n,null),o=o.getElementsByTagName(n),p=0;p<o.length;p++){var g=o[p];if(!(g[Cr]||g[Ze]||n==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var A=g.getAttribute(r)||"";A=n+A;var R=c.get(A);R?R.push(g):c.set(A,[g])}}return c}function Tv(n,r,o){n=n.ownerDocument||n,n.head.insertBefore(o,r==="title"?n.querySelector("head > title"):null)}function oA(n,r,o){if(o===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Ev(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Gu=null;function lA(){}function uA(n,r,o){if(Gu===null)throw Error(a(475));var c=Gu;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var p=kl(o.href),g=n.querySelector(ju(p));if(g){n=g._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(c.count++,c=xh.bind(c),n.then(c,c)),r.state.loading|=4,r.instance=g,Ue(g);return}g=n.ownerDocument||n,o=_v(o),(p=Xi.get(p))&&Sm(o,p),g=g.createElement("link"),Ue(g);var A=g;A._p=new Promise(function(R,k){A.onload=R,A.onerror=k}),In(g,"link",o),r.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(c.count++,r=xh.bind(c),n.addEventListener("load",r),n.addEventListener("error",r))}}function cA(){if(Gu===null)throw Error(a(475));var n=Gu;return n.stylesheets&&n.count===0&&Rm(n,n.stylesheets),0<n.count?function(r){var o=setTimeout(function(){if(n.stylesheets&&Rm(n,n.stylesheets),n.unsuspend){var c=n.unsuspend;n.unsuspend=null,c()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(o)}}:null}function xh(){if(this.count--,this.count===0){if(this.stylesheets)Rm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Ph=null;function Rm(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Ph=new Map,r.forEach(hA,n),Ph=null,xh.call(n))}function hA(n,r){if(!(r.state.loading&4)){var o=Ph.get(n);if(o)var c=o.get(null);else{o=new Map,Ph.set(n,o);for(var p=n.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var A=p[g];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(o.set(A.dataset.precedence,A),c=A)}c&&o.set(null,c)}p=r.instance,A=p.getAttribute("data-precedence"),g=o.get(A)||c,g===c&&o.set(null,p),o.set(A,p),this.count++,c=xh.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),g?g.parentNode.insertBefore(p,g.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(p,n.firstChild)),r.state.loading|=4}}var Zu={$$typeof:it,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function fA(n,r,o,c,p,g,A,R){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mi(0),this.hiddenUpdates=Mi(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function wv(n,r,o,c,p,g,A,R,k,X,lt,ct){return n=new fA(n,r,o,A,R,k,X,ct),r=1,g===!0&&(r|=24),g=Qn(3,null,null,r),n.current=g,g.stateNode=n,r=ld(),r.refCount++,n.pooledCache=r,r.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:r},fd(g),n}function bv(n){return n?(n=ms,n):ms}function Av(n,r,o,c,p,g){p=bv(p),c.context===null?c.context=p:c.pendingContext=p,c=fa(r),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=da(n,c,r),o!==null&&(xi(o,n,r),wu(o,n,r))}function Sv(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<r?o:r}}function Cm(n,r){Sv(n,r),(n=n.alternate)&&Sv(n,r)}function Iv(n){if(n.tag===13){var r=oa(n,67108864);r!==null&&xi(r,n,67108864),Cm(n,67108864)}}var Oh=!0;function dA(n,r,o,c){var p=at.T;at.T=null;var g=yt.p;try{yt.p=2,xm(n,r,o,c)}finally{yt.p=g,at.T=p}}function mA(n,r,o,c){var p=at.T;at.T=null;var g=yt.p;try{yt.p=8,xm(n,r,o,c)}finally{yt.p=g,at.T=p}}function xm(n,r,o,c){if(Oh){var p=Pm(c);if(p===null)gm(n,r,c,Lh,o),Cv(n,c);else if(gA(p,n,r,o,c))c.stopPropagation();else if(Cv(n,c),r&4&&-1<pA.indexOf(n)){for(;p!==null;){var g=di(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var A=Wn(g.pendingLanes);if(A!==0){var R=g;for(R.pendingLanes|=2,R.entangledLanes|=2;A;){var k=1<<31-hn(A);R.entanglements[1]|=k,A&=~k}jr(g),(_e&6)===0&&(ph=Pn()+500,Uu(0))}}break;case 13:R=oa(g,2),R!==null&&xi(R,g,2),_h(),Cm(g,2)}if(g=Pm(c),g===null&&gm(n,r,c,Lh,o),g===p)break;p=g}p!==null&&c.stopPropagation()}else gm(n,r,c,null,o)}}function Pm(n){return n=bn(n),Om(n)}var Lh=null;function Om(n){if(Lh=null,n=fi(n),n!==null){var r=h(n);if(r===null)n=null;else{var o=r.tag;if(o===13){if(n=m(r),n!==null)return n;n=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Lh=n,null}function Rv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zs()){case Wa:return 2;case Wr:return 8;case er:case Wo:return 32;case Jr:return 268435456;default:return 32}default:return 32}}var Lm=!1,Ia=null,Ra=null,Ca=null,$u=new Map,Ku=new Map,xa=[],pA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cv(n,r){switch(n){case"focusin":case"focusout":Ia=null;break;case"dragenter":case"dragleave":Ra=null;break;case"mouseover":case"mouseout":Ca=null;break;case"pointerover":case"pointerout":$u.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ku.delete(r.pointerId)}}function Yu(n,r,o,c,p,g){return n===null||n.nativeEvent!==g?(n={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[p]},r!==null&&(r=di(r),r!==null&&Iv(r)),n):(n.eventSystemFlags|=c,r=n.targetContainers,p!==null&&r.indexOf(p)===-1&&r.push(p),n)}function gA(n,r,o,c,p){switch(r){case"focusin":return Ia=Yu(Ia,n,r,o,c,p),!0;case"dragenter":return Ra=Yu(Ra,n,r,o,c,p),!0;case"mouseover":return Ca=Yu(Ca,n,r,o,c,p),!0;case"pointerover":var g=p.pointerId;return $u.set(g,Yu($u.get(g)||null,n,r,o,c,p)),!0;case"gotpointercapture":return g=p.pointerId,Ku.set(g,Yu(Ku.get(g)||null,n,r,o,c,p)),!0}return!1}function xv(n){var r=fi(n.target);if(r!==null){var o=h(r);if(o!==null){if(r=o.tag,r===13){if(r=m(o),r!==null){n.blockedOn=r,qs(n.priority,function(){if(o.tag===13){var c=Ci();c=Ir(c);var p=oa(o,c);p!==null&&xi(p,o,c),Cm(o,c)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Mh(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var o=Pm(n.nativeEvent);if(o===null){o=n.nativeEvent;var c=new o.constructor(o.type,o);_i=c,o.target.dispatchEvent(c),_i=null}else return r=di(o),r!==null&&Iv(r),n.blockedOn=o,!1;r.shift()}return!0}function Pv(n,r,o){Mh(n)&&o.delete(r)}function _A(){Lm=!1,Ia!==null&&Mh(Ia)&&(Ia=null),Ra!==null&&Mh(Ra)&&(Ra=null),Ca!==null&&Mh(Ca)&&(Ca=null),$u.forEach(Pv),Ku.forEach(Pv)}function Dh(n,r){n.blockedOn===r&&(n.blockedOn=null,Lm||(Lm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,_A)))}var Nh=null;function Ov(n){Nh!==n&&(Nh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Nh===n&&(Nh=null);for(var r=0;r<n.length;r+=3){var o=n[r],c=n[r+1],p=n[r+2];if(typeof c!="function"){if(Om(c||o)===null)continue;break}var g=di(o);g!==null&&(n.splice(r,3),r-=3,Od(g,{pending:!0,data:p,method:o.method,action:c},c,p))}}))}function Qu(n){function r(k){return Dh(k,n)}Ia!==null&&Dh(Ia,n),Ra!==null&&Dh(Ra,n),Ca!==null&&Dh(Ca,n),$u.forEach(r),Ku.forEach(r);for(var o=0;o<xa.length;o++){var c=xa[o];c.blockedOn===n&&(c.blockedOn=null)}for(;0<xa.length&&(o=xa[0],o.blockedOn===null);)xv(o),o.blockedOn===null&&xa.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var p=o[c],g=o[c+1],A=p[je]||null;if(typeof g=="function")A||Ov(o);else if(A){var R=null;if(g&&g.hasAttribute("formAction")){if(p=g,A=g[je]||null)R=A.formAction;else if(Om(p)!==null)continue}else R=A.action;typeof R=="function"?o[c+1]=R:(o.splice(c,3),c-=3),Ov(o)}}}function Mm(n){this._internalRoot=n}kh.prototype.render=Mm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(a(409));var o=r.current,c=Ci();Av(o,c,n,r,null,null)},kh.prototype.unmount=Mm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;Av(n.current,2,null,n,null,null),_h(),r[Jn]=null}};function kh(n){this._internalRoot=n}kh.prototype.unstable_scheduleHydration=function(n){if(n){var r=Rr();n={blockedOn:null,target:n,priority:r};for(var o=0;o<xa.length&&r!==0&&r<xa[o].priority;o++);xa.splice(o,0,n),o===0&&xv(n)}};var Lv=t.version;if(Lv!=="19.1.0")throw Error(a(527,Lv,"19.1.0"));yt.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=v(r),n=n!==null?T(n):null,n=n===null?null:n.stateNode,n};var yA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:at,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vh.isDisabled&&Vh.supportsFiber)try{xe=Vh.inject(yA),ue=Vh}catch{}}return Wu.createRoot=function(n,r){if(!l(n))throw Error(a(299));var o=!1,c="",p=K_,g=Y_,A=Q_,R=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(A=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(R=r.unstable_transitionCallbacks)),r=wv(n,1,!1,null,null,o,c,p,g,A,R,null),n[Jn]=r.current,pm(n),new Mm(r)},Wu.hydrateRoot=function(n,r,o){if(!l(n))throw Error(a(299));var c=!1,p="",g=K_,A=Y_,R=Q_,k=null,X=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(A=o.onCaughtError),o.onRecoverableError!==void 0&&(R=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(k=o.unstable_transitionCallbacks),o.formState!==void 0&&(X=o.formState)),r=wv(n,1,!0,r,o??null,c,p,g,A,R,k,X),r.context=bv(null),o=r.current,c=Ci(),c=Ir(c),p=fa(c),p.callback=null,da(o,p,c),o=c,r.current.lanes=o,Di(r,o),jr(r),n[Jn]=r.current,pm(n),new kh(r)},Wu.version="19.1.0",Wu}var qv;function RA(){if(qv)return km.exports;qv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),km.exports=IA(),km.exports}var CA=RA();const xA=kp(CA);var Ju={},jv;function PA(){if(jv)return Ju;jv=1,Object.defineProperty(Ju,"__esModule",{value:!0}),Ju.parse=m,Ju.serialize=T;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,h=(()=>{const P=function(){};return P.prototype=Object.create(null),P})();function m(P,U){const q=new h,Z=P.length;if(Z<2)return q;const W=(U==null?void 0:U.decode)||S;let st=0;do{const J=P.indexOf("=",st);if(J===-1)break;const it=P.indexOf(";",st),_t=it===-1?Z:it;if(J>_t){st=P.lastIndexOf(";",J-1)+1;continue}const Tt=y(P,st,J),xt=v(P,J,Tt),V=P.slice(Tt,xt);if(q[V]===void 0){let O=y(P,J+1,_t),M=v(P,_t,O);const B=W(P.slice(O,M));q[V]=B}st=_t+1}while(st<Z);return q}function y(P,U,q){do{const Z=P.charCodeAt(U);if(Z!==32&&Z!==9)return U}while(++U<q);return q}function v(P,U,q){for(;U>q;){const Z=P.charCodeAt(--U);if(Z!==32&&Z!==9)return U+1}return q}function T(P,U,q){const Z=(q==null?void 0:q.encode)||encodeURIComponent;if(!i.test(P))throw new TypeError(`argument name is invalid: ${P}`);const W=Z(U);if(!t.test(W))throw new TypeError(`argument val is invalid: ${U}`);let st=P+"="+W;if(!q)return st;if(q.maxAge!==void 0){if(!Number.isInteger(q.maxAge))throw new TypeError(`option maxAge is invalid: ${q.maxAge}`);st+="; Max-Age="+q.maxAge}if(q.domain){if(!e.test(q.domain))throw new TypeError(`option domain is invalid: ${q.domain}`);st+="; Domain="+q.domain}if(q.path){if(!a.test(q.path))throw new TypeError(`option path is invalid: ${q.path}`);st+="; Path="+q.path}if(q.expires){if(!C(q.expires)||!Number.isFinite(q.expires.valueOf()))throw new TypeError(`option expires is invalid: ${q.expires}`);st+="; Expires="+q.expires.toUTCString()}if(q.httpOnly&&(st+="; HttpOnly"),q.secure&&(st+="; Secure"),q.partitioned&&(st+="; Partitioned"),q.priority)switch(typeof q.priority=="string"?q.priority.toLowerCase():void 0){case"low":st+="; Priority=Low";break;case"medium":st+="; Priority=Medium";break;case"high":st+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${q.priority}`)}if(q.sameSite)switch(typeof q.sameSite=="string"?q.sameSite.toLowerCase():q.sameSite){case!0:case"strict":st+="; SameSite=Strict";break;case"lax":st+="; SameSite=Lax";break;case"none":st+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${q.sameSite}`)}return st}function S(P){if(P.indexOf("%")===-1)return P;try{return decodeURIComponent(P)}catch{return P}}function C(P){return l.call(P)==="[object Date]"}return Ju}PA();function Xe(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function Cs(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function np({pathname:i="/",search:t="",hash:e=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(i+=e.charAt(0)==="#"?e:"#"+e),i}function xf(i){let t={};if(i){let e=i.indexOf("#");e>=0&&(t.hash=i.substring(e),i=i.substring(0,e));let a=i.indexOf("?");a>=0&&(t.search=i.substring(a),i=i.substring(0,a)),i&&(t.pathname=i)}return t}function kT(i,t,e="/"){return OA(i,t,e,!1)}function OA(i,t,e,a){let l=typeof t=="string"?xf(t):t,h=qa(l.pathname||"/",e);if(h==null)return null;let m=VT(i);LA(m);let y=null;for(let v=0;y==null&&v<m.length;++v){let T=jA(h);y=HA(m[v],T,a)}return y}function VT(i,t=[],e=[],a=""){let l=(h,m,y)=>{let v={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};v.relativePath.startsWith("/")&&(Xe(v.relativePath.startsWith(a),`Absolute route path "${v.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(a.length));let T=Is([a,v.relativePath]),S=e.concat(v);h.children&&h.children.length>0&&(Xe(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),VT(h.children,t,S,T)),!(h.path==null&&!h.index)&&t.push({path:T,score:UA(T,h.index),routesMeta:S})};return i.forEach((h,m)=>{var y;if(h.path===""||!((y=h.path)!=null&&y.includes("?")))l(h,m);else for(let v of zT(h.path))l(h,m,v)}),t}function zT(i){let t=i.split("/");if(t.length===0)return[];let[e,...a]=t,l=e.endsWith("?"),h=e.replace(/\?$/,"");if(a.length===0)return l?[h,""]:[h];let m=zT(a.join("/")),y=[];return y.push(...m.map(v=>v===""?h:[h,v].join("/"))),l&&y.push(...m),y.map(v=>i.startsWith("/")&&v===""?"/":v)}function LA(i){i.sort((t,e)=>t.score!==e.score?e.score-t.score:BA(t.routesMeta.map(a=>a.childrenIndex),e.routesMeta.map(a=>a.childrenIndex)))}var MA=/^:[\w-]+$/,DA=3,NA=2,kA=1,VA=10,zA=-2,Fv=i=>i==="*";function UA(i,t){let e=i.split("/"),a=e.length;return e.some(Fv)&&(a+=zA),t&&(a+=NA),e.filter(l=>!Fv(l)).reduce((l,h)=>l+(MA.test(h)?DA:h===""?kA:VA),a)}function BA(i,t){return i.length===t.length&&i.slice(0,-1).every((a,l)=>a===t[l])?i[i.length-1]-t[t.length-1]:0}function HA(i,t,e=!1){let{routesMeta:a}=i,l={},h="/",m=[];for(let y=0;y<a.length;++y){let v=a[y],T=y===a.length-1,S=h==="/"?t:t.slice(h.length)||"/",C=sf({path:v.relativePath,caseSensitive:v.caseSensitive,end:T},S),P=v.route;if(!C&&T&&e&&!a[a.length-1].route.index&&(C=sf({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},S)),!C)return null;Object.assign(l,C.params),m.push({params:l,pathname:Is([h,C.pathname]),pathnameBase:$A(Is([h,C.pathnameBase])),route:P}),C.pathnameBase!=="/"&&(h=Is([h,C.pathnameBase]))}return m}function sf(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[e,a]=qA(i.path,i.caseSensitive,i.end),l=t.match(e);if(!l)return null;let h=l[0],m=h.replace(/(.)\/+$/,"$1"),y=l.slice(1);return{params:a.reduce((T,{paramName:S,isOptional:C},P)=>{if(S==="*"){let q=y[P]||"";m=h.slice(0,h.length-q.length).replace(/(.)\/+$/,"$1")}const U=y[P];return C&&!U?T[S]=void 0:T[S]=(U||"").replace(/%2F/g,"/"),T},{}),pathname:h,pathnameBase:m,pattern:i}}function qA(i,t=!1,e=!0){Cs(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let a=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,y,v)=>(a.push({paramName:y,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(a.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),a]}function jA(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Cs(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function qa(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,a=i.charAt(e);return a&&a!=="/"?null:i.slice(e)||"/"}function FA(i,t="/"){let{pathname:e,search:a="",hash:l=""}=typeof i=="string"?xf(i):i;return{pathname:e?e.startsWith("/")?e:GA(e,t):t,search:KA(a),hash:YA(l)}}function GA(i,t){let e=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?e.length>1&&e.pop():l!=="."&&e.push(l)}),e.length>1?e.join("/"):"/"}function Bm(i,t,e,a){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ZA(i){return i.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function UT(i){let t=ZA(i);return t.map((e,a)=>a===t.length-1?e.pathname:e.pathnameBase)}function BT(i,t,e,a=!1){let l;typeof i=="string"?l=xf(i):(l={...i},Xe(!l.pathname||!l.pathname.includes("?"),Bm("?","pathname","search",l)),Xe(!l.pathname||!l.pathname.includes("#"),Bm("#","pathname","hash",l)),Xe(!l.search||!l.search.includes("#"),Bm("#","search","hash",l)));let h=i===""||l.pathname==="",m=h?"/":l.pathname,y;if(m==null)y=e;else{let C=t.length-1;if(!a&&m.startsWith("..")){let P=m.split("/");for(;P[0]==="..";)P.shift(),C-=1;l.pathname=P.join("/")}y=C>=0?t[C]:"/"}let v=FA(l,y),T=m&&m!=="/"&&m.endsWith("/"),S=(h||m===".")&&e.endsWith("/");return!v.pathname.endsWith("/")&&(T||S)&&(v.pathname+="/"),v}var Is=i=>i.join("/").replace(/\/\/+/g,"/"),$A=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),KA=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,YA=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function QA(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var HT=["POST","PUT","PATCH","DELETE"];new Set(HT);var XA=["GET",...HT];new Set(XA);var tu=Q.createContext(null);tu.displayName="DataRouter";var Pf=Q.createContext(null);Pf.displayName="DataRouterState";var qT=Q.createContext({isTransitioning:!1});qT.displayName="ViewTransition";var WA=Q.createContext(new Map);WA.displayName="Fetchers";var JA=Q.createContext(null);JA.displayName="Await";var Ns=Q.createContext(null);Ns.displayName="Navigation";var Of=Q.createContext(null);Of.displayName="Location";var ks=Q.createContext({outlet:null,matches:[],isDataRoute:!1});ks.displayName="Route";var zp=Q.createContext(null);zp.displayName="RouteError";function tS(i,{relative:t}={}){Xe(Lf(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:a}=Q.useContext(Ns),{hash:l,pathname:h,search:m}=bc(i,{relative:t}),y=h;return e!=="/"&&(y=h==="/"?e:Is([e,h])),a.createHref({pathname:y,search:m,hash:l})}function Lf(){return Q.useContext(Of)!=null}function Go(){return Xe(Lf(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(Of).location}var jT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function FT(i){Q.useContext(Ns).static||Q.useLayoutEffect(i)}function Up(){let{isDataRoute:i}=Q.useContext(ks);return i?dS():eS()}function eS(){Xe(Lf(),"useNavigate() may be used only in the context of a <Router> component.");let i=Q.useContext(tu),{basename:t,navigator:e}=Q.useContext(Ns),{matches:a}=Q.useContext(ks),{pathname:l}=Go(),h=JSON.stringify(UT(a)),m=Q.useRef(!1);return FT(()=>{m.current=!0}),Q.useCallback((v,T={})=>{if(Cs(m.current,jT),!m.current)return;if(typeof v=="number"){e.go(v);return}let S=BT(v,JSON.parse(h),l,T.relative==="path");i==null&&t!=="/"&&(S.pathname=S.pathname==="/"?t:Is([t,S.pathname])),(T.replace?e.replace:e.push)(S,T.state,T)},[t,e,h,l,i])}Q.createContext(null);function bc(i,{relative:t}={}){let{matches:e}=Q.useContext(ks),{pathname:a}=Go(),l=JSON.stringify(UT(e));return Q.useMemo(()=>BT(i,JSON.parse(l),a,t==="path"),[i,l,a,t])}function nS(i,t){return GT(i,t)}function GT(i,t,e,a){var st;Xe(Lf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=Q.useContext(Ns),{matches:h}=Q.useContext(ks),m=h[h.length-1],y=m?m.params:{},v=m?m.pathname:"/",T=m?m.pathnameBase:"/",S=m&&m.route;{let J=S&&S.path||"";ZT(v,!S||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let C=Go(),P;if(t){let J=typeof t=="string"?xf(t):t;Xe(T==="/"||((st=J.pathname)==null?void 0:st.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${J.pathname}" was given in the \`location\` prop.`),P=J}else P=C;let U=P.pathname||"/",q=U;if(T!=="/"){let J=T.replace(/^\//,"").split("/");q="/"+U.replace(/^\//,"").split("/").slice(J.length).join("/")}let Z=kT(i,{pathname:q});Cs(S||Z!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),Cs(Z==null||Z[Z.length-1].route.element!==void 0||Z[Z.length-1].route.Component!==void 0||Z[Z.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let W=oS(Z&&Z.map(J=>Object.assign({},J,{params:Object.assign({},y,J.params),pathname:Is([T,l.encodeLocation?l.encodeLocation(J.pathname).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?T:Is([T,l.encodeLocation?l.encodeLocation(J.pathnameBase).pathname:J.pathnameBase])})),h,e,a);return t&&W?Q.createElement(Of.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},W):W}function iS(){let i=fS(),t=QA(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),e=i instanceof Error?i.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},h={padding:"2px 4px",backgroundColor:a},m=null;return console.error("Error handled by React Router default ErrorBoundary:",i),m=Q.createElement(Q.Fragment,null,Q.createElement("p",null,"💿 Hey developer 👋"),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:h},"ErrorBoundary")," or"," ",Q.createElement("code",{style:h},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},t),e?Q.createElement("pre",{style:l},e):null,m)}var rS=Q.createElement(iS,null),sS=class extends Q.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){console.error("React Router caught the following error during render",i,t)}render(){return this.state.error!==void 0?Q.createElement(ks.Provider,{value:this.props.routeContext},Q.createElement(zp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function aS({routeContext:i,match:t,children:e}){let a=Q.useContext(tu);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),Q.createElement(ks.Provider,{value:i},e)}function oS(i,t=[],e=null,a=null){if(i==null){if(!e)return null;if(e.errors)i=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)i=e.matches;else return null}let l=i,h=e==null?void 0:e.errors;if(h!=null){let v=l.findIndex(T=>T.route.id&&(h==null?void 0:h[T.route.id])!==void 0);Xe(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let m=!1,y=-1;if(e)for(let v=0;v<l.length;v++){let T=l[v];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(y=v),T.route.id){let{loaderData:S,errors:C}=e,P=T.route.loader&&!S.hasOwnProperty(T.route.id)&&(!C||C[T.route.id]===void 0);if(T.route.lazy||P){m=!0,y>=0?l=l.slice(0,y+1):l=[l[0]];break}}}return l.reduceRight((v,T,S)=>{let C,P=!1,U=null,q=null;e&&(C=h&&T.route.id?h[T.route.id]:void 0,U=T.route.errorElement||rS,m&&(y<0&&S===0?(ZT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,q=null):y===S&&(P=!0,q=T.route.hydrateFallbackElement||null)));let Z=t.concat(l.slice(0,S+1)),W=()=>{let st;return C?st=U:P?st=q:T.route.Component?st=Q.createElement(T.route.Component,null):T.route.element?st=T.route.element:st=v,Q.createElement(aS,{match:T,routeContext:{outlet:v,matches:Z,isDataRoute:e!=null},children:st})};return e&&(T.route.ErrorBoundary||T.route.errorElement||S===0)?Q.createElement(sS,{location:e.location,revalidation:e.revalidation,component:U,error:C,children:W(),routeContext:{outlet:null,matches:Z,isDataRoute:!0}}):W()},null)}function Bp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lS(i){let t=Q.useContext(tu);return Xe(t,Bp(i)),t}function uS(i){let t=Q.useContext(Pf);return Xe(t,Bp(i)),t}function cS(i){let t=Q.useContext(ks);return Xe(t,Bp(i)),t}function Hp(i){let t=cS(i),e=t.matches[t.matches.length-1];return Xe(e.route.id,`${i} can only be used on routes that contain a unique "id"`),e.route.id}function hS(){return Hp("useRouteId")}function fS(){var a;let i=Q.useContext(zp),t=uS("useRouteError"),e=Hp("useRouteError");return i!==void 0?i:(a=t.errors)==null?void 0:a[e]}function dS(){let{router:i}=lS("useNavigate"),t=Hp("useNavigate"),e=Q.useRef(!1);return FT(()=>{e.current=!0}),Q.useCallback(async(l,h={})=>{Cs(e.current,jT),e.current&&(typeof l=="number"?i.navigate(l):await i.navigate(l,{fromRouteId:t,...h}))},[i,t])}var Gv={};function ZT(i,t,e){!t&&!Gv[i]&&(Gv[i]=!0,Cs(!1,e))}Q.memo(mS);function mS({routes:i,future:t,state:e}){return GT(i,void 0,e,t)}function Gh(i){Xe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pS({children:i,location:t}){return nS(ip(i),t)}function ip(i,t=[]){let e=[];return Q.Children.forEach(i,(a,l)=>{if(!Q.isValidElement(a))return;let h=[...t,l];if(a.type===Q.Fragment){e.push.apply(e,ip(a.props.children,h));return}Xe(a.type===Gh,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xe(!a.props.index||!a.props.children,"An index route cannot have child routes.");let m={id:a.props.id||h.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(m.children=ip(a.props.children,h)),e.push(m)}),e}var Zh="get",$h="application/x-www-form-urlencoded";function Mf(i){return i!=null&&typeof i.tagName=="string"}function gS(i){return Mf(i)&&i.tagName.toLowerCase()==="button"}function _S(i){return Mf(i)&&i.tagName.toLowerCase()==="form"}function yS(i){return Mf(i)&&i.tagName.toLowerCase()==="input"}function vS(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function TS(i,t){return i.button===0&&(!t||t==="_self")&&!vS(i)}var zh=null;function ES(){if(zh===null)try{new FormData(document.createElement("form"),0),zh=!1}catch{zh=!0}return zh}var wS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hm(i){return i!=null&&!wS.has(i)?(Cs(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$h}"`),null):i}function bS(i,t){let e,a,l,h,m;if(_S(i)){let y=i.getAttribute("action");a=y?qa(y,t):null,e=i.getAttribute("method")||Zh,l=Hm(i.getAttribute("enctype"))||$h,h=new FormData(i)}else if(gS(i)||yS(i)&&(i.type==="submit"||i.type==="image")){let y=i.form;if(y==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=i.getAttribute("formaction")||y.getAttribute("action");if(a=v?qa(v,t):null,e=i.getAttribute("formmethod")||y.getAttribute("method")||Zh,l=Hm(i.getAttribute("formenctype"))||Hm(y.getAttribute("enctype"))||$h,h=new FormData(y,i),!ES()){let{name:T,type:S,value:C}=i;if(S==="image"){let P=T?`${T}.`:"";h.append(`${P}x`,"0"),h.append(`${P}y`,"0")}else T&&h.append(T,C)}}else{if(Mf(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Zh,a=null,l=$h,m=i}return h&&l==="text/plain"&&(m=h,h=void 0),{action:a,method:e.toLowerCase(),encType:l,formData:h,body:m}}function qp(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}async function AS(i,t){if(i.id in t)return t[i.id];try{let e=await import(i.module);return t[i.id]=e,e}catch(e){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function SS(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function IS(i,t,e){let a=await Promise.all(i.map(async l=>{let h=t.routes[l.route.id];if(h){let m=await AS(h,e);return m.links?m.links():[]}return[]}));return PS(a.flat(1).filter(SS).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Zv(i,t,e,a,l,h){let m=(v,T)=>e[T]?v.route.id!==e[T].route.id:!0,y=(v,T)=>{var S;return e[T].pathname!==v.pathname||((S=e[T].route.path)==null?void 0:S.endsWith("*"))&&e[T].params["*"]!==v.params["*"]};return h==="assets"?t.filter((v,T)=>m(v,T)||y(v,T)):h==="data"?t.filter((v,T)=>{var C;let S=a.routes[v.route.id];if(!S||!S.hasLoader)return!1;if(m(v,T)||y(v,T))return!0;if(v.route.shouldRevalidate){let P=v.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((C=e[0])==null?void 0:C.params)||{},nextUrl:new URL(i,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof P=="boolean")return P}return!0}):[]}function RS(i,t,{includeHydrateFallback:e}={}){return CS(i.map(a=>{let l=t.routes[a.route.id];if(!l)return[];let h=[l.module];return l.clientActionModule&&(h=h.concat(l.clientActionModule)),l.clientLoaderModule&&(h=h.concat(l.clientLoaderModule)),e&&l.hydrateFallbackModule&&(h=h.concat(l.hydrateFallbackModule)),l.imports&&(h=h.concat(l.imports)),h}).flat(1))}function CS(i){return[...new Set(i)]}function xS(i){let t={},e=Object.keys(i).sort();for(let a of e)t[a]=i[a];return t}function PS(i,t){let e=new Set;return new Set(t),i.reduce((a,l)=>{let h=JSON.stringify(xS(l));return e.has(h)||(e.add(h),a.push({key:h,link:l})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var OS=new Set([100,101,204,205]);function LS(i,t){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":t&&qa(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function $T(){let i=Q.useContext(tu);return qp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function MS(){let i=Q.useContext(Pf);return qp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var jp=Q.createContext(void 0);jp.displayName="FrameworkContext";function KT(){let i=Q.useContext(jp);return qp(i,"You must render this element inside a <HydratedRouter> element"),i}function DS(i,t){let e=Q.useContext(jp),[a,l]=Q.useState(!1),[h,m]=Q.useState(!1),{onFocus:y,onBlur:v,onMouseEnter:T,onMouseLeave:S,onTouchStart:C}=t,P=Q.useRef(null);Q.useEffect(()=>{if(i==="render"&&m(!0),i==="viewport"){let Z=st=>{st.forEach(J=>{m(J.isIntersecting)})},W=new IntersectionObserver(Z,{threshold:.5});return P.current&&W.observe(P.current),()=>{W.disconnect()}}},[i]),Q.useEffect(()=>{if(a){let Z=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(Z)}}},[a]);let U=()=>{l(!0)},q=()=>{l(!1),m(!1)};return e?i!=="intent"?[h,P,{}]:[h,P,{onFocus:tc(y,U),onBlur:tc(v,q),onMouseEnter:tc(T,U),onMouseLeave:tc(S,q),onTouchStart:tc(C,U)}]:[!1,P,{}]}function tc(i,t){return e=>{i&&i(e),e.defaultPrevented||t(e)}}function NS({page:i,...t}){let{router:e}=$T(),a=Q.useMemo(()=>kT(e.routes,i,e.basename),[e.routes,i,e.basename]);return a?Q.createElement(VS,{page:i,matches:a,...t}):null}function kS(i){let{manifest:t,routeModules:e}=KT(),[a,l]=Q.useState([]);return Q.useEffect(()=>{let h=!1;return IS(i,t,e).then(m=>{h||l(m)}),()=>{h=!0}},[i,t,e]),a}function VS({page:i,matches:t,...e}){let a=Go(),{manifest:l,routeModules:h}=KT(),{basename:m}=$T(),{loaderData:y,matches:v}=MS(),T=Q.useMemo(()=>Zv(i,t,v,l,a,"data"),[i,t,v,l,a]),S=Q.useMemo(()=>Zv(i,t,v,l,a,"assets"),[i,t,v,l,a]),C=Q.useMemo(()=>{if(i===a.pathname+a.search+a.hash)return[];let q=new Set,Z=!1;if(t.forEach(st=>{var it;let J=l.routes[st.route.id];!J||!J.hasLoader||(!T.some(_t=>_t.route.id===st.route.id)&&st.route.id in y&&((it=h[st.route.id])!=null&&it.shouldRevalidate)||J.hasClientLoader?Z=!0:q.add(st.route.id))}),q.size===0)return[];let W=LS(i,m);return Z&&q.size>0&&W.searchParams.set("_routes",t.filter(st=>q.has(st.route.id)).map(st=>st.route.id).join(",")),[W.pathname+W.search]},[m,y,a,l,T,t,i,h]),P=Q.useMemo(()=>RS(S,l),[S,l]),U=kS(S);return Q.createElement(Q.Fragment,null,C.map(q=>Q.createElement("link",{key:q,rel:"prefetch",as:"fetch",href:q,...e})),P.map(q=>Q.createElement("link",{key:q,rel:"modulepreload",href:q,...e})),U.map(({key:q,link:Z})=>Q.createElement("link",{key:q,...Z})))}function zS(...i){return t=>{i.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var YT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{YT&&(window.__reactRouterVersion="7.6.2")}catch{}var QT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fp=Q.forwardRef(function({onClick:t,discover:e="render",prefetch:a="none",relative:l,reloadDocument:h,replace:m,state:y,target:v,to:T,preventScrollReset:S,viewTransition:C,...P},U){let{basename:q}=Q.useContext(Ns),Z=typeof T=="string"&&QT.test(T),W,st=!1;if(typeof T=="string"&&Z&&(W=T,YT))try{let M=new URL(window.location.href),B=T.startsWith("//")?new URL(M.protocol+T):new URL(T),H=qa(B.pathname,q);B.origin===M.origin&&H!=null?T=H+B.search+B.hash:st=!0}catch{Cs(!1,`<Link to="${T}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=tS(T,{relative:l}),[it,_t,Tt]=DS(a,P),xt=qS(T,{replace:m,state:y,target:v,preventScrollReset:S,relative:l,viewTransition:C});function V(M){t&&t(M),M.defaultPrevented||xt(M)}let O=Q.createElement("a",{...P,...Tt,href:W||J,onClick:st||h?t:V,ref:zS(U,_t),target:v,"data-discover":!Z&&e==="render"?"true":void 0});return it&&!Z?Q.createElement(Q.Fragment,null,O,Q.createElement(NS,{page:J})):O});Fp.displayName="Link";var US=Q.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:a="",end:l=!1,style:h,to:m,viewTransition:y,children:v,...T},S){let C=bc(m,{relative:T.relative}),P=Go(),U=Q.useContext(Pf),{navigator:q,basename:Z}=Q.useContext(Ns),W=U!=null&&$S(C)&&y===!0,st=q.encodeLocation?q.encodeLocation(C).pathname:C.pathname,J=P.pathname,it=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;e||(J=J.toLowerCase(),it=it?it.toLowerCase():null,st=st.toLowerCase()),it&&Z&&(it=qa(it,Z)||it);const _t=st!=="/"&&st.endsWith("/")?st.length-1:st.length;let Tt=J===st||!l&&J.startsWith(st)&&J.charAt(_t)==="/",xt=it!=null&&(it===st||!l&&it.startsWith(st)&&it.charAt(st.length)==="/"),V={isActive:Tt,isPending:xt,isTransitioning:W},O=Tt?t:void 0,M;typeof a=="function"?M=a(V):M=[a,Tt?"active":null,xt?"pending":null,W?"transitioning":null].filter(Boolean).join(" ");let B=typeof h=="function"?h(V):h;return Q.createElement(Fp,{...T,"aria-current":O,className:M,ref:S,style:B,to:m,viewTransition:y},typeof v=="function"?v(V):v)});US.displayName="NavLink";var BS=Q.forwardRef(({discover:i="render",fetcherKey:t,navigate:e,reloadDocument:a,replace:l,state:h,method:m=Zh,action:y,onSubmit:v,relative:T,preventScrollReset:S,viewTransition:C,...P},U)=>{let q=GS(),Z=ZS(y,{relative:T}),W=m.toLowerCase()==="get"?"get":"post",st=typeof y=="string"&&QT.test(y),J=it=>{if(v&&v(it),it.defaultPrevented)return;it.preventDefault();let _t=it.nativeEvent.submitter,Tt=(_t==null?void 0:_t.getAttribute("formmethod"))||m;q(_t||it.currentTarget,{fetcherKey:t,method:Tt,navigate:e,replace:l,state:h,relative:T,preventScrollReset:S,viewTransition:C})};return Q.createElement("form",{ref:U,method:W,action:Z,onSubmit:a?v:J,...P,"data-discover":!st&&i==="render"?"true":void 0})});BS.displayName="Form";function HS(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XT(i){let t=Q.useContext(tu);return Xe(t,HS(i)),t}function qS(i,{target:t,replace:e,state:a,preventScrollReset:l,relative:h,viewTransition:m}={}){let y=Up(),v=Go(),T=bc(i,{relative:h});return Q.useCallback(S=>{if(TS(S,t)){S.preventDefault();let C=e!==void 0?e:np(v)===np(T);y(i,{replace:C,state:a,preventScrollReset:l,relative:h,viewTransition:m})}},[v,y,T,e,a,t,i,l,h,m])}var jS=0,FS=()=>`__${String(++jS)}__`;function GS(){let{router:i}=XT("useSubmit"),{basename:t}=Q.useContext(Ns),e=hS();return Q.useCallback(async(a,l={})=>{let{action:h,method:m,encType:y,formData:v,body:T}=bS(a,t);if(l.navigate===!1){let S=l.fetcherKey||FS();await i.fetch(S,e,l.action||h,{preventScrollReset:l.preventScrollReset,formData:v,body:T,formMethod:l.method||m,formEncType:l.encType||y,flushSync:l.flushSync})}else await i.navigate(l.action||h,{preventScrollReset:l.preventScrollReset,formData:v,body:T,formMethod:l.method||m,formEncType:l.encType||y,replace:l.replace,state:l.state,fromRouteId:e,flushSync:l.flushSync,viewTransition:l.viewTransition})},[i,t,e])}function ZS(i,{relative:t}={}){let{basename:e}=Q.useContext(Ns),a=Q.useContext(ks);Xe(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),h={...bc(i||".",{relative:t})},m=Go();if(i==null){h.search=m.search;let y=new URLSearchParams(h.search),v=y.getAll("index");if(v.some(S=>S==="")){y.delete("index"),v.filter(C=>C).forEach(C=>y.append("index",C));let S=y.toString();h.search=S?`?${S}`:""}}return(!i||i===".")&&l.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(h.pathname=h.pathname==="/"?e:Is([e,h.pathname])),np(h)}function $S(i,t={}){let e=Q.useContext(qT);Xe(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=XT("useViewTransitionState"),l=bc(i,{relative:t.relative});if(!e.isTransitioning)return!1;let h=qa(e.currentLocation.pathname,a)||e.currentLocation.pathname,m=qa(e.nextLocation.pathname,a)||e.nextLocation.pathname;return sf(l.pathname,m)!=null||sf(l.pathname,h)!=null}[...OS];var KS=NT();const YS=()=>{const i=Up(),t=()=>{i("/mapa")},e=()=>{i("/añadir")};return $t.jsxs("div",{className:"home",children:[$t.jsx("h1",{className:"title",children:"🍻 TapasRadar"}),$t.jsx("p",{className:"description",children:"Descubre los bares con más ambiente de Madrid en tiempo real. Tapas, cerveza y buena vibra — todo en un vistazo."}),$t.jsx("button",{className:"start-button",onClick:t,children:"Empezar"}),$t.jsx("br",{}),$t.jsx("button",{className:"start-button",onClick:e,children:"Añadir bars"})]})};function WT(i,t){const e=Q.useRef(t);Q.useEffect(function(){t!==e.current&&i.attributionControl!=null&&(e.current!=null&&i.attributionControl.removeAttribution(e.current),t!=null&&i.attributionControl.addAttribution(t)),e.current=t},[i,t])}const QS=1;function XS(i){return Object.freeze({__version:QS,map:i})}function WS(i,t){return Object.freeze({...i,...t})}const Gp=Q.createContext(null);function JT(){const i=Q.use(Gp);if(i==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return i}function JS(i){function t(e,a){const{instance:l,context:h}=i(e).current;Q.useImperativeHandle(a,()=>l);const{children:m}=e;return m==null?null:Te.createElement(Gp,{value:h},m)}return Q.forwardRef(t)}function tI(i){function t(e,a){const[l,h]=Q.useState(!1),{instance:m}=i(e,h).current;Q.useImperativeHandle(a,()=>m),Q.useEffect(function(){l&&m.update()},[m,l,e.children]);const y=m._contentNode;return y?KS.createPortal(e.children,y):null}return Q.forwardRef(t)}function eI(i){function t(e,a){const{instance:l}=i(e).current;return Q.useImperativeHandle(a,()=>l),null}return Q.forwardRef(t)}function tE(i,t){const e=Q.useRef(void 0);Q.useEffect(function(){return t!=null&&i.instance.on(t),e.current=t,function(){e.current!=null&&i.instance.off(e.current),e.current=null}},[i,t])}function Zp(i,t){const e=i.pane??t.pane;return e?{...i,pane:e}:i}function nI(i,t){return function(a,l){const h=JT(),m=i(Zp(a,h),h);return WT(h.map,a.attribution),tE(m.current,a.eventHandlers),t(m.current,h,a,l),m}}var ec={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var iI=ec.exports,$v;function rI(){return $v||($v=1,function(i,t){(function(e,a){a(t)})(iI,function(e){var a="1.9.4";function l(s){var u,d,_,w;for(d=1,_=arguments.length;d<_;d++){w=arguments[d];for(u in w)s[u]=w[u]}return s}var h=Object.create||function(){function s(){}return function(u){return s.prototype=u,new s}}();function m(s,u){var d=Array.prototype.slice;if(s.bind)return s.bind.apply(s,d.call(arguments,1));var _=d.call(arguments,2);return function(){return s.apply(u,_.length?_.concat(d.call(arguments)):arguments)}}var y=0;function v(s){return"_leaflet_id"in s||(s._leaflet_id=++y),s._leaflet_id}function T(s,u,d){var _,w,I,N;return N=function(){_=!1,w&&(I.apply(d,w),w=!1)},I=function(){_?w=arguments:(s.apply(d,arguments),setTimeout(N,u),_=!0)},I}function S(s,u,d){var _=u[1],w=u[0],I=_-w;return s===_&&d?s:((s-w)%I+I)%I+w}function C(){return!1}function P(s,u){if(u===!1)return s;var d=Math.pow(10,u===void 0?6:u);return Math.round(s*d)/d}function U(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function q(s){return U(s).split(/\s+/)}function Z(s,u){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?h(s.options):{});for(var d in u)s.options[d]=u[d];return s.options}function W(s,u,d){var _=[];for(var w in s)_.push(encodeURIComponent(d?w.toUpperCase():w)+"="+encodeURIComponent(s[w]));return(!u||u.indexOf("?")===-1?"?":"&")+_.join("&")}var st=/\{ *([\w_ -]+) *\}/g;function J(s,u){return s.replace(st,function(d,_){var w=u[_];if(w===void 0)throw new Error("No value provided for variable "+d);return typeof w=="function"&&(w=w(u)),w})}var it=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function _t(s,u){for(var d=0;d<s.length;d++)if(s[d]===u)return d;return-1}var Tt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function xt(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var V=0;function O(s){var u=+new Date,d=Math.max(0,16-(u-V));return V=u+d,window.setTimeout(s,d)}var M=window.requestAnimationFrame||xt("RequestAnimationFrame")||O,B=window.cancelAnimationFrame||xt("CancelAnimationFrame")||xt("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function H(s,u,d){if(d&&M===O)s.call(u);else return M.call(window,m(s,u))}function F(s){s&&B.call(window,s)}var z={__proto__:null,extend:l,create:h,bind:m,get lastId(){return y},stamp:v,throttle:T,wrapNum:S,falseFn:C,formatNum:P,trim:U,splitWords:q,setOptions:Z,getParamString:W,template:J,isArray:it,indexOf:_t,emptyImageUrl:Tt,requestFn:M,cancelFn:B,requestAnimFrame:H,cancelAnimFrame:F};function pe(){}pe.extend=function(s){var u=function(){Z(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=u.__super__=this.prototype,_=h(d);_.constructor=u,u.prototype=_;for(var w in this)Object.prototype.hasOwnProperty.call(this,w)&&w!=="prototype"&&w!=="__super__"&&(u[w]=this[w]);return s.statics&&l(u,s.statics),s.includes&&(Ie(s.includes),l.apply(null,[_].concat(s.includes))),l(_,s),delete _.statics,delete _.includes,_.options&&(_.options=d.options?h(d.options):{},l(_.options,s.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var I=0,N=_._initHooks.length;I<N;I++)_._initHooks[I].call(this)}},u},pe.include=function(s){var u=this.prototype.options;return l(this.prototype,s),s.options&&(this.prototype.options=u,this.mergeOptions(s.options)),this},pe.mergeOptions=function(s){return l(this.prototype.options,s),this},pe.addInitHook=function(s){var u=Array.prototype.slice.call(arguments,1),d=typeof s=="function"?s:function(){this[s].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function Ie(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=it(s)?s:[s];for(var u=0;u<s.length;u++)s[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var at={on:function(s,u,d){if(typeof s=="object")for(var _ in s)this._on(_,s[_],u);else{s=q(s);for(var w=0,I=s.length;w<I;w++)this._on(s[w],u,d)}return this},off:function(s,u,d){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var _ in s)this._off(_,s[_],u);else{s=q(s);for(var w=arguments.length===1,I=0,N=s.length;I<N;I++)w?this._off(s[I]):this._off(s[I],u,d)}return this},_on:function(s,u,d,_){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(s,u,d)===!1){d===this&&(d=void 0);var w={fn:u,ctx:d};_&&(w.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(w)}},_off:function(s,u,d){var _,w,I;if(this._events&&(_=this._events[s],!!_)){if(arguments.length===1){if(this._firingCount)for(w=0,I=_.length;w<I;w++)_[w].fn=C;delete this._events[s];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var N=this._listens(s,u,d);if(N!==!1){var K=_[N];this._firingCount&&(K.fn=C,this._events[s]=_=_.slice()),_.splice(N,1)}}},fire:function(s,u,d){if(!this.listens(s,d))return this;var _=l({},u,{type:s,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var w=this._events[s];if(w){this._firingCount=this._firingCount+1||1;for(var I=0,N=w.length;I<N;I++){var K=w[I],nt=K.fn;K.once&&this.off(s,nt,K.ctx),nt.call(K.ctx||this,_)}this._firingCount--}}return d&&this._propagateEvent(_),this},listens:function(s,u,d,_){typeof s!="string"&&console.warn('"string" type argument expected');var w=u;typeof u!="function"&&(_=!!u,w=void 0,d=void 0);var I=this._events&&this._events[s];if(I&&I.length&&this._listens(s,w,d)!==!1)return!0;if(_){for(var N in this._eventParents)if(this._eventParents[N].listens(s,u,d,_))return!0}return!1},_listens:function(s,u,d){if(!this._events)return!1;var _=this._events[s]||[];if(!u)return!!_.length;d===this&&(d=void 0);for(var w=0,I=_.length;w<I;w++)if(_[w].fn===u&&_[w].ctx===d)return w;return!1},once:function(s,u,d){if(typeof s=="object")for(var _ in s)this._on(_,s[_],u,!0);else{s=q(s);for(var w=0,I=s.length;w<I;w++)this._on(s[w],u,d,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[v(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[v(s)],this},_propagateEvent:function(s){for(var u in this._eventParents)this._eventParents[u].fire(s.type,l({layer:s.target,propagatedFrom:s.target},s),!0)}};at.addEventListener=at.on,at.removeEventListener=at.clearAllEventListeners=at.off,at.addOneTimeEventListener=at.once,at.fireEvent=at.fire,at.hasEventListeners=at.listens;var yt=pe.extend(at);function pt(s,u,d){this.x=d?Math.round(s):s,this.y=d?Math.round(u):u}var se=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};pt.prototype={clone:function(){return new pt(this.x,this.y)},add:function(s){return this.clone()._add(D(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(D(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new pt(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new pt(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=se(this.x),this.y=se(this.y),this},distanceTo:function(s){s=D(s);var u=s.x-this.x,d=s.y-this.y;return Math.sqrt(u*u+d*d)},equals:function(s){return s=D(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=D(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+P(this.x)+", "+P(this.y)+")"}};function D(s,u,d){return s instanceof pt?s:it(s)?new pt(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new pt(s.x,s.y):new pt(s,u,d)}function ot(s,u){if(s)for(var d=u?[s,u]:s,_=0,w=d.length;_<w;_++)this.extend(d[_])}ot.prototype={extend:function(s){var u,d;if(!s)return this;if(s instanceof pt||typeof s[0]=="number"||"x"in s)u=d=D(s);else if(s=gt(s),u=s.min,d=s.max,!u||!d)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=d.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(s){return D((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return D(this.min.x,this.max.y)},getTopRight:function(){return D(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var u,d;return typeof s[0]=="number"||s instanceof pt?s=D(s):s=gt(s),s instanceof ot?(u=s.min,d=s.max):u=d=s,u.x>=this.min.x&&d.x<=this.max.x&&u.y>=this.min.y&&d.y<=this.max.y},intersects:function(s){s=gt(s);var u=this.min,d=this.max,_=s.min,w=s.max,I=w.x>=u.x&&_.x<=d.x,N=w.y>=u.y&&_.y<=d.y;return I&&N},overlaps:function(s){s=gt(s);var u=this.min,d=this.max,_=s.min,w=s.max,I=w.x>u.x&&_.x<d.x,N=w.y>u.y&&_.y<d.y;return I&&N},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var u=this.min,d=this.max,_=Math.abs(u.x-d.x)*s,w=Math.abs(u.y-d.y)*s;return gt(D(u.x-_,u.y-w),D(d.x+_,d.y+w))},equals:function(s){return s?(s=gt(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function gt(s,u){return!s||s instanceof ot?s:new ot(s,u)}function mt(s,u){if(s)for(var d=u?[s,u]:s,_=0,w=d.length;_<w;_++)this.extend(d[_])}mt.prototype={extend:function(s){var u=this._southWest,d=this._northEast,_,w;if(s instanceof St)_=s,w=s;else if(s instanceof mt){if(_=s._southWest,w=s._northEast,!_||!w)return this}else return s?this.extend(Et(s)||wt(s)):this;return!u&&!d?(this._southWest=new St(_.lat,_.lng),this._northEast=new St(w.lat,w.lng)):(u.lat=Math.min(_.lat,u.lat),u.lng=Math.min(_.lng,u.lng),d.lat=Math.max(w.lat,d.lat),d.lng=Math.max(w.lng,d.lng)),this},pad:function(s){var u=this._southWest,d=this._northEast,_=Math.abs(u.lat-d.lat)*s,w=Math.abs(u.lng-d.lng)*s;return new mt(new St(u.lat-_,u.lng-w),new St(d.lat+_,d.lng+w))},getCenter:function(){return new St((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new St(this.getNorth(),this.getWest())},getSouthEast:function(){return new St(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof St||"lat"in s?s=Et(s):s=wt(s);var u=this._southWest,d=this._northEast,_,w;return s instanceof mt?(_=s.getSouthWest(),w=s.getNorthEast()):_=w=s,_.lat>=u.lat&&w.lat<=d.lat&&_.lng>=u.lng&&w.lng<=d.lng},intersects:function(s){s=wt(s);var u=this._southWest,d=this._northEast,_=s.getSouthWest(),w=s.getNorthEast(),I=w.lat>=u.lat&&_.lat<=d.lat,N=w.lng>=u.lng&&_.lng<=d.lng;return I&&N},overlaps:function(s){s=wt(s);var u=this._southWest,d=this._northEast,_=s.getSouthWest(),w=s.getNorthEast(),I=w.lat>u.lat&&_.lat<d.lat,N=w.lng>u.lng&&_.lng<d.lng;return I&&N},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,u){return s?(s=wt(s),this._southWest.equals(s.getSouthWest(),u)&&this._northEast.equals(s.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function wt(s,u){return s instanceof mt?s:new mt(s,u)}function St(s,u,d){if(isNaN(s)||isNaN(u))throw new Error("Invalid LatLng object: ("+s+", "+u+")");this.lat=+s,this.lng=+u,d!==void 0&&(this.alt=+d)}St.prototype={equals:function(s,u){if(!s)return!1;s=Et(s);var d=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return d<=(u===void 0?1e-9:u)},toString:function(s){return"LatLng("+P(this.lat,s)+", "+P(this.lng,s)+")"},distanceTo:function(s){return re.distance(this,Et(s))},wrap:function(){return re.wrapLatLng(this)},toBounds:function(s){var u=180*s/40075017,d=u/Math.cos(Math.PI/180*this.lat);return wt([this.lat-u,this.lng-d],[this.lat+u,this.lng+d])},clone:function(){return new St(this.lat,this.lng,this.alt)}};function Et(s,u,d){return s instanceof St?s:it(s)&&typeof s[0]!="object"?s.length===3?new St(s[0],s[1],s[2]):s.length===2?new St(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new St(s.lat,"lng"in s?s.lng:s.lon,s.alt):u===void 0?null:new St(s,u,d)}var Ee={latLngToPoint:function(s,u){var d=this.projection.project(s),_=this.scale(u);return this.transformation._transform(d,_)},pointToLatLng:function(s,u){var d=this.scale(u),_=this.transformation.untransform(s,d);return this.projection.unproject(_)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var u=this.projection.bounds,d=this.scale(s),_=this.transformation.transform(u.min,d),w=this.transformation.transform(u.max,d);return new ot(_,w)},infinite:!1,wrapLatLng:function(s){var u=this.wrapLng?S(s.lng,this.wrapLng,!0):s.lng,d=this.wrapLat?S(s.lat,this.wrapLat,!0):s.lat,_=s.alt;return new St(d,u,_)},wrapLatLngBounds:function(s){var u=s.getCenter(),d=this.wrapLatLng(u),_=u.lat-d.lat,w=u.lng-d.lng;if(_===0&&w===0)return s;var I=s.getSouthWest(),N=s.getNorthEast(),K=new St(I.lat-_,I.lng-w),nt=new St(N.lat-_,N.lng-w);return new mt(K,nt)}},re=l({},Ee,{wrapLng:[-180,180],R:6371e3,distance:function(s,u){var d=Math.PI/180,_=s.lat*d,w=u.lat*d,I=Math.sin((u.lat-s.lat)*d/2),N=Math.sin((u.lng-s.lng)*d/2),K=I*I+Math.cos(_)*Math.cos(w)*N*N,nt=2*Math.atan2(Math.sqrt(K),Math.sqrt(1-K));return this.R*nt}}),li=6378137,Li={R:li,MAX_LATITUDE:85.0511287798,project:function(s){var u=Math.PI/180,d=this.MAX_LATITUDE,_=Math.max(Math.min(d,s.lat),-d),w=Math.sin(_*u);return new pt(this.R*s.lng*u,this.R*Math.log((1+w)/(1-w))/2)},unproject:function(s){var u=180/Math.PI;return new St((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*u,s.x*u/this.R)},bounds:function(){var s=li*Math.PI;return new ot([-s,-s],[s,s])}()};function ui(s,u,d,_){if(it(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=u,this._c=d,this._d=_}ui.prototype={transform:function(s,u){return this._transform(s.clone(),u)},_transform:function(s,u){return u=u||1,s.x=u*(this._a*s.x+this._b),s.y=u*(this._c*s.y+this._d),s},untransform:function(s,u){return u=u||1,new pt((s.x/u-this._b)/this._a,(s.y/u-this._d)/this._c)}};function ci(s,u,d,_){return new ui(s,u,d,_)}var tr=l({},re,{code:"EPSG:3857",projection:Li,transformation:function(){var s=.5/(Math.PI*Li.R);return ci(s,.5,-s,.5)}()}),Xr=l({},tr,{code:"EPSG:900913"});function Vs(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function Xa(s,u){var d="",_,w,I,N,K,nt;for(_=0,I=s.length;_<I;_++){for(K=s[_],w=0,N=K.length;w<N;w++)nt=K[w],d+=(w?"L":"M")+nt.x+" "+nt.y;d+=u?Ot.svg?"z":"x":""}return d||"M0 0"}var Pn=document.documentElement.style,zs="ActiveXObject"in window,Wa=zs&&!document.addEventListener,Wr="msLaunchUri"in navigator&&!("documentMode"in document),er=Ln("webkit"),Wo=Ln("android"),Jr=Ln("android 2")||Ln("android 3"),Ja=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Jo=Wo&&Ln("Google")&&Ja<537&&!("AudioNode"in window),xe=!!window.opera,ue=!Wr&&Ln("chrome"),On=Ln("gecko")&&!er&&!xe&&!zs,hn=!ue&&Ln("safari"),to=Ln("phantom"),tl="OTransition"in Pn,ts=navigator.platform.indexOf("Win")===0,Sr=zs&&"transition"in Pn,nr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Jr,Wn="MozPerspective"in Pn,Us=!window.L_DISABLE_3D&&(Sr||nr||Wn)&&!tl&&!to,hi=typeof orientation<"u"||Ln("mobile"),eo=hi&&er,no=hi&&nr,Bs=!window.PointerEvent&&window.MSPointerEvent,Mi=!!(window.PointerEvent||Bs),Di="ontouchstart"in window||!!window.TouchEvent,io=!window.L_NO_TOUCH&&(Di||Mi),Ni=hi&&xe,ro=hi&&On,Ir=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Hs=function(){var s=!1;try{var u=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",C,u),window.removeEventListener("testPassiveEventSupport",C,u)}catch{}return s}(),Rr=function(){return!!document.createElement("canvas").getContext}(),qs=!!(document.createElementNS&&Vs("svg").createSVGRect),Pe=!!qs&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Ze=!qs&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var u=s.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}}(),je=navigator.platform.indexOf("Mac")===0,Jn=navigator.platform.indexOf("Linux")===0;function Ln(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var Ot={ie:zs,ielt9:Wa,edge:Wr,webkit:er,android:Wo,android23:Jr,androidStock:Jo,opera:xe,chrome:ue,gecko:On,safari:hn,phantom:to,opera12:tl,win:ts,ie3d:Sr,webkit3d:nr,gecko3d:Wn,any3d:Us,mobile:hi,mobileWebkit:eo,mobileWebkit3d:no,msPointer:Bs,pointer:Mi,touch:io,touchNative:Di,mobileOpera:Ni,mobileGecko:ro,retina:Ir,passiveEvents:Hs,canvas:Rr,svg:qs,vml:Ze,inlineSvg:Pe,mac:je,linux:Jn},ir=Ot.msPointer?"MSPointerDown":"pointerdown",so=Ot.msPointer?"MSPointerMove":"pointermove",Cr=Ot.msPointer?"MSPointerUp":"pointerup",rr=Ot.msPointer?"MSPointerCancel":"pointercancel",fi={touchstart:ir,touchmove:so,touchend:Cr,touchcancel:rr},di={touchstart:ns,touchmove:es,touchend:es,touchcancel:es},En={},fn=!1;function Ue(s,u,d){return u==="touchstart"&&el(),di[u]?(d=di[u].bind(this,d),s.addEventListener(fi[u],d,!1),d):(console.warn("wrong event specified:",u),C)}function ao(s,u,d){if(!fi[u]){console.warn("wrong event specified:",u);return}s.removeEventListener(fi[u],d,!1)}function js(s){En[s.pointerId]=s}function mi(s){En[s.pointerId]&&(En[s.pointerId]=s)}function ki(s){delete En[s.pointerId]}function el(){fn||(document.addEventListener(ir,js,!0),document.addEventListener(so,mi,!0),document.addEventListener(Cr,ki,!0),document.addEventListener(rr,ki,!0),fn=!0)}function es(s,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var d in En)u.touches.push(En[d]);u.changedTouches=[u],s(u)}}function ns(s,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&we(u),es(s,u)}function nl(s){var u={},d,_;for(_ in s)d=s[_],u[_]=d&&d.bind?d.bind(s):d;return s=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var xr=200;function Vi(s,u){s.addEventListener("dblclick",u);var d=0,_;function w(I){if(I.detail!==1){_=I.detail;return}if(!(I.pointerType==="mouse"||I.sourceCapabilities&&!I.sourceCapabilities.firesTouchEvents)){var N=Zs(I);if(!(N.some(function(nt){return nt instanceof HTMLLabelElement&&nt.attributes.for})&&!N.some(function(nt){return nt instanceof HTMLInputElement||nt instanceof HTMLSelectElement}))){var K=Date.now();K-d<=xr?(_++,_===2&&u(nl(I))):_=1,d=K}}}return s.addEventListener("click",w),{dblclick:u,simDblclick:w}}function sn(s,u){s.removeEventListener("dblclick",u.dblclick),s.removeEventListener("click",u.simDblclick)}var sr=pi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Pr=pi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),zi=Pr==="webkitTransition"||Pr==="OTransition"?Pr+"End":"transitionend";function is(s){return typeof s=="string"?document.getElementById(s):s}function Ui(s,u){var d=s.style[u]||s.currentStyle&&s.currentStyle[u];if((!d||d==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(s,null);d=_?_[u]:null}return d==="auto"?null:d}function Qt(s,u,d){var _=document.createElement(s);return _.className=u||"",d&&d.appendChild(_),_}function fe(s){var u=s.parentNode;u&&u.removeChild(s)}function We(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Bi(s){var u=s.parentNode;u&&u.lastChild!==s&&u.appendChild(s)}function Or(s){var u=s.parentNode;u&&u.firstChild!==s&&u.insertBefore(s,u.firstChild)}function Lr(s,u){if(s.classList!==void 0)return s.classList.contains(u);var d=Ne(s);return d.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(d)}function qt(s,u){if(s.classList!==void 0)for(var d=q(u),_=0,w=d.length;_<w;_++)s.classList.add(d[_]);else if(!Lr(s,u)){var I=Ne(s);oo(s,(I?I+" ":"")+u)}}function ge(s,u){s.classList!==void 0?s.classList.remove(u):oo(s,U((" "+Ne(s)+" ").replace(" "+u+" "," ")))}function oo(s,u){s.className.baseVal===void 0?s.className=u:s.className.baseVal=u}function Ne(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function Oe(s,u){"opacity"in s.style?s.style.opacity=u:"filter"in s.style&&rs(s,u)}function rs(s,u){var d=!1,_="DXImageTransform.Microsoft.Alpha";try{d=s.filters.item(_)}catch{if(u===1)return}u=Math.round(u*100),d?(d.Enabled=u!==100,d.Opacity=u):s.style.filter+=" progid:"+_+"(opacity="+u+")"}function pi(s){for(var u=document.documentElement.style,d=0;d<s.length;d++)if(s[d]in u)return s[d];return!1}function wn(s,u,d){var _=u||new pt(0,0);s.style[sr]=(Ot.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(d?" scale("+d+")":"")}function Vt(s,u){s._leaflet_pos=u,Ot.any3d?wn(s,u):(s.style.left=u.x+"px",s.style.top=u.y+"px")}function Fn(s){return s._leaflet_pos||new pt(0,0)}var dn,gi,Fs;if("onselectstart"in document)dn=function(){Dt(window,"selectstart",we)},gi=function(){ae(window,"selectstart",we)};else{var ar=pi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);dn=function(){if(ar){var s=document.documentElement.style;Fs=s[ar],s[ar]="none"}},gi=function(){ar&&(document.documentElement.style[ar]=Fs,Fs=void 0)}}function ss(){Dt(window,"dragstart",we)}function lo(){ae(window,"dragstart",we)}var Gs,Mr;function _i(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(bn(),Gs=s,Mr=s.style.outlineStyle,s.style.outlineStyle="none",Dt(window,"keydown",bn))}function bn(){Gs&&(Gs.style.outlineStyle=Mr,Gs=void 0,Mr=void 0,ae(window,"keydown",bn))}function Hi(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function yi(s){var u=s.getBoundingClientRect();return{x:u.width/s.offsetWidth||1,y:u.height/s.offsetHeight||1,boundingClientRect:u}}var uo={__proto__:null,TRANSFORM:sr,TRANSITION:Pr,TRANSITION_END:zi,get:is,getStyle:Ui,create:Qt,remove:fe,empty:We,toFront:Bi,toBack:Or,hasClass:Lr,addClass:qt,removeClass:ge,setClass:oo,getClass:Ne,setOpacity:Oe,testProp:pi,setTransform:wn,setPosition:Vt,getPosition:Fn,get disableTextSelection(){return dn},get enableTextSelection(){return gi},disableImageDrag:ss,enableImageDrag:lo,preventOutline:_i,restoreOutline:bn,getSizedParentNode:Hi,getScale:yi};function Dt(s,u,d,_){if(u&&typeof u=="object")for(var w in u)or(s,w,u[w],d);else{u=q(u);for(var I=0,N=u.length;I<N;I++)or(s,u[I],d,_)}return this}var Gn="_leaflet_events";function ae(s,u,d,_){if(arguments.length===1)ti(s),delete s[Gn];else if(u&&typeof u=="object")for(var w in u)ei(s,w,u[w],d);else if(u=q(u),arguments.length===2)ti(s,function(K){return _t(u,K)!==-1});else for(var I=0,N=u.length;I<N;I++)ei(s,u[I],d,_);return this}function ti(s,u){for(var d in s[Gn]){var _=d.split(/\d/)[0];(!u||u(_))&&ei(s,_,null,null,d)}}var Mn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function or(s,u,d,_){var w=u+v(d)+(_?"_"+v(_):"");if(s[Gn]&&s[Gn][w])return this;var I=function(K){return d.call(_||s,K||window.event)},N=I;!Ot.touchNative&&Ot.pointer&&u.indexOf("touch")===0?I=Ue(s,u,I):Ot.touch&&u==="dblclick"?I=Vi(s,I):"addEventListener"in s?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?s.addEventListener(Mn[u]||u,I,Ot.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(I=function(K){K=K||window.event,ur(s,K)&&N(K)},s.addEventListener(Mn[u],I,!1)):s.addEventListener(u,N,!1):s.attachEvent("on"+u,I),s[Gn]=s[Gn]||{},s[Gn][w]=I}function ei(s,u,d,_,w){w=w||u+v(d)+(_?"_"+v(_):"");var I=s[Gn]&&s[Gn][w];if(!I)return this;!Ot.touchNative&&Ot.pointer&&u.indexOf("touch")===0?ao(s,u,I):Ot.touch&&u==="dblclick"?sn(s,I):"removeEventListener"in s?s.removeEventListener(Mn[u]||u,I,!1):s.detachEvent("on"+u,I),s[Gn][w]=null}function Dn(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function vi(s){return or(s,"wheel",Dn),this}function lr(s){return Dt(s,"mousedown touchstart dblclick contextmenu",Dn),s._leaflet_disable_click=!0,this}function we(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function mn(s){return we(s),Dn(s),this}function Zs(s){if(s.composedPath)return s.composedPath();for(var u=[],d=s.target;d;)u.push(d),d=d.parentNode;return u}function $e(s,u){if(!u)return new pt(s.clientX,s.clientY);var d=yi(u),_=d.boundingClientRect;return new pt((s.clientX-_.left)/d.x-u.clientLeft,(s.clientY-_.top)/d.y-u.clientTop)}var ce=Ot.linux&&Ot.chrome?window.devicePixelRatio:Ot.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function as(s){return Ot.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/ce:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function ur(s,u){var d=u.relatedTarget;if(!d)return!0;try{for(;d&&d!==s;)d=d.parentNode}catch{return!1}return d!==s}var il={__proto__:null,on:Dt,off:ae,stopPropagation:Dn,disableScrollPropagation:vi,disableClickPropagation:lr,preventDefault:we,stop:mn,getPropagationPath:Zs,getMousePosition:$e,getWheelDelta:as,isExternalTarget:ur,addListener:Dt,removeListener:ae},os=yt.extend({run:function(s,u,d,_){this.stop(),this._el=s,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=Fn(s),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=H(this._animate,this),this._step()},_step:function(s){var u=+new Date-this._startTime,d=this._duration*1e3;u<d?this._runFrame(this._easeOut(u/d),s):(this._runFrame(1),this._complete())},_runFrame:function(s,u){var d=this._startPos.add(this._offset.multiplyBy(s));u&&d._round(),Vt(this._el,d),this.fire("step")},_complete:function(){F(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),Gt=yt.extend({options:{crs:tr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,u){u=Z(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=m(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(Et(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Pr&&Ot.any3d&&!Ot.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Dt(this._proxy,zi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,u,d){if(u=u===void 0?this._zoom:this._limitZoom(u),s=this._limitCenter(Et(s),u,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=l({animate:d.animate},d.zoom),d.pan=l({animate:d.animate,duration:d.duration},d.pan));var _=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,u,d.zoom):this._tryAnimatedPan(s,d.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(s,u,d.pan&&d.pan.noMoveStart),this},setZoom:function(s,u){return this._loaded?this.setView(this.getCenter(),s,{zoom:u}):(this._zoom=s,this)},zoomIn:function(s,u){return s=s||(Ot.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,u)},zoomOut:function(s,u){return s=s||(Ot.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,u)},setZoomAround:function(s,u,d){var _=this.getZoomScale(u),w=this.getSize().divideBy(2),I=s instanceof pt?s:this.latLngToContainerPoint(s),N=I.subtract(w).multiplyBy(1-1/_),K=this.containerPointToLatLng(w.add(N));return this.setView(K,u,{zoom:d})},_getBoundsCenterZoom:function(s,u){u=u||{},s=s.getBounds?s.getBounds():wt(s);var d=D(u.paddingTopLeft||u.padding||[0,0]),_=D(u.paddingBottomRight||u.padding||[0,0]),w=this.getBoundsZoom(s,!1,d.add(_));if(w=typeof u.maxZoom=="number"?Math.min(u.maxZoom,w):w,w===1/0)return{center:s.getCenter(),zoom:w};var I=_.subtract(d).divideBy(2),N=this.project(s.getSouthWest(),w),K=this.project(s.getNorthEast(),w),nt=this.unproject(N.add(K).divideBy(2).add(I),w);return{center:nt,zoom:w}},fitBounds:function(s,u){if(s=wt(s),!s.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(s,u);return this.setView(d.center,d.zoom,u)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,u){return this.setView(s,this._zoom,{pan:u})},panBy:function(s,u){if(s=D(s).round(),u=u||{},!s.x&&!s.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new os,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){qt(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,d,u.duration||.25,u.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,u,d){if(d=d||{},d.animate===!1||!Ot.any3d)return this.setView(s,u,d);this._stop();var _=this.project(this.getCenter()),w=this.project(s),I=this.getSize(),N=this._zoom;s=Et(s),u=u===void 0?N:u;var K=Math.max(I.x,I.y),nt=K*this.getZoomScale(N,u),ft=w.distanceTo(_)||1,bt=1.42,It=bt*bt;function Pt(Ve){var Ki=Ve?-1:1,pr=Ve?nt:K,Ur=nt*nt-K*K+Ki*It*It*ft*ft,gr=2*pr*It*ft,So=Ur/gr,gl=Math.sqrt(So*So+1)-So,Io=gl<1e-9?-18:Math.log(gl);return Io}function Bt(Ve){return(Math.exp(Ve)-Math.exp(-Ve))/2}function Me(Ve){return(Math.exp(Ve)+Math.exp(-Ve))/2}function Be(Ve){return Bt(Ve)/Me(Ve)}var gn=Pt(0);function ni(Ve){return K*(Me(gn)/Me(gn+bt*Ve))}function qc(Ve){return K*(Me(gn)*Be(gn+bt*Ve)-Bt(gn))/It}function jc(Ve){return 1-Math.pow(1-Ve,1.5)}var Ao=Date.now(),ua=(Pt(1)-gn)/bt,Fc=d.duration?1e3*d.duration:1e3*ua*.8;function ca(){var Ve=(Date.now()-Ao)/Fc,Ki=jc(Ve)*ua;Ve<=1?(this._flyToFrame=H(ca,this),this._move(this.unproject(_.add(w.subtract(_).multiplyBy(qc(Ki)/ft)),N),this.getScaleZoom(K/ni(Ki),N),{flyTo:!0})):this._move(s,u)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),ca.call(this),this},flyToBounds:function(s,u){var d=this._getBoundsCenterZoom(s,u);return this.flyTo(d.center,d.zoom,u)},setMaxBounds:function(s){return s=wt(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var u=this.options.minZoom;return this.options.minZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var u=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,u){this._enforcingBounds=!0;var d=this.getCenter(),_=this._limitCenter(d,this._zoom,wt(s));return d.equals(_)||this.panTo(_,u),this._enforcingBounds=!1,this},panInside:function(s,u){u=u||{};var d=D(u.paddingTopLeft||u.padding||[0,0]),_=D(u.paddingBottomRight||u.padding||[0,0]),w=this.project(this.getCenter()),I=this.project(s),N=this.getPixelBounds(),K=gt([N.min.add(d),N.max.subtract(_)]),nt=K.getSize();if(!K.contains(I)){this._enforcingBounds=!0;var ft=I.subtract(K.getCenter()),bt=K.extend(I).getSize().subtract(nt);w.x+=ft.x<0?-bt.x:bt.x,w.y+=ft.y<0?-bt.y:bt.y,this.panTo(this.unproject(w),u),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=l({animate:!1,pan:!0},s===!0?{animate:!0}:s);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),_=u.divideBy(2).round(),w=d.divideBy(2).round(),I=_.subtract(w);return!I.x&&!I.y?this:(s.animate&&s.pan?this.panBy(I):(s.pan&&this._rawPanBy(I),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(m(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=l({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=m(this._handleGeolocationResponse,this),d=m(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,d,s):navigator.geolocation.getCurrentPosition(u,d,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var u=s.code,d=s.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var u=s.coords.latitude,d=s.coords.longitude,_=new St(u,d),w=_.toBounds(s.coords.accuracy*2),I=this._locateOptions;if(I.setView){var N=this.getBoundsZoom(w);this.setView(_,I.maxZoom?Math.min(N,I.maxZoom):N)}var K={latlng:_,bounds:w,timestamp:s.timestamp};for(var nt in s.coords)typeof s.coords[nt]=="number"&&(K[nt]=s.coords[nt]);this.fire("locationfound",K)}},addHandler:function(s,u){if(!u)return this;var d=this[s]=new u(this);return this._handlers.push(d),this.options[s]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),fe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(F(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)fe(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,u){var d="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),_=Qt("div",d,u||this._mapPane);return s&&(this._panes[s]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),u=this.unproject(s.getBottomLeft()),d=this.unproject(s.getTopRight());return new mt(u,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,u,d){s=wt(s),d=D(d||[0,0]);var _=this.getZoom()||0,w=this.getMinZoom(),I=this.getMaxZoom(),N=s.getNorthWest(),K=s.getSouthEast(),nt=this.getSize().subtract(d),ft=gt(this.project(K,_),this.project(N,_)).getSize(),bt=Ot.any3d?this.options.zoomSnap:1,It=nt.x/ft.x,Pt=nt.y/ft.y,Bt=u?Math.max(It,Pt):Math.min(It,Pt);return _=this.getScaleZoom(Bt,_),bt&&(_=Math.round(_/(bt/100))*(bt/100),_=u?Math.ceil(_/bt)*bt:Math.floor(_/bt)*bt),Math.max(w,Math.min(I,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new pt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,u){var d=this._getTopLeftPoint(s,u);return new ot(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,u){var d=this.options.crs;return u=u===void 0?this._zoom:u,d.scale(s)/d.scale(u)},getScaleZoom:function(s,u){var d=this.options.crs;u=u===void 0?this._zoom:u;var _=d.zoom(s*d.scale(u));return isNaN(_)?1/0:_},project:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(Et(s),u)},unproject:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(D(s),u)},layerPointToLatLng:function(s){var u=D(s).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(s){var u=this.project(Et(s))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(Et(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(wt(s))},distance:function(s,u){return this.options.crs.distance(Et(s),Et(u))},containerPointToLayerPoint:function(s){return D(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return D(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var u=this.containerPointToLayerPoint(D(s));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Et(s)))},mouseEventToContainerPoint:function(s){return $e(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var u=this._container=is(s);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Dt(u,"scroll",this._onScroll,this),this._containerId=v(u)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ot.any3d,qt(s,"leaflet-container"+(Ot.touch?" leaflet-touch":"")+(Ot.retina?" leaflet-retina":"")+(Ot.ielt9?" leaflet-oldie":"")+(Ot.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=Ui(s,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Vt(this._mapPane,new pt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(qt(s.markerPane,"leaflet-zoom-hide"),qt(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,u,d){Vt(this._mapPane,new pt(0,0));var _=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var w=this._zoom!==u;this._moveStart(w,d)._move(s,u)._moveEnd(w),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(s,u){return s&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(s,u,d,_){u===void 0&&(u=this._zoom);var w=this._zoom!==u;return this._zoom=u,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),_?d&&d.pinch&&this.fire("zoom",d):((w||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return F(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){Vt(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[v(this._container)]=this;var u=s?ae:Dt;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Ot.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){F(this._resizeRequest),this._resizeRequest=H(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,u){for(var d=[],_,w=u==="mouseout"||u==="mouseover",I=s.target||s.srcElement,N=!1;I;){if(_=this._targets[v(I)],_&&(u==="click"||u==="preclick")&&this._draggableMoved(_)){N=!0;break}if(_&&_.listens(u,!0)&&(w&&!ur(I,s)||(d.push(_),w))||I===this._container)break;I=I.parentNode}return!d.length&&!N&&!w&&this.listens(u,!0)&&(d=[this]),d},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var u=s.target||s.srcElement;if(!(!this._loaded||u._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(u))){var d=s.type;d==="mousedown"&&_i(u),this._fireDOMEvent(s,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,u,d){if(s.type==="click"){var _=l({},s);_.type="preclick",this._fireDOMEvent(_,_.type,d)}var w=this._findEventTargets(s,u);if(d){for(var I=[],N=0;N<d.length;N++)d[N].listens(u,!0)&&I.push(d[N]);w=I.concat(w)}if(w.length){u==="contextmenu"&&we(s);var K=w[0],nt={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var ft=K.getLatLng&&(!K._radius||K._radius<=10);nt.containerPoint=ft?this.latLngToContainerPoint(K.getLatLng()):this.mouseEventToContainerPoint(s),nt.layerPoint=this.containerPointToLayerPoint(nt.containerPoint),nt.latlng=ft?K.getLatLng():this.layerPointToLatLng(nt.layerPoint)}for(N=0;N<w.length;N++)if(w[N].fire(u,nt,!0),nt.originalEvent._stopped||w[N].options.bubblingMouseEvents===!1&&_t(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,u=this._handlers.length;s<u;s++)this._handlers[s].disable()},whenReady:function(s,u){return this._loaded?s.call(u||this,{target:this}):this.on("load",s,u),this},_getMapPanePos:function(){return Fn(this._mapPane)||new pt(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,u){var d=s&&u!==void 0?this._getNewPixelOrigin(s,u):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,u){var d=this.getSize()._divideBy(2);return this.project(s,u)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,u,d){var _=this._getNewPixelOrigin(d,u);return this.project(s,u)._subtract(_)},_latLngBoundsToNewLayerBounds:function(s,u,d){var _=this._getNewPixelOrigin(d,u);return gt([this.project(s.getSouthWest(),u)._subtract(_),this.project(s.getNorthWest(),u)._subtract(_),this.project(s.getSouthEast(),u)._subtract(_),this.project(s.getNorthEast(),u)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,u,d){if(!d)return s;var _=this.project(s,u),w=this.getSize().divideBy(2),I=new ot(_.subtract(w),_.add(w)),N=this._getBoundsOffset(I,d,u);return Math.abs(N.x)<=1&&Math.abs(N.y)<=1?s:this.unproject(_.add(N),u)},_limitOffset:function(s,u){if(!u)return s;var d=this.getPixelBounds(),_=new ot(d.min.add(s),d.max.add(s));return s.add(this._getBoundsOffset(_,u))},_getBoundsOffset:function(s,u,d){var _=gt(this.project(u.getNorthEast(),d),this.project(u.getSouthWest(),d)),w=_.min.subtract(s.min),I=_.max.subtract(s.max),N=this._rebound(w.x,-I.x),K=this._rebound(w.y,-I.y);return new pt(N,K)},_rebound:function(s,u){return s+u>0?Math.round(s-u)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(u))},_limitZoom:function(s){var u=this.getMinZoom(),d=this.getMaxZoom(),_=Ot.any3d?this.options.zoomSnap:1;return _&&(s=Math.round(s/_)*_),Math.max(u,Math.min(d,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ge(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,u){var d=this._getCenterOffset(s)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,u),!0)},_createAnimProxy:function(){var s=this._proxy=Qt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(u){var d=sr,_=this._proxy.style[d];wn(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),_===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){fe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),u=this.getZoom();wn(this._proxy,this.project(s,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,u,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(u),w=this._getCenterOffset(s)._divideBy(1-1/_);return d.animate!==!0&&!this.getSize().contains(w)?!1:(H(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(s,u,!0)},this),!0)},_animateZoom:function(s,u,d,_){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=u,qt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:u,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(m(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ge(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function qi(s,u){return new Gt(s,u)}var an=pe.extend({options:{position:"topright"},initialize:function(s){Z(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var u=this._map;return u&&u.removeControl(this),this.options.position=s,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var u=this._container=this.onAdd(s),d=this.getPosition(),_=s._controlCorners[d];return qt(u,"leaflet-control"),d.indexOf("bottom")!==-1?_.insertBefore(u,_.firstChild):_.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(fe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),pn=function(s){return new an(s)};Gt.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},u="leaflet-",d=this._controlContainer=Qt("div",u+"control-container",this._container);function _(w,I){var N=u+w+" "+u+I;s[w+I]=Qt("div",N,d)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)fe(this._controlCorners[s]);fe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var co=an.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,u,d,_){return d<_?-1:_<d?1:0}},initialize:function(s,u,d){Z(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in s)this._addLayer(s[_],_);for(_ in u)this._addLayer(u[_],_,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return an.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,u){return this._addLayer(s,u),this._map?this._update():this},addOverlay:function(s,u){return this._addLayer(s,u,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var u=this._getLayer(v(s));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){qt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(qt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):ge(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ge(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",u=this._container=Qt("div",s),d=this.options.collapsed;u.setAttribute("aria-haspopup",!0),lr(u),vi(u);var _=this._section=Qt("section",s+"-list");d&&(this._map.on("click",this.collapse,this),Dt(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var w=this._layersLink=Qt("a",s+"-toggle",u);w.href="#",w.title="Layers",w.setAttribute("role","button"),Dt(w,{keydown:function(I){I.keyCode===13&&this._expandSafely()},click:function(I){we(I),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=Qt("div",s+"-base",_),this._separator=Qt("div",s+"-separator",_),this._overlaysList=Qt("div",s+"-overlays",_),u.appendChild(_)},_getLayer:function(s){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&v(this._layers[u].layer)===s)return this._layers[u]},_addLayer:function(s,u,d){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:u,overlay:d}),this.options.sortLayers&&this._layers.sort(m(function(_,w){return this.options.sortFunction(_.layer,w.layer,_.name,w.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;We(this._baseLayersList),We(this._overlaysList),this._layerControlInputs=[];var s,u,d,_,w=0;for(d=0;d<this._layers.length;d++)_=this._layers[d],this._addItem(_),u=u||_.overlay,s=s||!_.overlay,w+=_.overlay?0:1;return this.options.hideSingleBase&&(s=s&&w>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=u&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var u=this._getLayer(v(s.target)),d=u.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;d&&this._map.fire(d,u)},_createRadioElement:function(s,u){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(u?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=d,_.firstChild},_addItem:function(s){var u=document.createElement("label"),d=this._map.hasLayer(s.layer),_;s.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=d):_=this._createRadioElement("leaflet-base-layers_"+v(this),d),this._layerControlInputs.push(_),_.layerId=v(s.layer),Dt(_,"click",this._onInputClick,this);var w=document.createElement("span");w.innerHTML=" "+s.name;var I=document.createElement("span");u.appendChild(I),I.appendChild(_),I.appendChild(w);var N=s.overlay?this._overlaysList:this._baseLayersList;return N.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,u,d,_=[],w=[];this._handlingClick=!0;for(var I=s.length-1;I>=0;I--)u=s[I],d=this._getLayer(u.layerId).layer,u.checked?_.push(d):u.checked||w.push(d);for(I=0;I<w.length;I++)this._map.hasLayer(w[I])&&this._map.removeLayer(w[I]);for(I=0;I<_.length;I++)this._map.hasLayer(_[I])||this._map.addLayer(_[I]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,u,d,_=this._map.getZoom(),w=s.length-1;w>=0;w--)u=s[w],d=this._getLayer(u.layerId).layer,u.disabled=d.options.minZoom!==void 0&&_<d.options.minZoom||d.options.maxZoom!==void 0&&_>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,Dt(s,"click",we),this.expand();var u=this;setTimeout(function(){ae(s,"click",we),u._preventClick=!1})}}),uu=function(s,u,d){return new co(s,u,d)},cr=an.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var u="leaflet-control-zoom",d=Qt("div",u+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,u+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,u+"-out",d,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,u,d,_,w){var I=Qt("a",d,_);return I.innerHTML=s,I.href="#",I.title=u,I.setAttribute("role","button"),I.setAttribute("aria-label",u),lr(I),Dt(I,"click",mn),Dt(I,"click",w,this),Dt(I,"click",this._refocusOnMap,this),I},_updateDisabled:function(){var s=this._map,u="leaflet-disabled";ge(this._zoomInButton,u),ge(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(qt(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(qt(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Gt.mergeOptions({zoomControl:!0}),Gt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new cr,this.addControl(this.zoomControl))});var $s=function(s){return new cr(s)},Ks=an.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var u="leaflet-control-scale",d=Qt("div",u),_=this.options;return this._addScales(_,u+"-line",d),s.on(_.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),d},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,u,d){s.metric&&(this._mScale=Qt("div",u,d)),s.imperial&&(this._iScale=Qt("div",u,d))},_update:function(){var s=this._map,u=s.getSize().y/2,d=s.distance(s.containerPointToLatLng([0,u]),s.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(d)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var u=this._getRoundNum(s),d=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,d,u/s)},_updateImperial:function(s){var u=s*3.2808399,d,_,w;u>5280?(d=u/5280,_=this._getRoundNum(d),this._updateScale(this._iScale,_+" mi",_/d)):(w=this._getRoundNum(u),this._updateScale(this._iScale,w+" ft",w/u))},_updateScale:function(s,u,d){s.style.width=Math.round(this.options.maxWidth*d)+"px",s.innerHTML=u},_getRoundNum:function(s){var u=Math.pow(10,(Math.floor(s)+"").length-1),d=s/u;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,u*d}}),Ys=function(s){return new Ks(s)},rl='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Dr=an.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ot.inlineSvg?rl+" ":"")+"Leaflet</a>"},initialize:function(s){Z(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=Qt("div","leaflet-control-attribution"),lr(this._container);for(var u in s._layers)s._layers[u].getAttribution&&this.addAttribution(s._layers[u].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var u in this._attributions)this._attributions[u]&&s.push(u);var d=[];this.options.prefix&&d.push(this.options.prefix),s.length&&d.push(s.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});Gt.mergeOptions({attributionControl:!0}),Gt.addInitHook(function(){this.options.attributionControl&&new Dr().addTo(this)});var cu=function(s){return new Dr(s)};an.Layers=co,an.Zoom=cr,an.Scale=Ks,an.Attribution=Dr,pn.layers=uu,pn.zoom=$s,pn.scale=Ys,pn.attribution=cu;var Nn=pe.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Nn.addTo=function(s,u){return s.addHandler(u,this),this};var ls={Events:at},ho=Ot.touch?"touchstart mousedown":"mousedown",Ti=yt.extend({options:{clickTolerance:3},initialize:function(s,u,d,_){Z(this,_),this._element=s,this._dragStartTarget=u||s,this._preventOutline=d},enable:function(){this._enabled||(Dt(this._dragStartTarget,ho,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ti._dragging===this&&this.finishDrag(!0),ae(this._dragStartTarget,ho,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!Lr(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){Ti._dragging===this&&this.finishDrag();return}if(!(Ti._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(Ti._dragging=this,this._preventOutline&&_i(this._element),ss(),dn(),!this._moving)){this.fire("down");var u=s.touches?s.touches[0]:s,d=Hi(this._element);this._startPoint=new pt(u.clientX,u.clientY),this._startPos=Fn(this._element),this._parentScale=yi(d);var _=s.type==="mousedown";Dt(document,_?"mousemove":"touchmove",this._onMove,this),Dt(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var u=s.touches&&s.touches.length===1?s.touches[0]:s,d=new pt(u.clientX,u.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,we(s),this._moved||(this.fire("dragstart"),this._moved=!0,qt(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),qt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),Vt(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){ge(document.body,"leaflet-dragging"),this._lastTarget&&(ge(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ae(document,"mousemove touchmove",this._onMove,this),ae(document,"mouseup touchend touchcancel",this._onUp,this),lo(),gi();var u=this._moved&&this._moving;this._moving=!1,Ti._dragging=!1,u&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function Qs(s,u,d){var _,w=[1,4,2,8],I,N,K,nt,ft,bt,It,Pt;for(I=0,bt=s.length;I<bt;I++)s[I]._code=ji(s[I],u);for(K=0;K<4;K++){for(It=w[K],_=[],I=0,bt=s.length,N=bt-1;I<bt;N=I++)nt=s[I],ft=s[N],nt._code&It?ft._code&It||(Pt=Je(ft,nt,It,u,d),Pt._code=ji(Pt,u),_.push(Pt)):(ft._code&It&&(Pt=Je(ft,nt,It,u,d),Pt._code=ji(Pt,u),_.push(Pt)),_.push(nt));s=_}return s}function Nr(s,u){var d,_,w,I,N,K,nt,ft,bt;if(!s||s.length===0)throw new Error("latlngs not passed");f(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var It=Et([0,0]),Pt=wt(s),Bt=Pt.getNorthWest().distanceTo(Pt.getSouthWest())*Pt.getNorthEast().distanceTo(Pt.getNorthWest());Bt<1700&&(It=Xs(s));var Me=s.length,Be=[];for(d=0;d<Me;d++){var gn=Et(s[d]);Be.push(u.project(Et([gn.lat-It.lat,gn.lng-It.lng])))}for(K=nt=ft=0,d=0,_=Me-1;d<Me;_=d++)w=Be[d],I=Be[_],N=w.y*I.x-I.y*w.x,nt+=(w.x+I.x)*N,ft+=(w.y+I.y)*N,K+=N*3;K===0?bt=Be[0]:bt=[nt/K,ft/K];var ni=u.unproject(D(bt));return Et([ni.lat+It.lat,ni.lng+It.lng])}function Xs(s){for(var u=0,d=0,_=0,w=0;w<s.length;w++){var I=Et(s[w]);u+=I.lat,d+=I.lng,_++}return Et([u/_,d/_])}var Ws={__proto__:null,clipPolygon:Qs,polygonCenter:Nr,centroid:Xs};function fo(s,u){if(!u||!s.length)return s.slice();var d=u*u;return s=al(s,d),s=sl(s,d),s}function Js(s,u,d){return Math.sqrt(kn(s,u,d,!0))}function hr(s,u,d){return kn(s,u,d)}function sl(s,u){var d=s.length,_=typeof Uint8Array<"u"?Uint8Array:Array,w=new _(d);w[0]=w[d-1]=1,ta(s,w,u,0,d-1);var I,N=[];for(I=0;I<d;I++)w[I]&&N.push(s[I]);return N}function ta(s,u,d,_,w){var I=0,N,K,nt;for(K=_+1;K<=w-1;K++)nt=kn(s[K],s[_],s[w],!0),nt>I&&(N=K,I=nt);I>d&&(u[N]=1,ta(s,u,d,_,N),ta(s,u,d,N,w))}function al(s,u){for(var d=[s[0]],_=1,w=0,I=s.length;_<I;_++)ol(s[_],s[w])>u&&(d.push(s[_]),w=_);return w<I-1&&d.push(s[I-1]),d}var mo;function us(s,u,d,_,w){var I=_?mo:ji(s,d),N=ji(u,d),K,nt,ft;for(mo=N;;){if(!(I|N))return[s,u];if(I&N)return!1;K=I||N,nt=Je(s,u,K,d,w),ft=ji(nt,d),K===I?(s=nt,I=ft):(u=nt,N=ft)}}function Je(s,u,d,_,w){var I=u.x-s.x,N=u.y-s.y,K=_.min,nt=_.max,ft,bt;return d&8?(ft=s.x+I*(nt.y-s.y)/N,bt=nt.y):d&4?(ft=s.x+I*(K.y-s.y)/N,bt=K.y):d&2?(ft=nt.x,bt=s.y+N*(nt.x-s.x)/I):d&1&&(ft=K.x,bt=s.y+N*(K.x-s.x)/I),new pt(ft,bt,w)}function ji(s,u){var d=0;return s.x<u.min.x?d|=1:s.x>u.max.x&&(d|=2),s.y<u.min.y?d|=4:s.y>u.max.y&&(d|=8),d}function ol(s,u){var d=u.x-s.x,_=u.y-s.y;return d*d+_*_}function kn(s,u,d,_){var w=u.x,I=u.y,N=d.x-w,K=d.y-I,nt=N*N+K*K,ft;return nt>0&&(ft=((s.x-w)*N+(s.y-I)*K)/nt,ft>1?(w=d.x,I=d.y):ft>0&&(w+=N*ft,I+=K*ft)),N=s.x-w,K=s.y-I,_?N*N+K*K:new pt(w,I)}function f(s){return!it(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function E(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),f(s)}function b(s,u){var d,_,w,I,N,K,nt,ft;if(!s||s.length===0)throw new Error("latlngs not passed");f(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var bt=Et([0,0]),It=wt(s),Pt=It.getNorthWest().distanceTo(It.getSouthWest())*It.getNorthEast().distanceTo(It.getNorthWest());Pt<1700&&(bt=Xs(s));var Bt=s.length,Me=[];for(d=0;d<Bt;d++){var Be=Et(s[d]);Me.push(u.project(Et([Be.lat-bt.lat,Be.lng-bt.lng])))}for(d=0,_=0;d<Bt-1;d++)_+=Me[d].distanceTo(Me[d+1])/2;if(_===0)ft=Me[0];else for(d=0,I=0;d<Bt-1;d++)if(N=Me[d],K=Me[d+1],w=N.distanceTo(K),I+=w,I>_){nt=(I-_)/w,ft=[K.x-nt*(K.x-N.x),K.y-nt*(K.y-N.y)];break}var gn=u.unproject(D(ft));return Et([gn.lat+bt.lat,gn.lng+bt.lng])}var x={__proto__:null,simplify:fo,pointToSegmentDistance:Js,closestPointOnSegment:hr,clipSegment:us,_getEdgeIntersection:Je,_getBitCode:ji,_sqClosestPointOnSegment:kn,isFlat:f,_flat:E,polylineCenter:b},$={project:function(s){return new pt(s.lng,s.lat)},unproject:function(s){return new St(s.y,s.x)},bounds:new ot([-180,-90],[180,90])},rt={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ot([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var u=Math.PI/180,d=this.R,_=s.lat*u,w=this.R_MINOR/d,I=Math.sqrt(1-w*w),N=I*Math.sin(_),K=Math.tan(Math.PI/4-_/2)/Math.pow((1-N)/(1+N),I/2);return _=-d*Math.log(Math.max(K,1e-10)),new pt(s.lng*u*d,_)},unproject:function(s){for(var u=180/Math.PI,d=this.R,_=this.R_MINOR/d,w=Math.sqrt(1-_*_),I=Math.exp(-s.y/d),N=Math.PI/2-2*Math.atan(I),K=0,nt=.1,ft;K<15&&Math.abs(nt)>1e-7;K++)ft=w*Math.sin(N),ft=Math.pow((1-ft)/(1+ft),w/2),nt=Math.PI/2-2*Math.atan(I*ft)-N,N+=nt;return new St(N*u,s.x*u/d)}},vt={__proto__:null,LonLat:$,Mercator:rt,SphericalMercator:Li},te=l({},re,{code:"EPSG:3395",projection:rt,transformation:function(){var s=.5/(Math.PI*rt.R);return ci(s,.5,-s,.5)}()}),Fe=l({},re,{code:"EPSG:4326",projection:$,transformation:ci(1/180,1,-1/180,.5)}),ee=l({},Ee,{projection:$,transformation:ci(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,u){var d=u.lng-s.lng,_=u.lat-s.lat;return Math.sqrt(d*d+_*_)},infinite:!0});Ee.Earth=re,Ee.EPSG3395=te,Ee.EPSG3857=tr,Ee.EPSG900913=Xr,Ee.EPSG4326=Fe,Ee.Simple=ee;var de=yt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[v(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[v(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var u=s.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var d=this.getEvents();u.on(d,this),this.once("remove",function(){u.off(d,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Gt.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var u=v(s);return this._layers[u]?this:(this._layers[u]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var u=v(s);return this._layers[u]?(this._loaded&&s.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return v(s)in this._layers},eachLayer:function(s,u){for(var d in this._layers)s.call(u,this._layers[d]);return this},_addLayers:function(s){s=s?it(s)?s:[s]:[];for(var u=0,d=s.length;u<d;u++)this.addLayer(s[u])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[v(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var u=v(s);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,u=-1/0,d=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var w=this._zoomBoundLayers[_].options;s=w.minZoom===void 0?s:Math.min(s,w.minZoom),u=w.maxZoom===void 0?u:Math.max(u,w.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=s===1/0?void 0:s,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Le=de.extend({initialize:function(s,u){Z(this,u),this._layers={};var d,_;if(s)for(d=0,_=s.length;d<_;d++)this.addLayer(s[d])},addLayer:function(s){var u=this.getLayerId(s);return this._layers[u]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var u=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(s){var u=typeof s=="number"?s:this.getLayerId(s);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var u=Array.prototype.slice.call(arguments,1),d,_;for(d in this._layers)_=this._layers[d],_[s]&&_[s].apply(_,u);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,u){for(var d in this._layers)s.call(u,this._layers[d]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return v(s)}}),fr=function(s,u){return new Le(s,u)},Re=Le.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),Le.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),Le.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new mt;for(var u in this._layers){var d=this._layers[u];s.extend(d.getBounds?d.getBounds():d.getLatLng())}return s}}),Fi=function(s,u){return new Re(s,u)},Gi=pe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){Z(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,u){var d=this._getIconUrl(s);if(!d){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(d,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(_,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(s,u){var d=this.options,_=d[u+"Size"];typeof _=="number"&&(_=[_,_]);var w=D(_),I=D(u==="shadow"&&d.shadowAnchor||d.iconAnchor||w&&w.divideBy(2,!0));s.className="leaflet-marker-"+u+" "+(d.className||""),I&&(s.style.marginLeft=-I.x+"px",s.style.marginTop=-I.y+"px"),w&&(s.style.width=w.x+"px",s.style.height=w.y+"px")},_createImg:function(s,u){return u=u||document.createElement("img"),u.src=s,u},_getIconUrl:function(s){return Ot.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function ll(s){return new Gi(s)}var ea=Gi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof ea.imagePath!="string"&&(ea.imagePath=this._detectIconPath()),(this.options.imagePath||ea.imagePath)+Gi.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var u=function(d,_,w){var I=_.exec(d);return I&&I[w]};return s=u(s,/^url\((['"])?(.+)\1\)$/,2),s&&u(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=Qt("div","leaflet-default-icon-path",document.body),u=Ui(s,"background-image")||Ui(s,"backgroundImage");if(document.body.removeChild(s),u=this._stripUrl(u),u)return u;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),hu=Nn.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new Ti(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),qt(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ge(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var u=this._marker,d=u._map,_=this._marker.options.autoPanSpeed,w=this._marker.options.autoPanPadding,I=Fn(u._icon),N=d.getPixelBounds(),K=d.getPixelOrigin(),nt=gt(N.min._subtract(K).add(w),N.max._subtract(K).subtract(w));if(!nt.contains(I)){var ft=D((Math.max(nt.max.x,I.x)-nt.max.x)/(N.max.x-nt.max.x)-(Math.min(nt.min.x,I.x)-nt.min.x)/(N.min.x-nt.min.x),(Math.max(nt.max.y,I.y)-nt.max.y)/(N.max.y-nt.max.y)-(Math.min(nt.min.y,I.y)-nt.min.y)/(N.min.y-nt.min.y)).multiplyBy(_);d.panBy(ft,{animate:!1}),this._draggable._newPos._add(ft),this._draggable._startPos._add(ft),Vt(u._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=H(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(F(this._panRequest),this._panRequest=H(this._adjustPan.bind(this,s)))},_onDrag:function(s){var u=this._marker,d=u._shadow,_=Fn(u._icon),w=u._map.layerPointToLatLng(_);d&&Vt(d,_),u._latlng=w,s.latlng=w,s.oldLatLng=this._oldLatLng,u.fire("move",s).fire("drag",s)},_onDragEnd:function(s){F(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),na=de.extend({options:{icon:new ea,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,u){Z(this,u),this._latlng=Et(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var u=this._latlng;return this._latlng=Et(s),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=s.icon.createIcon(this._icon),_=!1;d!==this._icon&&(this._icon&&this._removeIcon(),_=!0,s.title&&(d.title=s.title),d.tagName==="IMG"&&(d.alt=s.alt||"")),qt(d,u),s.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Dt(d,"focus",this._panOnFocus,this);var w=s.icon.createShadow(this._shadow),I=!1;w!==this._shadow&&(this._removeShadow(),I=!0),w&&(qt(w,u),w.alt=""),this._shadow=w,s.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),w&&I&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ae(this._icon,"focus",this._panOnFocus,this),fe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&fe(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&Vt(this._icon,s),this._shadow&&Vt(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(qt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),hu)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new hu(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Oe(this._icon,s),this._shadow&&Oe(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var u=this.options.icon.options,d=u.iconSize?D(u.iconSize):D(0,0),_=u.iconAnchor?D(u.iconAnchor):D(0,0);s.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:d.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function fu(s,u){return new na(s,u)}var dr=de.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return Z(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),po=dr.extend({options:{fill:!0,radius:10},initialize:function(s,u){Z(this,u),this._latlng=Et(s),this._radius=this.options.radius},setLatLng:function(s){var u=this._latlng;return this._latlng=Et(s),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var u=s&&s.radius||this._radius;return dr.prototype.setStyle.call(this,s),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,u=this._radiusY||s,d=this._clickTolerance(),_=[s+d,u+d];this._pxBounds=new ot(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function kc(s,u){return new po(s,u)}var du=po.extend({initialize:function(s,u,d){if(typeof u=="number"&&(u=l({},d,{radius:u})),Z(this,u),this._latlng=Et(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new mt(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:dr.prototype.setStyle,_project:function(){var s=this._latlng.lng,u=this._latlng.lat,d=this._map,_=d.options.crs;if(_.distance===re.distance){var w=Math.PI/180,I=this._mRadius/re.R/w,N=d.project([u+I,s]),K=d.project([u-I,s]),nt=N.add(K).divideBy(2),ft=d.unproject(nt).lat,bt=Math.acos((Math.cos(I*w)-Math.sin(u*w)*Math.sin(ft*w))/(Math.cos(u*w)*Math.cos(ft*w)))/w;(isNaN(bt)||bt===0)&&(bt=I/Math.cos(Math.PI/180*u)),this._point=nt.subtract(d.getPixelOrigin()),this._radius=isNaN(bt)?0:nt.x-d.project([ft,s-bt]).x,this._radiusY=nt.y-N.y}else{var It=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(It).x}this._updateBounds()}});function rd(s,u,d){return new du(s,u,d)}var mr=dr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,u){Z(this,u),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var u=1/0,d=null,_=kn,w,I,N=0,K=this._parts.length;N<K;N++)for(var nt=this._parts[N],ft=1,bt=nt.length;ft<bt;ft++){w=nt[ft-1],I=nt[ft];var It=_(s,w,I,!0);It<u&&(u=It,d=_(s,w,I))}return d&&(d.distance=Math.sqrt(u)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return b(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,u){return u=u||this._defaultShape(),s=Et(s),u.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new mt,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return f(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var u=[],d=f(s),_=0,w=s.length;_<w;_++)d?(u[_]=Et(s[_]),this._bounds.extend(u[_])):u[_]=this._convertLatLngs(s[_]);return u},_project:function(){var s=new ot;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),u=new pt(s,s);this._rawPxBounds&&(this._pxBounds=new ot([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(s,u,d){var _=s[0]instanceof St,w=s.length,I,N;if(_){for(N=[],I=0;I<w;I++)N[I]=this._map.latLngToLayerPoint(s[I]),d.extend(N[I]);u.push(N)}else for(I=0;I<w;I++)this._projectLatlngs(s[I],u,d)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,d,_,w,I,N,K,nt;for(d=0,w=0,I=this._rings.length;d<I;d++)for(nt=this._rings[d],_=0,N=nt.length;_<N-1;_++)K=us(nt[_],nt[_+1],s,_,!0),K&&(u[w]=u[w]||[],u[w].push(K[0]),(K[1]!==nt[_+1]||_===N-2)&&(u[w].push(K[1]),w++))}},_simplifyPoints:function(){for(var s=this._parts,u=this.options.smoothFactor,d=0,_=s.length;d<_;d++)s[d]=fo(s[d],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,u){var d,_,w,I,N,K,nt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(d=0,I=this._parts.length;d<I;d++)for(K=this._parts[d],_=0,N=K.length,w=N-1;_<N;w=_++)if(!(!u&&_===0)&&Js(s,K[w],K[_])<=nt)return!0;return!1}});function sd(s,u){return new mr(s,u)}mr._flat=E;var ia=mr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Nr(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var u=mr.prototype._convertLatLngs.call(this,s),d=u.length;return d>=2&&u[0]instanceof St&&u[0].equals(u[d-1])&&u.pop(),u},_setLatLngs:function(s){mr.prototype._setLatLngs.call(this,s),f(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return f(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,u=this.options.weight,d=new pt(u,u);if(s=new ot(s.min.subtract(d),s.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,w=this._rings.length,I;_<w;_++)I=Qs(this._rings[_],s,!0),I.length&&this._parts.push(I)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var u=!1,d,_,w,I,N,K,nt,ft;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(I=0,nt=this._parts.length;I<nt;I++)for(d=this._parts[I],N=0,ft=d.length,K=ft-1;N<ft;K=N++)_=d[N],w=d[K],_.y>s.y!=w.y>s.y&&s.x<(w.x-_.x)*(s.y-_.y)/(w.y-_.y)+_.x&&(u=!u);return u||mr.prototype._containsPoint.call(this,s,!0)}});function Zn(s,u){return new ia(s,u)}var $n=Re.extend({initialize:function(s,u){Z(this,u),this._layers={},s&&this.addData(s)},addData:function(s){var u=it(s)?s:s.features,d,_,w;if(u){for(d=0,_=u.length;d<_;d++)w=u[d],(w.geometries||w.geometry||w.features||w.coordinates)&&this.addData(w);return this}var I=this.options;if(I.filter&&!I.filter(s))return this;var N=go(s,I);return N?(N.feature=ra(s),N.defaultOptions=N.options,this.resetStyle(N),I.onEachFeature&&I.onEachFeature(s,N),this.addLayer(N)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=l({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(u){this._setLayerStyle(u,s)},this)},_setLayerStyle:function(s,u){s.setStyle&&(typeof u=="function"&&(u=u(s.feature)),s.setStyle(u))}});function go(s,u){var d=s.type==="Feature"?s.geometry:s,_=d?d.coordinates:null,w=[],I=u&&u.pointToLayer,N=u&&u.coordsToLatLng||ul,K,nt,ft,bt;if(!_&&!d)return null;switch(d.type){case"Point":return K=N(_),mu(I,s,K,u);case"MultiPoint":for(ft=0,bt=_.length;ft<bt;ft++)K=N(_[ft]),w.push(mu(I,s,K,u));return new Re(w);case"LineString":case"MultiLineString":return nt=_o(_,d.type==="LineString"?0:1,N),new mr(nt,u);case"Polygon":case"MultiPolygon":return nt=_o(_,d.type==="Polygon"?1:2,N),new ia(nt,u);case"GeometryCollection":for(ft=0,bt=d.geometries.length;ft<bt;ft++){var It=go({geometry:d.geometries[ft],type:"Feature",properties:s.properties},u);It&&w.push(It)}return new Re(w);case"FeatureCollection":for(ft=0,bt=d.features.length;ft<bt;ft++){var Pt=go(d.features[ft],u);Pt&&w.push(Pt)}return new Re(w);default:throw new Error("Invalid GeoJSON object.")}}function mu(s,u,d,_){return s?s(u,d):new na(d,_&&_.markersInheritOptions&&_)}function ul(s){return new St(s[1],s[0],s[2])}function _o(s,u,d){for(var _=[],w=0,I=s.length,N;w<I;w++)N=u?_o(s[w],u-1,d):(d||ul)(s[w]),_.push(N);return _}function yo(s,u){return s=Et(s),s.alt!==void 0?[P(s.lng,u),P(s.lat,u),P(s.alt,u)]:[P(s.lng,u),P(s.lat,u)]}function cl(s,u,d,_){for(var w=[],I=0,N=s.length;I<N;I++)w.push(u?cl(s[I],f(s[I])?0:u-1,d,_):yo(s[I],_));return!u&&d&&w.length>0&&w.push(w[0].slice()),w}function Ei(s,u){return s.feature?l({},s.feature,{geometry:u}):ra(u)}function ra(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var cs={toGeoJSON:function(s){return Ei(this,{type:"Point",coordinates:yo(this.getLatLng(),s)})}};na.include(cs),du.include(cs),po.include(cs),mr.include({toGeoJSON:function(s){var u=!f(this._latlngs),d=cl(this._latlngs,u?1:0,!1,s);return Ei(this,{type:(u?"Multi":"")+"LineString",coordinates:d})}}),ia.include({toGeoJSON:function(s){var u=!f(this._latlngs),d=u&&!f(this._latlngs[0]),_=cl(this._latlngs,d?2:u?1:0,!0,s);return u||(_=[_]),Ei(this,{type:(d?"Multi":"")+"Polygon",coordinates:_})}}),Le.include({toMultiPoint:function(s){var u=[];return this.eachLayer(function(d){u.push(d.toGeoJSON(s).geometry.coordinates)}),Ei(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(s){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(s);var d=u==="GeometryCollection",_=[];return this.eachLayer(function(w){if(w.toGeoJSON){var I=w.toGeoJSON(s);if(d)_.push(I.geometry);else{var N=ra(I);N.type==="FeatureCollection"?_.push.apply(_,N.features):_.push(N)}}}),d?Ei(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function hl(s,u){return new $n(s,u)}var Vc=hl,Zi=de.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,u,d){this._url=s,this._bounds=wt(u),Z(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(qt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){fe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Bi(this._image),this},bringToBack:function(){return this._map&&Or(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=wt(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",u=this._image=s?this._url:Qt("img");if(qt(u,"leaflet-image-layer"),this._zoomAnimated&&qt(u,"leaflet-zoom-animated"),this.options.className&&qt(u,this.options.className),u.onselectstart=C,u.onmousemove=C,u.onload=m(this.fire,this,"load"),u.onerror=m(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(s){var u=this._map.getZoomScale(s.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;wn(this._image,d,u)},_reset:function(){var s=this._image,u=new ot(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=u.getSize();Vt(s,u.min),s.style.width=d.x+"px",s.style.height=d.y+"px"},_updateOpacity:function(){Oe(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),sa=function(s,u,d){return new Zi(s,u,d)},fl=Zi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",u=this._image=s?this._url:Qt("video");if(qt(u,"leaflet-image-layer"),this._zoomAnimated&&qt(u,"leaflet-zoom-animated"),this.options.className&&qt(u,this.options.className),u.onselectstart=C,u.onmousemove=C,u.onloadeddata=m(this.fire,this,"load"),s){for(var d=u.getElementsByTagName("source"),_=[],w=0;w<d.length;w++)_.push(d[w].src);this._url=d.length>0?_:[u.src];return}it(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var I=0;I<this._url.length;I++){var N=Qt("source");N.src=this._url[I],u.appendChild(N)}}});function zc(s,u,d){return new fl(s,u,d)}var kr=Zi.extend({_initImage:function(){var s=this._image=this._url;qt(s,"leaflet-image-layer"),this._zoomAnimated&&qt(s,"leaflet-zoom-animated"),this.options.className&&qt(s,this.options.className),s.onselectstart=C,s.onmousemove=C}});function Uc(s,u,d){return new kr(s,u,d)}var wi=de.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,u){s&&(s instanceof St||it(s))?(this._latlng=Et(s),Z(this,u)):(Z(this,s),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Oe(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Oe(this._container,1),this.bringToFront(),this.options.interactive&&(qt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Oe(this._container,0),this._removeTimeout=setTimeout(m(fe,void 0,this._container),200)):fe(this._container),this.options.interactive&&(ge(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=Et(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Bi(this._container),this},bringToBack:function(){return this._map&&Or(this._container),this},_prepareOpen:function(s){var u=this._source;if(!u._map)return!1;if(u instanceof Re){u=null;var d=this._source._layers;for(var _ in d)if(d[_]._map){u=d[_];break}if(!u)return!1;this._source=u}if(!s)if(u.getCenter)s=u.getCenter();else if(u.getLatLng)s=u.getLatLng();else if(u.getBounds)s=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")s.innerHTML=u;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),u=D(this.options.offset),d=this._getAnchor();this._zoomAnimated?Vt(this._container,s.add(d)):u=u.add(s).add(d);var _=this._containerBottom=-u.y,w=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=_+"px",this._container.style.left=w+"px"}},_getAnchor:function(){return[0,0]}});Gt.include({_initOverlay:function(s,u,d,_){var w=u;return w instanceof s||(w=new s(_).setContent(u)),d&&w.setLatLng(d),w}}),de.include({_initOverlay:function(s,u,d,_){var w=d;return w instanceof s?(Z(w,_),w._source=this):(w=u&&!_?u:new s(_,this),w.setContent(d)),w}});var vo=wi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,wi.prototype.openOn.call(this,s)},onAdd:function(s){wi.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof dr||this._source.on("preclick",Dn))},onRemove:function(s){wi.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof dr||this._source.off("preclick",Dn))},getEvents:function(){var s=wi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",u=this._container=Qt("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=Qt("div",s+"-content-wrapper",u);if(this._contentNode=Qt("div",s+"-content",d),lr(u),vi(this._contentNode),Dt(u,"contextmenu",Dn),this._tipContainer=Qt("div",s+"-tip-container",u),this._tip=Qt("div",s+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=Qt("a",s+"-close-button",u);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',Dt(_,"click",function(w){we(w),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,u=s.style;u.width="",u.whiteSpace="nowrap";var d=s.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),u.width=d+1+"px",u.whiteSpace="",u.height="";var _=s.offsetHeight,w=this.options.maxHeight,I="leaflet-popup-scrolled";w&&_>w?(u.height=w+"px",qt(s,I)):ge(s,I),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),d=this._getAnchor();Vt(this._container,u.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,u=parseInt(Ui(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+u,_=this._containerWidth,w=new pt(this._containerLeft,-d-this._containerBottom);w._add(Fn(this._container));var I=s.layerPointToContainerPoint(w),N=D(this.options.autoPanPadding),K=D(this.options.autoPanPaddingTopLeft||N),nt=D(this.options.autoPanPaddingBottomRight||N),ft=s.getSize(),bt=0,It=0;I.x+_+nt.x>ft.x&&(bt=I.x+_-ft.x+nt.x),I.x-bt-K.x<0&&(bt=I.x-K.x),I.y+d+nt.y>ft.y&&(It=I.y+d-ft.y+nt.y),I.y-It-K.y<0&&(It=I.y-K.y),(bt||It)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([bt,It]))}},_getAnchor:function(){return D(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ad=function(s,u){return new vo(s,u)};Gt.mergeOptions({closePopupOnClick:!0}),Gt.include({openPopup:function(s,u,d){return this._initOverlay(vo,s,u,d).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),de.include({bindPopup:function(s,u){return this._popup=this._initOverlay(vo,this._popup,s,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Re||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){mn(s);var u=s.layer||s.target;if(this._popup._source===u&&!(u instanceof dr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=u,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var dl=wi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){wi.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){wi.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=wi.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",u=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Qt("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var u,d,_=this._map,w=this._container,I=_.latLngToContainerPoint(_.getCenter()),N=_.layerPointToContainerPoint(s),K=this.options.direction,nt=w.offsetWidth,ft=w.offsetHeight,bt=D(this.options.offset),It=this._getAnchor();K==="top"?(u=nt/2,d=ft):K==="bottom"?(u=nt/2,d=0):K==="center"?(u=nt/2,d=ft/2):K==="right"?(u=0,d=ft/2):K==="left"?(u=nt,d=ft/2):N.x<I.x?(K="right",u=0,d=ft/2):(K="left",u=nt+(bt.x+It.x)*2,d=ft/2),s=s.subtract(D(u,d,!0)).add(bt).add(It),ge(w,"leaflet-tooltip-right"),ge(w,"leaflet-tooltip-left"),ge(w,"leaflet-tooltip-top"),ge(w,"leaflet-tooltip-bottom"),qt(w,"leaflet-tooltip-"+K),Vt(w,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Oe(this._container,s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(u)},_getAnchor:function(){return D(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),od=function(s,u){return new dl(s,u)};Gt.include({openTooltip:function(s,u,d){return this._initOverlay(dl,s,u,d).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),de.include({bindTooltip:function(s,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(dl,this._tooltip,s,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var u=s?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[u](d),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Re||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&(Dt(u,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),Dt(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var u=s.latlng,d,_;this._tooltip.options.sticky&&s.originalEvent&&(d=this._map.mouseEventToContainerPoint(s.originalEvent),_=this._map.containerPointToLayerPoint(d),u=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(u)}});var pu=Gi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var u=s&&s.tagName==="DIV"?s:document.createElement("div"),d=this.options;if(d.html instanceof Element?(We(u),u.appendChild(d.html)):u.innerHTML=d.html!==!1?d.html:"",d.bgPos){var _=D(d.bgPos);u.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function Bc(s){return new pu(s)}Gi.Default=ea;var hs=de.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ot.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){Z(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),fe(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Bi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Or(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=T(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof pt?s:new pt(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var u=this.getPane().children,d=-s(-1/0,1/0),_=0,w=u.length,I;_<w;_++)I=u[_].style.zIndex,u[_]!==this._container&&I&&(d=s(d,+I));isFinite(d)&&(this.options.zIndex=d+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ot.ielt9){Oe(this._container,this.options.opacity);var s=+new Date,u=!1,d=!1;for(var _ in this._tiles){var w=this._tiles[_];if(!(!w.current||!w.loaded)){var I=Math.min(1,(s-w.loaded)/200);Oe(w.el,I),I<1?u=!0:(w.active?d=!0:this._onOpaqueTile(w),w.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),u&&(F(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this))}},_onOpaqueTile:C,_initContainer:function(){this._container||(this._container=Qt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,u=this.options.maxZoom;if(s!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===s?(this._levels[d].el.style.zIndex=u-Math.abs(s-d),this._onUpdateLevel(d)):(fe(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var _=this._levels[s],w=this._map;return _||(_=this._levels[s]={},_.el=Qt("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=u,_.origin=w.project(w.unproject(w.getPixelOrigin()),s).round(),_.zoom=s,this._setZoomTransform(_,w.getCenter(),w.getZoom()),C(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:C,_onRemoveLevel:C,_onCreateLevel:C,_pruneTiles:function(){if(this._map){var s,u,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)u=this._tiles[s],u.retain=u.current;for(s in this._tiles)if(u=this._tiles[s],u.current&&!u.active){var _=u.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var u in this._tiles)this._tiles[u].coords.z===s&&this._removeTile(u)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)fe(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,u,d,_){var w=Math.floor(s/2),I=Math.floor(u/2),N=d-1,K=new pt(+w,+I);K.z=+N;var nt=this._tileCoordsToKey(K),ft=this._tiles[nt];return ft&&ft.active?(ft.retain=!0,!0):(ft&&ft.loaded&&(ft.retain=!0),N>_?this._retainParent(w,I,N,_):!1)},_retainChildren:function(s,u,d,_){for(var w=2*s;w<2*s+2;w++)for(var I=2*u;I<2*u+2;I++){var N=new pt(w,I);N.z=d+1;var K=this._tileCoordsToKey(N),nt=this._tiles[K];if(nt&&nt.active){nt.retain=!0;continue}else nt&&nt.loaded&&(nt.retain=!0);d+1<_&&this._retainChildren(w,I,d+1,_)}},_resetView:function(s){var u=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var u=this.options;return u.minNativeZoom!==void 0&&s<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<s?u.maxNativeZoom:s},_setView:function(s,u,d,_){var w=Math.round(u);this.options.maxZoom!==void 0&&w>this.options.maxZoom||this.options.minZoom!==void 0&&w<this.options.minZoom?w=void 0:w=this._clampZoom(w);var I=this.options.updateWhenZooming&&w!==this._tileZoom;(!_||I)&&(this._tileZoom=w,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),w!==void 0&&this._update(s),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(s,u)},_setZoomTransforms:function(s,u){for(var d in this._levels)this._setZoomTransform(this._levels[d],s,u)},_setZoomTransform:function(s,u,d){var _=this._map.getZoomScale(d,s.zoom),w=s.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(u,d)).round();Ot.any3d?wn(s.el,w,_):Vt(s.el,w)},_resetGrid:function(){var s=this._map,u=s.options.crs,d=this._tileSize=this.getTileSize(),_=this._tileZoom,w=this._map.getPixelWorldBounds(this._tileZoom);w&&(this._globalTileRange=this._pxBoundsToTileRange(w)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,u.wrapLng[0]],_).x/d.x),Math.ceil(s.project([0,u.wrapLng[1]],_).x/d.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([u.wrapLat[0],0],_).y/d.x),Math.ceil(s.project([u.wrapLat[1],0],_).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var u=this._map,d=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),_=u.getZoomScale(d,this._tileZoom),w=u.project(s,this._tileZoom).floor(),I=u.getSize().divideBy(_*2);return new ot(w.subtract(I),w.add(I))},_update:function(s){var u=this._map;if(u){var d=this._clampZoom(u.getZoom());if(s===void 0&&(s=u.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(s),w=this._pxBoundsToTileRange(_),I=w.getCenter(),N=[],K=this.options.keepBuffer,nt=new ot(w.getBottomLeft().subtract([K,-K]),w.getTopRight().add([K,-K]));if(!(isFinite(w.min.x)&&isFinite(w.min.y)&&isFinite(w.max.x)&&isFinite(w.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ft in this._tiles){var bt=this._tiles[ft].coords;(bt.z!==this._tileZoom||!nt.contains(new pt(bt.x,bt.y)))&&(this._tiles[ft].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(s,d);return}for(var It=w.min.y;It<=w.max.y;It++)for(var Pt=w.min.x;Pt<=w.max.x;Pt++){var Bt=new pt(Pt,It);if(Bt.z=this._tileZoom,!!this._isValidTile(Bt)){var Me=this._tiles[this._tileCoordsToKey(Bt)];Me?Me.current=!0:N.push(Bt)}}if(N.sort(function(gn,ni){return gn.distanceTo(I)-ni.distanceTo(I)}),N.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Be=document.createDocumentFragment();for(Pt=0;Pt<N.length;Pt++)this._addTile(N[Pt],Be);this._level.el.appendChild(Be)}}}},_isValidTile:function(s){var u=this._map.options.crs;if(!u.infinite){var d=this._globalTileRange;if(!u.wrapLng&&(s.x<d.min.x||s.x>d.max.x)||!u.wrapLat&&(s.y<d.min.y||s.y>d.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(s);return wt(this.options.bounds).overlaps(_)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var u=this._map,d=this.getTileSize(),_=s.scaleBy(d),w=_.add(d),I=u.unproject(_,s.z),N=u.unproject(w,s.z);return[I,N]},_tileCoordsToBounds:function(s){var u=this._tileCoordsToNwSe(s),d=new mt(u[0],u[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var u=s.split(":"),d=new pt(+u[0],+u[1]);return d.z=+u[2],d},_removeTile:function(s){var u=this._tiles[s];u&&(fe(u.el),delete this._tiles[s],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){qt(s,"leaflet-tile");var u=this.getTileSize();s.style.width=u.x+"px",s.style.height=u.y+"px",s.onselectstart=C,s.onmousemove=C,Ot.ielt9&&this.options.opacity<1&&Oe(s,this.options.opacity)},_addTile:function(s,u){var d=this._getTilePos(s),_=this._tileCoordsToKey(s),w=this.createTile(this._wrapCoords(s),m(this._tileReady,this,s));this._initTile(w),this.createTile.length<2&&H(m(this._tileReady,this,s,null,w)),Vt(w,d),this._tiles[_]={el:w,coords:s,current:!0},u.appendChild(w),this.fire("tileloadstart",{tile:w,coords:s})},_tileReady:function(s,u,d){u&&this.fire("tileerror",{error:u,tile:d,coords:s});var _=this._tileCoordsToKey(s);d=this._tiles[_],d&&(d.loaded=+new Date,this._map._fadeAnimated?(Oe(d.el,0),F(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),u||(qt(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ot.ielt9||!this._map._fadeAnimated?H(this._pruneTiles,this):setTimeout(m(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var u=new pt(this._wrapX?S(s.x,this._wrapX):s.x,this._wrapY?S(s.y,this._wrapY):s.y);return u.z=s.z,u},_pxBoundsToTileRange:function(s){var u=this.getTileSize();return new ot(s.min.unscaleBy(u).floor(),s.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function bi(s){return new hs(s)}var fs=hs.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,u){this._url=s,u=Z(this,u),u.detectRetina&&Ot.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,u){return this._url===s&&u===void 0&&(u=!0),this._url=s,u||this.redraw(),this},createTile:function(s,u){var d=document.createElement("img");return Dt(d,"load",m(this._tileOnLoad,this,u,d)),Dt(d,"error",m(this._tileOnError,this,u,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(s),d},getTileUrl:function(s){var u={r:Ot.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-s.y;this.options.tms&&(u.y=d),u["-y"]=d}return J(this._url,l(u,this.options))},_tileOnLoad:function(s,u){Ot.ielt9?setTimeout(m(s,this,null,u),0):s(null,u)},_tileOnError:function(s,u,d){var _=this.options.errorTileUrl;_&&u.getAttribute("src")!==_&&(u.src=_),s(d,u)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,u=this.options.maxZoom,d=this.options.zoomReverse,_=this.options.zoomOffset;return d&&(s=u-s),s+_},_getSubdomain:function(s){var u=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var s,u;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(u=this._tiles[s].el,u.onload=C,u.onerror=C,!u.complete)){u.src=Tt;var d=this._tiles[s].coords;fe(u),delete this._tiles[s],this.fire("tileabort",{tile:u,coords:d})}},_removeTile:function(s){var u=this._tiles[s];if(u)return u.el.setAttribute("src",Tt),hs.prototype._removeTile.call(this,s)},_tileReady:function(s,u,d){if(!(!this._map||d&&d.getAttribute("src")===Tt))return hs.prototype._tileReady.call(this,s,u,d)}});function Kn(s,u){return new fs(s,u)}var Yn=fs.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,u){this._url=s;var d=l({},this.defaultWmsParams);for(var _ in u)_ in this.options||(d[_]=u[_]);u=Z(this,u);var w=u.detectRetina&&Ot.retina?2:1,I=this.getTileSize();d.width=I.x*w,d.height=I.y*w,this.wmsParams=d},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,fs.prototype.onAdd.call(this,s)},getTileUrl:function(s){var u=this._tileCoordsToNwSe(s),d=this._crs,_=gt(d.project(u[0]),d.project(u[1])),w=_.min,I=_.max,N=(this._wmsVersion>=1.3&&this._crs===Fe?[w.y,w.x,I.y,I.x]:[w.x,w.y,I.x,I.y]).join(","),K=fs.prototype.getTileUrl.call(this,s);return K+W(this.wmsParams,K,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+N},setParams:function(s,u){return l(this.wmsParams,s),u||this.redraw(),this}});function aa(s,u){return new Yn(s,u)}fs.WMS=Yn,Kn.wms=aa;var Ai=de.extend({options:{padding:.1},initialize:function(s){Z(this,s),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),qt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,u){var d=this._map.getZoomScale(u,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),w=this._map.project(this._center,u),I=_.multiplyBy(-d).add(w).subtract(this._map._getNewPixelOrigin(s,u));Ot.any3d?wn(this._container,I,d):Vt(this._container,I)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,u=this._map.getSize(),d=this._map.containerPointToLayerPoint(u.multiplyBy(-s)).round();this._bounds=new ot(d,d.add(u.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),To=Ai.extend({options:{tolerance:0},getEvents:function(){var s=Ai.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ai.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");Dt(s,"mousemove",this._onMouseMove,this),Dt(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Dt(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){F(this._redrawRequest),delete this._ctx,fe(this._container),ae(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var u in this._layers)s=this._layers[u],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ai.prototype._update.call(this);var s=this._bounds,u=this._container,d=s.getSize(),_=Ot.retina?2:1;Vt(u,s.min),u.width=_*d.x,u.height=_*d.y,u.style.width=d.x+"px",u.style.height=d.y+"px",Ot.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){Ai.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[v(s)]=s;var u=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var u=s._order,d=u.next,_=u.prev;d?d.prev=_:this._drawLast=_,_?_.next=d:this._drawFirst=d,delete s._order,delete this._layers[v(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var u=s.options.dashArray.split(/[, ]+/),d=[],_,w;for(w=0;w<u.length;w++){if(_=Number(u[w]),isNaN(_))return;d.push(_)}s.options._dashArray=d}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||H(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var u=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ot,this._redrawBounds.extend(s._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(s._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var u=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,u=this._redrawBounds;if(this._ctx.save(),u){var d=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)s=_.layer,(!u||s._pxBounds&&s._pxBounds.intersects(u))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,u){if(this._drawing){var d,_,w,I,N=s._parts,K=N.length,nt=this._ctx;if(K){for(nt.beginPath(),d=0;d<K;d++){for(_=0,w=N[d].length;_<w;_++)I=N[d][_],nt[_?"lineTo":"moveTo"](I.x,I.y);u&&nt.closePath()}this._fillStroke(nt,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var u=s._point,d=this._ctx,_=Math.max(Math.round(s._radius),1),w=(Math.max(Math.round(s._radiusY),1)||_)/_;w!==1&&(d.save(),d.scale(1,w)),d.beginPath(),d.arc(u.x,u.y/w,_,0,Math.PI*2,!1),w!==1&&d.restore(),this._fillStroke(d,s)}},_fillStroke:function(s,u){var d=u.options;d.fill&&(s.globalAlpha=d.fillOpacity,s.fillStyle=d.fillColor||d.color,s.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(s.setLineDash&&s.setLineDash(u.options&&u.options._dashArray||[]),s.globalAlpha=d.opacity,s.lineWidth=d.weight,s.strokeStyle=d.color,s.lineCap=d.lineCap,s.lineJoin=d.lineJoin,s.stroke())},_onClick:function(s){for(var u=this._map.mouseEventToLayerPoint(s),d,_,w=this._drawFirst;w;w=w.next)d=w.layer,d.options.interactive&&d._containsPoint(u)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(d))&&(_=d);this._fireEvent(_?[_]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,u)}},_handleMouseOut:function(s){var u=this._hoveredLayer;u&&(ge(this._container,"leaflet-interactive"),this._fireEvent([u],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,u){if(!this._mouseHoverThrottled){for(var d,_,w=this._drawFirst;w;w=w.next)d=w.layer,d.options.interactive&&d._containsPoint(u)&&(_=d);_!==this._hoveredLayer&&(this._handleMouseOut(s),_&&(qt(this._container,"leaflet-interactive"),this._fireEvent([_],s,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(m(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,u,d){this._map._fireDOMEvent(u,d||u.type,s)},_bringToFront:function(s){var u=s._order;if(u){var d=u.next,_=u.prev;if(d)d.prev=_;else return;_?_.next=d:d&&(this._drawFirst=d),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(s)}},_bringToBack:function(s){var u=s._order;if(u){var d=u.next,_=u.prev;if(_)_.next=d;else return;d?d.prev=_:_&&(this._drawLast=_),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(s)}}});function Eo(s){return Ot.canvas?new To(s):null}var ds=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),oa={_initContainer:function(){this._container=Qt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ai.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var u=s._container=ds("shape");qt(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",s._path=ds("path"),u.appendChild(s._path),this._updateStyle(s),this._layers[v(s)]=s},_addPath:function(s){var u=s._container;this._container.appendChild(u),s.options.interactive&&s.addInteractiveTarget(u)},_removePath:function(s){var u=s._container;fe(u),s.removeInteractiveTarget(u),delete this._layers[v(s)]},_updateStyle:function(s){var u=s._stroke,d=s._fill,_=s.options,w=s._container;w.stroked=!!_.stroke,w.filled=!!_.fill,_.stroke?(u||(u=s._stroke=ds("stroke")),w.appendChild(u),u.weight=_.weight+"px",u.color=_.color,u.opacity=_.opacity,_.dashArray?u.dashStyle=it(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=_.lineCap.replace("butt","flat"),u.joinstyle=_.lineJoin):u&&(w.removeChild(u),s._stroke=null),_.fill?(d||(d=s._fill=ds("fill")),w.appendChild(d),d.color=_.fillColor||_.color,d.opacity=_.fillOpacity):d&&(w.removeChild(d),s._fill=null)},_updateCircle:function(s){var u=s._point.round(),d=Math.round(s._radius),_=Math.round(s._radiusY||d);this._setPath(s,s._empty()?"M0 0":"AL "+u.x+","+u.y+" "+d+","+_+" 0,"+65535*360)},_setPath:function(s,u){s._path.v=u},_bringToFront:function(s){Bi(s._container)},_bringToBack:function(s){Or(s._container)}},wo=Ot.vml?ds:Vs,Vr=Ai.extend({_initContainer:function(){this._container=wo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=wo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){fe(this._container),ae(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ai.prototype._update.call(this);var s=this._bounds,u=s.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,d.setAttribute("width",u.x),d.setAttribute("height",u.y)),Vt(d,s.min),d.setAttribute("viewBox",[s.min.x,s.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(s){var u=s._path=wo("path");s.options.className&&qt(u,s.options.className),s.options.interactive&&qt(u,"leaflet-interactive"),this._updateStyle(s),this._layers[v(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){fe(s._path),s.removeInteractiveTarget(s._path),delete this._layers[v(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var u=s._path,d=s.options;u&&(d.stroke?(u.setAttribute("stroke",d.color),u.setAttribute("stroke-opacity",d.opacity),u.setAttribute("stroke-width",d.weight),u.setAttribute("stroke-linecap",d.lineCap),u.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?u.setAttribute("stroke-dasharray",d.dashArray):u.removeAttribute("stroke-dasharray"),d.dashOffset?u.setAttribute("stroke-dashoffset",d.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),d.fill?(u.setAttribute("fill",d.fillColor||d.color),u.setAttribute("fill-opacity",d.fillOpacity),u.setAttribute("fill-rule",d.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(s,u){this._setPath(s,Xa(s._parts,u))},_updateCircle:function(s){var u=s._point,d=Math.max(Math.round(s._radius),1),_=Math.max(Math.round(s._radiusY),1)||d,w="a"+d+","+_+" 0 1,0 ",I=s._empty()?"M0 0":"M"+(u.x-d)+","+u.y+w+d*2+",0 "+w+-d*2+",0 ";this._setPath(s,I)},_setPath:function(s,u){s._path.setAttribute("d",u)},_bringToFront:function(s){Bi(s._path)},_bringToBack:function(s){Or(s._path)}});Ot.vml&&Vr.include(oa);function ms(s){return Ot.svg||Ot.vml?new Vr(s):null}Gt.include({getRenderer:function(s){var u=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var u=this._paneRenderers[s];return u===void 0&&(u=this._createRenderer({pane:s}),this._paneRenderers[s]=u),u},_createRenderer:function(s){return this.options.preferCanvas&&Eo(s)||ms(s)}});var Hc=ia.extend({initialize:function(s,u){ia.prototype.initialize.call(this,this._boundsToLatLngs(s),u)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=wt(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function Qn(s,u){return new Hc(s,u)}Vr.create=wo,Vr.pointsToPath=Xa,$n.geometryToLayer=go,$n.coordsToLatLng=ul,$n.coordsToLatLngs=_o,$n.latLngToCoords=yo,$n.latLngsToCoords=cl,$n.getFeature=Ei,$n.asFeature=ra,Gt.mergeOptions({boxZoom:!0});var ml=Nn.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){Dt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ae(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){fe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),dn(),ss(),this._startPoint=this._map.mouseEventToContainerPoint(s),Dt(document,{contextmenu:mn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=Qt("div","leaflet-zoom-box",this._container),qt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var u=new ot(this._point,this._startPoint),d=u.getSize();Vt(this._box,u.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(fe(this._box),ge(this._container,"leaflet-crosshair")),gi(),lo(),ae(document,{contextmenu:mn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(m(this._resetState,this),0);var u=new mt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Gt.addInitHook("addHandler","boxZoom",ml),Gt.mergeOptions({doubleClickZoom:!0});var $i=Nn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var u=this._map,d=u.getZoom(),_=u.options.zoomDelta,w=s.originalEvent.shiftKey?d-_:d+_;u.options.doubleClickZoom==="center"?u.setZoom(w):u.setZoomAround(s.containerPoint,w)}});Gt.addInitHook("addHandler","doubleClickZoom",$i),Gt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var gu=Nn.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new Ti(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}qt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ge(this._map._container,"leaflet-grab"),ge(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=wt(this._map.options.maxBounds);this._offsetLimit=gt(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var u=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(u),this._prunePositions(u)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,u){return s-(s-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;s.x<u.min.x&&(s.x=this._viscousLimit(s.x,u.min.x)),s.y<u.min.y&&(s.y=this._viscousLimit(s.y,u.min.y)),s.x>u.max.x&&(s.x=this._viscousLimit(s.x,u.max.x)),s.y>u.max.y&&(s.y=this._viscousLimit(s.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,u=Math.round(s/2),d=this._initialWorldOffset,_=this._draggable._newPos.x,w=(_-u+d)%s+u-d,I=(_+u+d)%s-u-d,N=Math.abs(w+d)<Math.abs(I+d)?w:I;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=N},_onDragEnd:function(s){var u=this._map,d=u.options,_=!d.inertia||s.noInertia||this._times.length<2;if(u.fire("dragend",s),_)u.fire("moveend");else{this._prunePositions(+new Date);var w=this._lastPos.subtract(this._positions[0]),I=(this._lastTime-this._times[0])/1e3,N=d.easeLinearity,K=w.multiplyBy(N/I),nt=K.distanceTo([0,0]),ft=Math.min(d.inertiaMaxSpeed,nt),bt=K.multiplyBy(ft/nt),It=ft/(d.inertiaDeceleration*N),Pt=bt.multiplyBy(-It/2).round();!Pt.x&&!Pt.y?u.fire("moveend"):(Pt=u._limitOffset(Pt,u.options.maxBounds),H(function(){u.panBy(Pt,{duration:It,easeLinearity:N,noMoveStart:!0,animate:!0})}))}}});Gt.addInitHook("addHandler","dragging",gu),Gt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var bo=Nn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),Dt(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ae(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,u=document.documentElement,d=s.scrollTop||u.scrollTop,_=s.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(_,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var u=this._panKeys={},d=this.keyCodes,_,w;for(_=0,w=d.left.length;_<w;_++)u[d.left[_]]=[-1*s,0];for(_=0,w=d.right.length;_<w;_++)u[d.right[_]]=[s,0];for(_=0,w=d.down.length;_<w;_++)u[d.down[_]]=[0,s];for(_=0,w=d.up.length;_<w;_++)u[d.up[_]]=[0,-1*s]},_setZoomDelta:function(s){var u=this._zoomKeys={},d=this.keyCodes,_,w;for(_=0,w=d.zoomIn.length;_<w;_++)u[d.zoomIn[_]]=s;for(_=0,w=d.zoomOut.length;_<w;_++)u[d.zoomOut[_]]=-s},_addHooks:function(){Dt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ae(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var u=s.keyCode,d=this._map,_;if(u in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(_=this._panKeys[u],s.shiftKey&&(_=D(_).multiplyBy(3)),d.options.maxBounds&&(_=d._limitOffset(D(_),d.options.maxBounds)),d.options.worldCopyJump){var w=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(_)));d.panTo(w)}else d.panBy(_)}else if(u in this._zoomKeys)d.setZoom(d.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;mn(s)}}});Gt.addInitHook("addHandler","keyboard",bo),Gt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var zr=Nn.extend({addHooks:function(){Dt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ae(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var u=as(s),d=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var _=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(m(this._performZoom,this),_),mn(s)},_performZoom:function(){var s=this._map,u=s.getZoom(),d=this._map.options.zoomSnap||0;s._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),w=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,I=d?Math.ceil(w/d)*d:w,N=s._limitZoom(u+(this._delta>0?I:-I))-u;this._delta=0,this._startTime=null,N&&(s.options.scrollWheelZoom==="center"?s.setZoom(u+N):s.setZoomAround(this._lastMousePos,u+N))}});Gt.addInitHook("addHandler","scrollWheelZoom",zr);var _u=600;Gt.mergeOptions({tapHold:Ot.touchNative&&Ot.safari&&Ot.mobile,tapTolerance:15});var pl=Nn.extend({addHooks:function(){Dt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ae(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var u=s.touches[0];this._startPos=this._newPos=new pt(u.clientX,u.clientY),this._holdTimeout=setTimeout(m(function(){this._cancel(),this._isTapValid()&&(Dt(document,"touchend",we),Dt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),_u),Dt(document,"touchend touchcancel contextmenu",this._cancel,this),Dt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){ae(document,"touchend",we),ae(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),ae(document,"touchend touchcancel contextmenu",this._cancel,this),ae(document,"touchmove",this._onMove,this)},_onMove:function(s){var u=s.touches[0];this._newPos=new pt(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,u){var d=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});d._simulated=!0,u.target.dispatchEvent(d)}});Gt.addInitHook("addHandler","tapHold",pl),Gt.mergeOptions({touchZoom:Ot.touch,bounceAtZoomLimits:!0});var ps=Nn.extend({addHooks:function(){qt(this._map._container,"leaflet-touch-zoom"),Dt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ge(this._map._container,"leaflet-touch-zoom"),ae(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var u=this._map;if(!(!s.touches||s.touches.length!==2||u._animatingZoom||this._zooming)){var d=u.mouseEventToContainerPoint(s.touches[0]),_=u.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(d.add(_)._divideBy(2))),this._startDist=d.distanceTo(_),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Dt(document,"touchmove",this._onTouchMove,this),Dt(document,"touchend touchcancel",this._onTouchEnd,this),we(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var u=this._map,d=u.mouseEventToContainerPoint(s.touches[0]),_=u.mouseEventToContainerPoint(s.touches[1]),w=d.distanceTo(_)/this._startDist;if(this._zoom=u.getScaleZoom(w,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&w<1||this._zoom>u.getMaxZoom()&&w>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,w===1)return}else{var I=d._add(_)._divideBy(2)._subtract(this._centerPoint);if(w===1&&I.x===0&&I.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(I),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),F(this._animRequest);var N=m(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=H(N,this,!0),we(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,F(this._animRequest),ae(document,"touchmove",this._onTouchMove,this),ae(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Gt.addInitHook("addHandler","touchZoom",ps),Gt.BoxZoom=ml,Gt.DoubleClickZoom=$i,Gt.Drag=gu,Gt.Keyboard=bo,Gt.ScrollWheelZoom=zr,Gt.TapHold=pl,Gt.TouchZoom=ps,e.Bounds=ot,e.Browser=Ot,e.CRS=Ee,e.Canvas=To,e.Circle=du,e.CircleMarker=po,e.Class=pe,e.Control=an,e.DivIcon=pu,e.DivOverlay=wi,e.DomEvent=il,e.DomUtil=uo,e.Draggable=Ti,e.Evented=yt,e.FeatureGroup=Re,e.GeoJSON=$n,e.GridLayer=hs,e.Handler=Nn,e.Icon=Gi,e.ImageOverlay=Zi,e.LatLng=St,e.LatLngBounds=mt,e.Layer=de,e.LayerGroup=Le,e.LineUtil=x,e.Map=Gt,e.Marker=na,e.Mixin=ls,e.Path=dr,e.Point=pt,e.PolyUtil=Ws,e.Polygon=ia,e.Polyline=mr,e.Popup=vo,e.PosAnimation=os,e.Projection=vt,e.Rectangle=Hc,e.Renderer=Ai,e.SVG=Vr,e.SVGOverlay=kr,e.TileLayer=fs,e.Tooltip=dl,e.Transformation=ui,e.Util=z,e.VideoOverlay=fl,e.bind=m,e.bounds=gt,e.canvas=Eo,e.circle=rd,e.circleMarker=kc,e.control=pn,e.divIcon=Bc,e.extend=l,e.featureGroup=Fi,e.geoJSON=hl,e.geoJson=Vc,e.gridLayer=bi,e.icon=ll,e.imageOverlay=sa,e.latLng=Et,e.latLngBounds=wt,e.layerGroup=fr,e.map=qi,e.marker=fu,e.point=D,e.polygon=Zn,e.polyline=sd,e.popup=ad,e.rectangle=Qn,e.setOptions=Z,e.stamp=v,e.svg=ms,e.svgOverlay=Uc,e.tileLayer=Kn,e.tooltip=od,e.transformation=ci,e.version=a,e.videoOverlay=zc;var la=window.L;e.noConflict=function(){return window.L=la,this},window.L=e})}(ec,ec.exports)),ec.exports}var Ac=rI();const eE=kp(Ac);function $p(i,t,e){return Object.freeze({instance:i,context:t,container:e})}function Kp(i,t){return t==null?function(a,l){const h=Q.useRef(void 0);return h.current||(h.current=i(a,l)),h}:function(a,l){const h=Q.useRef(void 0);h.current||(h.current=i(a,l));const m=Q.useRef(a),{instance:y}=h.current;return Q.useEffect(function(){m.current!==a&&(t(y,a,m.current),m.current=a)},[y,a,t]),h}}function sI(i,t){Q.useEffect(function(){return(t.layerContainer??t.map).addLayer(i.instance),function(){var h;(h=t.layerContainer)==null||h.removeLayer(i.instance),t.map.removeLayer(i.instance)}},[t,i])}function nE(i){return function(e){const a=JT(),l=i(Zp(e,a),a);return WT(a.map,e.attribution),tE(l.current,e.eventHandlers),sI(l.current,a),l}}function aI(i,t){const e=Kp(i,t),a=nE(e);return JS(a)}function oI(i,t){const e=Kp(i),a=nI(e,t);return tI(a)}function lI(i,t){const e=Kp(i,t),a=nE(e);return eI(a)}function uI(i,t,e){const{opacity:a,zIndex:l}=t;a!=null&&a!==e.opacity&&i.setOpacity(a),l!=null&&l!==e.zIndex&&i.setZIndex(l)}function cI({bounds:i,boundsOptions:t,center:e,children:a,className:l,id:h,placeholder:m,style:y,whenReady:v,zoom:T,...S},C){const[P]=Q.useState({className:l,id:h,style:y}),[U,q]=Q.useState(null),Z=Q.useRef(void 0);Q.useImperativeHandle(C,()=>(U==null?void 0:U.map)??null,[U]);const W=Q.useCallback(J=>{if(J!==null&&!Z.current){const it=new Ac.Map(J,S);Z.current=it,e!=null&&T!=null?it.setView(e,T):i!=null&&it.fitBounds(i,t),v!=null&&it.whenReady(v),q(XS(it))}},[]);Q.useEffect(()=>()=>{U==null||U.map.remove()},[U]);const st=U?Te.createElement(Gp,{value:U},a):m??null;return Te.createElement("div",{...P,ref:W},st)}const hI=Q.forwardRef(cI),fI=aI(function({position:t,...e},a){const l=new Ac.Marker(t,e);return $p(l,WS(a,{overlayContainer:l}))},function(t,e,a){e.position!==a.position&&t.setLatLng(e.position),e.icon!=null&&e.icon!==a.icon&&t.setIcon(e.icon),e.zIndexOffset!=null&&e.zIndexOffset!==a.zIndexOffset&&t.setZIndexOffset(e.zIndexOffset),e.opacity!=null&&e.opacity!==a.opacity&&t.setOpacity(e.opacity),t.dragging!=null&&e.draggable!==a.draggable&&(e.draggable===!0?t.dragging.enable():t.dragging.disable())}),dI=oI(function(t,e){const a=new Ac.Popup(t,e.overlayContainer);return $p(a,e)},function(t,e,{position:a},l){Q.useEffect(function(){const{instance:m}=t;function y(T){T.popup===m&&(m.update(),l(!0))}function v(T){T.popup===m&&l(!1)}return e.map.on({popupopen:y,popupclose:v}),e.overlayContainer==null?(a!=null&&m.setLatLng(a),m.openOn(e.map)):e.overlayContainer.bindPopup(m),function(){var S;e.map.off({popupopen:y,popupclose:v}),(S=e.overlayContainer)==null||S.unbindPopup(),e.map.removeLayer(m)}},[t,e,l,a])}),mI=lI(function({url:t,...e},a){const l=new Ac.TileLayer(t,Zp(e,a));return $p(l,a)},function(t,e,a){uI(t,e,a);const{url:l}=e;l!=null&&l!==a.url&&t.setUrl(l)}),pI=()=>{};var Kv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=function(i){const t=[];let e=0;for(let a=0;a<i.length;a++){let l=i.charCodeAt(a);l<128?t[e++]=l:l<2048?(t[e++]=l>>6|192,t[e++]=l&63|128):(l&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++a)&1023),t[e++]=l>>18|240,t[e++]=l>>12&63|128,t[e++]=l>>6&63|128,t[e++]=l&63|128):(t[e++]=l>>12|224,t[e++]=l>>6&63|128,t[e++]=l&63|128)}return t},gI=function(i){const t=[];let e=0,a=0;for(;e<i.length;){const l=i[e++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const h=i[e++];t[a++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=i[e++],m=i[e++],y=i[e++],v=((l&7)<<18|(h&63)<<12|(m&63)<<6|y&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const h=i[e++],m=i[e++];t[a++]=String.fromCharCode((l&15)<<12|(h&63)<<6|m&63)}}return t.join("")},rE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<i.length;l+=3){const h=i[l],m=l+1<i.length,y=m?i[l+1]:0,v=l+2<i.length,T=v?i[l+2]:0,S=h>>2,C=(h&3)<<4|y>>4;let P=(y&15)<<2|T>>6,U=T&63;v||(U=64,m||(P=64)),a.push(e[S],e[C],e[P],e[U])}return a.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(iE(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):gI(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<i.length;){const h=e[i.charAt(l++)],y=l<i.length?e[i.charAt(l)]:0;++l;const T=l<i.length?e[i.charAt(l)]:64;++l;const C=l<i.length?e[i.charAt(l)]:64;if(++l,h==null||y==null||T==null||C==null)throw new _I;const P=h<<2|y>>4;if(a.push(P),T!==64){const U=y<<4&240|T>>2;if(a.push(U),C!==64){const q=T<<6&192|C;a.push(q)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class _I extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yI=function(i){const t=iE(i);return rE.encodeByteArray(t,!0)},af=function(i){return yI(i).replace(/\./g,"")},sE=function(i){try{return rE.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI=()=>vI().__FIREBASE_DEFAULTS__,EI=()=>{if(typeof process>"u"||typeof Kv>"u")return;const i=Kv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},wI=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&sE(i[1]);return t&&JSON.parse(t)},Df=()=>{try{return pI()||TI()||EI()||wI()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},aE=i=>{var t,e;return(e=(t=Df())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[i]},bI=i=>{const t=aE(i);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),a]:[t.substring(0,e),a]},oE=()=>{var i;return(i=Df())===null||i===void 0?void 0:i.config},lE=i=>{var t;return(t=Df())===null||t===void 0?void 0:t[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,a)=>{e?this.reject(e):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(i){return i.endsWith(".cloudworkstations.dev")}async function uE(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},a=t||"demo-project",l=i.iat||0,h=i.sub||i.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},i);return[af(JSON.stringify(e)),af(JSON.stringify(m)),""].join(".")}const ac={};function II(){const i={prod:[],emulator:[]};for(const t of Object.keys(ac))ac[t]?i.emulator.push(t):i.prod.push(t);return i}function RI(i){let t=document.getElementById(i),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),e=!0),{created:e,element:t}}let Yv=!1;function cE(i,t){if(typeof window>"u"||typeof document>"u"||!eu(window.location.host)||ac[i]===t||ac[i]||Yv)return;ac[i]=t;function e(P){return`__firebase__banner__${P}`}const a="__firebase__banner",h=II().prod.length>0;function m(){const P=document.getElementById(a);P&&P.remove()}function y(P){P.style.display="flex",P.style.background="#7faaf0",P.style.position="fixed",P.style.bottom="5px",P.style.left="5px",P.style.padding=".5em",P.style.borderRadius="5px",P.style.alignItems="center"}function v(P,U){P.setAttribute("width","24"),P.setAttribute("id",U),P.setAttribute("height","24"),P.setAttribute("viewBox","0 0 24 24"),P.setAttribute("fill","none"),P.style.marginLeft="-6px"}function T(){const P=document.createElement("span");return P.style.cursor="pointer",P.style.marginLeft="16px",P.style.fontSize="24px",P.innerHTML=" &times;",P.onclick=()=>{Yv=!0,m()},P}function S(P,U){P.setAttribute("id",U),P.innerText="Learn more",P.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",P.setAttribute("target","__blank"),P.style.paddingLeft="5px",P.style.textDecoration="underline"}function C(){const P=RI(a),U=e("text"),q=document.getElementById(U)||document.createElement("span"),Z=e("learnmore"),W=document.getElementById(Z)||document.createElement("a"),st=e("preprendIcon"),J=document.getElementById(st)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(P.created){const it=P.element;y(it),S(W,Z);const _t=T();v(J,st),it.append(J,q,W,_t),document.body.appendChild(it)}h?(q.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,q.innerText="Preview backend running in this workspace."),q.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qn())}function xI(){var i;const t=(i=Df())===null||i===void 0?void 0:i.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Yp(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function OI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LI(){const i=qn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function MI(){return!xI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Qp(){try{return typeof indexedDB=="object"}catch{return!1}}function Xp(){return new Promise((i,t)=>{try{let e=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),e||self.indexedDB.deleteDatabase(a),i(!0)},l.onupgradeneeded=()=>{e=!1},l.onerror=()=>{var h;t(((h=l.error)===null||h===void 0?void 0:h.message)||"")}}catch(e){t(e)}})}function hE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="FirebaseError";class Ar extends Error{constructor(t,e,a){super(e),this.code=t,this.customData=a,this.name=DI,Object.setPrototypeOf(this,Ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zo.prototype.create)}}class Zo{constructor(t,e,a){this.service=t,this.serviceName=e,this.errors=a}create(t,...e){const a=e[0]||{},l=`${this.service}/${t}`,h=this.errors[t],m=h?NI(h,a):"Error",y=`${this.serviceName}: ${m} (${l}).`;return new Ar(l,y,a)}}function NI(i,t){return i.replace(kI,(e,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const kI=/\{\$([^}]+)}/g;function VI(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function ja(i,t){if(i===t)return!0;const e=Object.keys(i),a=Object.keys(t);for(const l of e){if(!a.includes(l))return!1;const h=i[l],m=t[l];if(Qv(h)&&Qv(m)){if(!ja(h,m))return!1}else if(h!==m)return!1}for(const l of a)if(!e.includes(l))return!1;return!0}function Qv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(i){const t=[];for(const[e,a]of Object.entries(i))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function zI(i,t){const e=new UI(i,t);return e.subscribe.bind(e)}class UI{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,a){let l;if(t===void 0&&e===void 0&&a===void 0)throw new Error("Missing Observer.");BI(t,["next","error","complete"])?l=t:l={next:t,error:e,complete:a},l.next===void 0&&(l.next=qm),l.error===void 0&&(l.error=qm),l.complete===void 0&&(l.complete=qm);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BI(i,t){if(typeof i!="object"||i===null)return!1;for(const e of t)if(e in i&&typeof i[e]=="function")return!0;return!1}function qm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=1e3,qI=2,jI=4*60*60*1e3,FI=.5;function Xv(i,t=HI,e=qI){const a=t*Math.pow(e,i),l=Math.round(FI*a*(Math.random()-.5)*2);return Math.min(jI,a+l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(i){return i&&i._delegate?i._delegate:i}class wr{constructor(t,e,a){this.name=t,this.instanceFactory=e,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const a=new AI;if(this.instancesDeferred.set(e,a),this.isInitialized(e)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:e});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const a=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(h){if(l)return null;throw h}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if($I(t))try{this.getOrInitializeService({instanceIdentifier:Do})}catch{}for(const[e,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(e);try{const h=this.getOrInitializeService({instanceIdentifier:l});a.resolve(h)}catch{}}}}clearInstance(t=Do){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Do){return this.instances.has(t)}getOptions(t=Do){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:e});for(const[h,m]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);a===y&&m.resolve(l)}return l}onInit(t,e){var a;const l=this.normalizeInstanceIdentifier(e),h=(a=this.onInitCallbacks.get(l))!==null&&a!==void 0?a:new Set;h.add(t),this.onInitCallbacks.set(l,h);const m=this.instances.get(l);return m&&t(m,l),()=>{h.delete(t)}}invokeOnInitCallbacks(t,e){const a=this.onInitCallbacks.get(e);if(a)for(const l of a)try{l(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:ZI(t),options:e}),this.instances.set(t,a),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Do){return this.component?this.component.multipleInstances?t:Do:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZI(i){return i===Do?void 0:i}function $I(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new GI(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ne;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ne||(ne={}));const YI={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},QI=ne.INFO,XI={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},WI=(i,t,...e)=>{if(t<i.logLevel)return;const a=new Date().toISOString(),l=XI[t];if(l)console[l](`[${a}]  ${i.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Nf{constructor(t){this.name=t,this._logLevel=QI,this._logHandler=WI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ne))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?YI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...t),this._logHandler(this,ne.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...t),this._logHandler(this,ne.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...t),this._logHandler(this,ne.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...t),this._logHandler(this,ne.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...t),this._logHandler(this,ne.ERROR,...t)}}const JI=(i,t)=>t.some(e=>i instanceof e);let Wv,Jv;function tR(){return Wv||(Wv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eR(){return Jv||(Jv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fE=new WeakMap,rp=new WeakMap,dE=new WeakMap,jm=new WeakMap,Wp=new WeakMap;function nR(i){const t=new Promise((e,a)=>{const l=()=>{i.removeEventListener("success",h),i.removeEventListener("error",m)},h=()=>{e(Va(i.result)),l()},m=()=>{a(i.error),l()};i.addEventListener("success",h),i.addEventListener("error",m)});return t.then(e=>{e instanceof IDBCursor&&fE.set(e,i)}).catch(()=>{}),Wp.set(t,i),t}function iR(i){if(rp.has(i))return;const t=new Promise((e,a)=>{const l=()=>{i.removeEventListener("complete",h),i.removeEventListener("error",m),i.removeEventListener("abort",m)},h=()=>{e(),l()},m=()=>{a(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",h),i.addEventListener("error",m),i.addEventListener("abort",m)});rp.set(i,t)}let sp={get(i,t,e){if(i instanceof IDBTransaction){if(t==="done")return rp.get(i);if(t==="objectStoreNames")return i.objectStoreNames||dE.get(i);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Va(i[t])},set(i,t,e){return i[t]=e,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function rR(i){sp=i(sp)}function sR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const a=i.call(Fm(this),t,...e);return dE.set(a,t.sort?t.sort():[t]),Va(a)}:eR().includes(i)?function(...t){return i.apply(Fm(this),t),Va(fE.get(this))}:function(...t){return Va(i.apply(Fm(this),t))}}function aR(i){return typeof i=="function"?sR(i):(i instanceof IDBTransaction&&iR(i),JI(i,tR())?new Proxy(i,sp):i)}function Va(i){if(i instanceof IDBRequest)return nR(i);if(jm.has(i))return jm.get(i);const t=aR(i);return t!==i&&(jm.set(i,t),Wp.set(t,i)),t}const Fm=i=>Wp.get(i);function mE(i,t,{blocked:e,upgrade:a,blocking:l,terminated:h}={}){const m=indexedDB.open(i,t),y=Va(m);return a&&m.addEventListener("upgradeneeded",v=>{a(Va(m.result),v.oldVersion,v.newVersion,Va(m.transaction),v)}),e&&m.addEventListener("blocked",v=>e(v.oldVersion,v.newVersion,v)),y.then(v=>{h&&v.addEventListener("close",()=>h()),l&&v.addEventListener("versionchange",T=>l(T.oldVersion,T.newVersion,T))}).catch(()=>{}),y}const oR=["get","getKey","getAll","getAllKeys","count"],lR=["put","add","delete","clear"],Gm=new Map;function t0(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Gm.get(t))return Gm.get(t);const e=t.replace(/FromIndex$/,""),a=t!==e,l=lR.includes(e);if(!(e in(a?IDBIndex:IDBObjectStore).prototype)||!(l||oR.includes(e)))return;const h=async function(m,...y){const v=this.transaction(m,l?"readwrite":"readonly");let T=v.store;return a&&(T=T.index(y.shift())),(await Promise.all([T[e](...y),l&&v.done]))[0]};return Gm.set(t,h),h}rR(i=>({...i,get:(t,e,a)=>t0(t,e)||i.get(t,e,a),has:(t,e)=>!!t0(t,e)||i.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(cR(e)){const a=e.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(e=>e).join(" ")}}function cR(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const ap="@firebase/app",e0="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=new Nf("@firebase/app"),hR="@firebase/app-compat",fR="@firebase/analytics-compat",dR="@firebase/analytics",mR="@firebase/app-check-compat",pR="@firebase/app-check",gR="@firebase/auth",_R="@firebase/auth-compat",yR="@firebase/database",vR="@firebase/data-connect",TR="@firebase/database-compat",ER="@firebase/functions",wR="@firebase/functions-compat",bR="@firebase/installations",AR="@firebase/installations-compat",SR="@firebase/messaging",IR="@firebase/messaging-compat",RR="@firebase/performance",CR="@firebase/performance-compat",xR="@firebase/remote-config",PR="@firebase/remote-config-compat",OR="@firebase/storage",LR="@firebase/storage-compat",MR="@firebase/firestore",DR="@firebase/ai",NR="@firebase/firestore-compat",kR="firebase",VR="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op="[DEFAULT]",zR={[ap]:"fire-core",[hR]:"fire-core-compat",[dR]:"fire-analytics",[fR]:"fire-analytics-compat",[pR]:"fire-app-check",[mR]:"fire-app-check-compat",[gR]:"fire-auth",[_R]:"fire-auth-compat",[yR]:"fire-rtdb",[vR]:"fire-data-connect",[TR]:"fire-rtdb-compat",[ER]:"fire-fn",[wR]:"fire-fn-compat",[bR]:"fire-iid",[AR]:"fire-iid-compat",[SR]:"fire-fcm",[IR]:"fire-fcm-compat",[RR]:"fire-perf",[CR]:"fire-perf-compat",[xR]:"fire-rc",[PR]:"fire-rc-compat",[OR]:"fire-gcs",[LR]:"fire-gcs-compat",[MR]:"fire-fst",[NR]:"fire-fst-compat",[DR]:"fire-vertex","fire-js":"fire-js",[kR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of=new Map,UR=new Map,lp=new Map;function n0(i,t){try{i.container.addComponent(t)}catch(e){xs.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,e)}}function Yr(i){const t=i.name;if(lp.has(t))return xs.debug(`There were multiple attempts to register component ${t}.`),!1;lp.set(t,i);for(const e of of.values())n0(e,i);for(const e of UR.values())n0(e,i);return!0}function $o(i,t){const e=i.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),i.container.getProvider(t)}function vr(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},za=new Zo("app","Firebase",BR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(t,e,a){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new wr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw za.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=VR;function pE(i,t={}){let e=i;typeof t!="object"&&(t={name:t});const a=Object.assign({name:op,automaticDataCollectionEnabled:!0},t),l=a.name;if(typeof l!="string"||!l)throw za.create("bad-app-name",{appName:String(l)});if(e||(e=oE()),!e)throw za.create("no-options");const h=of.get(l);if(h){if(ja(e,h.options)&&ja(a,h.config))return h;throw za.create("duplicate-app",{appName:l})}const m=new KI(l);for(const v of lp.values())m.addComponent(v);const y=new HR(e,a,m);return of.set(l,y),y}function Jp(i=op){const t=of.get(i);if(!t&&i===op&&oE())return pE();if(!t)throw za.create("no-app",{appName:i});return t}function Ji(i,t,e){var a;let l=(a=zR[i])!==null&&a!==void 0?a:i;e&&(l+=`-${e}`);const h=l.match(/\s|\//),m=t.match(/\s|\//);if(h||m){const y=[`Unable to register library "${l}" with version "${t}":`];h&&y.push(`library name "${l}" contains illegal characters (whitespace or "/")`),h&&m&&y.push("and"),m&&y.push(`version name "${t}" contains illegal characters (whitespace or "/")`),xs.warn(y.join(" "));return}Yr(new wr(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR="firebase-heartbeat-database",jR=1,mc="firebase-heartbeat-store";let Zm=null;function gE(){return Zm||(Zm=mE(qR,jR,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(mc)}catch(e){console.warn(e)}}}}).catch(i=>{throw za.create("idb-open",{originalErrorMessage:i.message})})),Zm}async function FR(i){try{const e=(await gE()).transaction(mc),a=await e.objectStore(mc).get(_E(i));return await e.done,a}catch(t){if(t instanceof Ar)xs.warn(t.message);else{const e=za.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});xs.warn(e.message)}}}async function i0(i,t){try{const a=(await gE()).transaction(mc,"readwrite");await a.objectStore(mc).put(t,_E(i)),await a.done}catch(e){if(e instanceof Ar)xs.warn(e.message);else{const a=za.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});xs.warn(a.message)}}}function _E(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR=1024,ZR=30;class $R{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new YR(e),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,e;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=r0();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(m=>m.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:l}),this._heartbeatsCache.heartbeats.length>ZR){const m=QR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(m,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){xs.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=r0(),{heartbeatsToSend:a,unsentEntries:l}=KR(this._heartbeatsCache.heartbeats),h=af(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=e,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(e){return xs.warn(e),""}}}function r0(){return new Date().toISOString().substring(0,10)}function KR(i,t=GR){const e=[];let a=i.slice();for(const l of i){const h=e.find(m=>m.agent===l.agent);if(h){if(h.dates.push(l.date),s0(e)>t){h.dates.pop();break}}else if(e.push({agent:l.agent,dates:[l.date]}),s0(e)>t){e.pop();break}a=a.slice(1)}return{heartbeatsToSend:e,unsentEntries:a}}class YR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Qp()?Xp().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await FR(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const l=await this.read();return i0(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const l=await this.read();return i0(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function s0(i){return af(JSON.stringify({version:2,heartbeats:i})).length}function QR(i){if(i.length===0)return-1;let t=0,e=i[0].date;for(let a=1;a<i.length;a++)i[a].date<e&&(e=i[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(i){Yr(new wr("platform-logger",t=>new uR(t),"PRIVATE")),Yr(new wr("heartbeat",t=>new $R(t),"PRIVATE")),Ji(ap,e0,i),Ji(ap,e0,"esm2017"),Ji("fire-js","")}XR("");var WR="firebase",JR="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ji(WR,JR,"app");const yE="@firebase/installations",tg="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE=1e4,TE=`w:${tg}`,EE="FIS_v2",tC="https://firebaseinstallations.googleapis.com/v1",eC=60*60*1e3,nC="installations",iC="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Uo=new Zo(nC,iC,rC);function wE(i){return i instanceof Ar&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE({projectId:i}){return`${tC}/projects/${i}/installations`}function AE(i){return{token:i.token,requestStatus:2,expiresIn:aC(i.expiresIn),creationTime:Date.now()}}async function SE(i,t){const a=(await t.json()).error;return Uo.create("request-failed",{requestName:i,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function IE({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function sC(i,{refreshToken:t}){const e=IE(i);return e.append("Authorization",oC(t)),e}async function RE(i){const t=await i();return t.status>=500&&t.status<600?i():t}function aC(i){return Number(i.replace("s","000"))}function oC(i){return`${EE} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lC({appConfig:i,heartbeatServiceProvider:t},{fid:e}){const a=bE(i),l=IE(i),h=t.getImmediate({optional:!0});if(h){const T=await h.getHeartbeatsHeader();T&&l.append("x-firebase-client",T)}const m={fid:e,authVersion:EE,appId:i.appId,sdkVersion:TE},y={method:"POST",headers:l,body:JSON.stringify(m)},v=await RE(()=>fetch(a,y));if(v.ok){const T=await v.json();return{fid:T.fid||e,registrationStatus:2,refreshToken:T.refreshToken,authToken:AE(T.authToken)}}else throw await SE("Create Installation",v)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CE(i){return new Promise(t=>{setTimeout(t,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=/^[cdef][\w-]{21}$/,up="";function hC(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const e=fC(i);return cC.test(e)?e:up}catch{return up}}function fC(i){return uC(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kf(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE=new Map;function PE(i,t){const e=kf(i);OE(e,t),dC(e,t)}function OE(i,t){const e=xE.get(i);if(e)for(const a of e)a(t)}function dC(i,t){const e=mC();e&&e.postMessage({key:i,fid:t}),pC()}let No=null;function mC(){return!No&&"BroadcastChannel"in self&&(No=new BroadcastChannel("[Firebase] FID Change"),No.onmessage=i=>{OE(i.data.key,i.data.fid)}),No}function pC(){xE.size===0&&No&&(No.close(),No=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC="firebase-installations-database",_C=1,Bo="firebase-installations-store";let $m=null;function eg(){return $m||($m=mE(gC,_C,{upgrade:(i,t)=>{switch(t){case 0:i.createObjectStore(Bo)}}})),$m}async function lf(i,t){const e=kf(i),l=(await eg()).transaction(Bo,"readwrite"),h=l.objectStore(Bo),m=await h.get(e);return await h.put(t,e),await l.done,(!m||m.fid!==t.fid)&&PE(i,t.fid),t}async function LE(i){const t=kf(i),a=(await eg()).transaction(Bo,"readwrite");await a.objectStore(Bo).delete(t),await a.done}async function Vf(i,t){const e=kf(i),l=(await eg()).transaction(Bo,"readwrite"),h=l.objectStore(Bo),m=await h.get(e),y=t(m);return y===void 0?await h.delete(e):await h.put(y,e),await l.done,y&&(!m||m.fid!==y.fid)&&PE(i,y.fid),y}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ng(i){let t;const e=await Vf(i.appConfig,a=>{const l=yC(a),h=vC(i,l);return t=h.registrationPromise,h.installationEntry});return e.fid===up?{installationEntry:await t}:{installationEntry:e,registrationPromise:t}}function yC(i){const t=i||{fid:hC(),registrationStatus:0};return ME(t)}function vC(i,t){if(t.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(Uo.create("app-offline"));return{installationEntry:t,registrationPromise:l}}const e={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},a=TC(i,e);return{installationEntry:e,registrationPromise:a}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:EC(i)}:{installationEntry:t}}async function TC(i,t){try{const e=await lC(i,t);return lf(i.appConfig,e)}catch(e){throw wE(e)&&e.customData.serverCode===409?await LE(i.appConfig):await lf(i.appConfig,{fid:t.fid,registrationStatus:0}),e}}async function EC(i){let t=await a0(i.appConfig);for(;t.registrationStatus===1;)await CE(100),t=await a0(i.appConfig);if(t.registrationStatus===0){const{installationEntry:e,registrationPromise:a}=await ng(i);return a||e}return t}function a0(i){return Vf(i,t=>{if(!t)throw Uo.create("installation-not-found");return ME(t)})}function ME(i){return wC(i)?{fid:i.fid,registrationStatus:0}:i}function wC(i){return i.registrationStatus===1&&i.registrationTime+vE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bC({appConfig:i,heartbeatServiceProvider:t},e){const a=AC(i,e),l=sC(i,e),h=t.getImmediate({optional:!0});if(h){const T=await h.getHeartbeatsHeader();T&&l.append("x-firebase-client",T)}const m={installation:{sdkVersion:TE,appId:i.appId}},y={method:"POST",headers:l,body:JSON.stringify(m)},v=await RE(()=>fetch(a,y));if(v.ok){const T=await v.json();return AE(T)}else throw await SE("Generate Auth Token",v)}function AC(i,{fid:t}){return`${bE(i)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ig(i,t=!1){let e;const a=await Vf(i.appConfig,h=>{if(!DE(h))throw Uo.create("not-registered");const m=h.authToken;if(!t&&RC(m))return h;if(m.requestStatus===1)return e=SC(i,t),h;{if(!navigator.onLine)throw Uo.create("app-offline");const y=xC(h);return e=IC(i,y),y}});return e?await e:a.authToken}async function SC(i,t){let e=await o0(i.appConfig);for(;e.authToken.requestStatus===1;)await CE(100),e=await o0(i.appConfig);const a=e.authToken;return a.requestStatus===0?ig(i,t):a}function o0(i){return Vf(i,t=>{if(!DE(t))throw Uo.create("not-registered");const e=t.authToken;return PC(e)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function IC(i,t){try{const e=await bC(i,t),a=Object.assign(Object.assign({},t),{authToken:e});return await lf(i.appConfig,a),e}catch(e){if(wE(e)&&(e.customData.serverCode===401||e.customData.serverCode===404))await LE(i.appConfig);else{const a=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await lf(i.appConfig,a)}throw e}}function DE(i){return i!==void 0&&i.registrationStatus===2}function RC(i){return i.requestStatus===2&&!CC(i)}function CC(i){const t=Date.now();return t<i.creationTime||i.creationTime+i.expiresIn<t+eC}function xC(i){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:t})}function PC(i){return i.requestStatus===1&&i.requestTime+vE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OC(i){const t=i,{installationEntry:e,registrationPromise:a}=await ng(t);return a?a.catch(console.error):ig(t).catch(console.error),e.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LC(i,t=!1){const e=i;return await MC(e),(await ig(e,t)).token}async function MC(i){const{registrationPromise:t}=await ng(i);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(i){if(!i||!i.options)throw Km("App Configuration");if(!i.name)throw Km("App Name");const t=["projectId","apiKey","appId"];for(const e of t)if(!i.options[e])throw Km(e);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Km(i){return Uo.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE="installations",NC="installations-internal",kC=i=>{const t=i.getProvider("app").getImmediate(),e=DC(t),a=$o(t,"heartbeat");return{app:t,appConfig:e,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},VC=i=>{const t=i.getProvider("app").getImmediate(),e=$o(t,NE).getImmediate();return{getId:()=>OC(e),getToken:l=>LC(e,l)}};function zC(){Yr(new wr(NE,kC,"PUBLIC")),Yr(new wr(NC,VC,"PRIVATE"))}zC();Ji(yE,tg);Ji(yE,tg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uf="analytics",UC="firebase_id",BC="origin",HC=60*1e3,qC="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new Nf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Pi=new Zo("analytics","Analytics",jC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(i){if(!i.startsWith(rg)){const t=Pi.create("invalid-gtag-resource",{gtagURL:i});return oi.warn(t.message),""}return i}function kE(i){return Promise.all(i.map(t=>t.catch(e=>e)))}function GC(i,t){let e;return window.trustedTypes&&(e=window.trustedTypes.createPolicy(i,t)),e}function ZC(i,t){const e=GC("firebase-js-sdk-policy",{createScriptURL:FC}),a=document.createElement("script"),l=`${rg}?l=${i}&id=${t}`;a.src=e?e==null?void 0:e.createScriptURL(l):l,a.async=!0,document.head.appendChild(a)}function $C(i){let t=[];return Array.isArray(window[i])?t=window[i]:window[i]=t,t}async function KC(i,t,e,a,l,h){const m=a[l];try{if(m)await t[m];else{const v=(await kE(e)).find(T=>T.measurementId===l);v&&await t[v.appId]}}catch(y){oi.error(y)}i("config",l,h)}async function YC(i,t,e,a,l){try{let h=[];if(l&&l.send_to){let m=l.send_to;Array.isArray(m)||(m=[m]);const y=await kE(e);for(const v of m){const T=y.find(C=>C.measurementId===v),S=T&&t[T.appId];if(S)h.push(S);else{h=[];break}}}h.length===0&&(h=Object.values(t)),await Promise.all(h),i("event",a,l||{})}catch(h){oi.error(h)}}function QC(i,t,e,a){async function l(h,...m){try{if(h==="event"){const[y,v]=m;await YC(i,t,e,y,v)}else if(h==="config"){const[y,v]=m;await KC(i,t,e,a,y,v)}else if(h==="consent"){const[y,v]=m;i("consent",y,v)}else if(h==="get"){const[y,v,T]=m;i("get",y,v,T)}else if(h==="set"){const[y]=m;i("set",y)}else i(h,...m)}catch(y){oi.error(y)}}return l}function XC(i,t,e,a,l){let h=function(...m){window[a].push(arguments)};return window[l]&&typeof window[l]=="function"&&(h=window[l]),window[l]=QC(h,i,t,e),{gtagCore:h,wrappedGtag:window[l]}}function WC(i){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(rg)&&e.src.includes(i))return e;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=30,tx=1e3;class ex{constructor(t={},e=tx){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const VE=new ex;function nx(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function ix(i){var t;const{appId:e,apiKey:a}=i,l={method:"GET",headers:nx(a)},h=qC.replace("{app-id}",e),m=await fetch(h,l);if(m.status!==200&&m.status!==304){let y="";try{const v=await m.json();!((t=v.error)===null||t===void 0)&&t.message&&(y=v.error.message)}catch{}throw Pi.create("config-fetch-failed",{httpStatus:m.status,responseMessage:y})}return m.json()}async function rx(i,t=VE,e){const{appId:a,apiKey:l,measurementId:h}=i.options;if(!a)throw Pi.create("no-app-id");if(!l){if(h)return{measurementId:h,appId:a};throw Pi.create("no-api-key")}const m=t.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},y=new ox;return setTimeout(async()=>{y.abort()},HC),zE({appId:a,apiKey:l,measurementId:h},m,y,t)}async function zE(i,{throttleEndTimeMillis:t,backoffCount:e},a,l=VE){var h;const{appId:m,measurementId:y}=i;try{await sx(a,t)}catch(v){if(y)return oi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${y} provided in the "measurementId" field in the local Firebase config. [${v==null?void 0:v.message}]`),{appId:m,measurementId:y};throw v}try{const v=await ix(i);return l.deleteThrottleMetadata(m),v}catch(v){const T=v;if(!ax(T)){if(l.deleteThrottleMetadata(m),y)return oi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${y} provided in the "measurementId" field in the local Firebase config. [${T==null?void 0:T.message}]`),{appId:m,measurementId:y};throw v}const S=Number((h=T==null?void 0:T.customData)===null||h===void 0?void 0:h.httpStatus)===503?Xv(e,l.intervalMillis,JC):Xv(e,l.intervalMillis),C={throttleEndTimeMillis:Date.now()+S,backoffCount:e+1};return l.setThrottleMetadata(m,C),oi.debug(`Calling attemptFetch again in ${S} millis`),zE(i,C,a,l)}}function sx(i,t){return new Promise((e,a)=>{const l=Math.max(t-Date.now(),0),h=setTimeout(e,l);i.addEventListener(()=>{clearTimeout(h),a(Pi.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function ax(i){if(!(i instanceof Ar)||!i.customData)return!1;const t=Number(i.customData.httpStatus);return t===429||t===500||t===503||t===504}class ox{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function lx(i,t,e,a,l){if(l&&l.global){i("event",e,a);return}else{const h=await t,m=Object.assign(Object.assign({},a),{send_to:h});i("event",e,m)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ux(){if(Qp())try{await Xp()}catch(i){return oi.warn(Pi.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return oi.warn(Pi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function cx(i,t,e,a,l,h,m){var y;const v=rx(i);v.then(U=>{e[U.measurementId]=U.appId,i.options.measurementId&&U.measurementId!==i.options.measurementId&&oi.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${U.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(U=>oi.error(U)),t.push(v);const T=ux().then(U=>{if(U)return a.getId()}),[S,C]=await Promise.all([v,T]);WC(h)||ZC(h,S.measurementId),l("js",new Date);const P=(y=m==null?void 0:m.config)!==null&&y!==void 0?y:{};return P[BC]="firebase",P.update=!0,C!=null&&(P[UC]=C),l("config",S.measurementId,P),S.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(t){this.app=t}_delete(){return delete oc[this.app.options.appId],Promise.resolve()}}let oc={},l0=[];const u0={};let Ym="dataLayer",fx="gtag",c0,UE,h0=!1;function dx(){const i=[];if(Yp()&&i.push("This is a browser extension environment."),hE()||i.push("Cookies are not available."),i.length>0){const t=i.map((a,l)=>`(${l+1}) ${a}`).join(" "),e=Pi.create("invalid-analytics-context",{errorInfo:t});oi.warn(e.message)}}function mx(i,t,e){dx();const a=i.options.appId;if(!a)throw Pi.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)oi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Pi.create("no-api-key");if(oc[a]!=null)throw Pi.create("already-exists",{id:a});if(!h0){$C(Ym);const{wrappedGtag:h,gtagCore:m}=XC(oc,l0,u0,Ym,fx);UE=h,c0=m,h0=!0}return oc[a]=cx(i,l0,u0,t,c0,Ym,e),new hx(i)}function px(i=Jp()){i=jn(i);const t=$o(i,uf);return t.isInitialized()?t.getImmediate():gx(i)}function gx(i,t={}){const e=$o(i,uf);if(e.isInitialized()){const l=e.getImmediate();if(ja(t,e.getOptions()))return l;throw Pi.create("already-initialized")}return e.initialize({options:t})}async function _x(){if(Yp()||!hE()||!Qp())return!1;try{return await Xp()}catch{return!1}}function yx(i,t,e,a){i=jn(i),lx(UE,oc[i.app.options.appId],t,e,a).catch(l=>oi.error(l))}const f0="@firebase/analytics",d0="0.10.16";function vx(){Yr(new wr(uf,(t,{options:e})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("installations-internal").getImmediate();return mx(a,l,e)},"PUBLIC")),Yr(new wr("analytics-internal",i,"PRIVATE")),Ji(f0,d0),Ji(f0,d0,"esm2017");function i(t){try{const e=t.getProvider(uf).getImmediate();return{logEvent:(a,l,h)=>yx(e,a,l,h)}}catch(e){throw Pi.create("interop-component-reg-failed",{reason:e})}}}vx();function sg(i,t){var e={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&t.indexOf(a)<0&&(e[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(i);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(i,a[l])&&(e[a[l]]=i[a[l]]);return e}function BE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Tx=BE,HE=new Zo("auth","Firebase",BE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cf=new Nf("@firebase/auth");function Ex(i,...t){cf.logLevel<=ne.WARN&&cf.warn(`Auth (${nu}): ${i}`,...t)}function Kh(i,...t){cf.logLevel<=ne.ERROR&&cf.error(`Auth (${nu}): ${i}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(i,...t){throw ag(i,...t)}function Gr(i,...t){return ag(i,...t)}function qE(i,t,e){const a=Object.assign(Object.assign({},Tx()),{[t]:e});return new Zo("auth","Firebase",a).create(t,{appName:i.name})}function Ua(i){return qE(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ag(i,...t){if(typeof i!="string"){const e=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=i.name),i._errorFactory.create(e,...a)}return HE.create(i,...t)}function Ht(i,t,...e){if(!i)throw ag(t,...e)}function As(i){const t="INTERNAL ASSERTION FAILED: "+i;throw Kh(t),new Error(t)}function Os(i,t){i||As(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function wx(){return m0()==="http:"||m0()==="https:"}function m0(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wx()||Yp()||"connection"in navigator)?navigator.onLine:!0}function Ax(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(t,e){this.shortDelay=t,this.longDelay=e,Os(e>t,"Short delay should be less than long delay!"),this.isMobile=CI()||OI()}get(){return bx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(i,t){Os(i.emulator,"Emulator should always be set here");const{url:e}=i.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{static initialize(t,e,a){this.fetchImpl=t,e&&(this.headersImpl=e),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;As("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;As("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;As("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Rx=new Ic(3e4,6e4);function zf(i,t){return i.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:i.tenantId}):t}async function iu(i,t,e,a,l={}){return FE(i,l,async()=>{let h={},m={};a&&(t==="GET"?m=a:h={body:JSON.stringify(a)});const y=Sc(Object.assign({key:i.config.apiKey},m)).slice(1),v=await i._getAdditionalHeaders();v["Content-Type"]="application/json",i.languageCode&&(v["X-Firebase-Locale"]=i.languageCode);const T=Object.assign({method:t,headers:v},h);return PI()||(T.referrerPolicy="no-referrer"),i.emulatorConfig&&eu(i.emulatorConfig.host)&&(T.credentials="include"),jE.fetch()(await ZE(i,i.config.apiHost,e,y),T)})}async function FE(i,t,e){i._canInitEmulator=!1;const a=Object.assign(Object.assign({},Sx),t);try{const l=new Cx(i),h=await Promise.race([e(),l.promise]);l.clearNetworkTimeout();const m=await h.json();if("needConfirmation"in m)throw Uh(i,"account-exists-with-different-credential",m);if(h.ok&&!("errorMessage"in m))return m;{const y=h.ok?m.errorMessage:m.error.message,[v,T]=y.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uh(i,"credential-already-in-use",m);if(v==="EMAIL_EXISTS")throw Uh(i,"email-already-in-use",m);if(v==="USER_DISABLED")throw Uh(i,"user-disabled",m);const S=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(T)throw qE(i,S,T);Ps(i,S)}}catch(l){if(l instanceof Ar)throw l;Ps(i,"network-request-failed",{message:String(l)})}}async function GE(i,t,e,a,l={}){const h=await iu(i,t,e,a,l);return"mfaPendingCredential"in h&&Ps(i,"multi-factor-auth-required",{_serverResponse:h}),h}async function ZE(i,t,e,a){const l=`${t}${e}?${a}`,h=i,m=h.config.emulator?og(i.config,l):`${i.config.apiScheme}://${l}`;return Ix.includes(e)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(m).toString():m}class Cx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,a)=>{this.timer=setTimeout(()=>a(Gr(this.auth,"network-request-failed")),Rx.get())})}}function Uh(i,t,e){const a={appName:i.name};e.email&&(a.email=e.email),e.phoneNumber&&(a.phoneNumber=e.phoneNumber);const l=Gr(i,t,a);return l.customData._tokenResponse=e,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xx(i,t){return iu(i,"POST","/v1/accounts:delete",t)}async function hf(i,t){return iu(i,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Px(i,t=!1){const e=jn(i),a=await e.getIdToken(t),l=lg(a);Ht(l&&l.exp&&l.auth_time&&l.iat,e.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,m=h==null?void 0:h.sign_in_provider;return{claims:l,token:a,authTime:lc(Qm(l.auth_time)),issuedAtTime:lc(Qm(l.iat)),expirationTime:lc(Qm(l.exp)),signInProvider:m||null,signInSecondFactor:(h==null?void 0:h.sign_in_second_factor)||null}}function Qm(i){return Number(i)*1e3}function lg(i){const[t,e,a]=i.split(".");if(t===void 0||e===void 0||a===void 0)return Kh("JWT malformed, contained fewer than 3 sections"),null;try{const l=sE(e);return l?JSON.parse(l):(Kh("Failed to decode base64 JWT payload"),null)}catch(l){return Kh("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function p0(i){const t=lg(i);return Ht(t,"internal-error"),Ht(typeof t.exp<"u","internal-error"),Ht(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pc(i,t,e=!1){if(e)return t;try{return await t}catch(a){throw a instanceof Ar&&Ox(a)&&i.auth.currentUser===i&&await i.auth.signOut(),a}}function Ox({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const l=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=lc(this.lastLoginAt),this.creationTime=lc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ff(i){var t;const e=i.auth,a=await i.getIdToken(),l=await pc(i,hf(e,{idToken:a}));Ht(l==null?void 0:l.users.length,e,"internal-error");const h=l.users[0];i._notifyReloadListener(h);const m=!((t=h.providerUserInfo)===null||t===void 0)&&t.length?$E(h.providerUserInfo):[],y=Dx(i.providerData,m),v=i.isAnonymous,T=!(i.email&&h.passwordHash)&&!(y!=null&&y.length),S=v?T:!1,C={uid:h.localId,displayName:h.displayName||null,photoURL:h.photoUrl||null,email:h.email||null,emailVerified:h.emailVerified||!1,phoneNumber:h.phoneNumber||null,tenantId:h.tenantId||null,providerData:y,metadata:new hp(h.createdAt,h.lastLoginAt),isAnonymous:S};Object.assign(i,C)}async function Mx(i){const t=jn(i);await ff(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Dx(i,t){return[...i.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function $E(i){return i.map(t=>{var{providerId:e}=t,a=sg(t,["providerId"]);return{providerId:e,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nx(i,t){const e=await FE(i,{},async()=>{const a=Sc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=i.config,m=await ZE(i,l,"/v1/token",`key=${h}`),y=await i._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:y,body:a};return i.emulatorConfig&&eu(i.emulatorConfig.host)&&(v.credentials="include"),jE.fetch()(m,v)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function kx(i,t){return iu(i,"POST","/v2/accounts:revokeToken",zf(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ht(t.idToken,"internal-error"),Ht(typeof t.idToken<"u","internal-error"),Ht(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):p0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Ht(t.length!==0,"internal-error");const e=p0(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Ht(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:a,refreshToken:l,expiresIn:h}=await Nx(t,e);this.updateTokensAndExpiration(a,l,Number(h))}updateTokensAndExpiration(t,e,a){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,e){const{refreshToken:a,accessToken:l,expirationTime:h}=e,m=new jl;return a&&(Ht(typeof a=="string","internal-error",{appName:t}),m.refreshToken=a),l&&(Ht(typeof l=="string","internal-error",{appName:t}),m.accessToken=l),h&&(Ht(typeof h=="number","internal-error",{appName:t}),m.expirationTime=h),m}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new jl,this.toJSON())}_performRefresh(){return As("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oa(i,t){Ht(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class Tr{constructor(t){var{uid:e,auth:a,stsTokenManager:l}=t,h=sg(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Lx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=a,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=h.displayName||null,this.email=h.email||null,this.emailVerified=h.emailVerified||!1,this.phoneNumber=h.phoneNumber||null,this.photoURL=h.photoURL||null,this.isAnonymous=h.isAnonymous||!1,this.tenantId=h.tenantId||null,this.providerData=h.providerData?[...h.providerData]:[],this.metadata=new hp(h.createdAt||void 0,h.lastLoginAt||void 0)}async getIdToken(t){const e=await pc(this,this.stsTokenManager.getToken(this.auth,t));return Ht(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return Px(this,t)}reload(){return Mx(this)}_assign(t){this!==t&&(Ht(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Tr(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){Ht(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),e&&await ff(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vr(this.auth.app))return Promise.reject(Ua(this.auth));const t=await this.getIdToken();return await pc(this,xx(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var a,l,h,m,y,v,T,S;const C=(a=e.displayName)!==null&&a!==void 0?a:void 0,P=(l=e.email)!==null&&l!==void 0?l:void 0,U=(h=e.phoneNumber)!==null&&h!==void 0?h:void 0,q=(m=e.photoURL)!==null&&m!==void 0?m:void 0,Z=(y=e.tenantId)!==null&&y!==void 0?y:void 0,W=(v=e._redirectEventId)!==null&&v!==void 0?v:void 0,st=(T=e.createdAt)!==null&&T!==void 0?T:void 0,J=(S=e.lastLoginAt)!==null&&S!==void 0?S:void 0,{uid:it,emailVerified:_t,isAnonymous:Tt,providerData:xt,stsTokenManager:V}=e;Ht(it&&V,t,"internal-error");const O=jl.fromJSON(this.name,V);Ht(typeof it=="string",t,"internal-error"),Oa(C,t.name),Oa(P,t.name),Ht(typeof _t=="boolean",t,"internal-error"),Ht(typeof Tt=="boolean",t,"internal-error"),Oa(U,t.name),Oa(q,t.name),Oa(Z,t.name),Oa(W,t.name),Oa(st,t.name),Oa(J,t.name);const M=new Tr({uid:it,auth:t,email:P,emailVerified:_t,displayName:C,isAnonymous:Tt,photoURL:q,phoneNumber:U,tenantId:Z,stsTokenManager:O,createdAt:st,lastLoginAt:J});return xt&&Array.isArray(xt)&&(M.providerData=xt.map(B=>Object.assign({},B))),W&&(M._redirectEventId=W),M}static async _fromIdTokenResponse(t,e,a=!1){const l=new jl;l.updateFromServerResponse(e);const h=new Tr({uid:e.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await ff(h),h}static async _fromGetAccountInfoResponse(t,e,a){const l=e.users[0];Ht(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?$E(l.providerUserInfo):[],m=!(l.email&&l.passwordHash)&&!(h!=null&&h.length),y=new jl;y.updateFromIdToken(a);const v=new Tr({uid:l.localId,auth:t,stsTokenManager:y,isAnonymous:m}),T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new hp(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(h!=null&&h.length)};return Object.assign(v,T),v}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0=new Map;function Ss(i){Os(i instanceof Function,"Expected a class definition");let t=g0.get(i);return t?(Os(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,g0.set(i,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}KE.type="NONE";const _0=KE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(i,t,e){return`firebase:${i}:${t}:${e}`}class Fl{constructor(t,e,a){this.persistence=t,this.auth=e,this.userKey=a;const{config:l,name:h}=this.auth;this.fullUserKey=Yh(this.userKey,l.apiKey,h),this.fullPersistenceKey=Yh("persistence",l.apiKey,h),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await hf(this.auth,{idToken:t}).catch(()=>{});return e?Tr._fromGetAccountInfoResponse(this.auth,e,t):null}return Tr._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,a="authUser"){if(!e.length)return new Fl(Ss(_0),t,a);const l=(await Promise.all(e.map(async T=>{if(await T._isAvailable())return T}))).filter(T=>T);let h=l[0]||Ss(_0);const m=Yh(a,t.config.apiKey,t.name);let y=null;for(const T of e)try{const S=await T._get(m);if(S){let C;if(typeof S=="string"){const P=await hf(t,{idToken:S}).catch(()=>{});if(!P)break;C=await Tr._fromGetAccountInfoResponse(t,P,S)}else C=Tr._fromJSON(t,S);T!==h&&(y=C),h=T;break}}catch{}const v=l.filter(T=>T._shouldAllowMigration);return!h._shouldAllowMigration||!v.length?new Fl(h,t,a):(h=v[0],y&&await h._set(m,y.toJSON()),await Promise.all(e.map(async T=>{if(T!==h)try{await T._remove(m)}catch{}})),new Fl(h,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(WE(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(YE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(tw(t))return"Blackberry";if(ew(t))return"Webos";if(QE(t))return"Safari";if((t.includes("chrome/")||XE(t))&&!t.includes("edge/"))return"Chrome";if(JE(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=i.match(e);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function YE(i=qn()){return/firefox\//i.test(i)}function QE(i=qn()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function XE(i=qn()){return/crios\//i.test(i)}function WE(i=qn()){return/iemobile/i.test(i)}function JE(i=qn()){return/android/i.test(i)}function tw(i=qn()){return/blackberry/i.test(i)}function ew(i=qn()){return/webos/i.test(i)}function ug(i=qn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function Vx(i=qn()){var t;return ug(i)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function zx(){return LI()&&document.documentMode===10}function nw(i=qn()){return ug(i)||JE(i)||ew(i)||tw(i)||/windows phone/i.test(i)||WE(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(i,t=[]){let e;switch(i){case"Browser":e=y0(qn());break;case"Worker":e=`${y0(qn())}-${i}`;break;default:e=i}const a=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${nu}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const a=h=>new Promise((m,y)=>{try{const v=t(h);m(v)}catch(v){y(v)}});a.onAbort=e,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const a of this.queue)await a(t),a.onAbort&&e.push(a.onAbort)}catch(a){e.reverse();for(const l of e)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bx(i,t={}){return iu(i,"GET","/v2/passwordPolicy",zf(i,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx=6;class qx{constructor(t){var e,a,l,h;const m=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=m.minPasswordLength)!==null&&e!==void 0?e:Hx,m.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=m.maxPasswordLength),m.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=m.containsLowercaseCharacter),m.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=m.containsUppercaseCharacter),m.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=m.containsNumericCharacter),m.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=m.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(a=t.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(h=t.forceUpgradeOnSignin)!==null&&h!==void 0?h:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,a,l,h,m,y;const v={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,v),this.validatePasswordCharacterOptions(t,v),v.isValid&&(v.isValid=(e=v.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),v.isValid&&(v.isValid=(a=v.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),v.isValid&&(v.isValid=(l=v.containsLowercaseLetter)!==null&&l!==void 0?l:!0),v.isValid&&(v.isValid=(h=v.containsUppercaseLetter)!==null&&h!==void 0?h:!0),v.isValid&&(v.isValid=(m=v.containsNumericCharacter)!==null&&m!==void 0?m:!0),v.isValid&&(v.isValid=(y=v.containsNonAlphanumericCharacter)!==null&&y!==void 0?y:!0),v}validatePasswordLengthOptions(t,e){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(e.meetsMinPasswordLength=t.length>=a),l&&(e.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(e,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,e,a,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(t,e,a,l){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new v0(this),this.idTokenSubscription=new v0(this),this.beforeStateQueue=new Ux(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=HE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Ss(e)),this._initializationPromise=this.queue(async()=>{var a,l,h;if(!this._deleted&&(this.persistenceManager=await Fl.create(this,t),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((h=this.currentUser)===null||h===void 0?void 0:h.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await hf(this,{idToken:t}),a=await Tr._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(a)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(vr(this.app)){const m=this.app.settings.authIdToken;return m?new Promise(y=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(m).then(y,y))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let l=a,h=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const m=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,y=l==null?void 0:l._redirectEventId,v=await this.tryRedirectSignIn(t);(!m||m===y)&&(v!=null&&v.user)&&(l=v.user,h=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(h)try{await this.beforeStateQueue.runMiddleware(l)}catch(m){l=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(m))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return Ht(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await ff(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Ax()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(vr(this.app))return Promise.reject(Ua(this));const e=t?jn(t):null;return e&&Ht(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Ht(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return vr(this.app)?Promise.reject(Ua(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return vr(this.app)?Promise.reject(Ua(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ss(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Bx(this),e=new qx(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Zo("auth","Firebase",t())}onAuthStateChanged(t,e,a){return this.registerStateListener(this.authStateSubscription,t,e,a)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,a){return this.registerStateListener(this.idTokenSubscription,t,e,a)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(a.tenantId=this.tenantId),await kx(this,a)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const a=await this.getOrInitRedirectPersistenceManager(e);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Ss(t)||this._popupRedirectResolver;Ht(e,this,"argument-error"),this.redirectPersistenceManager=await Fl.create(this,[Ss(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,a;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,a,l){if(this._deleted)return()=>{};const h=typeof e=="function"?e:e.next.bind(e);let m=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ht(y,this,"internal-error"),y.then(()=>{m||h(this.currentUser)}),typeof e=="function"){const v=t.addObserver(e,a,l);return()=>{m=!0,v()}}else{const v=t.addObserver(e);return()=>{m=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ht(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=iw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const a=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());a&&(e["X-Firebase-Client"]=a);const l=await this._getAppCheckToken();return l&&(e["X-Firebase-AppCheck"]=l),e}async _getAppCheckToken(){var t;if(vr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&Ex(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Uf(i){return jn(i)}class v0{constructor(t){this.auth=t,this.observer=null,this.addObserver=zI(e=>this.observer=e)}get next(){return Ht(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Fx(i){cg=i}function Gx(i){return cg.loadJS(i)}function Zx(){return cg.gapiScript}function $x(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(i,t){const e=$o(i,"auth");if(e.isInitialized()){const l=e.getImmediate(),h=e.getOptions();if(ja(h,t??{}))return l;Ps(l,"already-initialized")}return e.initialize({options:t})}function Yx(i,t){const e=(t==null?void 0:t.persistence)||[],a=(Array.isArray(e)?e:[e]).map(Ss);t!=null&&t.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(a,t==null?void 0:t.popupRedirectResolver)}function Qx(i,t,e){const a=Uf(i);Ht(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,h=rw(t),{host:m,port:y}=Xx(t),v=y===null?"":`:${y}`,T={url:`${h}//${m}${v}/`},S=Object.freeze({host:m,port:y,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Ht(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ht(ja(T,a.config.emulator)&&ja(S,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=T,a.emulatorConfig=S,a.settings.appVerificationDisabledForTesting=!0,eu(m)?(uE(`${h}//${m}${v}`),cE("Auth",!0)):Wx()}function rw(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function Xx(i){const t=rw(i),e=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!e)return{host:"",port:null};const a=e[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const h=l[1];return{host:h,port:T0(a.substr(h.length+1))}}else{const[h,m]=a.split(":");return{host:h,port:T0(m)}}}function T0(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function Wx(){function i(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return As("not implemented")}_getIdTokenResponse(t){return As("not implemented")}_linkToIdToken(t,e){return As("not implemented")}_getReauthenticationResolver(t){return As("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gl(i,t){return GE(i,"POST","/v1/accounts:signInWithIdp",zf(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="http://localhost";class Ho extends sw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Ho(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Ps("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l}=e,h=sg(e,["providerId","signInMethod"]);if(!a||!l)return null;const m=new Ho(a,l);return m.idToken=h.idToken||void 0,m.accessToken=h.accessToken||void 0,m.secret=h.secret,m.nonce=h.nonce,m.pendingToken=h.pendingToken||null,m}_getIdTokenResponse(t){const e=this.buildRequest();return Gl(t,e)}_linkToIdToken(t,e){const a=this.buildRequest();return a.idToken=e,Gl(t,a)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Gl(t,e)}buildRequest(){const t={requestUri:Jx,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Sc(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends aw{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La extends Rc{constructor(){super("facebook.com")}static credential(t){return Ho._fromParams({providerId:La.PROVIDER_ID,signInMethod:La.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return La.credentialFromTaggedObject(t)}static credentialFromError(t){return La.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return La.credential(t.oauthAccessToken)}catch{return null}}}La.FACEBOOK_SIGN_IN_METHOD="facebook.com";La.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma extends Rc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Ho._fromParams({providerId:Ma.PROVIDER_ID,signInMethod:Ma.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Ma.credentialFromTaggedObject(t)}static credentialFromError(t){return Ma.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:a}=t;if(!e&&!a)return null;try{return Ma.credential(e,a)}catch{return null}}}Ma.GOOGLE_SIGN_IN_METHOD="google.com";Ma.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da extends Rc{constructor(){super("github.com")}static credential(t){return Ho._fromParams({providerId:Da.PROVIDER_ID,signInMethod:Da.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Da.credentialFromTaggedObject(t)}static credentialFromError(t){return Da.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Da.credential(t.oauthAccessToken)}catch{return null}}}Da.GITHUB_SIGN_IN_METHOD="github.com";Da.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends Rc{constructor(){super("twitter.com")}static credential(t,e){return Ho._fromParams({providerId:Na.PROVIDER_ID,signInMethod:Na.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Na.credentialFromTaggedObject(t)}static credentialFromError(t){return Na.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:a}=t;if(!e||!a)return null;try{return Na.credential(e,a)}catch{return null}}}Na.TWITTER_SIGN_IN_METHOD="twitter.com";Na.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t2(i,t){return GE(i,"POST","/v1/accounts:signUp",zf(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,a,l=!1){const h=await Tr._fromIdTokenResponse(t,a,l),m=E0(a);return new Fa({user:h,providerId:m,_tokenResponse:a,operationType:e})}static async _forOperation(t,e,a){await t._updateTokensIfNecessary(a,!0);const l=E0(a);return new Fa({user:t,providerId:l,_tokenResponse:a,operationType:e})}}function E0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e2(i){var t;if(vr(i.app))return Promise.reject(Ua(i));const e=Uf(i);if(await e._initializationPromise,!((t=e.currentUser)===null||t===void 0)&&t.isAnonymous)return new Fa({user:e.currentUser,providerId:null,operationType:"signIn"});const a=await t2(e,{returnSecureToken:!0}),l=await Fa._fromIdTokenResponse(e,"signIn",a,!0);return await e._updateCurrentUser(l.user),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df extends Ar{constructor(t,e,a,l){var h;super(e.code,e.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,df.prototype),this.customData={appName:t.name,tenantId:(h=t.tenantId)!==null&&h!==void 0?h:void 0,_serverResponse:e.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,e,a,l){return new df(t,e,a,l)}}function ow(i,t,e,a){return(t==="reauthenticate"?e._getReauthenticationResolver(i):e._getIdTokenResponse(i)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?df._fromErrorAndOperation(i,h,t,a):h})}async function n2(i,t,e=!1){const a=await pc(i,t._linkToIdToken(i.auth,await i.getIdToken()),e);return Fa._forOperation(i,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i2(i,t,e=!1){const{auth:a}=i;if(vr(a.app))return Promise.reject(Ua(a));const l="reauthenticate";try{const h=await pc(i,ow(a,l,t,i),e);Ht(h.idToken,a,"internal-error");const m=lg(h.idToken);Ht(m,a,"internal-error");const{sub:y}=m;return Ht(i.uid===y,a,"user-mismatch"),Fa._forOperation(i,l,h)}catch(h){throw(h==null?void 0:h.code)==="auth/user-not-found"&&Ps(a,"user-mismatch"),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r2(i,t,e=!1){if(vr(i.app))return Promise.reject(Ua(i));const a="signIn",l=await ow(i,a,t),h=await Fa._fromIdTokenResponse(i,a,l);return e||await i._updateCurrentUser(h.user),h}function s2(i,t,e,a){return jn(i).onIdTokenChanged(t,e,a)}function a2(i,t,e){return jn(i).beforeAuthStateChanged(t,e)}function o2(i,t,e,a){return jn(i).onAuthStateChanged(t,e,a)}const mf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(mf,"1"),this.storage.removeItem(mf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=1e3,u2=10;class uw extends lw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nw(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const a=this.storage.getItem(e),l=this.localCache[e];a!==l&&t(e,l,a)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((m,y,v)=>{this.notifyListeners(m,v)});return}const a=t.key;e?this.detachListener():this.stopPolling();const l=()=>{const m=this.storage.getItem(a);!e&&this.localCache[a]===m||this.notifyListeners(a,m)},h=this.storage.getItem(a);zx()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,u2):l()}notifyListeners(t,e){this.localCache[t]=e;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:a}),!0)})},l2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}uw.type="LOCAL";const c2=uw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw extends lw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}cw.type="SESSION";const hw=cw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(l=>l.isListeningto(t));if(e)return e;const a=new Bf(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:a,eventType:l,data:h}=e.data,m=this.handlersMap[l];if(!(m!=null&&m.size))return;e.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const y=Array.from(m).map(async T=>T(e.origin,h)),v=await h2(y);e.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:v})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(i="",t=10){let e="";for(let a=0;a<t;a++)e+=Math.floor(Math.random()*10);return i+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,m;return new Promise((y,v)=>{const T=hg("",20);l.port1.start();const S=setTimeout(()=>{v(new Error("unsupported_event"))},a);m={messageChannel:l,onMessage(C){const P=C;if(P.data.eventId===T)switch(P.data.status){case"ack":clearTimeout(S),h=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),y(P.data.response);break;default:clearTimeout(S),clearTimeout(h),v(new Error("invalid_response"));break}}},this.handlers.add(m),l.port1.addEventListener("message",m.onMessage),this.target.postMessage({eventType:t,eventId:T,data:e},[l.port2])}).finally(()=>{m&&this.removeMessageHandler(m)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(){return window}function d2(i){Zr().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(){return typeof Zr().WorkerGlobalScope<"u"&&typeof Zr().importScripts=="function"}async function m2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function p2(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function g2(){return fw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="firebaseLocalStorageDb",_2=1,pf="firebaseLocalStorage",mw="fbase_key";class Cc{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Hf(i,t){return i.transaction([pf],t?"readwrite":"readonly").objectStore(pf)}function y2(){const i=indexedDB.deleteDatabase(dw);return new Cc(i).toPromise()}function fp(){const i=indexedDB.open(dw,_2);return new Promise((t,e)=>{i.addEventListener("error",()=>{e(i.error)}),i.addEventListener("upgradeneeded",()=>{const a=i.result;try{a.createObjectStore(pf,{keyPath:mw})}catch(l){e(l)}}),i.addEventListener("success",async()=>{const a=i.result;a.objectStoreNames.contains(pf)?t(a):(a.close(),await y2(),t(await fp()))})})}async function w0(i,t,e){const a=Hf(i,!0).put({[mw]:t,value:e});return new Cc(a).toPromise()}async function v2(i,t){const e=Hf(i,!1).get(t),a=await new Cc(e).toPromise();return a===void 0?null:a.value}function b0(i,t){const e=Hf(i,!0).delete(t);return new Cc(e).toPromise()}const T2=800,E2=3;class pw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fp(),this.db)}async _withRetries(t){let e=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(e++>E2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bf._getInstance(g2()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await m2(),!this.activeServiceWorker)return;this.sender=new f2(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((t=a[0])===null||t===void 0)&&t.fulfilled&&!((e=a[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||p2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await fp();return await w0(t,mf,"1"),await b0(t,mf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(a=>w0(a,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(a=>v2(a,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>b0(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=Hf(l,!1).getAll();return new Cc(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),e.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),e.push(l));return e}notifyListeners(t,e){this.localCache[t]=e;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),T2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pw.type="LOCAL";const w2=pw;new Ic(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(i,t){return t?Ss(t):(Ht(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg extends sw{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Gl(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Gl(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Gl(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function A2(i){return r2(i.auth,new fg(i),i.bypassAuthState)}function S2(i){const{auth:t,user:e}=i;return Ht(e,t,"internal-error"),i2(e,new fg(i),i.bypassAuthState)}async function I2(i){const{auth:t,user:e}=i;return Ht(e,t,"internal-error"),n2(e,new fg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(t,e,a,l,h=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:a,postBody:l,tenantId:h,error:m,type:y}=t;if(m){this.reject(m);return}const v={auth:this.auth,requestUri:e,sessionId:a,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(v))}catch(T){this.reject(T)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return A2;case"linkViaPopup":case"linkViaRedirect":return I2;case"reauthViaPopup":case"reauthViaRedirect":return S2;default:Ps(this.auth,"internal-error")}}resolve(t){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=new Ic(2e3,1e4);class ql extends gw{constructor(t,e,a,l,h){super(t,e,l,h),this.provider=a,this.authWindow=null,this.pollId=null,ql.currentPopupAction&&ql.currentPopupAction.cancel(),ql.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ht(t,this.auth,"internal-error"),t}async onExecution(){Os(this.filter.length===1,"Popup operations only handle one event");const t=hg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ql.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,a;if(!((a=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,R2.get())};t()}}ql.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2="pendingRedirect",Qh=new Map;class x2 extends gw{constructor(t,e,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,a),this.eventId=null}async execute(){let t=Qh.get(this.auth._key());if(!t){try{const a=await P2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(e){t=()=>Promise.reject(e)}Qh.set(this.auth._key(),t)}return this.bypassAuthState||Qh.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function P2(i,t){const e=M2(t),a=L2(i);if(!await a._isAvailable())return!1;const l=await a._get(e)==="true";return await a._remove(e),l}function O2(i,t){Qh.set(i._key(),t)}function L2(i){return Ss(i._redirectPersistence)}function M2(i){return Yh(C2,i.config.apiKey,i.name)}async function D2(i,t,e=!1){if(vr(i.app))return Promise.reject(Ua(i));const a=Uf(i),l=b2(a,t),m=await new x2(a,l,e).execute();return m&&!e&&(delete m.user._redirectEventId,await a._persistUserIfCurrent(m.user),await a._setRedirectUser(null,t)),m}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=10*60*1e3;class k2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(e=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!V2(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var a;if(t.error&&!_w(t)){const l=((a=t.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";e.onError(Gr(this.auth,l))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const a=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=N2&&this.cachedEventUids.clear(),this.cachedEventUids.has(A0(t))}saveEventToCache(t){this.cachedEventUids.add(A0(t)),this.lastProcessedEventTime=Date.now()}}function A0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function _w({type:i,error:t}){return i==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function V2(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _w(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z2(i,t={}){return iu(i,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,B2=/^https?/;async function H2(i){if(i.config.emulator)return;const{authorizedDomains:t}=await z2(i);for(const e of t)try{if(q2(e))return}catch{}Ps(i,"unauthorized-domain")}function q2(i){const t=cp(),{protocol:e,hostname:a}=new URL(t);if(i.startsWith("chrome-extension://")){const m=new URL(i);return m.hostname===""&&a===""?e==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&m.hostname===a}if(!B2.test(e))return!1;if(U2.test(i))return a===i;const l=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=new Ic(3e4,6e4);function S0(){const i=Zr().___jsl;if(i!=null&&i.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let e=0;e<i.CP.length;e++)i.CP[e]=null}}function F2(i){return new Promise((t,e)=>{var a,l,h;function m(){S0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{S0(),e(Gr(i,"network-request-failed"))},timeout:j2.get()})}if(!((l=(a=Zr().gapi)===null||a===void 0?void 0:a.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((h=Zr().gapi)===null||h===void 0)&&h.load)m();else{const y=$x("iframefcb");return Zr()[y]=()=>{gapi.load?m():e(Gr(i,"network-request-failed"))},Gx(`${Zx()}?onload=${y}`).catch(v=>e(v))}}).catch(t=>{throw Xh=null,t})}let Xh=null;function G2(i){return Xh=Xh||F2(i),Xh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=new Ic(5e3,15e3),$2="__/auth/iframe",K2="emulator/auth/iframe",Y2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Q2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function X2(i){const t=i.config;Ht(t.authDomain,i,"auth-domain-config-required");const e=t.emulator?og(t,K2):`https://${i.config.authDomain}/${$2}`,a={apiKey:t.apiKey,appName:i.name,v:nu},l=Q2.get(i.config.apiHost);l&&(a.eid=l);const h=i._getFrameworks();return h.length&&(a.fw=h.join(",")),`${e}?${Sc(a).slice(1)}`}async function W2(i){const t=await G2(i),e=Zr().gapi;return Ht(e,i,"internal-error"),t.open({where:document.body,url:X2(i),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Y2,dontclear:!0},a=>new Promise(async(l,h)=>{await a.restyle({setHideOnLeave:!1});const m=Gr(i,"network-request-failed"),y=Zr().setTimeout(()=>{h(m)},Z2.get());function v(){Zr().clearTimeout(y),l(a)}a.ping(v).then(v,()=>{h(m)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tP=500,eP=600,nP="_blank",iP="http://localhost";class I0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function rP(i,t,e,a=tP,l=eP){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),m=Math.max((window.screen.availWidth-a)/2,0).toString();let y="";const v=Object.assign(Object.assign({},J2),{width:a.toString(),height:l.toString(),top:h,left:m}),T=qn().toLowerCase();e&&(y=XE(T)?nP:e),YE(T)&&(t=t||iP,v.scrollbars="yes");const S=Object.entries(v).reduce((P,[U,q])=>`${P}${U}=${q},`,"");if(Vx(T)&&y!=="_self")return sP(t||"",y),new I0(null);const C=window.open(t||"",y,S);Ht(C,i,"popup-blocked");try{C.focus()}catch{}return new I0(C)}function sP(i,t){const e=document.createElement("a");e.href=i,e.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP="__/auth/handler",oP="emulator/auth/handler",lP=encodeURIComponent("fac");async function R0(i,t,e,a,l,h){Ht(i.config.authDomain,i,"auth-domain-config-required"),Ht(i.config.apiKey,i,"invalid-api-key");const m={apiKey:i.config.apiKey,appName:i.name,authType:e,redirectUrl:a,v:nu,eventId:l};if(t instanceof aw){t.setDefaultLanguage(i.languageCode),m.providerId=t.providerId||"",VI(t.getCustomParameters())||(m.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,C]of Object.entries({}))m[S]=C}if(t instanceof Rc){const S=t.getScopes().filter(C=>C!=="");S.length>0&&(m.scopes=S.join(","))}i.tenantId&&(m.tid=i.tenantId);const y=m;for(const S of Object.keys(y))y[S]===void 0&&delete y[S];const v=await i._getAppCheckToken(),T=v?`#${lP}=${encodeURIComponent(v)}`:"";return`${uP(i)}?${Sc(y).slice(1)}${T}`}function uP({config:i}){return i.emulator?og(i,oP):`https://${i.authDomain}/${aP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="webStorageSupport";class cP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hw,this._completeRedirectFn=D2,this._overrideRedirectResult=O2}async _openPopup(t,e,a,l){var h;Os((h=this.eventManagers[t._key()])===null||h===void 0?void 0:h.manager,"_initialize() not called before _openPopup()");const m=await R0(t,e,a,cp(),l);return rP(t,m,hg())}async _openRedirect(t,e,a,l){await this._originValidation(t);const h=await R0(t,e,a,cp(),l);return d2(h),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:l,promise:h}=this.eventManagers[e];return l?Promise.resolve(l):(Os(h,"If manager is not set, promise should be"),h)}const a=this.initAndGetManager(t);return this.eventManagers[e]={promise:a},a.catch(()=>{delete this.eventManagers[e]}),a}async initAndGetManager(t){const e=await W2(t),a=new k2(t);return e.register("authEvent",l=>(Ht(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=e,a}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Xm,{type:Xm},l=>{var h;const m=(h=l==null?void 0:l[0])===null||h===void 0?void 0:h[Xm];m!==void 0&&e(!!m),Ps(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=H2(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return nw()||QE()||ug()}}const hP=cP;var C0="@firebase/auth",x0="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(a=>{t((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Ht(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dP(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function mP(i){Yr(new wr("auth",(t,{options:e})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:m,authDomain:y}=a.options;Ht(m&&!m.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:m,authDomain:y,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iw(i)},T=new jx(a,l,h,v);return Yx(T,e),T},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,a)=>{t.getProvider("auth-internal").initialize()})),Yr(new wr("auth-internal",t=>{const e=Uf(t.getProvider("auth").getImmediate());return(a=>new fP(a))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ji(C0,x0,dP(i)),Ji(C0,x0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=5*60,gP=lE("authIdTokenMaxAge")||pP;let P0=null;const _P=i=>async t=>{const e=t&&await t.getIdTokenResult(),a=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(a&&a>gP)return;const l=e==null?void 0:e.token;P0!==l&&(P0=l,await fetch(i,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function yP(i=Jp()){const t=$o(i,"auth");if(t.isInitialized())return t.getImmediate();const e=Kx(i,{popupRedirectResolver:hP,persistence:[w2,c2,hw]}),a=lE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(a,location.origin);if(location.origin===h.origin){const m=_P(h.toString());a2(e,m,()=>m(e.currentUser)),s2(e,y=>m(y))}}const l=aE("auth");return l&&Qx(e,`http://${l}`),e}function vP(){var i,t;return(t=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&t!==void 0?t:document}Fx({loadJS(i){return new Promise((t,e)=>{const a=document.createElement("script");a.setAttribute("src",i),a.onload=t,a.onerror=l=>{const h=Gr("internal-error");h.customData=l,e(h)},a.type="text/javascript",a.charset="UTF-8",vP().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});mP("Browser");var O0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ba,yw;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,O){function M(){}M.prototype=O.prototype,V.D=O.prototype,V.prototype=new M,V.prototype.constructor=V,V.C=function(B,H,F){for(var z=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)z[pe-2]=arguments[pe];return O.prototype[H].apply(B,z)}}function e(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,e),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(V,O,M){M||(M=0);var B=Array(16);if(typeof O=="string")for(var H=0;16>H;++H)B[H]=O.charCodeAt(M++)|O.charCodeAt(M++)<<8|O.charCodeAt(M++)<<16|O.charCodeAt(M++)<<24;else for(H=0;16>H;++H)B[H]=O[M++]|O[M++]<<8|O[M++]<<16|O[M++]<<24;O=V.g[0],M=V.g[1],H=V.g[2];var F=V.g[3],z=O+(F^M&(H^F))+B[0]+3614090360&4294967295;O=M+(z<<7&4294967295|z>>>25),z=F+(H^O&(M^H))+B[1]+3905402710&4294967295,F=O+(z<<12&4294967295|z>>>20),z=H+(M^F&(O^M))+B[2]+606105819&4294967295,H=F+(z<<17&4294967295|z>>>15),z=M+(O^H&(F^O))+B[3]+3250441966&4294967295,M=H+(z<<22&4294967295|z>>>10),z=O+(F^M&(H^F))+B[4]+4118548399&4294967295,O=M+(z<<7&4294967295|z>>>25),z=F+(H^O&(M^H))+B[5]+1200080426&4294967295,F=O+(z<<12&4294967295|z>>>20),z=H+(M^F&(O^M))+B[6]+2821735955&4294967295,H=F+(z<<17&4294967295|z>>>15),z=M+(O^H&(F^O))+B[7]+4249261313&4294967295,M=H+(z<<22&4294967295|z>>>10),z=O+(F^M&(H^F))+B[8]+1770035416&4294967295,O=M+(z<<7&4294967295|z>>>25),z=F+(H^O&(M^H))+B[9]+2336552879&4294967295,F=O+(z<<12&4294967295|z>>>20),z=H+(M^F&(O^M))+B[10]+4294925233&4294967295,H=F+(z<<17&4294967295|z>>>15),z=M+(O^H&(F^O))+B[11]+2304563134&4294967295,M=H+(z<<22&4294967295|z>>>10),z=O+(F^M&(H^F))+B[12]+1804603682&4294967295,O=M+(z<<7&4294967295|z>>>25),z=F+(H^O&(M^H))+B[13]+4254626195&4294967295,F=O+(z<<12&4294967295|z>>>20),z=H+(M^F&(O^M))+B[14]+2792965006&4294967295,H=F+(z<<17&4294967295|z>>>15),z=M+(O^H&(F^O))+B[15]+1236535329&4294967295,M=H+(z<<22&4294967295|z>>>10),z=O+(H^F&(M^H))+B[1]+4129170786&4294967295,O=M+(z<<5&4294967295|z>>>27),z=F+(M^H&(O^M))+B[6]+3225465664&4294967295,F=O+(z<<9&4294967295|z>>>23),z=H+(O^M&(F^O))+B[11]+643717713&4294967295,H=F+(z<<14&4294967295|z>>>18),z=M+(F^O&(H^F))+B[0]+3921069994&4294967295,M=H+(z<<20&4294967295|z>>>12),z=O+(H^F&(M^H))+B[5]+3593408605&4294967295,O=M+(z<<5&4294967295|z>>>27),z=F+(M^H&(O^M))+B[10]+38016083&4294967295,F=O+(z<<9&4294967295|z>>>23),z=H+(O^M&(F^O))+B[15]+3634488961&4294967295,H=F+(z<<14&4294967295|z>>>18),z=M+(F^O&(H^F))+B[4]+3889429448&4294967295,M=H+(z<<20&4294967295|z>>>12),z=O+(H^F&(M^H))+B[9]+568446438&4294967295,O=M+(z<<5&4294967295|z>>>27),z=F+(M^H&(O^M))+B[14]+3275163606&4294967295,F=O+(z<<9&4294967295|z>>>23),z=H+(O^M&(F^O))+B[3]+4107603335&4294967295,H=F+(z<<14&4294967295|z>>>18),z=M+(F^O&(H^F))+B[8]+1163531501&4294967295,M=H+(z<<20&4294967295|z>>>12),z=O+(H^F&(M^H))+B[13]+2850285829&4294967295,O=M+(z<<5&4294967295|z>>>27),z=F+(M^H&(O^M))+B[2]+4243563512&4294967295,F=O+(z<<9&4294967295|z>>>23),z=H+(O^M&(F^O))+B[7]+1735328473&4294967295,H=F+(z<<14&4294967295|z>>>18),z=M+(F^O&(H^F))+B[12]+2368359562&4294967295,M=H+(z<<20&4294967295|z>>>12),z=O+(M^H^F)+B[5]+4294588738&4294967295,O=M+(z<<4&4294967295|z>>>28),z=F+(O^M^H)+B[8]+2272392833&4294967295,F=O+(z<<11&4294967295|z>>>21),z=H+(F^O^M)+B[11]+1839030562&4294967295,H=F+(z<<16&4294967295|z>>>16),z=M+(H^F^O)+B[14]+4259657740&4294967295,M=H+(z<<23&4294967295|z>>>9),z=O+(M^H^F)+B[1]+2763975236&4294967295,O=M+(z<<4&4294967295|z>>>28),z=F+(O^M^H)+B[4]+1272893353&4294967295,F=O+(z<<11&4294967295|z>>>21),z=H+(F^O^M)+B[7]+4139469664&4294967295,H=F+(z<<16&4294967295|z>>>16),z=M+(H^F^O)+B[10]+3200236656&4294967295,M=H+(z<<23&4294967295|z>>>9),z=O+(M^H^F)+B[13]+681279174&4294967295,O=M+(z<<4&4294967295|z>>>28),z=F+(O^M^H)+B[0]+3936430074&4294967295,F=O+(z<<11&4294967295|z>>>21),z=H+(F^O^M)+B[3]+3572445317&4294967295,H=F+(z<<16&4294967295|z>>>16),z=M+(H^F^O)+B[6]+76029189&4294967295,M=H+(z<<23&4294967295|z>>>9),z=O+(M^H^F)+B[9]+3654602809&4294967295,O=M+(z<<4&4294967295|z>>>28),z=F+(O^M^H)+B[12]+3873151461&4294967295,F=O+(z<<11&4294967295|z>>>21),z=H+(F^O^M)+B[15]+530742520&4294967295,H=F+(z<<16&4294967295|z>>>16),z=M+(H^F^O)+B[2]+3299628645&4294967295,M=H+(z<<23&4294967295|z>>>9),z=O+(H^(M|~F))+B[0]+4096336452&4294967295,O=M+(z<<6&4294967295|z>>>26),z=F+(M^(O|~H))+B[7]+1126891415&4294967295,F=O+(z<<10&4294967295|z>>>22),z=H+(O^(F|~M))+B[14]+2878612391&4294967295,H=F+(z<<15&4294967295|z>>>17),z=M+(F^(H|~O))+B[5]+4237533241&4294967295,M=H+(z<<21&4294967295|z>>>11),z=O+(H^(M|~F))+B[12]+1700485571&4294967295,O=M+(z<<6&4294967295|z>>>26),z=F+(M^(O|~H))+B[3]+2399980690&4294967295,F=O+(z<<10&4294967295|z>>>22),z=H+(O^(F|~M))+B[10]+4293915773&4294967295,H=F+(z<<15&4294967295|z>>>17),z=M+(F^(H|~O))+B[1]+2240044497&4294967295,M=H+(z<<21&4294967295|z>>>11),z=O+(H^(M|~F))+B[8]+1873313359&4294967295,O=M+(z<<6&4294967295|z>>>26),z=F+(M^(O|~H))+B[15]+4264355552&4294967295,F=O+(z<<10&4294967295|z>>>22),z=H+(O^(F|~M))+B[6]+2734768916&4294967295,H=F+(z<<15&4294967295|z>>>17),z=M+(F^(H|~O))+B[13]+1309151649&4294967295,M=H+(z<<21&4294967295|z>>>11),z=O+(H^(M|~F))+B[4]+4149444226&4294967295,O=M+(z<<6&4294967295|z>>>26),z=F+(M^(O|~H))+B[11]+3174756917&4294967295,F=O+(z<<10&4294967295|z>>>22),z=H+(O^(F|~M))+B[2]+718787259&4294967295,H=F+(z<<15&4294967295|z>>>17),z=M+(F^(H|~O))+B[9]+3951481745&4294967295,V.g[0]=V.g[0]+O&4294967295,V.g[1]=V.g[1]+(H+(z<<21&4294967295|z>>>11))&4294967295,V.g[2]=V.g[2]+H&4294967295,V.g[3]=V.g[3]+F&4294967295}a.prototype.u=function(V,O){O===void 0&&(O=V.length);for(var M=O-this.blockSize,B=this.B,H=this.h,F=0;F<O;){if(H==0)for(;F<=M;)l(this,V,F),F+=this.blockSize;if(typeof V=="string"){for(;F<O;)if(B[H++]=V.charCodeAt(F++),H==this.blockSize){l(this,B),H=0;break}}else for(;F<O;)if(B[H++]=V[F++],H==this.blockSize){l(this,B),H=0;break}}this.h=H,this.o+=O},a.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var O=1;O<V.length-8;++O)V[O]=0;var M=8*this.o;for(O=V.length-8;O<V.length;++O)V[O]=M&255,M/=256;for(this.u(V),V=Array(16),O=M=0;4>O;++O)for(var B=0;32>B;B+=8)V[M++]=this.g[O]>>>B&255;return V};function h(V,O){var M=y;return Object.prototype.hasOwnProperty.call(M,V)?M[V]:M[V]=O(V)}function m(V,O){this.h=O;for(var M=[],B=!0,H=V.length-1;0<=H;H--){var F=V[H]|0;B&&F==O||(M[H]=F,B=!1)}this.g=M}var y={};function v(V){return-128<=V&&128>V?h(V,function(O){return new m([O|0],0>O?-1:0)}):new m([V|0],0>V?-1:0)}function T(V){if(isNaN(V)||!isFinite(V))return C;if(0>V)return W(T(-V));for(var O=[],M=1,B=0;V>=M;B++)O[B]=V/M|0,M*=4294967296;return new m(O,0)}function S(V,O){if(V.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(V.charAt(0)=="-")return W(S(V.substring(1),O));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=T(Math.pow(O,8)),B=C,H=0;H<V.length;H+=8){var F=Math.min(8,V.length-H),z=parseInt(V.substring(H,H+F),O);8>F?(F=T(Math.pow(O,F)),B=B.j(F).add(T(z))):(B=B.j(M),B=B.add(T(z)))}return B}var C=v(0),P=v(1),U=v(16777216);i=m.prototype,i.m=function(){if(Z(this))return-W(this).m();for(var V=0,O=1,M=0;M<this.g.length;M++){var B=this.i(M);V+=(0<=B?B:4294967296+B)*O,O*=4294967296}return V},i.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(q(this))return"0";if(Z(this))return"-"+W(this).toString(V);for(var O=T(Math.pow(V,6)),M=this,B="";;){var H=_t(M,O).g;M=st(M,H.j(O));var F=((0<M.g.length?M.g[0]:M.h)>>>0).toString(V);if(M=H,q(M))return F+B;for(;6>F.length;)F="0"+F;B=F+B}},i.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function q(V){if(V.h!=0)return!1;for(var O=0;O<V.g.length;O++)if(V.g[O]!=0)return!1;return!0}function Z(V){return V.h==-1}i.l=function(V){return V=st(this,V),Z(V)?-1:q(V)?0:1};function W(V){for(var O=V.g.length,M=[],B=0;B<O;B++)M[B]=~V.g[B];return new m(M,~V.h).add(P)}i.abs=function(){return Z(this)?W(this):this},i.add=function(V){for(var O=Math.max(this.g.length,V.g.length),M=[],B=0,H=0;H<=O;H++){var F=B+(this.i(H)&65535)+(V.i(H)&65535),z=(F>>>16)+(this.i(H)>>>16)+(V.i(H)>>>16);B=z>>>16,F&=65535,z&=65535,M[H]=z<<16|F}return new m(M,M[M.length-1]&-2147483648?-1:0)};function st(V,O){return V.add(W(O))}i.j=function(V){if(q(this)||q(V))return C;if(Z(this))return Z(V)?W(this).j(W(V)):W(W(this).j(V));if(Z(V))return W(this.j(W(V)));if(0>this.l(U)&&0>V.l(U))return T(this.m()*V.m());for(var O=this.g.length+V.g.length,M=[],B=0;B<2*O;B++)M[B]=0;for(B=0;B<this.g.length;B++)for(var H=0;H<V.g.length;H++){var F=this.i(B)>>>16,z=this.i(B)&65535,pe=V.i(H)>>>16,Ie=V.i(H)&65535;M[2*B+2*H]+=z*Ie,J(M,2*B+2*H),M[2*B+2*H+1]+=F*Ie,J(M,2*B+2*H+1),M[2*B+2*H+1]+=z*pe,J(M,2*B+2*H+1),M[2*B+2*H+2]+=F*pe,J(M,2*B+2*H+2)}for(B=0;B<O;B++)M[B]=M[2*B+1]<<16|M[2*B];for(B=O;B<2*O;B++)M[B]=0;return new m(M,0)};function J(V,O){for(;(V[O]&65535)!=V[O];)V[O+1]+=V[O]>>>16,V[O]&=65535,O++}function it(V,O){this.g=V,this.h=O}function _t(V,O){if(q(O))throw Error("division by zero");if(q(V))return new it(C,C);if(Z(V))return O=_t(W(V),O),new it(W(O.g),W(O.h));if(Z(O))return O=_t(V,W(O)),new it(W(O.g),O.h);if(30<V.g.length){if(Z(V)||Z(O))throw Error("slowDivide_ only works with positive integers.");for(var M=P,B=O;0>=B.l(V);)M=Tt(M),B=Tt(B);var H=xt(M,1),F=xt(B,1);for(B=xt(B,2),M=xt(M,2);!q(B);){var z=F.add(B);0>=z.l(V)&&(H=H.add(M),F=z),B=xt(B,1),M=xt(M,1)}return O=st(V,H.j(O)),new it(H,O)}for(H=C;0<=V.l(O);){for(M=Math.max(1,Math.floor(V.m()/O.m())),B=Math.ceil(Math.log(M)/Math.LN2),B=48>=B?1:Math.pow(2,B-48),F=T(M),z=F.j(O);Z(z)||0<z.l(V);)M-=B,F=T(M),z=F.j(O);q(F)&&(F=P),H=H.add(F),V=st(V,z)}return new it(H,V)}i.A=function(V){return _t(this,V).h},i.and=function(V){for(var O=Math.max(this.g.length,V.g.length),M=[],B=0;B<O;B++)M[B]=this.i(B)&V.i(B);return new m(M,this.h&V.h)},i.or=function(V){for(var O=Math.max(this.g.length,V.g.length),M=[],B=0;B<O;B++)M[B]=this.i(B)|V.i(B);return new m(M,this.h|V.h)},i.xor=function(V){for(var O=Math.max(this.g.length,V.g.length),M=[],B=0;B<O;B++)M[B]=this.i(B)^V.i(B);return new m(M,this.h^V.h)};function Tt(V){for(var O=V.g.length+1,M=[],B=0;B<O;B++)M[B]=V.i(B)<<1|V.i(B-1)>>>31;return new m(M,V.h)}function xt(V,O){var M=O>>5;O%=32;for(var B=V.g.length-M,H=[],F=0;F<B;F++)H[F]=0<O?V.i(F+M)>>>O|V.i(F+M+1)<<32-O:V.i(F+M);return new m(H,V.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,yw=a,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.A,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=T,m.fromString=S,Ba=m}).apply(typeof O0<"u"?O0:typeof self<"u"?self:typeof window<"u"?window:{});var Bh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vw,nc,Tw,Wh,dp,Ew,ww,bw;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,E,b){return f==Array.prototype||f==Object.prototype||(f[E]=b.value),f};function e(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bh=="object"&&Bh];for(var E=0;E<f.length;++E){var b=f[E];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var a=e(this);function l(f,E){if(E)t:{var b=a;f=f.split(".");for(var x=0;x<f.length-1;x++){var $=f[x];if(!($ in b))break t;b=b[$]}f=f[f.length-1],x=b[f],E=E(x),E!=x&&E!=null&&t(b,f,{configurable:!0,writable:!0,value:E})}}function h(f,E){f instanceof String&&(f+="");var b=0,x=!1,$={next:function(){if(!x&&b<f.length){var rt=b++;return{value:E(rt,f[rt]),done:!1}}return x=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}l("Array.prototype.values",function(f){return f||function(){return h(this,function(E,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var m=m||{},y=this||self;function v(f){var E=typeof f;return E=E!="object"?E:f?Array.isArray(f)?"array":E:"null",E=="array"||E=="object"&&typeof f.length=="number"}function T(f){var E=typeof f;return E=="object"&&f!=null||E=="function"}function S(f,E,b){return f.call.apply(f.bind,arguments)}function C(f,E,b){if(!f)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,x),f.apply(E,$)}}return function(){return f.apply(E,arguments)}}function P(f,E,b){return P=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?S:C,P.apply(null,arguments)}function U(f,E){var b=Array.prototype.slice.call(arguments,1);return function(){var x=b.slice();return x.push.apply(x,arguments),f.apply(this,x)}}function q(f,E){function b(){}b.prototype=E.prototype,f.aa=E.prototype,f.prototype=new b,f.prototype.constructor=f,f.Qb=function(x,$,rt){for(var vt=Array(arguments.length-2),te=2;te<arguments.length;te++)vt[te-2]=arguments[te];return E.prototype[$].apply(x,vt)}}function Z(f){const E=f.length;if(0<E){const b=Array(E);for(let x=0;x<E;x++)b[x]=f[x];return b}return[]}function W(f,E){for(let b=1;b<arguments.length;b++){const x=arguments[b];if(v(x)){const $=f.length||0,rt=x.length||0;f.length=$+rt;for(let vt=0;vt<rt;vt++)f[$+vt]=x[vt]}else f.push(x)}}class st{constructor(E,b){this.i=E,this.j=b,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function J(f){return/^[\s\xa0]*$/.test(f)}function it(){var f=y.navigator;return f&&(f=f.userAgent)?f:""}function _t(f){return _t[" "](f),f}_t[" "]=function(){};var Tt=it().indexOf("Gecko")!=-1&&!(it().toLowerCase().indexOf("webkit")!=-1&&it().indexOf("Edge")==-1)&&!(it().indexOf("Trident")!=-1||it().indexOf("MSIE")!=-1)&&it().indexOf("Edge")==-1;function xt(f,E,b){for(const x in f)E.call(b,f[x],x,f)}function V(f,E){for(const b in f)E.call(void 0,f[b],b,f)}function O(f){const E={};for(const b in f)E[b]=f[b];return E}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(f,E){let b,x;for(let $=1;$<arguments.length;$++){x=arguments[$];for(b in x)f[b]=x[b];for(let rt=0;rt<M.length;rt++)b=M[rt],Object.prototype.hasOwnProperty.call(x,b)&&(f[b]=x[b])}}function H(f){var E=1;f=f.split(":");const b=[];for(;0<E&&f.length;)b.push(f.shift()),E--;return f.length&&b.push(f.join(":")),b}function F(f){y.setTimeout(()=>{throw f},0)}function z(){var f=se;let E=null;return f.g&&(E=f.g,f.g=f.g.next,f.g||(f.h=null),E.next=null),E}class pe{constructor(){this.h=this.g=null}add(E,b){const x=Ie.get();x.set(E,b),this.h?this.h.next=x:this.g=x,this.h=x}}var Ie=new st(()=>new at,f=>f.reset());class at{constructor(){this.next=this.g=this.h=null}set(E,b){this.h=E,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let yt,pt=!1,se=new pe,D=()=>{const f=y.Promise.resolve(void 0);yt=()=>{f.then(ot)}};var ot=()=>{for(var f;f=z();){try{f.h.call(f.g)}catch(b){F(b)}var E=Ie;E.j(f),100>E.h&&(E.h++,f.next=E.g,E.g=f)}pt=!1};function gt(){this.s=this.s,this.C=this.C}gt.prototype.s=!1,gt.prototype.ma=function(){this.s||(this.s=!0,this.N())},gt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function mt(f,E){this.type=f,this.g=this.target=E,this.defaultPrevented=!1}mt.prototype.h=function(){this.defaultPrevented=!0};var wt=function(){if(!y.addEventListener||!Object.defineProperty)return!1;var f=!1,E=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const b=()=>{};y.addEventListener("test",b,E),y.removeEventListener("test",b,E)}catch{}return f}();function St(f,E){if(mt.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var b=this.type=f.type,x=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=E,E=f.relatedTarget){if(Tt){t:{try{_t(E.nodeName);var $=!0;break t}catch{}$=!1}$||(E=null)}}else b=="mouseover"?E=f.fromElement:b=="mouseout"&&(E=f.toElement);this.relatedTarget=E,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Et[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&St.aa.h.call(this)}}q(St,mt);var Et={2:"touch",3:"pen",4:"mouse"};St.prototype.h=function(){St.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ee="closure_listenable_"+(1e6*Math.random()|0),re=0;function li(f,E,b,x,$){this.listener=f,this.proxy=null,this.src=E,this.type=b,this.capture=!!x,this.ha=$,this.key=++re,this.da=this.fa=!1}function Li(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ui(f){this.src=f,this.g={},this.h=0}ui.prototype.add=function(f,E,b,x,$){var rt=f.toString();f=this.g[rt],f||(f=this.g[rt]=[],this.h++);var vt=tr(f,E,x,$);return-1<vt?(E=f[vt],b||(E.fa=!1)):(E=new li(E,this.src,rt,!!x,$),E.fa=b,f.push(E)),E};function ci(f,E){var b=E.type;if(b in f.g){var x=f.g[b],$=Array.prototype.indexOf.call(x,E,void 0),rt;(rt=0<=$)&&Array.prototype.splice.call(x,$,1),rt&&(Li(E),f.g[b].length==0&&(delete f.g[b],f.h--))}}function tr(f,E,b,x){for(var $=0;$<f.length;++$){var rt=f[$];if(!rt.da&&rt.listener==E&&rt.capture==!!b&&rt.ha==x)return $}return-1}var Xr="closure_lm_"+(1e6*Math.random()|0),Vs={};function Xa(f,E,b,x,$){if(Array.isArray(E)){for(var rt=0;rt<E.length;rt++)Xa(f,E[rt],b,x,$);return null}return b=Jo(b),f&&f[Ee]?f.K(E,b,T(x)?!!x.capture:!1,$):Pn(f,E,b,!1,x,$)}function Pn(f,E,b,x,$,rt){if(!E)throw Error("Invalid event type");var vt=T($)?!!$.capture:!!$,te=Jr(f);if(te||(f[Xr]=te=new ui(f)),b=te.add(E,b,x,vt,rt),b.proxy)return b;if(x=zs(),b.proxy=x,x.src=f,x.listener=b,f.addEventListener)wt||($=vt),$===void 0&&($=!1),f.addEventListener(E.toString(),x,$);else if(f.attachEvent)f.attachEvent(er(E.toString()),x);else if(f.addListener&&f.removeListener)f.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return b}function zs(){function f(b){return E.call(f.src,f.listener,b)}const E=Wo;return f}function Wa(f,E,b,x,$){if(Array.isArray(E))for(var rt=0;rt<E.length;rt++)Wa(f,E[rt],b,x,$);else x=T(x)?!!x.capture:!!x,b=Jo(b),f&&f[Ee]?(f=f.i,E=String(E).toString(),E in f.g&&(rt=f.g[E],b=tr(rt,b,x,$),-1<b&&(Li(rt[b]),Array.prototype.splice.call(rt,b,1),rt.length==0&&(delete f.g[E],f.h--)))):f&&(f=Jr(f))&&(E=f.g[E.toString()],f=-1,E&&(f=tr(E,b,x,$)),(b=-1<f?E[f]:null)&&Wr(b))}function Wr(f){if(typeof f!="number"&&f&&!f.da){var E=f.src;if(E&&E[Ee])ci(E.i,f);else{var b=f.type,x=f.proxy;E.removeEventListener?E.removeEventListener(b,x,f.capture):E.detachEvent?E.detachEvent(er(b),x):E.addListener&&E.removeListener&&E.removeListener(x),(b=Jr(E))?(ci(b,f),b.h==0&&(b.src=null,E[Xr]=null)):Li(f)}}}function er(f){return f in Vs?Vs[f]:Vs[f]="on"+f}function Wo(f,E){if(f.da)f=!0;else{E=new St(E,this);var b=f.listener,x=f.ha||f.src;f.fa&&Wr(f),f=b.call(x,E)}return f}function Jr(f){return f=f[Xr],f instanceof ui?f:null}var Ja="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jo(f){return typeof f=="function"?f:(f[Ja]||(f[Ja]=function(E){return f.handleEvent(E)}),f[Ja])}function xe(){gt.call(this),this.i=new ui(this),this.M=this,this.F=null}q(xe,gt),xe.prototype[Ee]=!0,xe.prototype.removeEventListener=function(f,E,b,x){Wa(this,f,E,b,x)};function ue(f,E){var b,x=f.F;if(x)for(b=[];x;x=x.F)b.push(x);if(f=f.M,x=E.type||E,typeof E=="string")E=new mt(E,f);else if(E instanceof mt)E.target=E.target||f;else{var $=E;E=new mt(x,f),B(E,$)}if($=!0,b)for(var rt=b.length-1;0<=rt;rt--){var vt=E.g=b[rt];$=On(vt,x,!0,E)&&$}if(vt=E.g=f,$=On(vt,x,!0,E)&&$,$=On(vt,x,!1,E)&&$,b)for(rt=0;rt<b.length;rt++)vt=E.g=b[rt],$=On(vt,x,!1,E)&&$}xe.prototype.N=function(){if(xe.aa.N.call(this),this.i){var f=this.i,E;for(E in f.g){for(var b=f.g[E],x=0;x<b.length;x++)Li(b[x]);delete f.g[E],f.h--}}this.F=null},xe.prototype.K=function(f,E,b,x){return this.i.add(String(f),E,!1,b,x)},xe.prototype.L=function(f,E,b,x){return this.i.add(String(f),E,!0,b,x)};function On(f,E,b,x){if(E=f.i.g[String(E)],!E)return!0;E=E.concat();for(var $=!0,rt=0;rt<E.length;++rt){var vt=E[rt];if(vt&&!vt.da&&vt.capture==b){var te=vt.listener,Fe=vt.ha||vt.src;vt.fa&&ci(f.i,vt),$=te.call(Fe,x)!==!1&&$}}return $&&!x.defaultPrevented}function hn(f,E,b){if(typeof f=="function")b&&(f=P(f,b));else if(f&&typeof f.handleEvent=="function")f=P(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:y.setTimeout(f,E||0)}function to(f){f.g=hn(()=>{f.g=null,f.i&&(f.i=!1,to(f))},f.l);const E=f.h;f.h=null,f.m.apply(null,E)}class tl extends gt{constructor(E,b){super(),this.m=E,this.l=b,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:to(this)}N(){super.N(),this.g&&(y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ts(f){gt.call(this),this.h=f,this.g={}}q(ts,gt);var Sr=[];function nr(f){xt(f.g,function(E,b){this.g.hasOwnProperty(b)&&Wr(E)},f),f.g={}}ts.prototype.N=function(){ts.aa.N.call(this),nr(this)},ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wn=y.JSON.stringify,Us=y.JSON.parse,hi=class{stringify(f){return y.JSON.stringify(f,void 0)}parse(f){return y.JSON.parse(f,void 0)}};function eo(){}eo.prototype.h=null;function no(f){return f.h||(f.h=f.i())}function Bs(){}var Mi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Di(){mt.call(this,"d")}q(Di,mt);function io(){mt.call(this,"c")}q(io,mt);var Ni={},ro=null;function Ir(){return ro=ro||new xe}Ni.La="serverreachability";function Hs(f){mt.call(this,Ni.La,f)}q(Hs,mt);function Rr(f){const E=Ir();ue(E,new Hs(E))}Ni.STAT_EVENT="statevent";function qs(f,E){mt.call(this,Ni.STAT_EVENT,f),this.stat=E}q(qs,mt);function Pe(f){const E=Ir();ue(E,new qs(E,f))}Ni.Ma="timingevent";function Ze(f,E){mt.call(this,Ni.Ma,f),this.size=E}q(Ze,mt);function je(f,E){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return y.setTimeout(function(){f()},E)}function Jn(){this.g=!0}Jn.prototype.xa=function(){this.g=!1};function Ln(f,E,b,x,$,rt){f.info(function(){if(f.g)if(rt)for(var vt="",te=rt.split("&"),Fe=0;Fe<te.length;Fe++){var ee=te[Fe].split("=");if(1<ee.length){var de=ee[0];ee=ee[1];var Le=de.split("_");vt=2<=Le.length&&Le[1]=="type"?vt+(de+"="+ee+"&"):vt+(de+"=redacted&")}}else vt=null;else vt=rt;return"XMLHTTP REQ ("+x+") [attempt "+$+"]: "+E+`
`+b+`
`+vt})}function Ot(f,E,b,x,$,rt,vt){f.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+$+"]: "+E+`
`+b+`
`+rt+" "+vt})}function ir(f,E,b,x){f.info(function(){return"XMLHTTP TEXT ("+E+"): "+Cr(f,b)+(x?" "+x:"")})}function so(f,E){f.info(function(){return"TIMEOUT: "+E})}Jn.prototype.info=function(){};function Cr(f,E){if(!f.g)return E;if(!E)return null;try{var b=JSON.parse(E);if(b){for(f=0;f<b.length;f++)if(Array.isArray(b[f])){var x=b[f];if(!(2>x.length)){var $=x[1];if(Array.isArray($)&&!(1>$.length)){var rt=$[0];if(rt!="noop"&&rt!="stop"&&rt!="close")for(var vt=1;vt<$.length;vt++)$[vt]=""}}}}return Wn(b)}catch{return E}}var rr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},di;function En(){}q(En,eo),En.prototype.g=function(){return new XMLHttpRequest},En.prototype.i=function(){return{}},di=new En;function fn(f,E,b,x){this.j=f,this.i=E,this.l=b,this.R=x||1,this.U=new ts(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ue}function Ue(){this.i=null,this.g="",this.h=!1}var ao={},js={};function mi(f,E,b){f.L=1,f.v=Fn(Oe(E)),f.m=b,f.P=!0,ki(f,null)}function ki(f,E){f.F=Date.now(),ns(f),f.A=Oe(f.v);var b=f.A,x=f.R;Array.isArray(x)||(x=[String(x)]),uo(b.i,"t",x),f.C=0,b=f.j.J,f.h=new Ue,f.g=al(f.j,b?E:null,!f.m),0<f.O&&(f.M=new tl(P(f.Y,f,f.g),f.O)),E=f.U,b=f.g,x=f.ca;var $="readystatechange";Array.isArray($)||($&&(Sr[0]=$.toString()),$=Sr);for(var rt=0;rt<$.length;rt++){var vt=Xa(b,$[rt],x||E.handleEvent,!1,E.h||E);if(!vt)break;E.g[vt.key]=vt}E=f.H?O(f.H):{},f.m?(f.u||(f.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,E)):(f.u="GET",f.g.ea(f.A,f.u,null,E)),Rr(),Ln(f.i,f.u,f.A,f.l,f.R,f.m)}fn.prototype.ca=function(f){f=f.target;const E=this.M;E&&pn(f)==3?E.j():this.Y(f)},fn.prototype.Y=function(f){try{if(f==this.g)t:{const Le=pn(this.g);var E=this.g.Ba();const fr=this.g.Z();if(!(3>Le)&&(Le!=3||this.g&&(this.h.h||this.g.oa()||co(this.g)))){this.J||Le!=4||E==7||(E==8||0>=fr?Rr(3):Rr(2)),xr(this);var b=this.g.Z();this.X=b;e:if(el(this)){var x=co(this.g);f="";var $=x.length,rt=pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sn(this),Vi(this);var vt="";break e}this.h.i=new y.TextDecoder}for(E=0;E<$;E++)this.h.h=!0,f+=this.h.i.decode(x[E],{stream:!(rt&&E==$-1)});x.length=0,this.h.g+=f,this.C=0,vt=this.h.g}else vt=this.g.oa();if(this.o=b==200,Ot(this.i,this.u,this.A,this.l,this.R,Le,b),this.o){if(this.T&&!this.K){e:{if(this.g){var te,Fe=this.g;if((te=Fe.g?Fe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(te)){var ee=te;break e}}ee=null}if(b=ee)ir(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sr(this,b);else{this.o=!1,this.s=3,Pe(12),sn(this),Vi(this);break t}}if(this.P){b=!0;let Re;for(;!this.J&&this.C<vt.length;)if(Re=es(this,vt),Re==js){Le==4&&(this.s=4,Pe(14),b=!1),ir(this.i,this.l,null,"[Incomplete Response]");break}else if(Re==ao){this.s=4,Pe(15),ir(this.i,this.l,vt,"[Invalid Chunk]"),b=!1;break}else ir(this.i,this.l,Re,null),sr(this,Re);if(el(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Le!=4||vt.length!=0||this.h.h||(this.s=1,Pe(16),b=!1),this.o=this.o&&b,!b)ir(this.i,this.l,vt,"[Invalid Chunked Response]"),sn(this),Vi(this);else if(0<vt.length&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.ba&&!de.M&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+vt.length),Nr(de),de.M=!0,Pe(11))}}else ir(this.i,this.l,vt,null),sr(this,vt);Le==4&&sn(this),this.o&&!this.J&&(Le==4?fo(this.j,this):(this.o=!1,ns(this)))}else uu(this.g),b==400&&0<vt.indexOf("Unknown SID")?(this.s=3,Pe(12)):(this.s=0,Pe(13)),sn(this),Vi(this)}}}catch{}finally{}};function el(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function es(f,E){var b=f.C,x=E.indexOf(`
`,b);return x==-1?js:(b=Number(E.substring(b,x)),isNaN(b)?ao:(x+=1,x+b>E.length?js:(E=E.slice(x,x+b),f.C=x+b,E)))}fn.prototype.cancel=function(){this.J=!0,sn(this)};function ns(f){f.S=Date.now()+f.I,nl(f,f.I)}function nl(f,E){if(f.B!=null)throw Error("WatchDog timer not null");f.B=je(P(f.ba,f),E)}function xr(f){f.B&&(y.clearTimeout(f.B),f.B=null)}fn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(so(this.i,this.A),this.L!=2&&(Rr(),Pe(17)),sn(this),this.s=2,Vi(this)):nl(this,this.S-f)};function Vi(f){f.j.G==0||f.J||fo(f.j,f)}function sn(f){xr(f);var E=f.M;E&&typeof E.ma=="function"&&E.ma(),f.M=null,nr(f.U),f.g&&(E=f.g,f.g=null,E.abort(),E.ma())}function sr(f,E){try{var b=f.j;if(b.G!=0&&(b.g==f||Qt(b.h,f))){if(!f.K&&Qt(b.h,f)&&b.G==3){try{var x=b.Da.g.parse(E)}catch{x=null}if(Array.isArray(x)&&x.length==3){var $=x;if($[0]==0){t:if(!b.u){if(b.g)if(b.g.F+3e3<f.F)Ws(b),Ys(b);else break t;Qs(b),Pe(18)}}else b.za=$[1],0<b.za-b.T&&37500>$[2]&&b.F&&b.v==0&&!b.C&&(b.C=je(P(b.Za,b),6e3));if(1>=Ui(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else hr(b,11)}else if((f.K||b.g==f)&&Ws(b),!J(E))for($=b.Da.g.parse(E),E=0;E<$.length;E++){let ee=$[E];if(b.T=ee[0],ee=ee[1],b.G==2)if(ee[0]=="c"){b.K=ee[1],b.ia=ee[2];const de=ee[3];de!=null&&(b.la=de,b.j.info("VER="+b.la));const Le=ee[4];Le!=null&&(b.Aa=Le,b.j.info("SVER="+b.Aa));const fr=ee[5];fr!=null&&typeof fr=="number"&&0<fr&&(x=1.5*fr,b.L=x,b.j.info("backChannelRequestTimeoutMs_="+x)),x=b;const Re=f.g;if(Re){const Fi=Re.g?Re.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fi){var rt=x.h;rt.g||Fi.indexOf("spdy")==-1&&Fi.indexOf("quic")==-1&&Fi.indexOf("h2")==-1||(rt.j=rt.l,rt.g=new Set,rt.h&&(fe(rt,rt.h),rt.h=null))}if(x.D){const Gi=Re.g?Re.g.getResponseHeader("X-HTTP-Session-Id"):null;Gi&&(x.ya=Gi,Vt(x.I,x.D,Gi))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-f.F,b.j.info("Handshake RTT: "+b.R+"ms")),x=b;var vt=f;if(x.qa=ta(x,x.J?x.ia:null,x.W),vt.K){We(x.h,vt);var te=vt,Fe=x.L;Fe&&(te.I=Fe),te.B&&(xr(te),ns(te)),x.g=vt}else Ti(x);0<b.i.length&&Dr(b)}else ee[0]!="stop"&&ee[0]!="close"||hr(b,7);else b.G==3&&(ee[0]=="stop"||ee[0]=="close"?ee[0]=="stop"?hr(b,7):Ks(b):ee[0]!="noop"&&b.l&&b.l.ta(ee),b.v=0)}}Rr(4)}catch{}}var Pr=class{constructor(f,E){this.g=f,this.map=E}};function zi(f){this.l=f||10,y.PerformanceNavigationTiming?(f=y.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(y.chrome&&y.chrome.loadTimes&&y.chrome.loadTimes()&&y.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function is(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Ui(f){return f.h?1:f.g?f.g.size:0}function Qt(f,E){return f.h?f.h==E:f.g?f.g.has(E):!1}function fe(f,E){f.g?f.g.add(E):f.h=E}function We(f,E){f.h&&f.h==E?f.h=null:f.g&&f.g.has(E)&&f.g.delete(E)}zi.prototype.cancel=function(){if(this.i=Bi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Bi(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let E=f.i;for(const b of f.g.values())E=E.concat(b.D);return E}return Z(f.i)}function Or(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(v(f)){for(var E=[],b=f.length,x=0;x<b;x++)E.push(f[x]);return E}E=[],b=0;for(x in f)E[b++]=f[x];return E}function Lr(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(v(f)||typeof f=="string"){var E=[];f=f.length;for(var b=0;b<f;b++)E.push(b);return E}E=[],b=0;for(const x in f)E[b++]=x;return E}}}function qt(f,E){if(f.forEach&&typeof f.forEach=="function")f.forEach(E,void 0);else if(v(f)||typeof f=="string")Array.prototype.forEach.call(f,E,void 0);else for(var b=Lr(f),x=Or(f),$=x.length,rt=0;rt<$;rt++)E.call(void 0,x[rt],b&&b[rt],f)}var ge=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oo(f,E){if(f){f=f.split("&");for(var b=0;b<f.length;b++){var x=f[b].indexOf("="),$=null;if(0<=x){var rt=f[b].substring(0,x);$=f[b].substring(x+1)}else rt=f[b];E(rt,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Ne(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Ne){this.h=f.h,rs(this,f.j),this.o=f.o,this.g=f.g,pi(this,f.s),this.l=f.l;var E=f.i,b=new _i;b.i=E.i,E.g&&(b.g=new Map(E.g),b.h=E.h),wn(this,b),this.m=f.m}else f&&(E=String(f).match(ge))?(this.h=!1,rs(this,E[1]||"",!0),this.o=dn(E[2]||""),this.g=dn(E[3]||"",!0),pi(this,E[4]),this.l=dn(E[5]||"",!0),wn(this,E[6]||"",!0),this.m=dn(E[7]||"")):(this.h=!1,this.i=new _i(null,this.h))}Ne.prototype.toString=function(){var f=[],E=this.j;E&&f.push(gi(E,ar,!0),":");var b=this.g;return(b||E=="file")&&(f.push("//"),(E=this.o)&&f.push(gi(E,ar,!0),"@"),f.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&f.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&f.push("/"),f.push(gi(b,b.charAt(0)=="/"?lo:ss,!0))),(b=this.i.toString())&&f.push("?",b),(b=this.m)&&f.push("#",gi(b,Mr)),f.join("")};function Oe(f){return new Ne(f)}function rs(f,E,b){f.j=b?dn(E,!0):E,f.j&&(f.j=f.j.replace(/:$/,""))}function pi(f,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);f.s=E}else f.s=null}function wn(f,E,b){E instanceof _i?(f.i=E,Gn(f.i,f.h)):(b||(E=gi(E,Gs)),f.i=new _i(E,f.h))}function Vt(f,E,b){f.i.set(E,b)}function Fn(f){return Vt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function dn(f,E){return f?E?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function gi(f,E,b){return typeof f=="string"?(f=encodeURI(f).replace(E,Fs),b&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Fs(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ar=/[#\/\?@]/g,ss=/[#\?:]/g,lo=/[#\?]/g,Gs=/[#\?@]/g,Mr=/#/g;function _i(f,E){this.h=this.g=null,this.i=f||null,this.j=!!E}function bn(f){f.g||(f.g=new Map,f.h=0,f.i&&oo(f.i,function(E,b){f.add(decodeURIComponent(E.replace(/\+/g," ")),b)}))}i=_i.prototype,i.add=function(f,E){bn(this),this.i=null,f=Dt(this,f);var b=this.g.get(f);return b||this.g.set(f,b=[]),b.push(E),this.h+=1,this};function Hi(f,E){bn(f),E=Dt(f,E),f.g.has(E)&&(f.i=null,f.h-=f.g.get(E).length,f.g.delete(E))}function yi(f,E){return bn(f),E=Dt(f,E),f.g.has(E)}i.forEach=function(f,E){bn(this),this.g.forEach(function(b,x){b.forEach(function($){f.call(E,$,x,this)},this)},this)},i.na=function(){bn(this);const f=Array.from(this.g.values()),E=Array.from(this.g.keys()),b=[];for(let x=0;x<E.length;x++){const $=f[x];for(let rt=0;rt<$.length;rt++)b.push(E[x])}return b},i.V=function(f){bn(this);let E=[];if(typeof f=="string")yi(this,f)&&(E=E.concat(this.g.get(Dt(this,f))));else{f=Array.from(this.g.values());for(let b=0;b<f.length;b++)E=E.concat(f[b])}return E},i.set=function(f,E){return bn(this),this.i=null,f=Dt(this,f),yi(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[E]),this.h+=1,this},i.get=function(f,E){return f?(f=this.V(f),0<f.length?String(f[0]):E):E};function uo(f,E,b){Hi(f,E),0<b.length&&(f.i=null,f.g.set(Dt(f,E),Z(b)),f.h+=b.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],E=Array.from(this.g.keys());for(var b=0;b<E.length;b++){var x=E[b];const rt=encodeURIComponent(String(x)),vt=this.V(x);for(x=0;x<vt.length;x++){var $=rt;vt[x]!==""&&($+="="+encodeURIComponent(String(vt[x]))),f.push($)}}return this.i=f.join("&")};function Dt(f,E){return E=String(E),f.j&&(E=E.toLowerCase()),E}function Gn(f,E){E&&!f.j&&(bn(f),f.i=null,f.g.forEach(function(b,x){var $=x.toLowerCase();x!=$&&(Hi(this,x),uo(this,$,b))},f)),f.j=E}function ae(f,E){const b=new Jn;if(y.Image){const x=new Image;x.onload=U(Mn,b,"TestLoadImage: loaded",!0,E,x),x.onerror=U(Mn,b,"TestLoadImage: error",!1,E,x),x.onabort=U(Mn,b,"TestLoadImage: abort",!1,E,x),x.ontimeout=U(Mn,b,"TestLoadImage: timeout",!1,E,x),y.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=f}else E(!1)}function ti(f,E){const b=new Jn,x=new AbortController,$=setTimeout(()=>{x.abort(),Mn(b,"TestPingServer: timeout",!1,E)},1e4);fetch(f,{signal:x.signal}).then(rt=>{clearTimeout($),rt.ok?Mn(b,"TestPingServer: ok",!0,E):Mn(b,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout($),Mn(b,"TestPingServer: error",!1,E)})}function Mn(f,E,b,x,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),x(b)}catch{}}function or(){this.g=new hi}function ei(f,E,b){const x=b||"";try{qt(f,function($,rt){let vt=$;T($)&&(vt=Wn($)),E.push(x+rt+"="+encodeURIComponent(vt))})}catch($){throw E.push(x+"type="+encodeURIComponent("_badmap")),$}}function Dn(f){this.l=f.Ub||null,this.j=f.eb||!1}q(Dn,eo),Dn.prototype.g=function(){return new vi(this.l,this.j)},Dn.prototype.i=function(f){return function(){return f}}({});function vi(f,E){xe.call(this),this.D=f,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}q(vi,xe),i=vi.prototype,i.open=function(f,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=E,this.readyState=1,mn(this)},i.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(E.body=f),(this.D||y).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,we(this)),this.readyState=0},i.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,mn(this)),this.g&&(this.readyState=3,mn(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof y.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;lr(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function lr(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}i.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var E=f.value?f.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!f.done}))&&(this.response=this.responseText+=E)}f.done?we(this):mn(this),this.readyState==3&&lr(this)}},i.Ra=function(f){this.g&&(this.response=this.responseText=f,we(this))},i.Qa=function(f){this.g&&(this.response=f,we(this))},i.ga=function(){this.g&&we(this)};function we(f){f.readyState=4,f.l=null,f.j=null,f.v=null,mn(f)}i.setRequestHeader=function(f,E){this.u.append(f,E)},i.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],E=this.h.entries();for(var b=E.next();!b.done;)b=b.value,f.push(b[0]+": "+b[1]),b=E.next();return f.join(`\r
`)};function mn(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(vi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Zs(f){let E="";return xt(f,function(b,x){E+=x,E+=":",E+=b,E+=`\r
`}),E}function $e(f,E,b){t:{for(x in b){var x=!1;break t}x=!0}x||(b=Zs(b),typeof f=="string"?b!=null&&encodeURIComponent(String(b)):Vt(f,E,b))}function ce(f){xe.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}q(ce,xe);var as=/^https?$/i,ur=["POST","PUT"];i=ce.prototype,i.Ha=function(f){this.J=f},i.ea=function(f,E,b,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);E=E?E.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():di.g(),this.v=this.o?no(this.o):no(di),this.g.onreadystatechange=P(this.Ea,this);try{this.B=!0,this.g.open(E,String(f),!0),this.B=!1}catch(rt){il(this,rt);return}if(f=b||"",b=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var $ in x)b.set($,x[$]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const rt of x.keys())b.set(rt,x.get(rt));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(b.keys()).find(rt=>rt.toLowerCase()=="content-type"),$=y.FormData&&f instanceof y.FormData,!(0<=Array.prototype.indexOf.call(ur,E,void 0))||x||$||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[rt,vt]of b)this.g.setRequestHeader(rt,vt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{an(this),this.u=!0,this.g.send(f),this.u=!1}catch(rt){il(this,rt)}};function il(f,E){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=E,f.m=5,os(f),qi(f)}function os(f){f.A||(f.A=!0,ue(f,"complete"),ue(f,"error"))}i.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,ue(this,"complete"),ue(this,"abort"),qi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qi(this,!0)),ce.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Gt(this):this.bb())},i.bb=function(){Gt(this)};function Gt(f){if(f.h&&typeof m<"u"&&(!f.v[1]||pn(f)!=4||f.Z()!=2)){if(f.u&&pn(f)==4)hn(f.Ea,0,f);else if(ue(f,"readystatechange"),pn(f)==4){f.h=!1;try{const vt=f.Z();t:switch(vt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break t;default:E=!1}var b;if(!(b=E)){var x;if(x=vt===0){var $=String(f.D).match(ge)[1]||null;!$&&y.self&&y.self.location&&($=y.self.location.protocol.slice(0,-1)),x=!as.test($?$.toLowerCase():"")}b=x}if(b)ue(f,"complete"),ue(f,"success");else{f.m=6;try{var rt=2<pn(f)?f.g.statusText:""}catch{rt=""}f.l=rt+" ["+f.Z()+"]",os(f)}}finally{qi(f)}}}}function qi(f,E){if(f.g){an(f);const b=f.g,x=f.v[0]?()=>{}:null;f.g=null,f.v=null,E||ue(f,"ready");try{b.onreadystatechange=x}catch{}}}function an(f){f.I&&(y.clearTimeout(f.I),f.I=null)}i.isActive=function(){return!!this.g};function pn(f){return f.g?f.g.readyState:0}i.Z=function(){try{return 2<pn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(f){if(this.g){var E=this.g.responseText;return f&&E.indexOf(f)==0&&(E=E.substring(f.length)),Us(E)}};function co(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function uu(f){const E={};f=(f.g&&2<=pn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<f.length;x++){if(J(f[x]))continue;var b=H(f[x]);const $=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const rt=E[$]||[];E[$]=rt,rt.push(b)}V(E,function(x){return x.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function cr(f,E,b){return b&&b.internalChannelParams&&b.internalChannelParams[f]||E}function $s(f){this.Aa=0,this.i=[],this.j=new Jn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=cr("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=cr("baseRetryDelayMs",5e3,f),this.cb=cr("retryDelaySeedMs",1e4,f),this.Wa=cr("forwardChannelMaxRetries",2,f),this.wa=cr("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new zi(f&&f.concurrentRequestLimit),this.Da=new or,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=$s.prototype,i.la=8,i.G=1,i.connect=function(f,E,b,x){Pe(0),this.W=f,this.H=E||{},b&&x!==void 0&&(this.H.OSID=b,this.H.OAID=x),this.F=this.X,this.I=ta(this,null,this.W),Dr(this)};function Ks(f){if(rl(f),f.G==3){var E=f.U++,b=Oe(f.I);if(Vt(b,"SID",f.K),Vt(b,"RID",E),Vt(b,"TYPE","terminate"),ls(f,b),E=new fn(f,f.j,E),E.L=2,E.v=Fn(Oe(b)),b=!1,y.navigator&&y.navigator.sendBeacon)try{b=y.navigator.sendBeacon(E.v.toString(),"")}catch{}!b&&y.Image&&(new Image().src=E.v,b=!0),b||(E.g=al(E.j,null),E.g.ea(E.v)),E.F=Date.now(),ns(E)}sl(f)}function Ys(f){f.g&&(Nr(f),f.g.cancel(),f.g=null)}function rl(f){Ys(f),f.u&&(y.clearTimeout(f.u),f.u=null),Ws(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&y.clearTimeout(f.s),f.s=null)}function Dr(f){if(!is(f.h)&&!f.s){f.s=!0;var E=f.Ga;yt||D(),pt||(yt(),pt=!0),se.add(E,f),f.B=0}}function cu(f,E){return Ui(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=E.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=je(P(f.Ga,f,E),Js(f,f.B)),f.B++,!0)}i.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const $=new fn(this,this.j,f);let rt=this.o;if(this.S&&(rt?(rt=O(rt),B(rt,this.S)):rt=this.S),this.m!==null||this.O||($.H=rt,rt=null),this.P)t:{for(var E=0,b=0;b<this.i.length;b++){e:{var x=this.i[b];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break e}x=void 0}if(x===void 0)break;if(E+=x,4096<E){E=b;break t}if(E===4096||b===this.i.length-1){E=b+1;break t}}E=1e3}else E=1e3;E=ho(this,$,E),b=Oe(this.I),Vt(b,"RID",f),Vt(b,"CVER",22),this.D&&Vt(b,"X-HTTP-Session-Id",this.D),ls(this,b),rt&&(this.O?E="headers="+encodeURIComponent(String(Zs(rt)))+"&"+E:this.m&&$e(b,this.m,rt)),fe(this.h,$),this.Ua&&Vt(b,"TYPE","init"),this.P?(Vt(b,"$req",E),Vt(b,"SID","null"),$.T=!0,mi($,b,null)):mi($,b,E),this.G=2}}else this.G==3&&(f?Nn(this,f):this.i.length==0||is(this.h)||Nn(this))};function Nn(f,E){var b;E?b=E.l:b=f.U++;const x=Oe(f.I);Vt(x,"SID",f.K),Vt(x,"RID",b),Vt(x,"AID",f.T),ls(f,x),f.m&&f.o&&$e(x,f.m,f.o),b=new fn(f,f.j,b,f.B+1),f.m===null&&(b.H=f.o),E&&(f.i=E.D.concat(f.i)),E=ho(f,b,1e3),b.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),fe(f.h,b),mi(b,x,E)}function ls(f,E){f.H&&xt(f.H,function(b,x){Vt(E,x,b)}),f.l&&qt({},function(b,x){Vt(E,x,b)})}function ho(f,E,b){b=Math.min(f.i.length,b);var x=f.l?P(f.l.Na,f.l,f):null;t:{var $=f.i;let rt=-1;for(;;){const vt=["count="+b];rt==-1?0<b?(rt=$[0].g,vt.push("ofs="+rt)):rt=0:vt.push("ofs="+rt);let te=!0;for(let Fe=0;Fe<b;Fe++){let ee=$[Fe].g;const de=$[Fe].map;if(ee-=rt,0>ee)rt=Math.max(0,$[Fe].g-100),te=!1;else try{ei(de,vt,"req"+ee+"_")}catch{x&&x(de)}}if(te){x=vt.join("&");break t}}}return f=f.i.splice(0,b),E.D=f,x}function Ti(f){if(!f.g&&!f.u){f.Y=1;var E=f.Fa;yt||D(),pt||(yt(),pt=!0),se.add(E,f),f.v=0}}function Qs(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=je(P(f.Fa,f),Js(f,f.v)),f.v++,!0)}i.Fa=function(){if(this.u=null,Xs(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=je(P(this.ab,this),f)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pe(10),Ys(this),Xs(this))};function Nr(f){f.A!=null&&(y.clearTimeout(f.A),f.A=null)}function Xs(f){f.g=new fn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var E=Oe(f.qa);Vt(E,"RID","rpc"),Vt(E,"SID",f.K),Vt(E,"AID",f.T),Vt(E,"CI",f.F?"0":"1"),!f.F&&f.ja&&Vt(E,"TO",f.ja),Vt(E,"TYPE","xmlhttp"),ls(f,E),f.m&&f.o&&$e(E,f.m,f.o),f.L&&(f.g.I=f.L);var b=f.g;f=f.ia,b.L=1,b.v=Fn(Oe(E)),b.m=null,b.P=!0,ki(b,f)}i.Za=function(){this.C!=null&&(this.C=null,Ys(this),Qs(this),Pe(19))};function Ws(f){f.C!=null&&(y.clearTimeout(f.C),f.C=null)}function fo(f,E){var b=null;if(f.g==E){Ws(f),Nr(f),f.g=null;var x=2}else if(Qt(f.h,E))b=E.D,We(f.h,E),x=1;else return;if(f.G!=0){if(E.o)if(x==1){b=E.m?E.m.length:0,E=Date.now()-E.F;var $=f.B;x=Ir(),ue(x,new Ze(x,b)),Dr(f)}else Ti(f);else if($=E.s,$==3||$==0&&0<E.X||!(x==1&&cu(f,E)||x==2&&Qs(f)))switch(b&&0<b.length&&(E=f.h,E.i=E.i.concat(b)),$){case 1:hr(f,5);break;case 4:hr(f,10);break;case 3:hr(f,6);break;default:hr(f,2)}}}function Js(f,E){let b=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(b*=2),b*E}function hr(f,E){if(f.j.info("Error code "+E),E==2){var b=P(f.fb,f),x=f.Xa;const $=!x;x=new Ne(x||"//www.google.com/images/cleardot.gif"),y.location&&y.location.protocol=="http"||rs(x,"https"),Fn(x),$?ae(x.toString(),b):ti(x.toString(),b)}else Pe(2);f.G=0,f.l&&f.l.sa(E),sl(f),rl(f)}i.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Pe(2)):(this.j.info("Failed to ping google.com"),Pe(1))};function sl(f){if(f.G=0,f.ka=[],f.l){const E=Bi(f.h);(E.length!=0||f.i.length!=0)&&(W(f.ka,E),W(f.ka,f.i),f.h.i.length=0,Z(f.i),f.i.length=0),f.l.ra()}}function ta(f,E,b){var x=b instanceof Ne?Oe(b):new Ne(b);if(x.g!="")E&&(x.g=E+"."+x.g),pi(x,x.s);else{var $=y.location;x=$.protocol,E=E?E+"."+$.hostname:$.hostname,$=+$.port;var rt=new Ne(null);x&&rs(rt,x),E&&(rt.g=E),$&&pi(rt,$),b&&(rt.l=b),x=rt}return b=f.D,E=f.ya,b&&E&&Vt(x,b,E),Vt(x,"VER",f.la),ls(f,x),x}function al(f,E,b){if(E&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=f.Ca&&!f.pa?new ce(new Dn({eb:b})):new ce(f.pa),E.Ha(f.J),E}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function mo(){}i=mo.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function us(){}us.prototype.g=function(f,E){return new Je(f,E)};function Je(f,E){xe.call(this),this.g=new $s(E),this.l=f,this.h=E&&E.messageUrlParams||null,f=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(f?f["X-WebChannel-Content-Type"]=E.messageContentType:f={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(f?f["X-WebChannel-Client-Profile"]=E.va:f={"X-WebChannel-Client-Profile":E.va}),this.g.S=f,(f=E&&E.Sb)&&!J(f)&&(this.g.m=f),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!J(E)&&(this.g.D=E,f=this.h,f!==null&&E in f&&(f=this.h,E in f&&delete f[E])),this.j=new kn(this)}q(Je,xe),Je.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){Ks(this.g)},Je.prototype.o=function(f){var E=this.g;if(typeof f=="string"){var b={};b.__data__=f,f=b}else this.u&&(b={},b.__data__=Wn(f),f=b);E.i.push(new Pr(E.Ya++,f)),E.G==3&&Dr(E)},Je.prototype.N=function(){this.g.l=null,delete this.j,Ks(this.g),delete this.g,Je.aa.N.call(this)};function ji(f){Di.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var E=f.__sm__;if(E){t:{for(const b in E){f=b;break t}f=void 0}(this.i=f)&&(f=this.i,E=E!==null&&f in E?E[f]:void 0),this.data=E}else this.data=f}q(ji,Di);function ol(){io.call(this),this.status=1}q(ol,io);function kn(f){this.g=f}q(kn,mo),kn.prototype.ua=function(){ue(this.g,"a")},kn.prototype.ta=function(f){ue(this.g,new ji(f))},kn.prototype.sa=function(f){ue(this.g,new ol)},kn.prototype.ra=function(){ue(this.g,"b")},us.prototype.createWebChannel=us.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,bw=function(){return new us},ww=function(){return Ir()},Ew=Ni,dp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rr.NO_ERROR=0,rr.TIMEOUT=8,rr.HTTP_ERROR=6,Wh=rr,fi.COMPLETE="complete",Tw=fi,Bs.EventType=Mi,Mi.OPEN="a",Mi.CLOSE="b",Mi.ERROR="c",Mi.MESSAGE="d",xe.prototype.listen=xe.prototype.K,nc=Bs,ce.prototype.listenOnce=ce.prototype.L,ce.prototype.getLastError=ce.prototype.Ka,ce.prototype.getLastErrorCode=ce.prototype.Ba,ce.prototype.getStatus=ce.prototype.Z,ce.prototype.getResponseJson=ce.prototype.Oa,ce.prototype.getResponseText=ce.prototype.oa,ce.prototype.send=ce.prototype.ea,ce.prototype.setWithCredentials=ce.prototype.Ha,vw=ce}).apply(typeof Bh<"u"?Bh:typeof self<"u"?self:typeof window<"u"?window:{});const L0="@firebase/firestore",M0="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Bn.UNAUTHENTICATED=new Bn(null),Bn.GOOGLE_CREDENTIALS=new Bn("google-credentials-uid"),Bn.FIRST_PARTY=new Bn("first-party-uid"),Bn.MOCK_USER=new Bn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ru="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=new Nf("@firebase/firestore");function zl(){return qo.logLevel}function At(i,...t){if(qo.logLevel<=ne.DEBUG){const e=t.map(dg);qo.debug(`Firestore (${ru}): ${i}`,...e)}}function Ls(i,...t){if(qo.logLevel<=ne.ERROR){const e=t.map(dg);qo.error(`Firestore (${ru}): ${i}`,...e)}}function $l(i,...t){if(qo.logLevel<=ne.WARN){const e=t.map(dg);qo.warn(`Firestore (${ru}): ${i}`,...e)}}function dg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(i,t,e){let a="Unexpected state";typeof t=="string"?a=t:e=t,Aw(i,a,e)}function Aw(i,t,e){let a=`FIRESTORE (${ru}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(e!==void 0)try{a+=" CONTEXT: "+JSON.stringify(e)}catch{a+=" CONTEXT: "+e}throw Ls(a),new Error(a)}function me(i,t,e,a){let l="Unexpected state";typeof e=="string"?l=e:a=e,i||Aw(t,l,a)}function Ft(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ct extends Ar{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class TP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Bn.UNAUTHENTICATED))}shutdown(){}}class EP{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class wP{constructor(t){this.t=t,this.currentUser=Bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){me(this.o===void 0,42304);let a=this.i;const l=v=>this.i!==a?(a=this.i,e(v)):Promise.resolve();let h=new Vo;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Vo,t.enqueueRetryable(()=>l(this.currentUser))};const m=()=>{const v=h;t.enqueueRetryable(async()=>{await v.promise,await l(this.currentUser)})},y=v=>{At("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit(v=>y(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(At("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Vo)}},0),m()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(a=>this.i!==t?(At("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(me(typeof a.accessToken=="string",31837,{l:a}),new Sw(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return me(t===null||typeof t=="string",2055,{h:t}),new Bn(t)}}class bP{constructor(t,e,a){this.P=t,this.T=e,this.I=a,this.type="FirstParty",this.user=Bn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class AP{constructor(t,e,a){this.P=t,this.T=e,this.I=a}getToken(){return Promise.resolve(new bP(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(Bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class D0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SP{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,vr(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){me(this.o===void 0,3512);const a=h=>{h.error!=null&&At("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const m=h.token!==this.m;return this.m=h.token,At("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?e(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable(()=>a(h))};const l=h=>{At("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>l(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):At("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new D0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(me(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new D0(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let a=0;a<i;a++)e[a]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=IP(40);for(let h=0;h<l.length;++h)a.length<20&&l[h]<e&&(a+=t.charAt(l[h]%62))}return a}}function Yt(i,t){return i<t?-1:i>t?1:0}function mp(i,t){let e=0;for(;e<i.length&&e<t.length;){const a=i.codePointAt(e),l=t.codePointAt(e);if(a!==l){if(a<128&&l<128)return Yt(a,l);{const h=Iw(),m=RP(h.encode(N0(i,e)),h.encode(N0(t,e)));return m!==0?m:Yt(a,l)}}e+=a>65535?2:1}return Yt(i.length,t.length)}function N0(i,t){return i.codePointAt(t)>65535?i.substring(t,t+2):i.substring(t,t+1)}function RP(i,t){for(let e=0;e<i.length&&e<t.length;++e)if(i[e]!==t[e])return Yt(i[e],t[e]);return Yt(i.length,t.length)}function Kl(i,t,e){return i.length===t.length&&i.every((a,l)=>e(a,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0=-62135596800,V0=1e6;class un{static now(){return un.fromMillis(Date.now())}static fromDate(t){return un.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),a=Math.floor((t-1e3*e)*V0);return new un(e,a)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ct(dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ct(dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<k0)throw new Ct(dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ct(dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/V0}_compareTo(t){return this.seconds===t.seconds?Yt(this.nanoseconds,t.nanoseconds):Yt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-k0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{static fromTimestamp(t){return new jt(t)}static min(){return new jt(new un(0,0))}static max(){return new jt(new un(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0="__name__";class Fr{constructor(t,e,a){e===void 0?e=0:e>t.length&&zt(637,{offset:e,range:t.length}),a===void 0?a=t.length-e:a>t.length-e&&zt(1746,{length:a,range:t.length-e}),this.segments=t,this.offset=e,this.len=a}get length(){return this.len}isEqual(t){return Fr.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Fr?t.forEach(a=>{e.push(a)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,a=this.limit();e<a;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const a=Math.min(t.length,e.length);for(let l=0;l<a;l++){const h=Fr.compareSegments(t.get(l),e.get(l));if(h!==0)return h}return Yt(t.length,e.length)}static compareSegments(t,e){const a=Fr.isNumericId(t),l=Fr.isNumericId(e);return a&&!l?-1:!a&&l?1:a&&l?Fr.extractNumericId(t).compare(Fr.extractNumericId(e)):mp(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ba.fromString(t.substring(4,t.length-2))}}class ke extends Fr{construct(t,e,a){return new ke(t,e,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const a of t){if(a.indexOf("//")>=0)throw new Ct(dt.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);e.push(...a.split("/").filter(l=>l.length>0))}return new ke(e)}static emptyPath(){return new ke([])}}const CP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cn extends Fr{construct(t,e,a){return new Cn(t,e,a)}static isValidIdentifier(t){return CP.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===z0}static keyField(){return new Cn([z0])}static fromServerFormat(t){const e=[];let a="",l=0;const h=()=>{if(a.length===0)throw new Ct(dt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(a),a=""};let m=!1;for(;l<t.length;){const y=t[l];if(y==="\\"){if(l+1===t.length)throw new Ct(dt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new Ct(dt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,l+=2}else y==="`"?(m=!m,l++):y!=="."||m?(a+=y,l++):(h(),l++)}if(h(),m)throw new Ct(dt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Cn(e)}static emptyPath(){return new Cn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(t){this.path=t}static fromPath(t){return new Mt(ke.fromString(t))}static fromName(t){return new Mt(ke.fromString(t).popFirst(5))}static empty(){return new Mt(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ke.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ke.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Mt(new ke(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc=-1;function xP(i,t){const e=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,l=jt.fromTimestamp(a===1e9?new un(e+1,0):new un(e,a));return new Ga(l,Mt.empty(),t)}function PP(i){return new Ga(i.readTime,i.key,gc)}class Ga{constructor(t,e,a){this.readTime=t,this.documentKey=e,this.largestBatchId=a}static min(){return new Ga(jt.min(),Mt.empty(),gc)}static max(){return new Ga(jt.max(),Mt.empty(),gc)}}function OP(i,t){let e=i.readTime.compareTo(t.readTime);return e!==0?e:(e=Mt.comparator(i.documentKey,t.documentKey),e!==0?e:Yt(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function su(i){if(i.code!==dt.FAILED_PRECONDITION||i.message!==LP)throw i;At("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&zt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ht((a,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(a,l)},this.catchCallback=h=>{this.wrapFailure(e,h).next(a,l)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ht?e:ht.resolve(e)}catch(e){return ht.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ht.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ht.reject(e)}static resolve(t){return new ht((e,a)=>{e(t)})}static reject(t){return new ht((e,a)=>{a(t)})}static waitFor(t){return new ht((e,a)=>{let l=0,h=0,m=!1;t.forEach(y=>{++l,y.next(()=>{++h,m&&h===l&&e()},v=>a(v))}),m=!0,h===l&&e()})}static or(t){let e=ht.resolve(!1);for(const a of t)e=e.next(l=>l?ht.resolve(l):a());return e}static forEach(t,e){const a=[];return t.forEach((l,h)=>{a.push(e.call(this,l,h))}),this.waitFor(a)}static mapArray(t,e){return new ht((a,l)=>{const h=t.length,m=new Array(h);let y=0;for(let v=0;v<h;v++){const T=v;e(t[T]).next(S=>{m[T]=S,++y,y===h&&a(m)},S=>l(S))}})}static doWhile(t,e){return new ht((a,l)=>{const h=()=>{t()===!0?e().next(()=>{h()},l):a()};h()})}}function DP(i){const t=i.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function au(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=a=>this.ue(a),this.ce=a=>e.writeSequenceNumber(a))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}qf.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg=-1;function jf(i){return i==null}function gf(i){return i===0&&1/i==-1/0}function NP(i){return typeof i=="number"&&Number.isInteger(i)&&!gf(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="";function kP(i){let t="";for(let e=0;e<i.length;e++)t.length>0&&(t=U0(t)),t=VP(i.get(e),t);return U0(t)}function VP(i,t){let e=t;const a=i.length;for(let l=0;l<a;l++){const h=i.charAt(l);switch(h){case"\0":e+="";break;case Cw:e+="";break;default:e+=h}}return e}function U0(i){return i+Cw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(i){let t=0;for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t++;return t}function Ko(i,t){for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t(e,i[e])}function xw(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(t,e){this.comparator=t,this.root=e||Rn.EMPTY}insert(t,e){return new qe(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Rn.BLACK,null,null))}remove(t){return new qe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Rn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const a=this.comparator(t,e.key);if(a===0)return e.value;a<0?e=e.left:a>0&&(e=e.right)}return null}indexOf(t){let e=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return e+a.left.size;l<0?a=a.left:(e+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,a)=>(t(e,a),!1))}toString(){const t=[];return this.inorderTraversal((e,a)=>(t.push(`${e}:${a}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Hh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Hh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Hh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Hh(this.root,t,this.comparator,!0)}}class Hh{constructor(t,e,a,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=e?a(t.key,e):1,e&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Rn{constructor(t,e,a,l,h){this.key=t,this.value=e,this.color=a??Rn.RED,this.left=l??Rn.EMPTY,this.right=h??Rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,a,l,h){return new Rn(t??this.key,e??this.value,a??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,a){let l=this;const h=a(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,e,a),null):h===0?l.copy(null,e,null,null,null):l.copy(null,null,null,null,l.right.insert(t,e,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Rn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let a,l=this;if(e(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,e),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),e(t,l.key)===0){if(l.right.isEmpty())return Rn.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,e))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw zt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw zt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw zt(27949);return t+(this.isRed()?0:1)}}Rn.EMPTY=null,Rn.RED=!0,Rn.BLACK=!1;Rn.EMPTY=new class{constructor(){this.size=0}get key(){throw zt(57766)}get value(){throw zt(16141)}get color(){throw zt(16727)}get left(){throw zt(29726)}get right(){throw zt(36894)}copy(t,e,a,l,h){return this}insert(t,e,a){return new Rn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(t){this.comparator=t,this.data=new qe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,a)=>(t(e),!1))}forEachInRange(t,e){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;e(l.key)}}forEachWhile(t,e){let a;for(a=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new H0(this.data.getIterator())}getIteratorFrom(t){return new H0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(a=>{e=e.add(a)}),e}isEqual(t){if(!(t instanceof cn)||this.size!==t.size)return!1;const e=this.data.getIterator(),a=t.data.getIterator();for(;e.hasNext();){const l=e.getNext().key,h=a.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new cn(this.comparator);return e.data=t,e}}class H0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(t){this.fields=t,t.sort(Cn.comparator)}static empty(){return new Er([])}unionWith(t){let e=new cn(Cn.comparator);for(const a of this.fields)e=e.add(a);for(const a of t)e=e.add(a);return new Er(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Kl(this.fields,t.fields,(e,a)=>e.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new Pw("Invalid base64 string: "+h):h}}(t);return new xn(e)}static fromUint8Array(t){const e=function(l){let h="";for(let m=0;m<l.length;++m)h+=String.fromCharCode(l[m]);return h}(t);return new xn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const a=new Uint8Array(e.length);for(let l=0;l<e.length;l++)a[l]=e.charCodeAt(l);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Yt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}xn.EMPTY_BYTE_STRING=new xn("");const zP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Za(i){if(me(!!i,39018),typeof i=="string"){let t=0;const e=zP.exec(i);if(me(!!e,46558,{timestamp:i}),e[1]){let l=e[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Qe(i.seconds),nanos:Qe(i.nanos)}}function Qe(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function $a(i){return typeof i=="string"?xn.fromBase64String(i):xn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="server_timestamp",Lw="__type__",Mw="__previous_value__",Dw="__local_write_time__";function pg(i){var t,e;return((e=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[Lw])===null||e===void 0?void 0:e.stringValue)===Ow}function Ff(i){const t=i.mapValue.fields[Mw];return pg(t)?Ff(t):t}function _c(i){const t=Za(i.mapValue.fields[Dw].timestampValue);return new un(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(t,e,a,l,h,m,y,v,T,S){this.databaseId=t,this.appId=e,this.persistenceKey=a,this.host=l,this.ssl=h,this.forceLongPolling=m,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=T,this.isUsingEmulator=S}}const _f="(default)";class yc{constructor(t,e){this.projectId=t,this.database=e||_f}static empty(){return new yc("","")}get isDefaultDatabase(){return this.database===_f}isEqual(t){return t instanceof yc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="__type__",BP="__max__",qh={mapValue:{}},kw="__vector__",yf="value";function Ka(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?pg(i)?4:qP(i)?9007199254740991:HP(i)?10:11:zt(28295,{value:i})}function Qr(i,t){if(i===t)return!0;const e=Ka(i);if(e!==Ka(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return _c(i).isEqual(_c(t));case 3:return function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const m=Za(l.timestampValue),y=Za(h.timestampValue);return m.seconds===y.seconds&&m.nanos===y.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return function(l,h){return $a(l.bytesValue).isEqual($a(h.bytesValue))}(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return function(l,h){return Qe(l.geoPointValue.latitude)===Qe(h.geoPointValue.latitude)&&Qe(l.geoPointValue.longitude)===Qe(h.geoPointValue.longitude)}(i,t);case 2:return function(l,h){if("integerValue"in l&&"integerValue"in h)return Qe(l.integerValue)===Qe(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const m=Qe(l.doubleValue),y=Qe(h.doubleValue);return m===y?gf(m)===gf(y):isNaN(m)&&isNaN(y)}return!1}(i,t);case 9:return Kl(i.arrayValue.values||[],t.arrayValue.values||[],Qr);case 10:case 11:return function(l,h){const m=l.mapValue.fields||{},y=h.mapValue.fields||{};if(B0(m)!==B0(y))return!1;for(const v in m)if(m.hasOwnProperty(v)&&(y[v]===void 0||!Qr(m[v],y[v])))return!1;return!0}(i,t);default:return zt(52216,{left:i})}}function vc(i,t){return(i.values||[]).find(e=>Qr(e,t))!==void 0}function Yl(i,t){if(i===t)return 0;const e=Ka(i),a=Ka(t);if(e!==a)return Yt(e,a);switch(e){case 0:case 9007199254740991:return 0;case 1:return Yt(i.booleanValue,t.booleanValue);case 2:return function(h,m){const y=Qe(h.integerValue||h.doubleValue),v=Qe(m.integerValue||m.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1}(i,t);case 3:return q0(i.timestampValue,t.timestampValue);case 4:return q0(_c(i),_c(t));case 5:return mp(i.stringValue,t.stringValue);case 6:return function(h,m){const y=$a(h),v=$a(m);return y.compareTo(v)}(i.bytesValue,t.bytesValue);case 7:return function(h,m){const y=h.split("/"),v=m.split("/");for(let T=0;T<y.length&&T<v.length;T++){const S=Yt(y[T],v[T]);if(S!==0)return S}return Yt(y.length,v.length)}(i.referenceValue,t.referenceValue);case 8:return function(h,m){const y=Yt(Qe(h.latitude),Qe(m.latitude));return y!==0?y:Yt(Qe(h.longitude),Qe(m.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return j0(i.arrayValue,t.arrayValue);case 10:return function(h,m){var y,v,T,S;const C=h.fields||{},P=m.fields||{},U=(y=C[yf])===null||y===void 0?void 0:y.arrayValue,q=(v=P[yf])===null||v===void 0?void 0:v.arrayValue,Z=Yt(((T=U==null?void 0:U.values)===null||T===void 0?void 0:T.length)||0,((S=q==null?void 0:q.values)===null||S===void 0?void 0:S.length)||0);return Z!==0?Z:j0(U,q)}(i.mapValue,t.mapValue);case 11:return function(h,m){if(h===qh.mapValue&&m===qh.mapValue)return 0;if(h===qh.mapValue)return 1;if(m===qh.mapValue)return-1;const y=h.fields||{},v=Object.keys(y),T=m.fields||{},S=Object.keys(T);v.sort(),S.sort();for(let C=0;C<v.length&&C<S.length;++C){const P=mp(v[C],S[C]);if(P!==0)return P;const U=Yl(y[v[C]],T[S[C]]);if(U!==0)return U}return Yt(v.length,S.length)}(i.mapValue,t.mapValue);default:throw zt(23264,{Pe:e})}}function q0(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Yt(i,t);const e=Za(i),a=Za(t),l=Yt(e.seconds,a.seconds);return l!==0?l:Yt(e.nanos,a.nanos)}function j0(i,t){const e=i.values||[],a=t.values||[];for(let l=0;l<e.length&&l<a.length;++l){const h=Yl(e[l],a[l]);if(h)return h}return Yt(e.length,a.length)}function Ql(i){return pp(i)}function pp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(e){const a=Za(e);return`time(${a.seconds},${a.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(e){return $a(e).toBase64()}(i.bytesValue):"referenceValue"in i?function(e){return Mt.fromName(e).toString()}(i.referenceValue):"geoPointValue"in i?function(e){return`geo(${e.latitude},${e.longitude})`}(i.geoPointValue):"arrayValue"in i?function(e){let a="[",l=!0;for(const h of e.values||[])l?l=!1:a+=",",a+=pp(h);return a+"]"}(i.arrayValue):"mapValue"in i?function(e){const a=Object.keys(e.fields||{}).sort();let l="{",h=!0;for(const m of a)h?h=!1:l+=",",l+=`${m}:${pp(e.fields[m])}`;return l+"}"}(i.mapValue):zt(61005,{value:i})}function Jh(i){switch(Ka(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ff(i);return t?16+Jh(t):16;case 5:return 2*i.stringValue.length;case 6:return $a(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((l,h)=>l+Jh(h),0)}(i.arrayValue);case 10:case 11:return function(a){let l=0;return Ko(a.fields,(h,m)=>{l+=h.length+Jh(m)}),l}(i.mapValue);default:throw zt(13486,{value:i})}}function F0(i,t){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${t.path.canonicalString()}`}}function gp(i){return!!i&&"integerValue"in i}function gg(i){return!!i&&"arrayValue"in i}function G0(i){return!!i&&"nullValue"in i}function Z0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function tf(i){return!!i&&"mapValue"in i}function HP(i){var t,e;return((e=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[Nw])===null||e===void 0?void 0:e.stringValue)===kw}function uc(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return Ko(i.mapValue.fields,(e,a)=>t.mapValue.fields[e]=uc(a)),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(i.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=uc(i.arrayValue.values[e]);return t}return Object.assign({},i)}function qP(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===BP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(t){this.value=t}static empty(){return new Wi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let a=0;a<t.length-1;++a)if(e=(e.mapValue.fields||{})[t.get(a)],!tf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=uc(e)}setAll(t){let e=Cn.emptyPath(),a={},l=[];t.forEach((m,y)=>{if(!e.isImmediateParentOf(y)){const v=this.getFieldsMap(e);this.applyChanges(v,a,l),a={},l=[],e=y.popLast()}m?a[y.lastSegment()]=uc(m):l.push(y.lastSegment())});const h=this.getFieldsMap(e);this.applyChanges(h,a,l)}delete(t){const e=this.field(t.popLast());tf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Qr(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=e.mapValue.fields[t.get(a)];tf(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},e.mapValue.fields[t.get(a)]=l),e=l}return e.mapValue.fields}applyChanges(t,e,a){Ko(e,(l,h)=>t[l]=h);for(const l of a)delete t[l]}clone(){return new Wi(uc(this.value))}}function Vw(i){const t=[];return Ko(i.fields,(e,a)=>{const l=new Cn([e]);if(tf(a)){const h=Vw(a.mapValue).fields;if(h.length===0)t.push(l);else for(const m of h)t.push(l.child(m))}else t.push(l)}),new Er(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(t,e,a,l,h,m,y){this.key=t,this.documentType=e,this.version=a,this.readTime=l,this.createTime=h,this.data=m,this.documentState=y}static newInvalidDocument(t){return new Hn(t,0,jt.min(),jt.min(),jt.min(),Wi.empty(),0)}static newFoundDocument(t,e,a,l){return new Hn(t,1,e,jt.min(),a,l,0)}static newNoDocument(t,e){return new Hn(t,2,e,jt.min(),jt.min(),Wi.empty(),0)}static newUnknownDocument(t,e){return new Hn(t,3,e,jt.min(),jt.min(),Wi.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(jt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Wi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Wi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=jt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Hn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(t,e){this.position=t,this.inclusive=e}}function $0(i,t,e){let a=0;for(let l=0;l<i.position.length;l++){const h=t[l],m=i.position[l];if(h.field.isKeyField()?a=Mt.comparator(Mt.fromName(m.referenceValue),e.key):a=Yl(m,e.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function K0(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let e=0;e<i.position.length;e++)if(!Qr(i.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(t,e="asc"){this.field=t,this.dir=e}}function jP(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{}class rn extends zw{constructor(t,e,a){super(),this.field=t,this.op=e,this.value=a}static create(t,e,a){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,a):new GP(t,e,a):e==="array-contains"?new KP(t,a):e==="in"?new YP(t,a):e==="not-in"?new QP(t,a):e==="array-contains-any"?new XP(t,a):new rn(t,e,a)}static createKeyFieldInFilter(t,e,a){return e==="in"?new ZP(t,a):new $P(t,a)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Yl(e,this.value)):e!==null&&Ka(this.value)===Ka(e)&&this.matchesComparison(Yl(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return zt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class br extends zw{constructor(t,e){super(),this.filters=t,this.op=e,this.Te=null}static create(t,e){return new br(t,e)}matches(t){return Uw(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Uw(i){return i.op==="and"}function Bw(i){return FP(i)&&Uw(i)}function FP(i){for(const t of i.filters)if(t instanceof br)return!1;return!0}function _p(i){if(i instanceof rn)return i.field.canonicalString()+i.op.toString()+Ql(i.value);if(Bw(i))return i.filters.map(t=>_p(t)).join(",");{const t=i.filters.map(e=>_p(e)).join(",");return`${i.op}(${t})`}}function Hw(i,t){return i instanceof rn?function(a,l){return l instanceof rn&&a.op===l.op&&a.field.isEqual(l.field)&&Qr(a.value,l.value)}(i,t):i instanceof br?function(a,l){return l instanceof br&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce((h,m,y)=>h&&Hw(m,l.filters[y]),!0):!1}(i,t):void zt(19439)}function qw(i){return i instanceof rn?function(e){return`${e.field.canonicalString()} ${e.op} ${Ql(e.value)}`}(i):i instanceof br?function(e){return e.op.toString()+" {"+e.getFilters().map(qw).join(" ,")+"}"}(i):"Filter"}class GP extends rn{constructor(t,e,a){super(t,e,a),this.key=Mt.fromName(a.referenceValue)}matches(t){const e=Mt.comparator(t.key,this.key);return this.matchesComparison(e)}}class ZP extends rn{constructor(t,e){super(t,"in",e),this.keys=jw("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class $P extends rn{constructor(t,e){super(t,"not-in",e),this.keys=jw("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function jw(i,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(a=>Mt.fromName(a.referenceValue))}class KP extends rn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return gg(e)&&vc(e.arrayValue,this.value)}}class YP extends rn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&vc(this.value.arrayValue,e)}}class QP extends rn{constructor(t,e){super(t,"not-in",e)}matches(t){if(vc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!vc(this.value.arrayValue,e)}}class XP extends rn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!gg(e)||!e.arrayValue.values)&&e.arrayValue.values.some(a=>vc(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(t,e=null,a=[],l=[],h=null,m=null,y=null){this.path=t,this.collectionGroup=e,this.orderBy=a,this.filters=l,this.limit=h,this.startAt=m,this.endAt=y,this.Ie=null}}function Y0(i,t=null,e=[],a=[],l=null,h=null,m=null){return new WP(i,t,e,a,l,h,m)}function _g(i){const t=Ft(i);if(t.Ie===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(a=>_p(a)).join(","),e+="|ob:",e+=t.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),jf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(a=>Ql(a)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(a=>Ql(a)).join(",")),t.Ie=e}return t.Ie}function yg(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<i.orderBy.length;e++)if(!jP(i.orderBy[e],t.orderBy[e]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let e=0;e<i.filters.length;e++)if(!Hw(i.filters[e],t.filters[e]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!K0(i.startAt,t.startAt)&&K0(i.endAt,t.endAt)}function yp(i){return Mt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(t,e=null,a=[],l=[],h=null,m="F",y=null,v=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=a,this.filters=l,this.limit=h,this.limitType=m,this.startAt=y,this.endAt=v,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function JP(i,t,e,a,l,h,m,y){return new xc(i,t,e,a,l,h,m,y)}function vg(i){return new xc(i)}function Q0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Fw(i){return i.collectionGroup!==null}function cc(i){const t=Ft(i);if(t.Ee===null){t.Ee=[];const e=new Set;for(const h of t.explicitOrderBy)t.Ee.push(h),e.add(h.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(m){let y=new cn(Cn.comparator);return m.filters.forEach(v=>{v.getFlattenedFilters().forEach(T=>{T.isInequality()&&(y=y.add(T.field))})}),y})(t).forEach(h=>{e.has(h.canonicalString())||h.isKeyField()||t.Ee.push(new Tf(h,a))}),e.has(Cn.keyField().canonicalString())||t.Ee.push(new Tf(Cn.keyField(),a))}return t.Ee}function $r(i){const t=Ft(i);return t.de||(t.de=tO(t,cc(i))),t.de}function tO(i,t){if(i.limitType==="F")return Y0(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map(l=>{const h=l.dir==="desc"?"asc":"desc";return new Tf(l.field,h)});const e=i.endAt?new vf(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new vf(i.startAt.position,i.startAt.inclusive):null;return Y0(i.path,i.collectionGroup,t,i.filters,i.limit,e,a)}}function vp(i,t){const e=i.filters.concat([t]);return new xc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),e,i.limit,i.limitType,i.startAt,i.endAt)}function Tp(i,t,e){return new xc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,e,i.startAt,i.endAt)}function Gf(i,t){return yg($r(i),$r(t))&&i.limitType===t.limitType}function Gw(i){return`${_g($r(i))}|lt:${i.limitType}`}function Ul(i){return`Query(target=${function(e){let a=e.path.canonicalString();return e.collectionGroup!==null&&(a+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(a+=`, filters: [${e.filters.map(l=>qw(l)).join(", ")}]`),jf(e.limit)||(a+=", limit: "+e.limit),e.orderBy.length>0&&(a+=`, orderBy: [${e.orderBy.map(l=>function(m){return`${m.field.canonicalString()} (${m.dir})`}(l)).join(", ")}]`),e.startAt&&(a+=", startAt: ",a+=e.startAt.inclusive?"b:":"a:",a+=e.startAt.position.map(l=>Ql(l)).join(",")),e.endAt&&(a+=", endAt: ",a+=e.endAt.inclusive?"a:":"b:",a+=e.endAt.position.map(l=>Ql(l)).join(",")),`Target(${a})`}($r(i))}; limitType=${i.limitType})`}function Zf(i,t){return t.isFoundDocument()&&function(a,l){const h=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):Mt.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(i,t)&&function(a,l){for(const h of cc(a))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0}(i,t)&&function(a,l){for(const h of a.filters)if(!h.matches(l))return!1;return!0}(i,t)&&function(a,l){return!(a.startAt&&!function(m,y,v){const T=$0(m,y,v);return m.inclusive?T<=0:T<0}(a.startAt,cc(a),l)||a.endAt&&!function(m,y,v){const T=$0(m,y,v);return m.inclusive?T>=0:T>0}(a.endAt,cc(a),l))}(i,t)}function eO(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Zw(i){return(t,e)=>{let a=!1;for(const l of cc(i)){const h=nO(l,t,e);if(h!==0)return h;a=a||l.field.isKeyField()}return 0}}function nO(i,t,e){const a=i.field.isKeyField()?Mt.comparator(t.key,e.key):function(h,m,y){const v=m.data.field(h),T=y.data.field(h);return v!==null&&T!==null?Yl(v,T):zt(42886)}(i.field,t,e);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return zt(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),a=this.inner[e];if(a!==void 0){for(const[l,h]of a)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,e){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,e]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,e]);l.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),a=this.inner[e];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[e]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Ko(this.inner,(e,a)=>{for(const[l,h]of a)t(l,h)})}isEmpty(){return xw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iO=new qe(Mt.comparator);function Ms(){return iO}const $w=new qe(Mt.comparator);function ic(...i){let t=$w;for(const e of i)t=t.insert(e.key,e);return t}function Kw(i){let t=$w;return i.forEach((e,a)=>t=t.insert(e,a.overlayedDocument)),t}function ko(){return hc()}function Yw(){return hc()}function hc(){return new Yo(i=>i.toString(),(i,t)=>i.isEqual(t))}const rO=new qe(Mt.comparator),sO=new cn(Mt.comparator);function ie(...i){let t=sO;for(const e of i)t=t.add(e);return t}const aO=new cn(Yt);function oO(){return aO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gf(t)?"-0":t}}function Qw(i){return{integerValue:""+i}}function lO(i,t){return NP(t)?Qw(t):Tg(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(){this._=void 0}}function uO(i,t,e){return i instanceof Ef?function(l,h){const m={fields:{[Lw]:{stringValue:Ow},[Dw]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&pg(h)&&(h=Ff(h)),h&&(m.fields[Mw]=h),{mapValue:m}}(e,t):i instanceof Tc?Ww(i,t):i instanceof Ec?Jw(i,t):function(l,h){const m=Xw(l,h),y=X0(m)+X0(l.Re);return gp(m)&&gp(l.Re)?Qw(y):Tg(l.serializer,y)}(i,t)}function cO(i,t,e){return i instanceof Tc?Ww(i,t):i instanceof Ec?Jw(i,t):e}function Xw(i,t){return i instanceof wf?function(a){return gp(a)||function(h){return!!h&&"doubleValue"in h}(a)}(t)?t:{integerValue:0}:null}class Ef extends $f{}class Tc extends $f{constructor(t){super(),this.elements=t}}function Ww(i,t){const e=tb(t);for(const a of i.elements)e.some(l=>Qr(l,a))||e.push(a);return{arrayValue:{values:e}}}class Ec extends $f{constructor(t){super(),this.elements=t}}function Jw(i,t){let e=tb(t);for(const a of i.elements)e=e.filter(l=>!Qr(l,a));return{arrayValue:{values:e}}}class wf extends $f{constructor(t,e){super(),this.serializer=t,this.Re=e}}function X0(i){return Qe(i.integerValue||i.doubleValue)}function tb(i){return gg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function hO(i,t){return i.field.isEqual(t.field)&&function(a,l){return a instanceof Tc&&l instanceof Tc||a instanceof Ec&&l instanceof Ec?Kl(a.elements,l.elements,Qr):a instanceof wf&&l instanceof wf?Qr(a.Re,l.Re):a instanceof Ef&&l instanceof Ef}(i.transform,t.transform)}class fO{constructor(t,e){this.version=t,this.transformResults=e}}class Rs{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Rs}static exists(t){return new Rs(void 0,t)}static updateTime(t){return new Rs(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ef(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class Kf{}function eb(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new ib(i.key,Rs.none()):new Pc(i.key,i.data,Rs.none());{const e=i.data,a=Wi.empty();let l=new cn(Cn.comparator);for(let h of t.fields)if(!l.has(h)){let m=e.field(h);m===null&&h.length>1&&(h=h.popLast(),m=e.field(h)),m===null?a.delete(h):a.set(h,m),l=l.add(h)}return new Qo(i.key,a,new Er(l.toArray()),Rs.none())}}function dO(i,t,e){i instanceof Pc?function(l,h,m){const y=l.value.clone(),v=J0(l.fieldTransforms,h,m.transformResults);y.setAll(v),h.convertToFoundDocument(m.version,y).setHasCommittedMutations()}(i,t,e):i instanceof Qo?function(l,h,m){if(!ef(l.precondition,h))return void h.convertToUnknownDocument(m.version);const y=J0(l.fieldTransforms,h,m.transformResults),v=h.data;v.setAll(nb(l)),v.setAll(y),h.convertToFoundDocument(m.version,v).setHasCommittedMutations()}(i,t,e):function(l,h,m){h.convertToNoDocument(m.version).setHasCommittedMutations()}(0,t,e)}function fc(i,t,e,a){return i instanceof Pc?function(h,m,y,v){if(!ef(h.precondition,m))return y;const T=h.value.clone(),S=tT(h.fieldTransforms,v,m);return T.setAll(S),m.convertToFoundDocument(m.version,T).setHasLocalMutations(),null}(i,t,e,a):i instanceof Qo?function(h,m,y,v){if(!ef(h.precondition,m))return y;const T=tT(h.fieldTransforms,v,m),S=m.data;return S.setAll(nb(h)),S.setAll(T),m.convertToFoundDocument(m.version,S).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(C=>C.field))}(i,t,e,a):function(h,m,y){return ef(h.precondition,m)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):y}(i,t,e)}function mO(i,t){let e=null;for(const a of i.fieldTransforms){const l=t.data.field(a.field),h=Xw(a.transform,l||null);h!=null&&(e===null&&(e=Wi.empty()),e.set(a.field,h))}return e||null}function W0(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Kl(a,l,(h,m)=>hO(h,m))}(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class Pc extends Kf{constructor(t,e,a,l=[]){super(),this.key=t,this.value=e,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Qo extends Kf{constructor(t,e,a,l,h=[]){super(),this.key=t,this.data=e,this.fieldMask=a,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function nb(i){const t=new Map;return i.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const a=i.data.field(e);t.set(e,a)}}),t}function J0(i,t,e){const a=new Map;me(i.length===e.length,32656,{Ve:e.length,me:i.length});for(let l=0;l<e.length;l++){const h=i[l],m=h.transform,y=t.data.field(h.field);a.set(h.field,cO(m,y,e[l]))}return a}function tT(i,t,e){const a=new Map;for(const l of i){const h=l.transform,m=e.data.field(l.field);a.set(l.field,uO(h,m,t))}return a}class ib extends Kf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pO extends Kf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(t,e,a,l){this.batchId=t,this.localWriteTime=e,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,e){const a=e.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&dO(h,t,a[l])}}applyToLocalView(t,e){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(e=fc(a,t,e,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(e=fc(a,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const a=Yw();return this.mutations.forEach(l=>{const h=t.get(l.key),m=h.overlayedDocument;let y=this.applyToLocalView(m,h.mutatedFields);y=e.has(l.key)?null:y;const v=eb(m,y);v!==null&&a.set(l.key,v),m.isValidDocument()||m.convertToNoDocument(jt.min())}),a}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),ie())}isEqual(t){return this.batchId===t.batchId&&Kl(this.mutations,t.mutations,(e,a)=>W0(e,a))&&Kl(this.baseMutations,t.baseMutations,(e,a)=>W0(e,a))}}class Eg{constructor(t,e,a,l){this.batch=t,this.commitVersion=e,this.mutationResults=a,this.docVersions=l}static from(t,e,a){me(t.mutations.length===a.length,58842,{fe:t.mutations.length,ge:a.length});let l=function(){return rO}();const h=t.mutations;for(let m=0;m<h.length;m++)l=l.insert(h[m].key,a[m].version);return new Eg(t,e,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn,le;function vO(i){switch(i){case dt.OK:return zt(64938);case dt.CANCELLED:case dt.UNKNOWN:case dt.DEADLINE_EXCEEDED:case dt.RESOURCE_EXHAUSTED:case dt.INTERNAL:case dt.UNAVAILABLE:case dt.UNAUTHENTICATED:return!1;case dt.INVALID_ARGUMENT:case dt.NOT_FOUND:case dt.ALREADY_EXISTS:case dt.PERMISSION_DENIED:case dt.FAILED_PRECONDITION:case dt.ABORTED:case dt.OUT_OF_RANGE:case dt.UNIMPLEMENTED:case dt.DATA_LOSS:return!0;default:return zt(15467,{code:i})}}function rb(i){if(i===void 0)return Ls("GRPC error has no .code"),dt.UNKNOWN;switch(i){case nn.OK:return dt.OK;case nn.CANCELLED:return dt.CANCELLED;case nn.UNKNOWN:return dt.UNKNOWN;case nn.DEADLINE_EXCEEDED:return dt.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return dt.RESOURCE_EXHAUSTED;case nn.INTERNAL:return dt.INTERNAL;case nn.UNAVAILABLE:return dt.UNAVAILABLE;case nn.UNAUTHENTICATED:return dt.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return dt.INVALID_ARGUMENT;case nn.NOT_FOUND:return dt.NOT_FOUND;case nn.ALREADY_EXISTS:return dt.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return dt.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return dt.FAILED_PRECONDITION;case nn.ABORTED:return dt.ABORTED;case nn.OUT_OF_RANGE:return dt.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return dt.UNIMPLEMENTED;case nn.DATA_LOSS:return dt.DATA_LOSS;default:return zt(39323,{code:i})}}(le=nn||(nn={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=new Ba([4294967295,4294967295],0);function eT(i){const t=Iw().encode(i),e=new yw;return e.update(t),new Uint8Array(e.digest())}function nT(i){const t=new DataView(i.buffer),e=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new Ba([e,a],0),new Ba([l,h],0)]}class wg{constructor(t,e,a){if(this.bitmap=t,this.padding=e,this.hashCount=a,e<0||e>=8)throw new rc(`Invalid padding: ${e}`);if(a<0)throw new rc(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new rc(`Invalid hash count: ${a}`);if(t.length===0&&e!==0)throw new rc(`Invalid padding when bitmap length is 0: ${e}`);this.pe=8*t.length-e,this.ye=Ba.fromNumber(this.pe)}we(t,e,a){let l=t.add(e.multiply(Ba.fromNumber(a)));return l.compare(TO)===1&&(l=new Ba([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const e=eT(t),[a,l]=nT(e);for(let h=0;h<this.hashCount;h++){const m=this.we(a,l,h);if(!this.be(m))return!1}return!0}static create(t,e,a){const l=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),m=new wg(h,l,e);return a.forEach(y=>m.insert(y)),m}insert(t){if(this.pe===0)return;const e=eT(t),[a,l]=nT(e);for(let h=0;h<this.hashCount;h++){const m=this.we(a,l,h);this.Se(m)}}Se(t){const e=Math.floor(t/8),a=t%8;this.bitmap[e]|=1<<a}}class rc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(t,e,a,l,h){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,e,a){const l=new Map;return l.set(t,Oc.createSynthesizedTargetChangeForCurrentChange(t,e,a)),new Yf(jt.min(),l,new qe(Yt),Ms(),ie())}}class Oc{constructor(t,e,a,l,h){this.resumeToken=t,this.current=e,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,e,a){return new Oc(a,e,ie(),ie(),ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(t,e,a,l){this.De=t,this.removedTargetIds=e,this.key=a,this.ve=l}}class sb{constructor(t,e){this.targetId=t,this.Ce=e}}class ab{constructor(t,e,a=xn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=e,this.resumeToken=a,this.cause=l}}class iT{constructor(){this.Fe=0,this.Me=rT(),this.xe=xn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=ie(),e=ie(),a=ie();return this.Me.forEach((l,h)=>{switch(h){case 0:t=t.add(l);break;case 2:e=e.add(l);break;case 1:a=a.add(l);break;default:zt(38017,{changeType:h})}}),new Oc(this.xe,this.Oe,t,e,a)}Qe(){this.Ne=!1,this.Me=rT()}$e(t,e){this.Ne=!0,this.Me=this.Me.insert(t,e)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,me(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class EO{constructor(t){this.ze=t,this.je=new Map,this.He=Ms(),this.Je=jh(),this.Ye=jh(),this.Ze=new qe(Yt)}Xe(t){for(const e of t.De)t.ve&&t.ve.isFoundDocument()?this.et(e,t.ve):this.tt(e,t.key,t.ve);for(const e of t.removedTargetIds)this.tt(e,t.key,t.ve)}nt(t){this.forEachTarget(t,e=>{const a=this.rt(e);switch(t.state){case 0:this.it(e)&&a.ke(t.resumeToken);break;case 1:a.We(),a.Be||a.Qe(),a.ke(t.resumeToken);break;case 2:a.We(),a.Be||this.removeTarget(e);break;case 3:this.it(e)&&(a.Ge(),a.ke(t.resumeToken));break;case 4:this.it(e)&&(this.st(e),a.ke(t.resumeToken));break;default:zt(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.je.forEach((a,l)=>{this.it(l)&&e(l)})}ot(t){const e=t.targetId,a=t.Ce.count,l=this._t(e);if(l){const h=l.target;if(yp(h))if(a===0){const m=new Mt(h.path);this.tt(e,m,Hn.newNoDocument(m,jt.min()))}else me(a===1,20013,{expectedCount:a});else{const m=this.ut(e);if(m!==a){const y=this.ct(t),v=y?this.lt(y,t,m):1;if(v!==0){this.st(e);const T=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,T)}}}}}ct(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:h=0}=e;let m,y;try{m=$a(a).toUint8Array()}catch(v){if(v instanceof Pw)return $l("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new wg(m,l,h)}catch(v){return $l(v instanceof rc?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.pe===0?null:y}lt(t,e,a){return e.Ce.count===a-this.Tt(t,e.targetId)?0:2}Tt(t,e){const a=this.ze.getRemoteKeysForTarget(e);let l=0;return a.forEach(h=>{const m=this.ze.Pt(),y=`projects/${m.projectId}/databases/${m.database}/documents/${h.path.canonicalString()}`;t.mightContain(y)||(this.tt(e,h,null),l++)}),l}It(t){const e=new Map;this.je.forEach((h,m)=>{const y=this._t(m);if(y){if(h.current&&yp(y.target)){const v=new Mt(y.target.path);this.Et(v).has(m)||this.dt(m,v)||this.tt(m,v,Hn.newNoDocument(v,t))}h.Le&&(e.set(m,h.qe()),h.Qe())}});let a=ie();this.Ye.forEach((h,m)=>{let y=!0;m.forEachWhile(v=>{const T=this._t(v);return!T||T.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)}),y&&(a=a.add(h))}),this.He.forEach((h,m)=>m.setReadTime(t));const l=new Yf(t,e,this.Ze,this.He,a);return this.He=Ms(),this.Je=jh(),this.Ye=jh(),this.Ze=new qe(Yt),l}et(t,e){if(!this.it(t))return;const a=this.dt(t,e.key)?2:0;this.rt(t).$e(e.key,a),this.He=this.He.insert(e.key,e),this.Je=this.Je.insert(e.key,this.Et(e.key).add(t)),this.Ye=this.Ye.insert(e.key,this.At(e.key).add(t))}tt(t,e,a){if(!this.it(t))return;const l=this.rt(t);this.dt(t,e)?l.$e(e,1):l.Ue(e),this.Ye=this.Ye.insert(e,this.At(e).delete(t)),this.Ye=this.Ye.insert(e,this.At(e).add(t)),a&&(this.He=this.He.insert(e,a))}removeTarget(t){this.je.delete(t)}ut(t){const e=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let e=this.je.get(t);return e||(e=new iT,this.je.set(t,e)),e}At(t){let e=this.Ye.get(t);return e||(e=new cn(Yt),this.Ye=this.Ye.insert(t,e)),e}Et(t){let e=this.Je.get(t);return e||(e=new cn(Yt),this.Je=this.Je.insert(t,e)),e}it(t){const e=this._t(t)!==null;return e||At("WatchChangeAggregator","Detected inactive target",t),e}_t(t){const e=this.je.get(t);return e&&e.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new iT),this.ze.getRemoteKeysForTarget(t).forEach(e=>{this.tt(t,e,null)})}dt(t,e){return this.ze.getRemoteKeysForTarget(t).has(e)}}function jh(){return new qe(Mt.comparator)}function rT(){return new qe(Mt.comparator)}const wO={asc:"ASCENDING",desc:"DESCENDING"},bO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AO={and:"AND",or:"OR"};class SO{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Ep(i,t){return i.useProto3Json||jf(t)?t:{value:t}}function bf(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ob(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function IO(i,t){return bf(i,t.toTimestamp())}function Kr(i){return me(!!i,49232),jt.fromTimestamp(function(e){const a=Za(e);return new un(a.seconds,a.nanos)}(i))}function bg(i,t){return wp(i,t).canonicalString()}function wp(i,t){const e=function(l){return new ke(["projects",l.projectId,"databases",l.database])}(i).child("documents");return t===void 0?e:e.child(t)}function lb(i){const t=ke.fromString(i);return me(db(t),10190,{key:t.toString()}),t}function bp(i,t){return bg(i.databaseId,t.path)}function Wm(i,t){const e=lb(t);if(e.get(1)!==i.databaseId.projectId)throw new Ct(dt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+i.databaseId.projectId);if(e.get(3)!==i.databaseId.database)throw new Ct(dt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+i.databaseId.database);return new Mt(cb(e))}function ub(i,t){return bg(i.databaseId,t)}function RO(i){const t=lb(i);return t.length===4?ke.emptyPath():cb(t)}function Ap(i){return new ke(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function cb(i){return me(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function sT(i,t,e){return{name:bp(i,t),fields:e.value.mapValue.fields}}function CO(i,t){let e;if("targetChange"in t){t.targetChange;const a=function(T){return T==="NO_CHANGE"?0:T==="ADD"?1:T==="REMOVE"?2:T==="CURRENT"?3:T==="RESET"?4:zt(39313,{state:T})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],h=function(T,S){return T.useProto3Json?(me(S===void 0||typeof S=="string",58123),xn.fromBase64String(S||"")):(me(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),xn.fromUint8Array(S||new Uint8Array))}(i,t.targetChange.resumeToken),m=t.targetChange.cause,y=m&&function(T){const S=T.code===void 0?dt.UNKNOWN:rb(T.code);return new Ct(S,T.message||"")}(m);e=new ab(a,l,h,y||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Wm(i,a.document.name),h=Kr(a.document.updateTime),m=a.document.createTime?Kr(a.document.createTime):jt.min(),y=new Wi({mapValue:{fields:a.document.fields}}),v=Hn.newFoundDocument(l,h,m,y),T=a.targetIds||[],S=a.removedTargetIds||[];e=new nf(T,S,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Wm(i,a.document),h=a.readTime?Kr(a.readTime):jt.min(),m=Hn.newNoDocument(l,h),y=a.removedTargetIds||[];e=new nf([],y,m.key,m)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Wm(i,a.document),h=a.removedTargetIds||[];e=new nf([],h,l,null)}else{if(!("filter"in t))return zt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:h}=a,m=new yO(l,h),y=a.targetId;e=new sb(y,m)}}return e}function xO(i,t){let e;if(t instanceof Pc)e={update:sT(i,t.key,t.value)};else if(t instanceof ib)e={delete:bp(i,t.key)};else if(t instanceof Qo)e={update:sT(i,t.key,t.data),updateMask:zO(t.fieldMask)};else{if(!(t instanceof pO))return zt(16599,{ft:t.type});e={verify:bp(i,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(a=>function(h,m){const y=m.transform;if(y instanceof Ef)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof Tc)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Ec)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof wf)return{fieldPath:m.field.canonicalString(),increment:y.Re};throw zt(20930,{transform:m.transform})}(0,a))),t.precondition.isNone||(e.currentDocument=function(l,h){return h.updateTime!==void 0?{updateTime:IO(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:zt(27497)}(i,t.precondition)),e}function PO(i,t){return i&&i.length>0?(me(t!==void 0,14353),i.map(e=>function(l,h){let m=l.updateTime?Kr(l.updateTime):Kr(h);return m.isEqual(jt.min())&&(m=Kr(h)),new fO(m,l.transformResults||[])}(e,t))):[]}function OO(i,t){return{documents:[ub(i,t.path)]}}function LO(i,t){const e={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),e.structuredQuery.from=[{collectionId:a.lastSegment()}]),e.parent=ub(i,l);const h=function(T){if(T.length!==0)return fb(br.create(T,"and"))}(t.filters);h&&(e.structuredQuery.where=h);const m=function(T){if(T.length!==0)return T.map(S=>function(P){return{field:Bl(P.field),direction:NO(P.dir)}}(S))}(t.orderBy);m&&(e.structuredQuery.orderBy=m);const y=Ep(i,t.limit);return y!==null&&(e.structuredQuery.limit=y),t.startAt&&(e.structuredQuery.startAt=function(T){return{before:T.inclusive,values:T.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(T){return{before:!T.inclusive,values:T.position}}(t.endAt)),{gt:e,parent:l}}function MO(i){let t=RO(i.parent);const e=i.structuredQuery,a=e.from?e.from.length:0;let l=null;if(a>0){me(a===1,65062);const S=e.from[0];S.allDescendants?l=S.collectionId:t=t.child(S.collectionId)}let h=[];e.where&&(h=function(C){const P=hb(C);return P instanceof br&&Bw(P)?P.getFilters():[P]}(e.where));let m=[];e.orderBy&&(m=function(C){return C.map(P=>function(q){return new Tf(Hl(q.field),function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(q.direction))}(P))}(e.orderBy));let y=null;e.limit&&(y=function(C){let P;return P=typeof C=="object"?C.value:C,jf(P)?null:P}(e.limit));let v=null;e.startAt&&(v=function(C){const P=!!C.before,U=C.values||[];return new vf(U,P)}(e.startAt));let T=null;return e.endAt&&(T=function(C){const P=!C.before,U=C.values||[];return new vf(U,P)}(e.endAt)),JP(t,l,m,h,y,"F",v,T)}function DO(i,t){const e=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return zt(28987,{purpose:l})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function hb(i){return i.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const a=Hl(e.unaryFilter.field);return rn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Hl(e.unaryFilter.field);return rn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Hl(e.unaryFilter.field);return rn.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=Hl(e.unaryFilter.field);return rn.create(m,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return zt(61313);default:return zt(60726)}}(i):i.fieldFilter!==void 0?function(e){return rn.create(Hl(e.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return zt(58110);default:return zt(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(e){return br.create(e.compositeFilter.filters.map(a=>hb(a)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return zt(1026)}}(e.compositeFilter.op))}(i):zt(30097,{filter:i})}function NO(i){return wO[i]}function kO(i){return bO[i]}function VO(i){return AO[i]}function Bl(i){return{fieldPath:i.canonicalString()}}function Hl(i){return Cn.fromServerFormat(i.fieldPath)}function fb(i){return i instanceof rn?function(e){if(e.op==="=="){if(Z0(e.value))return{unaryFilter:{field:Bl(e.field),op:"IS_NAN"}};if(G0(e.value))return{unaryFilter:{field:Bl(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Z0(e.value))return{unaryFilter:{field:Bl(e.field),op:"IS_NOT_NAN"}};if(G0(e.value))return{unaryFilter:{field:Bl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bl(e.field),op:kO(e.op),value:e.value}}}(i):i instanceof br?function(e){const a=e.getFilters().map(l=>fb(l));return a.length===1?a[0]:{compositeFilter:{op:VO(e.op),filters:a}}}(i):zt(54877,{filter:i})}function zO(i){const t=[];return i.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function db(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(t,e,a,l,h=jt.min(),m=jt.min(),y=xn.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=e,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(t){return new ka(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new ka(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ka(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(t){this.wt=t}}function BO(i){const t=MO({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Tp(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(){this.Cn=new qO}addToCollectionParentIndex(t,e){return this.Cn.add(e),ht.resolve()}getCollectionParents(t,e){return ht.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return ht.resolve()}deleteFieldIndex(t,e){return ht.resolve()}deleteAllFieldIndexes(t){return ht.resolve()}createTargetIndexes(t,e){return ht.resolve()}getDocumentsMatchingTarget(t,e){return ht.resolve(null)}getIndexType(t,e){return ht.resolve(0)}getFieldIndexes(t,e){return ht.resolve([])}getNextCollectionGroupToUpdate(t){return ht.resolve(null)}getMinOffset(t,e){return ht.resolve(Ga.min())}getMinOffsetFromCollectionGroup(t,e){return ht.resolve(Ga.min())}updateCollectionGroup(t,e,a){return ht.resolve()}updateIndexEntries(t,e){return ht.resolve()}}class qO{constructor(){this.index={}}add(t){const e=t.lastSegment(),a=t.popLast(),l=this.index[e]||new cn(ke.comparator),h=!l.has(a);return this.index[e]=l.add(a),h}has(t){const e=t.lastSegment(),a=t.popLast(),l=this.index[e];return l&&l.has(a)}getEntries(t){return(this.index[t]||new cn(ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},mb=41943040;class ai{static withCacheSize(t){return new ai(t,ai.DEFAULT_COLLECTION_PERCENTILE,ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ai.DEFAULT_COLLECTION_PERCENTILE=10,ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ai.DEFAULT=new ai(mb,ai.DEFAULT_COLLECTION_PERCENTILE,ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ai.DISABLED=new ai(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Xl(0)}static lr(){return new Xl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="LruGarbageCollector",jO=1048576;function lT([i,t],[e,a]){const l=Yt(i,e);return l===0?Yt(t,a):l}class FO{constructor(t){this.Er=t,this.buffer=new cn(lT),this.dr=0}Ar(){return++this.dr}Rr(t){const e=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(e);else{const a=this.buffer.last();lT(e,a)<0&&(this.buffer=this.buffer.delete(a).add(e))}}get maxValue(){return this.buffer.last()[0]}}class GO{constructor(t,e,a){this.garbageCollector=t,this.asyncQueue=e,this.localStore=a,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){At(oT,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){au(e)?At(oT,"Ignoring IndexedDB error during garbage collection: ",e):await su(e)}await this.mr(3e5)})}}class ZO{constructor(t,e){this.gr=t,this.params=e}calculateTargetCount(t,e){return this.gr.pr(t).next(a=>Math.floor(e/100*a))}nthSequenceNumber(t,e){if(e===0)return ht.resolve(qf.le);const a=new FO(e);return this.gr.forEachTarget(t,l=>a.Rr(l.sequenceNumber)).next(()=>this.gr.yr(t,l=>a.Rr(l))).next(()=>a.maxValue)}removeTargets(t,e,a){return this.gr.removeTargets(t,e,a)}removeOrphanedDocuments(t,e){return this.gr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(At("LruGarbageCollector","Garbage collection skipped; disabled"),ht.resolve(aT)):this.getCacheSize(t).next(a=>a<this.params.cacheSizeCollectionThreshold?(At("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aT):this.wr(t,e))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,e){let a,l,h,m,y,v,T;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(At("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),l=this.params.maximumSequenceNumbersToCollect):l=C,m=Date.now(),this.nthSequenceNumber(t,l))).next(C=>(a=C,y=Date.now(),this.removeTargets(t,a,e))).next(C=>(h=C,v=Date.now(),this.removeOrphanedDocuments(t,a))).next(C=>(T=Date.now(),zl()<=ne.DEBUG&&At("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${m-S}ms
	Determined least recently used ${l} in `+(y-m)+`ms
	Removed ${h} targets in `+(v-y)+`ms
	Removed ${C} documents in `+(T-v)+`ms
Total Duration: ${T-S}ms`),ht.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:C})))}}function $O(i,t){return new ZO(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(){this.changes=new Yo(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Hn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const a=this.changes.get(e);return a!==void 0?ht.resolve(a):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(t,e,a,l){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,e){let a=null;return this.documentOverlayCache.getOverlay(t,e).next(l=>(a=l,this.remoteDocumentCache.getEntry(t,e))).next(l=>(a!==null&&fc(a.mutation,l,Er.empty(),un.now()),l))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(a=>this.getLocalViewOfDocuments(t,a,ie()).next(()=>a))}getLocalViewOfDocuments(t,e,a=ie()){const l=ko();return this.populateOverlays(t,l,e).next(()=>this.computeViews(t,e,l,a).next(h=>{let m=ic();return h.forEach((y,v)=>{m=m.insert(y,v.overlayedDocument)}),m}))}getOverlayedDocuments(t,e){const a=ko();return this.populateOverlays(t,a,e).next(()=>this.computeViews(t,e,a,ie()))}populateOverlays(t,e,a){const l=[];return a.forEach(h=>{e.has(h)||l.push(h)}),this.documentOverlayCache.getOverlays(t,l).next(h=>{h.forEach((m,y)=>{e.set(m,y)})})}computeViews(t,e,a,l){let h=Ms();const m=hc(),y=function(){return hc()}();return e.forEach((v,T)=>{const S=a.get(T.key);l.has(T.key)&&(S===void 0||S.mutation instanceof Qo)?h=h.insert(T.key,T):S!==void 0?(m.set(T.key,S.mutation.getFieldMask()),fc(S.mutation,T,S.mutation.getFieldMask(),un.now())):m.set(T.key,Er.empty())}),this.recalculateAndSaveOverlays(t,h).next(v=>(v.forEach((T,S)=>m.set(T,S)),e.forEach((T,S)=>{var C;return y.set(T,new YO(S,(C=m.get(T))!==null&&C!==void 0?C:null))}),y))}recalculateAndSaveOverlays(t,e){const a=hc();let l=new qe((m,y)=>m-y),h=ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(m=>{for(const y of m)y.keys().forEach(v=>{const T=e.get(v);if(T===null)return;let S=a.get(v)||Er.empty();S=y.applyToLocalView(T,S),a.set(v,S);const C=(l.get(y.batchId)||ie()).add(v);l=l.insert(y.batchId,C)})}).next(()=>{const m=[],y=l.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),T=v.key,S=v.value,C=Yw();S.forEach(P=>{if(!h.has(P)){const U=eb(e.get(P),a.get(P));U!==null&&C.set(P,U),h=h.add(P)}}),m.push(this.documentOverlayCache.saveOverlays(t,T,C))}return ht.waitFor(m)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(a=>this.recalculateAndSaveOverlays(t,a))}getDocumentsMatchingQuery(t,e,a,l){return function(m){return Mt.isDocumentKey(m.path)&&m.collectionGroup===null&&m.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):Fw(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,a,l):this.getDocumentsMatchingCollectionQuery(t,e,a,l)}getNextDocuments(t,e,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,a,l).next(h=>{const m=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,a.largestBatchId,l-h.size):ht.resolve(ko());let y=gc,v=h;return m.next(T=>ht.forEach(T,(S,C)=>(y<C.largestBatchId&&(y=C.largestBatchId),h.get(S)?ht.resolve():this.remoteDocumentCache.getEntry(t,S).next(P=>{v=v.insert(S,P)}))).next(()=>this.populateOverlays(t,T,h)).next(()=>this.computeViews(t,v,T,ie())).next(S=>({batchId:y,changes:Kw(S)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Mt(e)).next(a=>{let l=ic();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l})}getDocumentsMatchingCollectionGroupQuery(t,e,a,l){const h=e.collectionGroup;let m=ic();return this.indexManager.getCollectionParents(t,h).next(y=>ht.forEach(y,v=>{const T=function(C,P){return new xc(P,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(e,v.child(h));return this.getDocumentsMatchingCollectionQuery(t,T,a,l).next(S=>{S.forEach((C,P)=>{m=m.insert(C,P)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(t,e,a,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,a.largestBatchId).next(m=>(h=m,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,a,h,l))).next(m=>{h.forEach((v,T)=>{const S=T.getKey();m.get(S)===null&&(m=m.insert(S,Hn.newInvalidDocument(S)))});let y=ic();return m.forEach((v,T)=>{const S=h.get(v);S!==void 0&&fc(S.mutation,T,Er.empty(),un.now()),Zf(e,T)&&(y=y.insert(v,T))}),y})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XO{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,e){return ht.resolve(this.kr.get(e))}saveBundleMetadata(t,e){return this.kr.set(e.id,function(l){return{id:l.id,version:l.version,createTime:Kr(l.createTime)}}(e)),ht.resolve()}getNamedQuery(t,e){return ht.resolve(this.qr.get(e))}saveNamedQuery(t,e){return this.qr.set(e.name,function(l){return{name:l.name,query:BO(l.bundledQuery),readTime:Kr(l.readTime)}}(e)),ht.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(){this.overlays=new qe(Mt.comparator),this.Qr=new Map}getOverlay(t,e){return ht.resolve(this.overlays.get(e))}getOverlays(t,e){const a=ko();return ht.forEach(e,l=>this.getOverlay(t,l).next(h=>{h!==null&&a.set(l,h)})).next(()=>a)}saveOverlays(t,e,a){return a.forEach((l,h)=>{this.St(t,e,h)}),ht.resolve()}removeOverlaysForBatchId(t,e,a){const l=this.Qr.get(a);return l!==void 0&&(l.forEach(h=>this.overlays=this.overlays.remove(h)),this.Qr.delete(a)),ht.resolve()}getOverlaysForCollection(t,e,a){const l=ko(),h=e.length+1,m=new Mt(e.child("")),y=this.overlays.getIteratorFrom(m);for(;y.hasNext();){const v=y.getNext().value,T=v.getKey();if(!e.isPrefixOf(T.path))break;T.path.length===h&&v.largestBatchId>a&&l.set(v.getKey(),v)}return ht.resolve(l)}getOverlaysForCollectionGroup(t,e,a,l){let h=new qe((T,S)=>T-S);const m=this.overlays.getIterator();for(;m.hasNext();){const T=m.getNext().value;if(T.getKey().getCollectionGroup()===e&&T.largestBatchId>a){let S=h.get(T.largestBatchId);S===null&&(S=ko(),h=h.insert(T.largestBatchId,S)),S.set(T.getKey(),T)}}const y=ko(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((T,S)=>y.set(T,S)),!(y.size()>=l)););return ht.resolve(y)}St(t,e,a){const l=this.overlays.get(a.key);if(l!==null){const m=this.Qr.get(l.largestBatchId).delete(a.key);this.Qr.set(l.largestBatchId,m)}this.overlays=this.overlays.insert(a.key,new _O(e,a));let h=this.Qr.get(e);h===void 0&&(h=ie(),this.Qr.set(e,h)),this.Qr.set(e,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(){this.sessionToken=xn.EMPTY_BYTE_STRING}getSessionToken(t){return ht.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,ht.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(){this.$r=new cn(Tn.Ur),this.Kr=new cn(Tn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,e){const a=new Tn(t,e);this.$r=this.$r.add(a),this.Kr=this.Kr.add(a)}Gr(t,e){t.forEach(a=>this.addReference(a,e))}removeReference(t,e){this.zr(new Tn(t,e))}jr(t,e){t.forEach(a=>this.removeReference(a,e))}Hr(t){const e=new Mt(new ke([])),a=new Tn(e,t),l=new Tn(e,t+1),h=[];return this.Kr.forEachInRange([a,l],m=>{this.zr(m),h.push(m.key)}),h}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const e=new Mt(new ke([])),a=new Tn(e,t),l=new Tn(e,t+1);let h=ie();return this.Kr.forEachInRange([a,l],m=>{h=h.add(m.key)}),h}containsKey(t){const e=new Tn(t,0),a=this.$r.firstAfterOrEqual(e);return a!==null&&t.isEqual(a.key)}}class Tn{constructor(t,e){this.key=t,this.Zr=e}static Ur(t,e){return Mt.comparator(t.key,e.key)||Yt(t.Zr,e.Zr)}static Wr(t,e){return Yt(t.Zr,e.Zr)||Mt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nr=1,this.Xr=new cn(Tn.Ur)}checkEmpty(t){return ht.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,a,l){const h=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const m=new gO(h,e,a,l);this.mutationQueue.push(m);for(const y of l)this.Xr=this.Xr.add(new Tn(y.key,h)),this.indexManager.addToCollectionParentIndex(t,y.key.path.popLast());return ht.resolve(m)}lookupMutationBatch(t,e){return ht.resolve(this.ei(e))}getNextMutationBatchAfterBatchId(t,e){const a=e+1,l=this.ti(a),h=l<0?0:l;return ht.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return ht.resolve(this.mutationQueue.length===0?mg:this.nr-1)}getAllMutationBatches(t){return ht.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const a=new Tn(e,0),l=new Tn(e,Number.POSITIVE_INFINITY),h=[];return this.Xr.forEachInRange([a,l],m=>{const y=this.ei(m.Zr);h.push(y)}),ht.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,e){let a=new cn(Yt);return e.forEach(l=>{const h=new Tn(l,0),m=new Tn(l,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([h,m],y=>{a=a.add(y.Zr)})}),ht.resolve(this.ni(a))}getAllMutationBatchesAffectingQuery(t,e){const a=e.path,l=a.length+1;let h=a;Mt.isDocumentKey(h)||(h=h.child(""));const m=new Tn(new Mt(h),0);let y=new cn(Yt);return this.Xr.forEachWhile(v=>{const T=v.key.path;return!!a.isPrefixOf(T)&&(T.length===l&&(y=y.add(v.Zr)),!0)},m),ht.resolve(this.ni(y))}ni(t){const e=[];return t.forEach(a=>{const l=this.ei(a);l!==null&&e.push(l)}),e}removeMutationBatch(t,e){me(this.ri(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Xr;return ht.forEach(e.mutations,l=>{const h=new Tn(l.key,e.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Xr=a})}sr(t){}containsKey(t,e){const a=new Tn(e,0),l=this.Xr.firstAfterOrEqual(a);return ht.resolve(e.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,ht.resolve()}ri(t,e){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const e=this.ti(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eL{constructor(t){this.ii=t,this.docs=function(){return new qe(Mt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const a=e.key,l=this.docs.get(a),h=l?l.size:0,m=this.ii(e);return this.docs=this.docs.insert(a,{document:e.mutableCopy(),size:m}),this.size+=m-h,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const a=this.docs.get(e);return ht.resolve(a?a.document.mutableCopy():Hn.newInvalidDocument(e))}getEntries(t,e){let a=Ms();return e.forEach(l=>{const h=this.docs.get(l);a=a.insert(l,h?h.document.mutableCopy():Hn.newInvalidDocument(l))}),ht.resolve(a)}getDocumentsMatchingQuery(t,e,a,l){let h=Ms();const m=e.path,y=new Mt(m.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:T,value:{document:S}}=v.getNext();if(!m.isPrefixOf(T.path))break;T.path.length>m.length+1||OP(PP(S),a)<=0||(l.has(S.key)||Zf(e,S))&&(h=h.insert(S.key,S.mutableCopy()))}return ht.resolve(h)}getAllFromCollectionGroup(t,e,a,l){zt(9500)}si(t,e){return ht.forEach(this.docs,a=>e(a))}newChangeBuffer(t){return new nL(this)}getSize(t){return ht.resolve(this.size)}}class nL extends KO{constructor(t){super(),this.Br=t}applyChanges(t){const e=[];return this.changes.forEach((a,l)=>{l.isValidDocument()?e.push(this.Br.addEntry(t,l)):this.Br.removeEntry(a)}),ht.waitFor(e)}getFromCache(t,e){return this.Br.getEntry(t,e)}getAllFromCache(t,e){return this.Br.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(t){this.persistence=t,this.oi=new Yo(e=>_g(e),yg),this.lastRemoteSnapshotVersion=jt.min(),this.highestTargetId=0,this._i=0,this.ai=new Ag,this.targetCount=0,this.ui=Xl.cr()}forEachTarget(t,e){return this.oi.forEach((a,l)=>e(l)),ht.resolve()}getLastRemoteSnapshotVersion(t){return ht.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ht.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),ht.resolve(this.highestTargetId)}setTargetsMetadata(t,e,a){return a&&(this.lastRemoteSnapshotVersion=a),e>this._i&&(this._i=e),ht.resolve()}Tr(t){this.oi.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ui=new Xl(e),this.highestTargetId=e),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,e){return this.Tr(e),this.targetCount+=1,ht.resolve()}updateTargetData(t,e){return this.Tr(e),ht.resolve()}removeTargetData(t,e){return this.oi.delete(e.target),this.ai.Hr(e.targetId),this.targetCount-=1,ht.resolve()}removeTargets(t,e,a){let l=0;const h=[];return this.oi.forEach((m,y)=>{y.sequenceNumber<=e&&a.get(y.targetId)===null&&(this.oi.delete(m),h.push(this.removeMatchingKeysForTargetId(t,y.targetId)),l++)}),ht.waitFor(h).next(()=>l)}getTargetCount(t){return ht.resolve(this.targetCount)}getTargetData(t,e){const a=this.oi.get(e)||null;return ht.resolve(a)}addMatchingKeys(t,e,a){return this.ai.Gr(e,a),ht.resolve()}removeMatchingKeys(t,e,a){this.ai.jr(e,a);const l=this.persistence.referenceDelegate,h=[];return l&&e.forEach(m=>{h.push(l.markPotentiallyOrphaned(t,m))}),ht.waitFor(h)}removeMatchingKeysForTargetId(t,e){return this.ai.Hr(e),ht.resolve()}getMatchingKeysForTargetId(t,e){const a=this.ai.Yr(e);return ht.resolve(a)}containsKey(t,e){return ht.resolve(this.ai.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(t,e){this.ci={},this.overlays={},this.li=new qf(0),this.hi=!1,this.hi=!0,this.Pi=new JO,this.referenceDelegate=t(this),this.Ti=new iL(this),this.indexManager=new HO,this.remoteDocumentCache=function(l){return new eL(l)}(a=>this.referenceDelegate.Ii(a)),this.serializer=new UO(e),this.Ei=new XO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new WO,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let a=this.ci[t.toKey()];return a||(a=new tL(e,this.referenceDelegate),this.ci[t.toKey()]=a),a}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,e,a){At("MemoryPersistence","Starting transaction:",t);const l=new rL(this.li.next());return this.referenceDelegate.di(),a(l).next(h=>this.referenceDelegate.Ai(l).next(()=>h)).toPromise().then(h=>(l.raiseOnCommittedEvent(),h))}Ri(t,e){return ht.or(Object.values(this.ci).map(a=>()=>a.containsKey(t,e)))}}class rL extends MP{constructor(t){super(),this.currentSequenceNumber=t}}class Sg{constructor(t){this.persistence=t,this.Vi=new Ag,this.mi=null}static fi(t){return new Sg(t)}get gi(){if(this.mi)return this.mi;throw zt(60996)}addReference(t,e,a){return this.Vi.addReference(a,e),this.gi.delete(a.toString()),ht.resolve()}removeReference(t,e,a){return this.Vi.removeReference(a,e),this.gi.add(a.toString()),ht.resolve()}markPotentiallyOrphaned(t,e){return this.gi.add(e.toString()),ht.resolve()}removeTarget(t,e){this.Vi.Hr(e.targetId).forEach(l=>this.gi.add(l.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,e.targetId).next(l=>{l.forEach(h=>this.gi.add(h.toString()))}).next(()=>a.removeTargetData(t,e))}di(){this.mi=new Set}Ai(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ht.forEach(this.gi,a=>{const l=Mt.fromPath(a);return this.pi(t,l).next(h=>{h||e.removeEntry(l,jt.min())})}).next(()=>(this.mi=null,e.apply(t)))}updateLimboDocument(t,e){return this.pi(t,e).next(a=>{a?this.gi.delete(e.toString()):this.gi.add(e.toString())})}Ii(t){return 0}pi(t,e){return ht.or([()=>ht.resolve(this.Vi.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ri(t,e)])}}class Af{constructor(t,e){this.persistence=t,this.yi=new Yo(a=>kP(a.path),(a,l)=>a.isEqual(l)),this.garbageCollector=$O(this,e)}static fi(t,e){return new Af(t,e)}di(){}Ai(t){return ht.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}pr(t){const e=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(a=>e.next(l=>a+l))}br(t){let e=0;return this.yr(t,a=>{e++}).next(()=>e)}yr(t,e){return ht.forEach(this.yi,(a,l)=>this.Dr(t,a,l).next(h=>h?ht.resolve():e(l)))}removeTargets(t,e,a){return this.persistence.getTargetCache().removeTargets(t,e,a)}removeOrphanedDocuments(t,e){let a=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.si(t,m=>this.Dr(t,m,e).next(y=>{y||(a++,h.removeEntry(m,jt.min()))})).next(()=>h.apply(t)).next(()=>a)}markPotentiallyOrphaned(t,e){return this.yi.set(e,t.currentSequenceNumber),ht.resolve()}removeTarget(t,e){const a=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,e,a){return this.yi.set(a,t.currentSequenceNumber),ht.resolve()}removeReference(t,e,a){return this.yi.set(a,t.currentSequenceNumber),ht.resolve()}updateLimboDocument(t,e){return this.yi.set(e,t.currentSequenceNumber),ht.resolve()}Ii(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Jh(t.data.value)),e}Dr(t,e,a){return ht.or([()=>this.persistence.Ri(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const l=this.yi.get(e);return ht.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(t,e,a,l){this.targetId=t,this.fromCache=e,this.ds=a,this.As=l}static Rs(t,e){let a=ie(),l=ie();for(const h of e.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new Ig(t,e.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return MI()?8:DP(qn())>0?6:4}()}initialize(t,e){this.ys=t,this.indexManager=e,this.Vs=!0}getDocumentsMatchingQuery(t,e,a,l){const h={result:null};return this.ws(t,e).next(m=>{h.result=m}).next(()=>{if(!h.result)return this.bs(t,e,l,a).next(m=>{h.result=m})}).next(()=>{if(h.result)return;const m=new sL;return this.Ss(t,e,m).next(y=>{if(h.result=y,this.fs)return this.Ds(t,e,m,y.size)})}).next(()=>h.result)}Ds(t,e,a,l){return a.documentReadCount<this.gs?(zl()<=ne.DEBUG&&At("QueryEngine","SDK will not create cache indexes for query:",Ul(e),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ht.resolve()):(zl()<=ne.DEBUG&&At("QueryEngine","Query:",Ul(e),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ps*l?(zl()<=ne.DEBUG&&At("QueryEngine","The SDK decides to create cache indexes for query:",Ul(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,$r(e))):ht.resolve())}ws(t,e){if(Q0(e))return ht.resolve(null);let a=$r(e);return this.indexManager.getIndexType(t,a).next(l=>l===0?null:(e.limit!==null&&l===1&&(e=Tp(e,null,"F"),a=$r(e)),this.indexManager.getDocumentsMatchingTarget(t,a).next(h=>{const m=ie(...h);return this.ys.getDocuments(t,m).next(y=>this.indexManager.getMinOffset(t,a).next(v=>{const T=this.vs(e,y);return this.Cs(e,T,m,v.readTime)?this.ws(t,Tp(e,null,"F")):this.Fs(t,T,e,v)}))})))}bs(t,e,a,l){return Q0(e)||l.isEqual(jt.min())?ht.resolve(null):this.ys.getDocuments(t,a).next(h=>{const m=this.vs(e,h);return this.Cs(e,m,a,l)?ht.resolve(null):(zl()<=ne.DEBUG&&At("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ul(e)),this.Fs(t,m,e,xP(l,gc)).next(y=>y))})}vs(t,e){let a=new cn(Zw(t));return e.forEach((l,h)=>{Zf(t,h)&&(a=a.add(h))}),a}Cs(t,e,a,l){if(t.limit===null)return!1;if(a.size!==e.size)return!0;const h=t.limitType==="F"?e.last():e.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Ss(t,e,a){return zl()<=ne.DEBUG&&At("QueryEngine","Using full collection scan to execute query:",Ul(e)),this.ys.getDocumentsMatchingQuery(t,e,Ga.min(),a)}Fs(t,e,a,l){return this.ys.getDocumentsMatchingQuery(t,a,l).next(h=>(e.forEach(m=>{h=h.insert(m.key,m)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg="LocalStore",oL=3e8;class lL{constructor(t,e,a,l){this.persistence=t,this.Ms=e,this.serializer=l,this.xs=new qe(Yt),this.Os=new Yo(h=>_g(h),yg),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(a)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new QO(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.xs))}}function uL(i,t,e,a){return new lL(i,t,e,a)}async function gb(i,t){const e=Ft(i);return await e.persistence.runTransaction("Handle user change","readonly",a=>{let l;return e.mutationQueue.getAllMutationBatches(a).next(h=>(l=h,e.Ls(t),e.mutationQueue.getAllMutationBatches(a))).next(h=>{const m=[],y=[];let v=ie();for(const T of l){m.push(T.batchId);for(const S of T.mutations)v=v.add(S.key)}for(const T of h){y.push(T.batchId);for(const S of T.mutations)v=v.add(S.key)}return e.localDocuments.getDocuments(a,v).next(T=>({ks:T,removedBatchIds:m,addedBatchIds:y}))})})}function cL(i,t){const e=Ft(i);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const l=t.batch.keys(),h=e.Bs.newChangeBuffer({trackRemovals:!0});return function(y,v,T,S){const C=T.batch,P=C.keys();let U=ht.resolve();return P.forEach(q=>{U=U.next(()=>S.getEntry(v,q)).next(Z=>{const W=T.docVersions.get(q);me(W!==null,48541),Z.version.compareTo(W)<0&&(C.applyToRemoteDocument(Z,T),Z.isValidDocument()&&(Z.setReadTime(T.commitVersion),S.addEntry(Z)))})}),U.next(()=>y.mutationQueue.removeMutationBatch(v,C))}(e,a,t,h).next(()=>h.apply(a)).next(()=>e.mutationQueue.performConsistencyCheck(a)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(y){let v=ie();for(let T=0;T<y.mutationResults.length;++T)y.mutationResults[T].transformResults.length>0&&(v=v.add(y.batch.mutations[T].key));return v}(t))).next(()=>e.localDocuments.getDocuments(a,l))})}function _b(i){const t=Ft(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ti.getLastRemoteSnapshotVersion(e))}function hL(i,t){const e=Ft(i),a=t.snapshotVersion;let l=e.xs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const m=e.Bs.newChangeBuffer({trackRemovals:!0});l=e.xs;const y=[];t.targetChanges.forEach((S,C)=>{const P=l.get(C);if(!P)return;y.push(e.Ti.removeMatchingKeys(h,S.removedDocuments,C).next(()=>e.Ti.addMatchingKeys(h,S.addedDocuments,C)));let U=P.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(C)!==null?U=U.withResumeToken(xn.EMPTY_BYTE_STRING,jt.min()).withLastLimboFreeSnapshotVersion(jt.min()):S.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(S.resumeToken,a)),l=l.insert(C,U),function(Z,W,st){return Z.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=oL?!0:st.addedDocuments.size+st.modifiedDocuments.size+st.removedDocuments.size>0}(P,U,S)&&y.push(e.Ti.updateTargetData(h,U))});let v=Ms(),T=ie();if(t.documentUpdates.forEach(S=>{t.resolvedLimboDocuments.has(S)&&y.push(e.persistence.referenceDelegate.updateLimboDocument(h,S))}),y.push(fL(h,m,t.documentUpdates).next(S=>{v=S.qs,T=S.Qs})),!a.isEqual(jt.min())){const S=e.Ti.getLastRemoteSnapshotVersion(h).next(C=>e.Ti.setTargetsMetadata(h,h.currentSequenceNumber,a));y.push(S)}return ht.waitFor(y).next(()=>m.apply(h)).next(()=>e.localDocuments.getLocalViewOfDocuments(h,v,T)).next(()=>v)}).then(h=>(e.xs=l,h))}function fL(i,t,e){let a=ie(),l=ie();return e.forEach(h=>a=a.add(h)),t.getEntries(i,a).next(h=>{let m=Ms();return e.forEach((y,v)=>{const T=h.get(y);v.isFoundDocument()!==T.isFoundDocument()&&(l=l.add(y)),v.isNoDocument()&&v.version.isEqual(jt.min())?(t.removeEntry(y,v.readTime),m=m.insert(y,v)):!T.isValidDocument()||v.version.compareTo(T.version)>0||v.version.compareTo(T.version)===0&&T.hasPendingWrites?(t.addEntry(v),m=m.insert(y,v)):At(Rg,"Ignoring outdated watch update for ",y,". Current version:",T.version," Watch version:",v.version)}),{qs:m,Qs:l}})}function dL(i,t){const e=Ft(i);return e.persistence.runTransaction("Get next mutation batch","readonly",a=>(t===void 0&&(t=mg),e.mutationQueue.getNextMutationBatchAfterBatchId(a,t)))}function mL(i,t){const e=Ft(i);return e.persistence.runTransaction("Allocate target","readwrite",a=>{let l;return e.Ti.getTargetData(a,t).next(h=>h?(l=h,ht.resolve(l)):e.Ti.allocateTargetId(a).next(m=>(l=new ka(t,m,"TargetPurposeListen",a.currentSequenceNumber),e.Ti.addTargetData(a,l).next(()=>l))))}).then(a=>{const l=e.xs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(e.xs=e.xs.insert(a.targetId,a),e.Os.set(t,a.targetId)),a})}async function Sp(i,t,e){const a=Ft(i),l=a.xs.get(t),h=e?"readwrite":"readwrite-primary";try{e||await a.persistence.runTransaction("Release target",h,m=>a.persistence.referenceDelegate.removeTarget(m,l))}catch(m){if(!au(m))throw m;At(Rg,`Failed to update sequence numbers for target ${t}: ${m}`)}a.xs=a.xs.remove(t),a.Os.delete(l.target)}function uT(i,t,e){const a=Ft(i);let l=jt.min(),h=ie();return a.persistence.runTransaction("Execute query","readwrite",m=>function(v,T,S){const C=Ft(v),P=C.Os.get(S);return P!==void 0?ht.resolve(C.xs.get(P)):C.Ti.getTargetData(T,S)}(a,m,$r(t)).next(y=>{if(y)return l=y.lastLimboFreeSnapshotVersion,a.Ti.getMatchingKeysForTargetId(m,y.targetId).next(v=>{h=v})}).next(()=>a.Ms.getDocumentsMatchingQuery(m,t,e?l:jt.min(),e?h:ie())).next(y=>(pL(a,eO(t),y),{documents:y,$s:h})))}function pL(i,t,e){let a=i.Ns.get(t)||jt.min();e.forEach((l,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),i.Ns.set(t,a)}class cT{constructor(){this.activeTargetIds=oO()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class gL{constructor(){this.xo=new cT,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,a){}addLocalQueryTarget(t,e=!0){return e&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,e,a){this.Oo[t]=e}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new cT,Promise.resolve()}handleUserChange(t,e,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hT="ConnectivityMonitor";class fT{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){At(hT,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){At(hT,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fh=null;function Ip(){return Fh===null?Fh=function(){return 268435456+Math.round(2147483648*Math.random())}():Fh++,"0x"+Fh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm="RestConnection",yL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vL{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Ko=e+"://"+t.host,this.Wo=`projects/${a}/databases/${l}`,this.Go=this.databaseId.database===_f?`project_id=${a}`:`project_id=${a}&database_id=${l}`}zo(t,e,a,l,h){const m=Ip(),y=this.jo(t,e.toUriEncodedString());At(Jm,`Sending RPC '${t}' ${m}:`,y,a);const v={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(v,l,h);const{host:T}=new URL(y),S=eu(T);return this.Jo(t,y,v,a,S).then(C=>(At(Jm,`Received RPC '${t}' ${m}: `,C),C),C=>{throw $l(Jm,`RPC '${t}' ${m} failed with error: `,C,"url: ",y,"request:",a),C})}Yo(t,e,a,l,h,m){return this.zo(t,e,a,l,h)}Ho(t,e,a){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ru}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((l,h)=>t[h]=l),a&&a.headers.forEach((l,h)=>t[h]=l)}jo(t,e){const a=yL[t];return`${this.Ko}/v1/${e}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Un="WebChannelConnection";class EL extends vL{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,a,l,h){const m=Ip();return new Promise((y,v)=>{const T=new vw;T.setWithCredentials(!0),T.listenOnce(Tw.COMPLETE,()=>{try{switch(T.getLastErrorCode()){case Wh.NO_ERROR:const C=T.getResponseJson();At(Un,`XHR for RPC '${t}' ${m} received:`,JSON.stringify(C)),y(C);break;case Wh.TIMEOUT:At(Un,`RPC '${t}' ${m} timed out`),v(new Ct(dt.DEADLINE_EXCEEDED,"Request time out"));break;case Wh.HTTP_ERROR:const P=T.getStatus();if(At(Un,`RPC '${t}' ${m} failed with status:`,P,"response text:",T.getResponseText()),P>0){let U=T.getResponseJson();Array.isArray(U)&&(U=U[0]);const q=U==null?void 0:U.error;if(q&&q.status&&q.message){const Z=function(st){const J=st.toLowerCase().replace(/_/g,"-");return Object.values(dt).indexOf(J)>=0?J:dt.UNKNOWN}(q.status);v(new Ct(Z,q.message))}else v(new Ct(dt.UNKNOWN,"Server responded with status "+T.getStatus()))}else v(new Ct(dt.UNAVAILABLE,"Connection failed."));break;default:zt(9055,{h_:t,streamId:m,P_:T.getLastErrorCode(),T_:T.getLastError()})}}finally{At(Un,`RPC '${t}' ${m} completed.`)}});const S=JSON.stringify(l);At(Un,`RPC '${t}' ${m} sending request:`,l),T.send(e,"POST",S,a,15)})}I_(t,e,a){const l=Ip(),h=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],m=bw(),y=ww(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},T=this.longPollingOptions.timeoutSeconds;T!==void 0&&(v.longPollingTimeout=Math.round(1e3*T)),this.useFetchStreams&&(v.useFetchStreams=!0),this.Ho(v.initMessageHeaders,e,a),v.encodeInitMessageHeaders=!0;const S=h.join("");At(Un,`Creating RPC '${t}' stream ${l}: ${S}`,v);const C=m.createWebChannel(S,v);this.E_(C);let P=!1,U=!1;const q=new TL({Zo:W=>{U?At(Un,`Not sending because RPC '${t}' stream ${l} is closed:`,W):(P||(At(Un,`Opening RPC '${t}' stream ${l} transport.`),C.open(),P=!0),At(Un,`RPC '${t}' stream ${l} sending:`,W),C.send(W))},Xo:()=>C.close()}),Z=(W,st,J)=>{W.listen(st,it=>{try{J(it)}catch(_t){setTimeout(()=>{throw _t},0)}})};return Z(C,nc.EventType.OPEN,()=>{U||(At(Un,`RPC '${t}' stream ${l} transport opened.`),q.__())}),Z(C,nc.EventType.CLOSE,()=>{U||(U=!0,At(Un,`RPC '${t}' stream ${l} transport closed`),q.u_(),this.d_(C))}),Z(C,nc.EventType.ERROR,W=>{U||(U=!0,$l(Un,`RPC '${t}' stream ${l} transport errored. Name:`,W.name,"Message:",W.message),q.u_(new Ct(dt.UNAVAILABLE,"The operation could not be completed")))}),Z(C,nc.EventType.MESSAGE,W=>{var st;if(!U){const J=W.data[0];me(!!J,16349);const it=J,_t=(it==null?void 0:it.error)||((st=it[0])===null||st===void 0?void 0:st.error);if(_t){At(Un,`RPC '${t}' stream ${l} received error:`,_t);const Tt=_t.status;let xt=function(M){const B=nn[M];if(B!==void 0)return rb(B)}(Tt),V=_t.message;xt===void 0&&(xt=dt.INTERNAL,V="Unknown error status: "+Tt+" with message "+_t.message),U=!0,q.u_(new Ct(xt,V)),C.close()}else At(Un,`RPC '${t}' stream ${l} received:`,J),q.c_(J)}}),Z(y,Ew.STAT_EVENT,W=>{W.stat===dp.PROXY?At(Un,`RPC '${t}' stream ${l} detected buffering proxy`):W.stat===dp.NOPROXY&&At(Un,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{q.a_()},0),q}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(e=>e===t)}}function tp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(i){return new SO(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(t,e,a=1e3,l=1.5,h=6e4){this.xi=t,this.timerId=e,this.A_=a,this.R_=l,this.V_=h,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const e=Math.floor(this.m_+this.w_()),a=Math.max(0,Date.now()-this.g_),l=Math.max(0,e-a);l>0&&At("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.m_} ms, delay with jitter: ${e} ms, last attempt: ${a} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,l,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT="PersistentStream";class vb{constructor(t,e,a,l,h,m,y,v){this.xi=t,this.S_=a,this.D_=l,this.connection=h,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new yb(t,e)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,e){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():e&&e.code===dt.RESOURCE_EXHAUSTED?(Ls(e.toString()),Ls("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):e&&e.code===dt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(e)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),e=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,l])=>{this.v_===e&&this.z_(a,l)},a=>{t(()=>{const l=new Ct(dt.UNKNOWN,"Fetching auth token failed: "+a.message);return this.j_(l)})})}z_(t,e){const a=this.G_(this.v_);this.stream=this.H_(t,e),this.stream.e_(()=>{a(()=>this.listener.e_())}),this.stream.n_(()=>{a(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(l=>{a(()=>this.j_(l))}),this.stream.onMessage(l=>{a(()=>++this.M_==1?this.J_(l):this.onNext(l))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return At(dT,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return e=>{this.xi.enqueueAndForget(()=>this.v_===t?e():(At(dT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wL extends vb{constructor(t,e,a,l,h,m){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,a,l,m),this.serializer=h}H_(t,e){return this.connection.I_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const e=CO(this.serializer,t),a=function(h){if(!("targetChange"in h))return jt.min();const m=h.targetChange;return m.targetIds&&m.targetIds.length?jt.min():m.readTime?Kr(m.readTime):jt.min()}(t);return this.listener.Y_(e,a)}Z_(t){const e={};e.database=Ap(this.serializer),e.addTarget=function(h,m){let y;const v=m.target;if(y=yp(v)?{documents:OO(h,v)}:{query:LO(h,v).gt},y.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){y.resumeToken=ob(h,m.resumeToken);const T=Ep(h,m.expectedCount);T!==null&&(y.expectedCount=T)}else if(m.snapshotVersion.compareTo(jt.min())>0){y.readTime=bf(h,m.snapshotVersion.toTimestamp());const T=Ep(h,m.expectedCount);T!==null&&(y.expectedCount=T)}return y}(this.serializer,t);const a=DO(this.serializer,t);a&&(e.labels=a),this.Q_(e)}X_(t){const e={};e.database=Ap(this.serializer),e.removeTarget=t,this.Q_(e)}}class bL extends vb{constructor(t,e,a,l,h,m){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,a,l,m),this.serializer=h}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,e){return this.connection.I_("Write",t,e)}J_(t){return me(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,me(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){me(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const e=PO(t.writeResults,t.commitTime),a=Kr(t.commitTime);return this.listener.ra(a,e)}ia(){const t={};t.database=Ap(this.serializer),this.Q_(t)}ta(t){const e={streamToken:this.lastStreamToken,writes:t.map(a=>xO(this.serializer,a))};this.Q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{}class SL extends AL{constructor(t,e,a,l){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=a,this.serializer=l,this.sa=!1}oa(){if(this.sa)throw new Ct(dt.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,e,a,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.zo(t,wp(e,a),l,h,m)).catch(h=>{throw h.name==="FirebaseError"?(h.code===dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Ct(dt.UNKNOWN,h.toString())})}Yo(t,e,a,l,h){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,y])=>this.connection.Yo(t,wp(e,a),l,m,y,h)).catch(m=>{throw m.name==="FirebaseError"?(m.code===dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new Ct(dt.UNKNOWN,m.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class IL{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ls(e),this.ua=!1):At("OnlineStateTracker",e)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo="RemoteStore";class RL{constructor(t,e,a,l,h){this.localStore=t,this.datastore=e,this.asyncQueue=a,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=h,this.Ra.No(m=>{a.enqueueAndForget(async()=>{Xo(this)&&(At(jo,"Restarting streams for network reachability change."),await async function(v){const T=Ft(v);T.da.add(4),await Lc(T),T.Va.set("Unknown"),T.da.delete(4),await Xf(T)}(this))})}),this.Va=new IL(a,l)}}async function Xf(i){if(Xo(i))for(const t of i.Aa)await t(!0)}async function Lc(i){for(const t of i.Aa)await t(!1)}function Tb(i,t){const e=Ft(i);e.Ea.has(t.targetId)||(e.Ea.set(t.targetId,t),Og(e)?Pg(e):ou(e).N_()&&xg(e,t))}function Cg(i,t){const e=Ft(i),a=ou(e);e.Ea.delete(t),a.N_()&&Eb(e,t),e.Ea.size===0&&(a.N_()?a.k_():Xo(e)&&e.Va.set("Unknown"))}function xg(i,t){if(i.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(jt.min())>0){const e=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}ou(i).Z_(t)}function Eb(i,t){i.ma.Ke(t),ou(i).X_(t)}function Pg(i){i.ma=new EO({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>i.Ea.get(t)||null,Pt:()=>i.datastore.serializer.databaseId}),ou(i).start(),i.Va.ca()}function Og(i){return Xo(i)&&!ou(i).O_()&&i.Ea.size>0}function Xo(i){return Ft(i).da.size===0}function wb(i){i.ma=void 0}async function CL(i){i.Va.set("Online")}async function xL(i){i.Ea.forEach((t,e)=>{xg(i,t)})}async function PL(i,t){wb(i),Og(i)?(i.Va.Pa(t),Pg(i)):i.Va.set("Unknown")}async function OL(i,t,e){if(i.Va.set("Online"),t instanceof ab&&t.state===2&&t.cause)try{await async function(l,h){const m=h.cause;for(const y of h.targetIds)l.Ea.has(y)&&(await l.remoteSyncer.rejectListen(y,m),l.Ea.delete(y),l.ma.removeTarget(y))}(i,t)}catch(a){At(jo,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Sf(i,a)}else if(t instanceof nf?i.ma.Xe(t):t instanceof sb?i.ma.ot(t):i.ma.nt(t),!e.isEqual(jt.min()))try{const a=await _b(i.localStore);e.compareTo(a)>=0&&await function(h,m){const y=h.ma.It(m);return y.targetChanges.forEach((v,T)=>{if(v.resumeToken.approximateByteSize()>0){const S=h.Ea.get(T);S&&h.Ea.set(T,S.withResumeToken(v.resumeToken,m))}}),y.targetMismatches.forEach((v,T)=>{const S=h.Ea.get(v);if(!S)return;h.Ea.set(v,S.withResumeToken(xn.EMPTY_BYTE_STRING,S.snapshotVersion)),Eb(h,v);const C=new ka(S.target,v,T,S.sequenceNumber);xg(h,C)}),h.remoteSyncer.applyRemoteEvent(y)}(i,e)}catch(a){At(jo,"Failed to raise snapshot:",a),await Sf(i,a)}}async function Sf(i,t,e){if(!au(t))throw t;i.da.add(1),await Lc(i),i.Va.set("Offline"),e||(e=()=>_b(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{At(jo,"Retrying IndexedDB access"),await e(),i.da.delete(1),await Xf(i)})}function bb(i,t){return t().catch(e=>Sf(i,e,t))}async function Wf(i){const t=Ft(i),e=Ya(t);let a=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:mg;for(;LL(t);)try{const l=await dL(t.localStore,a);if(l===null){t.Ia.length===0&&e.k_();break}a=l.batchId,ML(t,l)}catch(l){await Sf(t,l)}Ab(t)&&Sb(t)}function LL(i){return Xo(i)&&i.Ia.length<10}function ML(i,t){i.Ia.push(t);const e=Ya(i);e.N_()&&e.ea&&e.ta(t.mutations)}function Ab(i){return Xo(i)&&!Ya(i).O_()&&i.Ia.length>0}function Sb(i){Ya(i).start()}async function DL(i){Ya(i).ia()}async function NL(i){const t=Ya(i);for(const e of i.Ia)t.ta(e.mutations)}async function kL(i,t,e){const a=i.Ia.shift(),l=Eg.from(a,t,e);await bb(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),await Wf(i)}async function VL(i,t){t&&Ya(i).ea&&await async function(a,l){if(function(m){return vO(m)&&m!==dt.ABORTED}(l.code)){const h=a.Ia.shift();Ya(a).L_(),await bb(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,l)),await Wf(a)}}(i,t),Ab(i)&&Sb(i)}async function mT(i,t){const e=Ft(i);e.asyncQueue.verifyOperationInProgress(),At(jo,"RemoteStore received new credentials");const a=Xo(e);e.da.add(3),await Lc(e),a&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.da.delete(3),await Xf(e)}async function zL(i,t){const e=Ft(i);t?(e.da.delete(2),await Xf(e)):t||(e.da.add(2),await Lc(e),e.Va.set("Unknown"))}function ou(i){return i.fa||(i.fa=function(e,a,l){const h=Ft(e);return h.oa(),new wL(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)}(i.datastore,i.asyncQueue,{e_:CL.bind(null,i),n_:xL.bind(null,i),i_:PL.bind(null,i),Y_:OL.bind(null,i)}),i.Aa.push(async t=>{t?(i.fa.L_(),Og(i)?Pg(i):i.Va.set("Unknown")):(await i.fa.stop(),wb(i))})),i.fa}function Ya(i){return i.ga||(i.ga=function(e,a,l){const h=Ft(e);return h.oa(),new bL(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)}(i.datastore,i.asyncQueue,{e_:()=>Promise.resolve(),n_:DL.bind(null,i),i_:VL.bind(null,i),na:NL.bind(null,i),ra:kL.bind(null,i)}),i.Aa.push(async t=>{t?(i.ga.L_(),await Wf(i)):(await i.ga.stop(),i.Ia.length>0&&(At(jo,`Stopping write stream with ${i.Ia.length} pending writes`),i.Ia=[]))})),i.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(t,e,a,l,h){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=a,this.op=l,this.removalCallback=h,this.deferred=new Vo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,a,l,h){const m=Date.now()+a,y=new Lg(t,e,m,l,h);return y.start(a),y}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ct(dt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mg(i,t){if(Ls("AsyncQueue",`${t}: ${i}`),au(i))return new Ct(dt.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{static emptySet(t){return new Zl(t.comparator)}constructor(t){this.comparator=t?(e,a)=>t(e,a)||Mt.comparator(e.key,a.key):(e,a)=>Mt.comparator(e.key,a.key),this.keyedMap=ic(),this.sortedSet=new qe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,a)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Zl)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;e.hasNext();){const l=e.getNext().key,h=a.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const a=new Zl;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=e,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(){this.pa=new qe(Mt.comparator)}track(t){const e=t.doc.key,a=this.pa.get(e);a?t.type!==0&&a.type===3?this.pa=this.pa.insert(e,t):t.type===3&&a.type!==1?this.pa=this.pa.insert(e,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.pa=this.pa.insert(e,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.pa=this.pa.insert(e,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.pa=this.pa.remove(e):t.type===1&&a.type===2?this.pa=this.pa.insert(e,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.pa=this.pa.insert(e,{type:2,doc:t.doc}):zt(63341,{Vt:t,ya:a}):this.pa=this.pa.insert(e,t)}wa(){const t=[];return this.pa.inorderTraversal((e,a)=>{t.push(a)}),t}}class Wl{constructor(t,e,a,l,h,m,y,v,T){this.query=t,this.docs=e,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=h,this.fromCache=m,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=T}static fromInitialDocuments(t,e,a,l,h){const m=[];return e.forEach(y=>{m.push({type:0,doc:y})}),new Wl(t,e,Zl.emptySet(e),m,a,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Gf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,a=t.docChanges;if(e.length!==a.length)return!1;for(let l=0;l<e.length;l++)if(e[l].type!==a[l].type||!e[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class BL{constructor(){this.queries=gT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,a){const l=Ft(e),h=l.queries;l.queries=gT(),h.forEach((m,y)=>{for(const v of y.Sa)v.onError(a)})})(this,new Ct(dt.ABORTED,"Firestore shutting down"))}}function gT(){return new Yo(i=>Gw(i),Gf)}async function HL(i,t){const e=Ft(i);let a=3;const l=t.query;let h=e.queries.get(l);h?!h.Da()&&t.va()&&(a=2):(h=new UL,a=t.va()?0:1);try{switch(a){case 0:h.ba=await e.onListen(l,!0);break;case 1:h.ba=await e.onListen(l,!1);break;case 2:await e.onFirstRemoteStoreListen(l)}}catch(m){const y=Mg(m,`Initialization of query '${Ul(t.query)}' failed`);return void t.onError(y)}e.queries.set(l,h),h.Sa.push(t),t.Fa(e.onlineState),h.ba&&t.Ma(h.ba)&&Dg(e)}async function qL(i,t){const e=Ft(i),a=t.query;let l=3;const h=e.queries.get(a);if(h){const m=h.Sa.indexOf(t);m>=0&&(h.Sa.splice(m,1),h.Sa.length===0?l=t.va()?0:1:!h.Da()&&t.va()&&(l=2))}switch(l){case 0:return e.queries.delete(a),e.onUnlisten(a,!0);case 1:return e.queries.delete(a),e.onUnlisten(a,!1);case 2:return e.onLastRemoteStoreUnlisten(a);default:return}}function jL(i,t){const e=Ft(i);let a=!1;for(const l of t){const h=l.query,m=e.queries.get(h);if(m){for(const y of m.Sa)y.Ma(l)&&(a=!0);m.ba=l}}a&&Dg(e)}function FL(i,t,e){const a=Ft(i),l=a.queries.get(t);if(l)for(const h of l.Sa)h.onError(e);a.queries.delete(t)}function Dg(i){i.Ca.forEach(t=>{t.next()})}var Rp,_T;(_T=Rp||(Rp={})).xa="default",_T.Cache="cache";class GL{constructor(t,e,a){this.query=t,this.Oa=e,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=a||{}}Ma(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new Wl(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Na?this.La(t)&&(this.Oa.next(t),e=!0):this.ka(t,this.onlineState)&&(this.qa(t),e=!0),this.Ba=t,e}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let e=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),e=!0),e}ka(t,e){if(!t.fromCache||!this.va())return!0;const a=e!=="Offline";return(!this.options.Qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}La(t){if(t.docChanges.length>0)return!0;const e=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}qa(t){t=Wl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==Rp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(t){this.key=t}}class Rb{constructor(t){this.key=t}}class ZL{constructor(t,e){this.query=t,this.Ha=e,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ie(),this.mutatedKeys=ie(),this.Za=Zw(t),this.Xa=new Zl(this.Za)}get eu(){return this.Ha}tu(t,e){const a=e?e.nu:new pT,l=e?e.Xa:this.Xa;let h=e?e.mutatedKeys:this.mutatedKeys,m=l,y=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,T=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((S,C)=>{const P=l.get(S),U=Zf(this.query,C)?C:null,q=!!P&&this.mutatedKeys.has(P.key),Z=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let W=!1;P&&U?P.data.isEqual(U.data)?q!==Z&&(a.track({type:3,doc:U}),W=!0):this.ru(P,U)||(a.track({type:2,doc:U}),W=!0,(v&&this.Za(U,v)>0||T&&this.Za(U,T)<0)&&(y=!0)):!P&&U?(a.track({type:0,doc:U}),W=!0):P&&!U&&(a.track({type:1,doc:P}),W=!0,(v||T)&&(y=!0)),W&&(U?(m=m.add(U),h=Z?h.add(S):h.delete(S)):(m=m.delete(S),h=h.delete(S)))}),this.query.limit!==null)for(;m.size>this.query.limit;){const S=this.query.limitType==="F"?m.last():m.first();m=m.delete(S.key),h=h.delete(S.key),a.track({type:1,doc:S})}return{Xa:m,nu:a,Cs:y,mutatedKeys:h}}ru(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,a,l){const h=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const m=t.nu.wa();m.sort((S,C)=>function(U,q){const Z=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return zt(20277,{Vt:W})}};return Z(U)-Z(q)}(S.type,C.type)||this.Za(S.doc,C.doc)),this.iu(a),l=l!=null&&l;const y=e&&!l?this.su():[],v=this.Ya.size===0&&this.current&&!l?1:0,T=v!==this.Ja;return this.Ja=v,m.length!==0||T?{snapshot:new Wl(this.query,t.Xa,h,m,t.mutatedKeys,v===0,T,!1,!!a&&a.resumeToken.approximateByteSize()>0),ou:y}:{ou:y}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new pT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=ie(),this.Xa.forEach(a=>{this._u(a.key)&&(this.Ya=this.Ya.add(a.key))});const e=[];return t.forEach(a=>{this.Ya.has(a)||e.push(new Rb(a))}),this.Ya.forEach(a=>{t.has(a)||e.push(new Ib(a))}),e}au(t){this.Ha=t.$s,this.Ya=ie();const e=this.tu(t.documents);return this.applyChanges(e,!0)}uu(){return Wl.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const Ng="SyncEngine";class $L{constructor(t,e,a){this.query=t,this.targetId=e,this.view=a}}class KL{constructor(t){this.key=t,this.cu=!1}}class YL{constructor(t,e,a,l,h,m){this.localStore=t,this.remoteStore=e,this.eventManager=a,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=m,this.lu={},this.hu=new Yo(y=>Gw(y),Gf),this.Pu=new Map,this.Tu=new Set,this.Iu=new qe(Mt.comparator),this.Eu=new Map,this.du=new Ag,this.Au={},this.Ru=new Map,this.Vu=Xl.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function QL(i,t,e=!0){const a=Mb(i);let l;const h=a.hu.get(t);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.uu()):l=await Cb(a,t,e,!0),l}async function XL(i,t){const e=Mb(i);await Cb(e,t,!0,!1)}async function Cb(i,t,e,a){const l=await mL(i.localStore,$r(t)),h=l.targetId,m=i.sharedClientState.addLocalQueryTarget(h,e);let y;return a&&(y=await WL(i,t,h,m==="current",l.resumeToken)),i.isPrimaryClient&&e&&Tb(i.remoteStore,l),y}async function WL(i,t,e,a,l){i.fu=(C,P,U)=>async function(Z,W,st,J){let it=W.view.tu(st);it.Cs&&(it=await uT(Z.localStore,W.query,!1).then(({documents:V})=>W.view.tu(V,it)));const _t=J&&J.targetChanges.get(W.targetId),Tt=J&&J.targetMismatches.get(W.targetId)!=null,xt=W.view.applyChanges(it,Z.isPrimaryClient,_t,Tt);return vT(Z,W.targetId,xt.ou),xt.snapshot}(i,C,P,U);const h=await uT(i.localStore,t,!0),m=new ZL(t,h.$s),y=m.tu(h.documents),v=Oc.createSynthesizedTargetChangeForCurrentChange(e,a&&i.onlineState!=="Offline",l),T=m.applyChanges(y,i.isPrimaryClient,v);vT(i,e,T.ou);const S=new $L(t,e,m);return i.hu.set(t,S),i.Pu.has(e)?i.Pu.get(e).push(t):i.Pu.set(e,[t]),T.snapshot}async function JL(i,t,e){const a=Ft(i),l=a.hu.get(t),h=a.Pu.get(l.targetId);if(h.length>1)return a.Pu.set(l.targetId,h.filter(m=>!Gf(m,t))),void a.hu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Sp(a.localStore,l.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(l.targetId),e&&Cg(a.remoteStore,l.targetId),Cp(a,l.targetId)}).catch(su)):(Cp(a,l.targetId),await Sp(a.localStore,l.targetId,!0))}async function tM(i,t){const e=Ft(i),a=e.hu.get(t),l=e.Pu.get(a.targetId);e.isPrimaryClient&&l.length===1&&(e.sharedClientState.removeLocalQueryTarget(a.targetId),Cg(e.remoteStore,a.targetId))}async function eM(i,t,e){const a=lM(i);try{const l=await function(m,y){const v=Ft(m),T=un.now(),S=y.reduce((U,q)=>U.add(q.key),ie());let C,P;return v.persistence.runTransaction("Locally write mutations","readwrite",U=>{let q=Ms(),Z=ie();return v.Bs.getEntries(U,S).next(W=>{q=W,q.forEach((st,J)=>{J.isValidDocument()||(Z=Z.add(st))})}).next(()=>v.localDocuments.getOverlayedDocuments(U,q)).next(W=>{C=W;const st=[];for(const J of y){const it=mO(J,C.get(J.key).overlayedDocument);it!=null&&st.push(new Qo(J.key,it,Vw(it.value.mapValue),Rs.exists(!0)))}return v.mutationQueue.addMutationBatch(U,T,st,y)}).next(W=>{P=W;const st=W.applyToLocalDocumentSet(C,Z);return v.documentOverlayCache.saveOverlays(U,W.batchId,st)})}).then(()=>({batchId:P.batchId,changes:Kw(C)}))}(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),function(m,y,v){let T=m.Au[m.currentUser.toKey()];T||(T=new qe(Yt)),T=T.insert(y,v),m.Au[m.currentUser.toKey()]=T}(a,l.batchId,e),await Mc(a,l.changes),await Wf(a.remoteStore)}catch(l){const h=Mg(l,"Failed to persist write");e.reject(h)}}async function xb(i,t){const e=Ft(i);try{const a=await hL(e.localStore,t);t.targetChanges.forEach((l,h)=>{const m=e.Eu.get(h);m&&(me(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?m.cu=!0:l.modifiedDocuments.size>0?me(m.cu,14607):l.removedDocuments.size>0&&(me(m.cu,42227),m.cu=!1))}),await Mc(e,a,t)}catch(a){await su(a)}}function yT(i,t,e){const a=Ft(i);if(a.isPrimaryClient&&e===0||!a.isPrimaryClient&&e===1){const l=[];a.hu.forEach((h,m)=>{const y=m.view.Fa(t);y.snapshot&&l.push(y.snapshot)}),function(m,y){const v=Ft(m);v.onlineState=y;let T=!1;v.queries.forEach((S,C)=>{for(const P of C.Sa)P.Fa(y)&&(T=!0)}),T&&Dg(v)}(a.eventManager,t),l.length&&a.lu.Y_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function nM(i,t,e){const a=Ft(i);a.sharedClientState.updateQueryState(t,"rejected",e);const l=a.Eu.get(t),h=l&&l.key;if(h){let m=new qe(Mt.comparator);m=m.insert(h,Hn.newNoDocument(h,jt.min()));const y=ie().add(h),v=new Yf(jt.min(),new Map,new qe(Yt),m,y);await xb(a,v),a.Iu=a.Iu.remove(h),a.Eu.delete(t),kg(a)}else await Sp(a.localStore,t,!1).then(()=>Cp(a,t,e)).catch(su)}async function iM(i,t){const e=Ft(i),a=t.batch.batchId;try{const l=await cL(e.localStore,t);Ob(e,a,null),Pb(e,a),e.sharedClientState.updateMutationState(a,"acknowledged"),await Mc(e,l)}catch(l){await su(l)}}async function rM(i,t,e){const a=Ft(i);try{const l=await function(m,y){const v=Ft(m);return v.persistence.runTransaction("Reject batch","readwrite-primary",T=>{let S;return v.mutationQueue.lookupMutationBatch(T,y).next(C=>(me(C!==null,37113),S=C.keys(),v.mutationQueue.removeMutationBatch(T,C))).next(()=>v.mutationQueue.performConsistencyCheck(T)).next(()=>v.documentOverlayCache.removeOverlaysForBatchId(T,S,y)).next(()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(T,S)).next(()=>v.localDocuments.getDocuments(T,S))})}(a.localStore,t);Ob(a,t,e),Pb(a,t),a.sharedClientState.updateMutationState(t,"rejected",e),await Mc(a,l)}catch(l){await su(l)}}function Pb(i,t){(i.Ru.get(t)||[]).forEach(e=>{e.resolve()}),i.Ru.delete(t)}function Ob(i,t,e){const a=Ft(i);let l=a.Au[a.currentUser.toKey()];if(l){const h=l.get(t);h&&(e?h.reject(e):h.resolve(),l=l.remove(t)),a.Au[a.currentUser.toKey()]=l}}function Cp(i,t,e=null){i.sharedClientState.removeLocalQueryTarget(t);for(const a of i.Pu.get(t))i.hu.delete(a),e&&i.lu.gu(a,e);i.Pu.delete(t),i.isPrimaryClient&&i.du.Hr(t).forEach(a=>{i.du.containsKey(a)||Lb(i,a)})}function Lb(i,t){i.Tu.delete(t.path.canonicalString());const e=i.Iu.get(t);e!==null&&(Cg(i.remoteStore,e),i.Iu=i.Iu.remove(t),i.Eu.delete(e),kg(i))}function vT(i,t,e){for(const a of e)a instanceof Ib?(i.du.addReference(a.key,t),sM(i,a)):a instanceof Rb?(At(Ng,"Document no longer in limbo: "+a.key),i.du.removeReference(a.key,t),i.du.containsKey(a.key)||Lb(i,a.key)):zt(19791,{pu:a})}function sM(i,t){const e=t.key,a=e.path.canonicalString();i.Iu.get(e)||i.Tu.has(a)||(At(Ng,"New document in limbo: "+e),i.Tu.add(a),kg(i))}function kg(i){for(;i.Tu.size>0&&i.Iu.size<i.maxConcurrentLimboResolutions;){const t=i.Tu.values().next().value;i.Tu.delete(t);const e=new Mt(ke.fromString(t)),a=i.Vu.next();i.Eu.set(a,new KL(e)),i.Iu=i.Iu.insert(e,a),Tb(i.remoteStore,new ka($r(vg(e.path)),a,"TargetPurposeLimboResolution",qf.le))}}async function Mc(i,t,e){const a=Ft(i),l=[],h=[],m=[];a.hu.isEmpty()||(a.hu.forEach((y,v)=>{m.push(a.fu(v,t,e).then(T=>{var S;if((T||e)&&a.isPrimaryClient){const C=T?!T.fromCache:(S=e==null?void 0:e.targetChanges.get(v.targetId))===null||S===void 0?void 0:S.current;a.sharedClientState.updateQueryState(v.targetId,C?"current":"not-current")}if(T){l.push(T);const C=Ig.Rs(v.targetId,T);h.push(C)}}))}),await Promise.all(m),a.lu.Y_(l),await async function(v,T){const S=Ft(v);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>ht.forEach(T,P=>ht.forEach(P.ds,U=>S.persistence.referenceDelegate.addReference(C,P.targetId,U)).next(()=>ht.forEach(P.As,U=>S.persistence.referenceDelegate.removeReference(C,P.targetId,U)))))}catch(C){if(!au(C))throw C;At(Rg,"Failed to update sequence numbers: "+C)}for(const C of T){const P=C.targetId;if(!C.fromCache){const U=S.xs.get(P),q=U.snapshotVersion,Z=U.withLastLimboFreeSnapshotVersion(q);S.xs=S.xs.insert(P,Z)}}}(a.localStore,h))}async function aM(i,t){const e=Ft(i);if(!e.currentUser.isEqual(t)){At(Ng,"User change. New user:",t.toKey());const a=await gb(e.localStore,t);e.currentUser=t,function(h,m){h.Ru.forEach(y=>{y.forEach(v=>{v.reject(new Ct(dt.CANCELLED,m))})}),h.Ru.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Mc(e,a.ks)}}function oM(i,t){const e=Ft(i),a=e.Eu.get(t);if(a&&a.cu)return ie().add(a.key);{let l=ie();const h=e.Pu.get(t);if(!h)return l;for(const m of h){const y=e.hu.get(m);l=l.unionWith(y.view.eu)}return l}}function Mb(i){const t=Ft(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=xb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=oM.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=nM.bind(null,t),t.lu.Y_=jL.bind(null,t.eventManager),t.lu.gu=FL.bind(null,t.eventManager),t}function lM(i){const t=Ft(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=iM.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=rM.bind(null,t),t}class If{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Qf(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,e){return null}Cu(t,e){return null}Du(t){return uL(this.persistence,new aL,t.initialUser,this.serializer)}Su(t){return new pb(Sg.fi,this.serializer)}bu(t){return new gL}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}If.provider={build:()=>new If};class uM extends If{constructor(t){super(),this.cacheSizeBytes=t}vu(t,e){me(this.persistence.referenceDelegate instanceof Af,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new GO(a,t.asyncQueue,e)}Su(t){const e=this.cacheSizeBytes!==void 0?ai.withCacheSize(this.cacheSizeBytes):ai.DEFAULT;return new pb(a=>Af.fi(a,e),this.serializer)}}class xp{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>yT(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=aM.bind(null,this.syncEngine),await zL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new BL}()}createDatastore(t){const e=Qf(t.databaseInfo.databaseId),a=function(h){return new EL(h)}(t.databaseInfo);return function(h,m,y,v){return new SL(h,m,y,v)}(t.authCredentials,t.appCheckCredentials,a,e)}createRemoteStore(t){return function(a,l,h,m,y){return new RL(a,l,h,m,y)}(this.localStore,this.datastore,t.asyncQueue,e=>yT(this.syncEngine,e,0),function(){return fT.C()?new fT:new _L}())}createSyncEngine(t,e){return function(l,h,m,y,v,T,S){const C=new YL(l,h,m,y,v,T);return S&&(C.mu=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(l){const h=Ft(l);At(jo,"RemoteStore shutting down."),h.da.add(5),await Lc(h),h.Ra.shutdown(),h.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}xp.provider={build:()=>new xp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):Ls("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa="FirestoreClient";class hM{constructor(t,e,a,l,h){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=a,this.databaseInfo=l,this.user=Bn.UNAUTHENTICATED,this.clientId=Rw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async m=>{At(Qa,"Received user=",m.uid),await this.authCredentialListener(m),this.user=m}),this.appCheckCredentials.start(a,m=>(At(Qa,"Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Vo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const a=Mg(e,"Failed to shutdown persistence");t.reject(a)}}),t.promise}}async function ep(i,t){i.asyncQueue.verifyOperationInProgress(),At(Qa,"Initializing OfflineComponentProvider");const e=i.configuration;await t.initialize(e);let a=e.initialUser;i.setCredentialChangeListener(async l=>{a.isEqual(l)||(await gb(t.localStore,l),a=l)}),t.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=t}async function TT(i,t){i.asyncQueue.verifyOperationInProgress();const e=await fM(i);At(Qa,"Initializing OnlineComponentProvider"),await t.initialize(e,i.configuration),i.setCredentialChangeListener(a=>mT(t.remoteStore,a)),i.setAppCheckTokenChangeListener((a,l)=>mT(t.remoteStore,l)),i._onlineComponents=t}async function fM(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){At(Qa,"Using user provided OfflineComponentProvider");try{await ep(i,i._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(l){return l.name==="FirebaseError"?l.code===dt.FAILED_PRECONDITION||l.code===dt.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(e))throw e;$l("Error using user provided cache. Falling back to memory cache: "+e),await ep(i,new If)}}else At(Qa,"Using default OfflineComponentProvider"),await ep(i,new uM(void 0));return i._offlineComponents}async function Db(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(At(Qa,"Using user provided OnlineComponentProvider"),await TT(i,i._uninitializedComponentsProvider._online)):(At(Qa,"Using default OnlineComponentProvider"),await TT(i,new xp))),i._onlineComponents}function dM(i){return Db(i).then(t=>t.syncEngine)}async function ET(i){const t=await Db(i),e=t.eventManager;return e.onListen=QL.bind(null,t.syncEngine),e.onUnlisten=JL.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=XL.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=tM.bind(null,t.syncEngine),e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(i,t,e){if(!e)throw new Ct(dt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function mM(i,t,e,a){if(t===!0&&a===!0)throw new Ct(dt.INVALID_ARGUMENT,`${i} and ${e} cannot be used together.`)}function bT(i){if(!Mt.isDocumentKey(i))throw new Ct(dt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function AT(i){if(Mt.isDocumentKey(i))throw new Ct(dt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Jf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=function(a){return a.constructor?a.constructor.name:null}(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":zt(12329,{type:typeof i})}function dc(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new Ct(dt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Jf(i);throw new Ct(dt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="firestore.googleapis.com",ST=!0;class IT{constructor(t){var e,a;if(t.host===void 0){if(t.ssl!==void 0)throw new Ct(dt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Vb,this.ssl=ST}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:ST;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=mb;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<jO)throw new Ct(dt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}mM("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Nb((a=t.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new Ct(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new Ct(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new Ct(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(a,l){return a.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class td{constructor(t,e,a,l){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new IT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ct(dt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Ct(dt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new IT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new TP;switch(a.type){case"firstParty":return new AP(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Ct(dt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const a=wT.get(e);a&&(At("ComponentProvider","Removing Datastore"),wT.delete(e),a.terminate())}(this),Promise.resolve()}}function pM(i,t,e,a={}){var l;i=dc(i,td);const h=eu(t),m=i._getSettings(),y=Object.assign(Object.assign({},m),{emulatorOptions:i._getEmulatorOptions()}),v=`${t}:${e}`;h&&(uE(`https://${v}`),cE("Firestore",!0)),m.host!==Vb&&m.host!==v&&$l("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const T=Object.assign(Object.assign({},m),{host:v,ssl:h,emulatorOptions:a});if(!ja(T,y)&&(i._setSettings(T),a.mockUserToken)){let S,C;if(typeof a.mockUserToken=="string")S=a.mockUserToken,C=Bn.MOCK_USER;else{S=SI(a.mockUserToken,(l=i._app)===null||l===void 0?void 0:l.options.projectId);const P=a.mockUserToken.sub||a.mockUserToken.user_id;if(!P)throw new Ct(dt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new Bn(P)}i._authCredentials=new EP(new Sw(S,C))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(t,e,a){this.converter=e,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new lu(this.firestore,t,this._query)}}class Oi{constructor(t,e,a){this.converter=e,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ha(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Oi(this.firestore,t,this._key)}}class Ha extends lu{constructor(t,e,a){super(t,e,vg(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Oi(this.firestore,null,new Mt(t))}withConverter(t){return new Ha(this.firestore,t,this._path)}}function Pp(i,t,...e){if(i=jn(i),kb("collection","path",t),i instanceof td){const a=ke.fromString(t,...e);return AT(a),new Ha(i,null,a)}{if(!(i instanceof Oi||i instanceof Ha))throw new Ct(dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(ke.fromString(t,...e));return AT(a),new Ha(i.firestore,null,a)}}function gM(i,t,...e){if(i=jn(i),arguments.length===1&&(t=Rw.newId()),kb("doc","path",t),i instanceof td){const a=ke.fromString(t,...e);return bT(a),new Oi(i,null,new Mt(a))}{if(!(i instanceof Oi||i instanceof Ha))throw new Ct(dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(ke.fromString(t,...e));return bT(a),new Oi(i.firestore,i instanceof Ha?i.converter:null,new Mt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="AsyncQueue";class CT{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new yb(this,"async_queue_retry"),this.rc=()=>{const a=tp();a&&At(RT,"Visibility state changed to "+a.visibilityState),this.x_.b_()},this.sc=t;const e=tp();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const e=tp();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const e=new Vo;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!au(t))throw t;At(RT,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const e=this.sc.then(()=>(this.ec=!0,t().catch(a=>{throw this.Xu=a,this.ec=!1,Ls("INTERNAL UNHANDLED ERROR: ",xT(a)),a}).then(a=>(this.ec=!1,a))));return this.sc=e,e}enqueueAfterDelay(t,e,a){this.oc(),this.nc.indexOf(t)>-1&&(e=0);const l=Lg.createAndSchedule(this,t,e,a,h=>this.uc(h));return this.Zu.push(l),l}oc(){this.Xu&&zt(47125,{cc:xT(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const e of this.Zu)if(e.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((e,a)=>e.targetTimeMs-a.targetTimeMs);for(const e of this.Zu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const e=this.Zu.indexOf(t);this.Zu.splice(e,1)}}function xT(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(i){return function(e,a){if(typeof e!="object"||e===null)return!1;const l=e;for(const h of a)if(h in l&&typeof l[h]=="function")return!0;return!1}(i,["next","error","complete"])}class Rf extends td{constructor(t,e,a,l){super(t,e,a,l),this.type="firestore",this._queue=new CT,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new CT(t),this._firestoreClient=void 0,await t}}}function _M(i,t){const e=typeof i=="object"?i:Jp(),a=typeof i=="string"?i:_f,l=$o(e,"firestore").getImmediate({identifier:a});if(!l._initialized){const h=bI("firestore");h&&pM(l,...h)}return l}function zb(i){if(i._terminated)throw new Ct(dt.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||yM(i),i._firestoreClient}function yM(i){var t,e,a;const l=i._freezeSettings(),h=function(y,v,T,S){return new UP(y,v,T,S.host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,Nb(S.experimentalLongPollingOptions),S.useFetchStreams,S.isUsingEmulator)}(i._databaseId,((t=i._app)===null||t===void 0?void 0:t.options.appId)||"",i._persistenceKey,l);i._componentsProvider||!((e=l.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((a=l.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(i._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),i._firestoreClient=new hM(i._authCredentials,i._appCheckCredentials,i._queue,h,i._componentsProvider&&function(y){const v=y==null?void 0:y._online.build();return{_offline:y==null?void 0:y._offline.build(v),_online:v}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Jl(xn.fromBase64String(t))}catch(e){throw new Ct(dt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Jl(xn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new Ct(dt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ct(dt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ct(dt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Yt(this._lat,t._lat)||Yt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(a,l){if(a.length!==l.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==l[h])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM=/^__.*__$/;class TM{constructor(t,e,a){this.data=t,this.fieldMask=e,this.fieldTransforms=a}toMutation(t,e){return this.fieldMask!==null?new Qo(t,this.data,this.fieldMask,e,this.fieldTransforms):new Pc(t,this.data,e,this.fieldTransforms)}}function Bb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw zt(40011,{Ic:i})}}class Bg{constructor(t,e,a,l,h,m){this.settings=t,this.databaseId=e,this.serializer=a,this.ignoreUndefinedProperties=l,h===void 0&&this.Ec(),this.fieldTransforms=h||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new Bg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var e;const a=(e=this.path)===null||e===void 0?void 0:e.child(t),l=this.dc({path:a,Rc:!1});return l.Vc(t),l}mc(t){var e;const a=(e=this.path)===null||e===void 0?void 0:e.child(t),l=this.dc({path:a,Rc:!1});return l.Ec(),l}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return Cf(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(Bb(this.Ic)&&vM.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class EM{constructor(t,e,a){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=a||Qf(t)}bc(t,e,a,l=!1){return new Bg({Ic:t,methodName:e,wc:a,path:Cn.emptyPath(),Rc:!1,yc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hb(i){const t=i._freezeSettings(),e=Qf(i._databaseId);return new EM(i._databaseId,!!t.ignoreUndefinedProperties,e)}function wM(i,t,e,a,l,h={}){const m=i.bc(h.merge||h.mergeFields?2:0,t,e,l);Fb("Data must be an object, but it was:",m,a);const y=qb(a,m);let v,T;if(h.merge)v=new Er(m.fieldMask),T=m.fieldTransforms;else if(h.mergeFields){const S=[];for(const C of h.mergeFields){const P=AM(t,C,e);if(!m.contains(P))throw new Ct(dt.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);IM(S,P)||S.push(P)}v=new Er(S),T=m.fieldTransforms.filter(C=>v.covers(C.field))}else v=null,T=m.fieldTransforms;return new TM(new Wi(y),v,T)}function bM(i,t,e,a=!1){return Hg(e,i.bc(a?4:3,t))}function Hg(i,t){if(jb(i=jn(i)))return Fb("Unsupported field value:",t,i),qb(i,t);if(i instanceof Ub)return function(a,l){if(!Bb(l.Ic))throw l.gc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.gc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(l);h&&l.fieldTransforms.push(h)}(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(a,l){const h=[];let m=0;for(const y of a){let v=Hg(y,l.fc(m));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),m++}return{arrayValue:{values:h}}}(i,t)}return function(a,l){if((a=jn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return lO(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=un.fromDate(a);return{timestampValue:bf(l.serializer,h)}}if(a instanceof un){const h=new un(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:bf(l.serializer,h)}}if(a instanceof zg)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Jl)return{bytesValue:ob(l.serializer,a._byteString)};if(a instanceof Oi){const h=l.databaseId,m=a.firestore._databaseId;if(!m.isEqual(h))throw l.gc(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:bg(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Ug)return function(m,y){return{mapValue:{fields:{[Nw]:{stringValue:kw},[yf]:{arrayValue:{values:m.toArray().map(T=>{if(typeof T!="number")throw y.gc("VectorValues must only contain numeric values.");return Tg(y.serializer,T)})}}}}}}(a,l);throw l.gc(`Unsupported field value: ${Jf(a)}`)}(i,t)}function qb(i,t){const e={};return xw(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ko(i,(a,l)=>{const h=Hg(l,t.Ac(a));h!=null&&(e[a]=h)}),{mapValue:{fields:e}}}function jb(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof un||i instanceof zg||i instanceof Jl||i instanceof Oi||i instanceof Ub||i instanceof Ug)}function Fb(i,t,e){if(!jb(e)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(e)){const a=Jf(e);throw a==="an object"?t.gc(i+" a custom object"):t.gc(i+" "+a)}}function AM(i,t,e){if((t=jn(t))instanceof Vg)return t._internalPath;if(typeof t=="string")return Gb(i,t);throw Cf("Field path arguments must be of type string or ",i,!1,void 0,e)}const SM=new RegExp("[~\\*/\\[\\]]");function Gb(i,t,e){if(t.search(SM)>=0)throw Cf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,e);try{return new Vg(...t.split("."))._internalPath}catch{throw Cf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,e)}}function Cf(i,t,e,a,l){const h=a&&!a.isEmpty(),m=l!==void 0;let y=`Function ${t}() called with invalid data`;e&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(h||m)&&(v+=" (found",h&&(v+=` in field ${a}`),m&&(v+=` in document ${l}`),v+=")"),new Ct(dt.INVALID_ARGUMENT,y+i+v)}function IM(i,t){return i.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(t,e,a,l,h){this._firestore=t,this._userDataWriter=e,this._key=a,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Oi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new RM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field($b("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class RM extends Zb{data(){return super.data()}}function $b(i,t){return typeof t=="string"?Gb(i,t):t instanceof Vg?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CM(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new Ct(dt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qg{}class xM extends qg{}function Kb(i,t,...e){let a=[];t instanceof qg&&a.push(t),a=a.concat(e),function(h){const m=h.filter(v=>v instanceof Fg).length,y=h.filter(v=>v instanceof jg).length;if(m>1||m>0&&y>0)throw new Ct(dt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const l of a)i=l._apply(i);return i}class jg extends xM{constructor(t,e,a){super(),this._field=t,this._op=e,this._value=a,this.type="where"}static _create(t,e,a){return new jg(t,e,a)}_apply(t){const e=this._parse(t);return Yb(t._query,e),new lu(t.firestore,t.converter,vp(t._query,e))}_parse(t){const e=Hb(t.firestore);return function(h,m,y,v,T,S,C){let P;if(T.isKeyField()){if(S==="array-contains"||S==="array-contains-any")throw new Ct(dt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if(S==="in"||S==="not-in"){LT(C,S);const q=[];for(const Z of C)q.push(OT(v,h,Z));P={arrayValue:{values:q}}}else P=OT(v,h,C)}else S!=="in"&&S!=="not-in"&&S!=="array-contains-any"||LT(C,S),P=bM(y,m,C,S==="in"||S==="not-in");return rn.create(T,S,P)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class Fg extends qg{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Fg(t,e)}_parse(t){const e=this._queryConstraints.map(a=>a._parse(t)).filter(a=>a.getFilters().length>0);return e.length===1?e[0]:br.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(l,h){let m=l;const y=h.getFlattenedFilters();for(const v of y)Yb(m,v),m=vp(m,v)}(t._query,e),new lu(t.firestore,t.converter,vp(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function OT(i,t,e){if(typeof(e=jn(e))=="string"){if(e==="")throw new Ct(dt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Fw(t)&&e.indexOf("/")!==-1)throw new Ct(dt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const a=t.path.child(ke.fromString(e));if(!Mt.isDocumentKey(a))throw new Ct(dt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return F0(i,new Mt(a))}if(e instanceof Oi)return F0(i,e._key);throw new Ct(dt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jf(e)}.`)}function LT(i,t){if(!Array.isArray(i)||i.length===0)throw new Ct(dt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Yb(i,t){const e=function(l,h){for(const m of l)for(const y of m.getFlattenedFilters())if(h.indexOf(y.op)>=0)return y.op;return null}(i.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new Ct(dt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Ct(dt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class PM{convertValue(t,e="none"){switch(Ka(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Qe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes($a(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw zt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const a={};return Ko(t,(l,h)=>{a[l]=this.convertValue(h,e)}),a}convertVectorValue(t){var e,a,l;const h=(l=(a=(e=t.fields)===null||e===void 0?void 0:e[yf].arrayValue)===null||a===void 0?void 0:a.values)===null||l===void 0?void 0:l.map(m=>Qe(m.doubleValue));return new Ug(h)}convertGeoPoint(t){return new zg(Qe(t.latitude),Qe(t.longitude))}convertArray(t,e){return(t.values||[]).map(a=>this.convertValue(a,e))}convertServerTimestamp(t,e){switch(e){case"previous":const a=Ff(t);return a==null?null:this.convertValue(a,e);case"estimate":return this.convertTimestamp(_c(t));default:return null}}convertTimestamp(t){const e=Za(t);return new un(e.seconds,e.nanos)}convertDocumentKey(t,e){const a=ke.fromString(t);me(db(a),9688,{name:t});const l=new yc(a.get(1),a.get(3)),h=new Mt(a.popFirst(5));return l.isEqual(e)||Ls(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(i,t,e){let a;return a=i?i.toFirestore(t):t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Qb extends Zb{constructor(t,e,a,l,h,m){super(t,e,a,l,m),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new rf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const a=this._document.data.field($b("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,e.serverTimestamps)}}}class rf extends Qb{data(t={}){return super.data(t)}}class LM{constructor(t,e,a,l){this._firestore=t,this._userDataWriter=e,this._snapshot=l,this.metadata=new sc(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(a=>{t.call(e,new rf(this._firestore,this._userDataWriter,a.key,a,new sc(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ct(dt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(l,h){if(l._snapshot.oldDocs.isEmpty()){let m=0;return l._snapshot.docChanges.map(y=>{const v=new rf(l._firestore,l._userDataWriter,y.doc.key,y.doc,new sc(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:m++}})}{let m=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(y=>h||y.type!==3).map(y=>{const v=new rf(l._firestore,l._userDataWriter,y.doc.key,y.doc,new sc(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);let T=-1,S=-1;return y.type!==0&&(T=m.indexOf(y.doc.key),m=m.delete(y.doc.key)),y.type!==1&&(m=m.add(y.doc),S=m.indexOf(y.doc.key)),{type:MM(y.type),doc:v,oldIndex:T,newIndex:S}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function MM(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return zt(61501,{type:i})}}class Xb extends PM{constructor(t){super(),this.firestore=t}convertBytes(t){return new Jl(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Oi(this.firestore,null,e)}}function DM(i,t){const e=dc(i.firestore,Rf),a=gM(i),l=OM(i.converter,t);return NM(e,[wM(Hb(i.firestore),"addDoc",a._key,l,i.converter!==null,{}).toMutation(a._key,Rs.exists(!1))]).then(()=>a)}function Wb(i,...t){var e,a,l;i=jn(i);let h={includeMetadataChanges:!1,source:"default"},m=0;typeof t[m]!="object"||PT(t[m])||(h=t[m],m++);const y={includeMetadataChanges:h.includeMetadataChanges,source:h.source};if(PT(t[m])){const C=t[m];t[m]=(e=C.next)===null||e===void 0?void 0:e.bind(C),t[m+1]=(a=C.error)===null||a===void 0?void 0:a.bind(C),t[m+2]=(l=C.complete)===null||l===void 0?void 0:l.bind(C)}let v,T,S;if(i instanceof Oi)T=dc(i.firestore,Rf),S=vg(i._key.path),v={next:C=>{t[m]&&t[m](kM(T,i,C))},error:t[m+1],complete:t[m+2]};else{const C=dc(i,lu);T=dc(C.firestore,Rf),S=C._query;const P=new Xb(T);v={next:U=>{t[m]&&t[m](new LM(T,P,C,U))},error:t[m+1],complete:t[m+2]},CM(i._query)}return function(P,U,q,Z){const W=new cM(Z),st=new GL(U,W,q);return P.asyncQueue.enqueueAndForget(async()=>HL(await ET(P),st)),()=>{W.xu(),P.asyncQueue.enqueueAndForget(async()=>qL(await ET(P),st))}}(zb(T),S,y,v)}function NM(i,t){return function(a,l){const h=new Vo;return a.asyncQueue.enqueueAndForget(async()=>eM(await dM(a),l,h)),h.promise}(zb(i),t)}function kM(i,t,e){const a=e.docs.get(t._key),l=new Xb(i);return new Qb(i,l,t._key,a,new sc(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(l){ru=l})(nu),Yr(new wr("firestore",(a,{instanceIdentifier:l,options:h})=>{const m=a.getProvider("app").getImmediate(),y=new Rf(new wP(a.getProvider("auth-internal")),new SP(m,a.getProvider("app-check-internal")),function(T,S){if(!Object.prototype.hasOwnProperty.apply(T.options,["projectId"]))throw new Ct(dt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yc(T.options.projectId,S)}(m,l),m);return h=Object.assign({useFetchStreams:e},h),y._setSettings(h),y},"PUBLIC").setMultipleInstances(!0)),Ji(L0,M0,t),Ji(L0,M0,"esm2017")})();const VM={apiKey:"AIzaSyB34vwxqdgDvGctHQfEfrBJSk04a1rzQgg",authDomain:"tapasradar.firebaseapp.com",projectId:"tapasradar",storageBucket:"tapasradar.appspot.com",messagingSenderId:"164963298374",appId:"1:164963298374:web:5e29f30e084ede3ecdae47",measurementId:"G-0GS8PM4XGB"},Gg=pE(VM);_x().then(i=>{i&&px(Gg)});const MT=yP(Gg),Op=_M(Gg);delete eE.Icon.Default.prototype._getIconUrl;eE.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.3/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.3/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.3/dist/images/marker-shadow.png"});const zM=[40.4168,-3.7038],UM=()=>{const[i,t]=Q.useState([]),[e,a]=Q.useState(!0);return Q.useEffect(()=>{const l=Kb(Pp(Op,"bars")),h=Wb(l,m=>{const y=m.docs.map(v=>{const T=v.data();return{id:v.id,nom:T.nom,lat:Number(T.lat),lng:Number(T.lng)}});console.log("Bars récupérés :",y),t(y),a(!1)});return()=>h()},[]),$t.jsxs("div",{className:"container",children:[$t.jsx("h2",{className:"title",children:"Mapa de bares en Madrid"}),$t.jsx("div",{className:"map",children:$t.jsxs(hI,{center:zM,zoom:13,style:{height:"100%",width:"100%"},children:[$t.jsx(mI,{attribution:'© <a href="https://openstreetmap.org/copyright">OpenStreetMap</a>',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),!e&&i.map(l=>$t.jsx(fI,{position:[l.lat,l.lng],children:$t.jsx(dI,{children:l.nom})},l.id))]})}),$t.jsx(Fp,{to:"/",className:"back-link",children:"Volver al inicio"})]})},BM=()=>{const[i,t]=Q.useState([]),[e,a]=Q.useState(!0);return Q.useEffect(()=>{const h=Kb(Pp(Op,"bars")),m=Wb(h,y=>{const v=y.docs.map(T=>({id:T.id,...T.data()}));console.log("Bars récupérés :",v),t(v),a(!1)});return()=>m()},[]),{bars:i,ajouterBar:async h=>{await DM(Pp(Op,"bars"),h)},loading:e}};function Jb(i){var t,e,a="";if(typeof i=="string"||typeof i=="number")a+=i;else if(typeof i=="object")if(Array.isArray(i)){var l=i.length;for(t=0;t<l;t++)i[t]&&(e=Jb(i[t]))&&(a&&(a+=" "),a+=e)}else for(e in i)i[e]&&(a&&(a+=" "),a+=e);return a}function zo(){for(var i,t,e=0,a="",l=arguments.length;e<l;e++)(i=arguments[e])&&(t=Jb(i))&&(a&&(a+=" "),a+=t);return a}function HM(i){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e),e.styleSheet?e.styleSheet.cssText=i:e.appendChild(document.createTextNode(i))}HM(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Dc=i=>typeof i=="number"&&!isNaN(i),Fo=i=>typeof i=="string",Ds=i=>typeof i=="function",qM=i=>Fo(i)||Dc(i),Lp=i=>Fo(i)||Ds(i)?i:null,jM=(i,t)=>i===!1||Dc(i)&&i>0?i:t,Mp=i=>Q.isValidElement(i)||Fo(i)||Ds(i)||Dc(i);function FM(i,t,e=300){let{scrollHeight:a,style:l}=i;requestAnimationFrame(()=>{l.minHeight="initial",l.height=a+"px",l.transition=`all ${e}ms`,requestAnimationFrame(()=>{l.height="0",l.padding="0",l.margin="0",setTimeout(t,e)})})}function GM({enter:i,exit:t,appendPosition:e=!1,collapse:a=!0,collapseDuration:l=300}){return function({children:h,position:m,preventExitTransition:y,done:v,nodeRef:T,isIn:S,playToast:C}){let P=e?`${i}--${m}`:i,U=e?`${t}--${m}`:t,q=Q.useRef(0);return Q.useLayoutEffect(()=>{let Z=T.current,W=P.split(" "),st=J=>{J.target===T.current&&(C(),Z.removeEventListener("animationend",st),Z.removeEventListener("animationcancel",st),q.current===0&&J.type!=="animationcancel"&&Z.classList.remove(...W))};Z.classList.add(...W),Z.addEventListener("animationend",st),Z.addEventListener("animationcancel",st)},[]),Q.useEffect(()=>{let Z=T.current,W=()=>{Z.removeEventListener("animationend",W),a?FM(Z,v,l):v()};S||(y?W():(q.current=1,Z.className+=` ${U}`,Z.addEventListener("animationend",W)))},[S]),Te.createElement(Te.Fragment,null,h)}}function DT(i,t){return{content:t1(i.content,i.props),containerId:i.props.containerId,id:i.props.toastId,theme:i.props.theme,type:i.props.type,data:i.props.data||{},isLoading:i.props.isLoading,icon:i.props.icon,reason:i.removalReason,status:t}}function t1(i,t,e=!1){return Q.isValidElement(i)&&!Fo(i.type)?Q.cloneElement(i,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:e}):Ds(i)?i({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:e}):i}function ZM({closeToast:i,theme:t,ariaLabel:e="close"}){return Te.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:a=>{a.stopPropagation(),i(!0)},"aria-label":e},Te.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Te.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function $M({delay:i,isRunning:t,closeToast:e,type:a="default",hide:l,className:h,controlledProgress:m,progress:y,rtl:v,isIn:T,theme:S}){let C=l||m&&y===0,P={animationDuration:`${i}ms`,animationPlayState:t?"running":"paused"};m&&(P.transform=`scaleX(${y})`);let U=zo("Toastify__progress-bar",m?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${S}`,`Toastify__progress-bar--${a}`,{"Toastify__progress-bar--rtl":v}),q=Ds(h)?h({rtl:v,type:a,defaultClassName:U}):zo(U,h),Z={[m&&y>=1?"onTransitionEnd":"onAnimationEnd"]:m&&y<1?null:()=>{T&&e()}};return Te.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":C},Te.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${S} Toastify__progress-bar--${a}`}),Te.createElement("div",{role:"progressbar","aria-hidden":C?"true":"false","aria-label":"notification timer",className:q,style:P,...Z}))}var KM=1,e1=()=>`${KM++}`;function YM(i,t,e){let a=1,l=0,h=[],m=[],y=t,v=new Map,T=new Set,S=J=>(T.add(J),()=>T.delete(J)),C=()=>{m=Array.from(v.values()),T.forEach(J=>J())},P=({containerId:J,toastId:it,updateId:_t})=>{let Tt=J?J!==i:i!==1,xt=v.has(it)&&_t==null;return Tt||xt},U=(J,it)=>{v.forEach(_t=>{var Tt;(it==null||it===_t.props.toastId)&&((Tt=_t.toggle)==null||Tt.call(_t,J))})},q=J=>{var it,_t;(_t=(it=J.props)==null?void 0:it.onClose)==null||_t.call(it,J.removalReason),J.isActive=!1},Z=J=>{if(J==null)v.forEach(q);else{let it=v.get(J);it&&q(it)}C()},W=()=>{l-=h.length,h=[]},st=J=>{var it,_t;let{toastId:Tt,updateId:xt}=J.props,V=xt==null;J.staleId&&v.delete(J.staleId),J.isActive=!0,v.set(Tt,J),C(),e(DT(J,V?"added":"updated")),V&&((_t=(it=J.props).onOpen)==null||_t.call(it))};return{id:i,props:y,observe:S,toggle:U,removeToast:Z,toasts:v,clearQueue:W,buildToast:(J,it)=>{if(P(it))return;let{toastId:_t,updateId:Tt,data:xt,staleId:V,delay:O}=it,M=Tt==null;M&&l++;let B={...y,style:y.toastStyle,key:a++,...Object.fromEntries(Object.entries(it).filter(([F,z])=>z!=null)),toastId:_t,updateId:Tt,data:xt,isIn:!1,className:Lp(it.className||y.toastClassName),progressClassName:Lp(it.progressClassName||y.progressClassName),autoClose:it.isLoading?!1:jM(it.autoClose,y.autoClose),closeToast(F){v.get(_t).removalReason=F,Z(_t)},deleteToast(){let F=v.get(_t);if(F!=null){if(e(DT(F,"removed")),v.delete(_t),l--,l<0&&(l=0),h.length>0){st(h.shift());return}C()}}};B.closeButton=y.closeButton,it.closeButton===!1||Mp(it.closeButton)?B.closeButton=it.closeButton:it.closeButton===!0&&(B.closeButton=Mp(y.closeButton)?y.closeButton:!0);let H={content:J,props:B,staleId:V};y.limit&&y.limit>0&&l>y.limit&&M?h.push(H):Dc(O)?setTimeout(()=>{st(H)},O):st(H)},setProps(J){y=J},setToggle:(J,it)=>{let _t=v.get(J);_t&&(_t.toggle=it)},isToastActive:J=>{var it;return(it=v.get(J))==null?void 0:it.isActive},getSnapshot:()=>m}}var Xn=new Map,wc=[],Dp=new Set,QM=i=>Dp.forEach(t=>t(i)),n1=()=>Xn.size>0;function XM(){wc.forEach(i=>r1(i.content,i.options)),wc=[]}var WM=(i,{containerId:t})=>{var e;return(e=Xn.get(t||1))==null?void 0:e.toasts.get(i)};function i1(i,t){var e;if(t)return!!((e=Xn.get(t))!=null&&e.isToastActive(i));let a=!1;return Xn.forEach(l=>{l.isToastActive(i)&&(a=!0)}),a}function JM(i){if(!n1()){wc=wc.filter(t=>i!=null&&t.options.toastId!==i);return}if(i==null||qM(i))Xn.forEach(t=>{t.removeToast(i)});else if(i&&("containerId"in i||"id"in i)){let t=Xn.get(i.containerId);t?t.removeToast(i.id):Xn.forEach(e=>{e.removeToast(i.id)})}}var tD=(i={})=>{Xn.forEach(t=>{t.props.limit&&(!i.containerId||t.id===i.containerId)&&t.clearQueue()})};function r1(i,t){Mp(i)&&(n1()||wc.push({content:i,options:t}),Xn.forEach(e=>{e.buildToast(i,t)}))}function eD(i){var t;(t=Xn.get(i.containerId||1))==null||t.setToggle(i.id,i.fn)}function s1(i,t){Xn.forEach(e=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===e.id)&&e.toggle(i,t==null?void 0:t.id)})}function nD(i){let t=i.containerId||1;return{subscribe(e){let a=YM(t,i,QM);Xn.set(t,a);let l=a.observe(e);return XM(),()=>{l(),Xn.delete(t)}},setProps(e){var a;(a=Xn.get(t))==null||a.setProps(e)},getSnapshot(){var e;return(e=Xn.get(t))==null?void 0:e.getSnapshot()}}}function iD(i){return Dp.add(i),()=>{Dp.delete(i)}}function rD(i){return i&&(Fo(i.toastId)||Dc(i.toastId))?i.toastId:e1()}function Nc(i,t){return r1(i,t),t.toastId}function ed(i,t){return{...t,type:t&&t.type||i,toastId:rD(t)}}function nd(i){return(t,e)=>Nc(t,ed(i,e))}function ve(i,t){return Nc(i,ed("default",t))}ve.loading=(i,t)=>Nc(i,ed("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function sD(i,{pending:t,error:e,success:a},l){let h;t&&(h=Fo(t)?ve.loading(t,l):ve.loading(t.render,{...l,...t}));let m={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},y=(T,S,C)=>{if(S==null){ve.dismiss(h);return}let P={type:T,...m,...l,data:C},U=Fo(S)?{render:S}:S;return h?ve.update(h,{...P,...U}):ve(U.render,{...P,...U}),C},v=Ds(i)?i():i;return v.then(T=>y("success",a,T)).catch(T=>y("error",e,T)),v}ve.promise=sD;ve.success=nd("success");ve.info=nd("info");ve.error=nd("error");ve.warning=nd("warning");ve.warn=ve.warning;ve.dark=(i,t)=>Nc(i,ed("default",{theme:"dark",...t}));function aD(i){JM(i)}ve.dismiss=aD;ve.clearWaitingQueue=tD;ve.isActive=i1;ve.update=(i,t={})=>{let e=WM(i,t);if(e){let{props:a,content:l}=e,h={delay:100,...a,...t,toastId:t.toastId||i,updateId:e1()};h.toastId!==i&&(h.staleId=i);let m=h.render||l;delete h.render,Nc(m,h)}};ve.done=i=>{ve.update(i,{progress:1})};ve.onChange=iD;ve.play=i=>s1(!0,i);ve.pause=i=>s1(!1,i);function oD(i){var t;let{subscribe:e,getSnapshot:a,setProps:l}=Q.useRef(nD(i)).current;l(i);let h=(t=Q.useSyncExternalStore(e,a,a))==null?void 0:t.slice();function m(y){if(!h)return[];let v=new Map;return i.newestOnTop&&h.reverse(),h.forEach(T=>{let{position:S}=T.props;v.has(S)||v.set(S,[]),v.get(S).push(T)}),Array.from(v,T=>y(T[0],T[1]))}return{getToastToRender:m,isToastActive:i1,count:h==null?void 0:h.length}}function lD(i){let[t,e]=Q.useState(!1),[a,l]=Q.useState(!1),h=Q.useRef(null),m=Q.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:y,pauseOnHover:v,closeToast:T,onClick:S,closeOnClick:C}=i;eD({id:i.toastId,containerId:i.containerId,fn:e}),Q.useEffect(()=>{if(i.pauseOnFocusLoss)return P(),()=>{U()}},[i.pauseOnFocusLoss]);function P(){document.hasFocus()||st(),window.addEventListener("focus",W),window.addEventListener("blur",st)}function U(){window.removeEventListener("focus",W),window.removeEventListener("blur",st)}function q(V){if(i.draggable===!0||i.draggable===V.pointerType){J();let O=h.current;m.canCloseOnClick=!0,m.canDrag=!0,O.style.transition="none",i.draggableDirection==="x"?(m.start=V.clientX,m.removalDistance=O.offsetWidth*(i.draggablePercent/100)):(m.start=V.clientY,m.removalDistance=O.offsetHeight*(i.draggablePercent===80?i.draggablePercent*1.5:i.draggablePercent)/100)}}function Z(V){let{top:O,bottom:M,left:B,right:H}=h.current.getBoundingClientRect();V.nativeEvent.type!=="touchend"&&i.pauseOnHover&&V.clientX>=B&&V.clientX<=H&&V.clientY>=O&&V.clientY<=M?st():W()}function W(){e(!0)}function st(){e(!1)}function J(){m.didMove=!1,document.addEventListener("pointermove",_t),document.addEventListener("pointerup",Tt)}function it(){document.removeEventListener("pointermove",_t),document.removeEventListener("pointerup",Tt)}function _t(V){let O=h.current;if(m.canDrag&&O){m.didMove=!0,t&&st(),i.draggableDirection==="x"?m.delta=V.clientX-m.start:m.delta=V.clientY-m.start,m.start!==V.clientX&&(m.canCloseOnClick=!1);let M=i.draggableDirection==="x"?`${m.delta}px, var(--y)`:`0, calc(${m.delta}px + var(--y))`;O.style.transform=`translate3d(${M},0)`,O.style.opacity=`${1-Math.abs(m.delta/m.removalDistance)}`}}function Tt(){it();let V=h.current;if(m.canDrag&&m.didMove&&V){if(m.canDrag=!1,Math.abs(m.delta)>m.removalDistance){l(!0),i.closeToast(!0),i.collapseAll();return}V.style.transition="transform 0.2s, opacity 0.2s",V.style.removeProperty("transform"),V.style.removeProperty("opacity")}}let xt={onPointerDown:q,onPointerUp:Z};return y&&v&&(xt.onMouseEnter=st,i.stacked||(xt.onMouseLeave=W)),C&&(xt.onClick=V=>{S&&S(V),m.canCloseOnClick&&T(!0)}),{playToast:W,pauseToast:st,isRunning:t,preventExitTransition:a,toastRef:h,eventHandlers:xt}}var uD=typeof window<"u"?Q.useLayoutEffect:Q.useEffect,id=({theme:i,type:t,isLoading:e,...a})=>Te.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:i==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...a});function cD(i){return Te.createElement(id,{...i},Te.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function hD(i){return Te.createElement(id,{...i},Te.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function fD(i){return Te.createElement(id,{...i},Te.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function dD(i){return Te.createElement(id,{...i},Te.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function mD(){return Te.createElement("div",{className:"Toastify__spinner"})}var Np={info:hD,warning:cD,success:fD,error:dD,spinner:mD},pD=i=>i in Np;function gD({theme:i,type:t,isLoading:e,icon:a}){let l=null,h={theme:i,type:t};return a===!1||(Ds(a)?l=a({...h,isLoading:e}):Q.isValidElement(a)?l=Q.cloneElement(a,h):e?l=Np.spinner():pD(t)&&(l=Np[t](h))),l}var _D=i=>{let{isRunning:t,preventExitTransition:e,toastRef:a,eventHandlers:l,playToast:h}=lD(i),{closeButton:m,children:y,autoClose:v,onClick:T,type:S,hideProgressBar:C,closeToast:P,transition:U,position:q,className:Z,style:W,progressClassName:st,updateId:J,role:it,progress:_t,rtl:Tt,toastId:xt,deleteToast:V,isIn:O,isLoading:M,closeOnClick:B,theme:H,ariaLabel:F}=i,z=zo("Toastify__toast",`Toastify__toast-theme--${H}`,`Toastify__toast--${S}`,{"Toastify__toast--rtl":Tt},{"Toastify__toast--close-on-click":B}),pe=Ds(Z)?Z({rtl:Tt,position:q,type:S,defaultClassName:z}):zo(z,Z),Ie=gD(i),at=!!_t||!v,yt={closeToast:P,type:S,theme:H},pt=null;return m===!1||(Ds(m)?pt=m(yt):Q.isValidElement(m)?pt=Q.cloneElement(m,yt):pt=ZM(yt)),Te.createElement(U,{isIn:O,done:V,position:q,preventExitTransition:e,nodeRef:a,playToast:h},Te.createElement("div",{id:xt,tabIndex:0,onClick:T,"data-in":O,className:pe,...l,style:W,ref:a,...O&&{role:it,"aria-label":F}},Ie!=null&&Te.createElement("div",{className:zo("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!M})},Ie),t1(y,i,!t),pt,!i.customProgressBar&&Te.createElement($M,{...J&&!at?{key:`p-${J}`}:{},rtl:Tt,theme:H,delay:v,isRunning:t,isIn:O,closeToast:P,hide:C,type:S,className:st,controlledProgress:at,progress:_t||0})))},yD=(i,t=!1)=>({enter:`Toastify--animate Toastify__${i}-enter`,exit:`Toastify--animate Toastify__${i}-exit`,appendPosition:t}),vD=GM(yD("bounce",!0)),TD={position:"top-right",transition:vD,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:i=>i.altKey&&i.code==="KeyT"};function ED(i){let t={...TD,...i},e=i.stacked,[a,l]=Q.useState(!0),h=Q.useRef(null),{getToastToRender:m,isToastActive:y,count:v}=oD(t),{className:T,style:S,rtl:C,containerId:P,hotKeys:U}=t;function q(W){let st=zo("Toastify__toast-container",`Toastify__toast-container--${W}`,{"Toastify__toast-container--rtl":C});return Ds(T)?T({position:W,rtl:C,defaultClassName:st}):zo(st,Lp(T))}function Z(){e&&(l(!0),ve.play())}return uD(()=>{var W;if(e){let st=h.current.querySelectorAll('[data-in="true"]'),J=12,it=(W=t.position)==null?void 0:W.includes("top"),_t=0,Tt=0;Array.from(st).reverse().forEach((xt,V)=>{let O=xt;O.classList.add("Toastify__toast--stacked"),V>0&&(O.dataset.collapsed=`${a}`),O.dataset.pos||(O.dataset.pos=it?"top":"bot");let M=_t*(a?.2:1)+(a?0:J*V);O.style.setProperty("--y",`${it?M:M*-1}px`),O.style.setProperty("--g",`${J}`),O.style.setProperty("--s",`${1-(a?Tt:0)}`),_t+=O.offsetHeight,Tt+=.025})}},[a,v,e]),Q.useEffect(()=>{function W(st){var J;let it=h.current;U(st)&&((J=it.querySelector('[tabIndex="0"]'))==null||J.focus(),l(!1),ve.pause()),st.key==="Escape"&&(document.activeElement===it||it!=null&&it.contains(document.activeElement))&&(l(!0),ve.play())}return document.addEventListener("keydown",W),()=>{document.removeEventListener("keydown",W)}},[U]),Te.createElement("section",{ref:h,className:"Toastify",id:P,onMouseEnter:()=>{e&&(l(!1),ve.pause())},onMouseLeave:Z,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},m((W,st)=>{let J=st.length?{...S}:{...S,pointerEvents:"none"};return Te.createElement("div",{tabIndex:-1,className:q(W),"data-stacked":e,style:J,key:`c-${W}`},st.map(({content:it,props:_t})=>Te.createElement(_D,{..._t,stacked:e,collapseAll:Z,isIn:y(_t.toastId,_t.containerId),key:`t-${_t.key}`},it)))}))}const wD=()=>{const[i,t]=Q.useState(""),[e,a]=Q.useState(""),[l,h]=Q.useState(""),[m,y]=Q.useState(!1),{ajouterBar:v}=BM(),T=Up(),S=()=>{T("/")},C=async U=>{if(U.preventDefault(),!i||!e||!l)return alert("Por favor, completa todos los campos.");try{await v({nom:i,lat:parseFloat(e),lng:parseFloat(l)}),T("/mapa"),ve.success("Formulario enviado correctamente ✅")}catch(q){console.error("Error al añadir bar:",q),alert("Hubo un error al guardar el bar.")}},P=()=>{window.confirm("¿Estás seguro de que quieres borrar el formulario?")&&(y(!0),setTimeout(()=>{t(""),a(""),h(""),y(!1),ve.info("Formulario limpiado correctamente ✅")},300))};return $t.jsx("div",{className:"form-container",children:$t.jsxs("form",{onSubmit:C,children:[$t.jsx("input",{type:"text",placeholder:"Nombre del bar",value:i,onChange:U=>t(U.target.value),className:m?"resetting":""}),$t.jsx("input",{type:"number",placeholder:"Latitud",value:e,onChange:U=>a(U.target.value),className:m?"resetting":""}),$t.jsx("input",{type:"number",placeholder:"Longitud",value:l,onChange:U=>h(U.target.value),className:m?"resetting":""}),$t.jsx("button",{type:"submit",children:"Guardar"}),$t.jsx("button",{type:"button",onClick:P,children:"Resetear"}),$t.jsx("button",{type:"button",onClick:S,children:"Ir a inicio"})]})})};function bD(){const[i,t]=Q.useState(null),[e,a]=Q.useState(!0);return Q.useEffect(()=>{const l=o2(MT,h=>{t(h?{uid:h.uid,isAnonymous:h.isAnonymous}:null),a(!1)});return e2(MT).catch(h=>{console.error("Erreur lors de la connexion anonyme",h),a(!1)}),()=>l()},[]),{user:i,loading:e}}const AD="Mael Develop",SD=1;let ID=new Date().getFullYear();function RD(){return"Beta"}const CD=` ${ID}, ${AD} in version ${SD} ${RD()}`,xD=()=>$t.jsx("div",{className:"footer",children:$t.jsxs("p",{className:"credits",children:["© ",CD]})}),PD=()=>{const{user:i,loading:t}=bD();return t?$t.jsx("p",{children:"Cargando..."}):i?(console.log(`Conectado anónimamente con UID ${i.uid}`),$t.jsx($t.Fragment,{children:$t.jsxs(HashRouter,{children:[$t.jsxs(pS,{children:[$t.jsx(Gh,{path:"/",element:$t.jsx(YS,{})}),$t.jsx(Gh,{path:"/mapa",element:$t.jsx(UM,{})}),$t.jsx(Gh,{path:"/añadir",element:$t.jsx(wD,{})})]}),$t.jsx(xD,{}),$t.jsx(ED,{})]})})):$t.jsx("p",{children:"Problema con la autenticación"})};xA.createRoot(document.getElementById("root")).render($t.jsx(Te.StrictMode,{children:$t.jsx(PD,{})}));
