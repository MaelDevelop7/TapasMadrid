(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const m of h.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&a(m)}).observe(document,{childList:!0,subtree:!0});function e(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(l){if(l.ep)return;l.ep=!0;const h=e(l);fetch(l.href,h)}})();function Vp(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Nm={exports:{}},Wu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dv;function bS(){if(Dv)return Wu;Dv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(a,l,h){var m=null;if(h!==void 0&&(m=""+h),l.key!==void 0&&(m=""+l.key),"key"in l){h={};for(var y in l)y!=="key"&&(h[y]=l[y])}else h=l;return l=h.ref,{$$typeof:i,type:a,key:m,ref:l!==void 0?l:null,props:h}}return Wu.Fragment=t,Wu.jsx=e,Wu.jsxs=e,Wu}var Nv;function SS(){return Nv||(Nv=1,Nm.exports=bS()),Nm.exports}var $t=SS(),km={exports:{}},Zt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kv;function AS(){if(kv)return Zt;kv=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),m=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),T=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),C=Symbol.iterator;function P(D){return D===null||typeof D!="object"?null:(D=C&&D[C]||D["@@iterator"],typeof D=="function"?D:null)}var U={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,G={};function $(D,ot,_t){this.props=D,this.context=ot,this.refs=G,this.updater=_t||U}$.prototype.isReactComponent={},$.prototype.setState=function(D,ot){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,ot,"setState")},$.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function et(){}et.prototype=$.prototype;function J(D,ot,_t){this.props=D,this.context=ot,this.refs=G,this.updater=_t||U}var nt=J.prototype=new et;nt.constructor=J,q(nt,$.prototype),nt.isPureReactComponent=!0;var gt=Array.isArray,Tt={H:null,A:null,T:null,S:null,V:null},xt=Object.prototype.hasOwnProperty;function V(D,ot,_t,mt,wt,At){return _t=At.ref,{$$typeof:i,type:D,key:ot,ref:_t!==void 0?_t:null,props:At}}function O(D,ot){return V(D.type,ot,void 0,void 0,void 0,D.props)}function M(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function B(D){var ot={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(_t){return ot[_t]})}var H=/\/+/g;function F(D,ot){return typeof D=="object"&&D!==null&&D.key!=null?B(""+D.key):ot.toString(36)}function z(){}function pe(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(z,z):(D.status="pending",D.then(function(ot){D.status==="pending"&&(D.status="fulfilled",D.value=ot)},function(ot){D.status==="pending"&&(D.status="rejected",D.reason=ot)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function Re(D,ot,_t,mt,wt){var At=typeof D;(At==="undefined"||At==="boolean")&&(D=null);var Et=!1;if(D===null)Et=!0;else switch(At){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(D.$$typeof){case i:case t:Et=!0;break;case A:return Et=D._init,Re(Et(D._payload),ot,_t,mt,wt)}}if(Et)return wt=wt(D),Et=mt===""?"."+F(D,0):mt,gt(wt)?(_t="",Et!=null&&(_t=Et.replace(H,"$&/")+"/"),Re(wt,ot,_t,"",function(li){return li})):wt!=null&&(M(wt)&&(wt=O(wt,_t+(wt.key==null||D&&D.key===wt.key?"":(""+wt.key).replace(H,"$&/")+"/")+Et)),ot.push(wt)),1;Et=0;var Ee=mt===""?".":mt+":";if(gt(D))for(var re=0;re<D.length;re++)mt=D[re],At=Ee+F(mt,re),Et+=Re(mt,ot,_t,At,wt);else if(re=P(D),typeof re=="function")for(D=re.call(D),re=0;!(mt=D.next()).done;)mt=mt.value,At=Ee+F(mt,re++),Et+=Re(mt,ot,_t,At,wt);else if(At==="object"){if(typeof D.then=="function")return Re(pe(D),ot,_t,mt,wt);throw ot=String(D),Error("Objects are not valid as a React child (found: "+(ot==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":ot)+"). If you meant to render a collection of children, use an array instead.")}return Et}function at(D,ot,_t){if(D==null)return D;var mt=[],wt=0;return Re(D,mt,"","",function(At){return ot.call(_t,At,wt++)}),mt}function yt(D){if(D._status===-1){var ot=D._result;ot=ot(),ot.then(function(_t){(D._status===0||D._status===-1)&&(D._status=1,D._result=_t)},function(_t){(D._status===0||D._status===-1)&&(D._status=2,D._result=_t)}),D._status===-1&&(D._status=0,D._result=ot)}if(D._status===1)return D._result.default;throw D._result}var pt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ot=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(ot))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function se(){}return Zt.Children={map:at,forEach:function(D,ot,_t){at(D,function(){ot.apply(this,arguments)},_t)},count:function(D){var ot=0;return at(D,function(){ot++}),ot},toArray:function(D){return at(D,function(ot){return ot})||[]},only:function(D){if(!M(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Zt.Component=$,Zt.Fragment=e,Zt.Profiler=l,Zt.PureComponent=J,Zt.StrictMode=a,Zt.Suspense=v,Zt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Tt,Zt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return Tt.H.useMemoCache(D)}},Zt.cache=function(D){return function(){return D.apply(null,arguments)}},Zt.cloneElement=function(D,ot,_t){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var mt=q({},D.props),wt=D.key,At=void 0;if(ot!=null)for(Et in ot.ref!==void 0&&(At=void 0),ot.key!==void 0&&(wt=""+ot.key),ot)!xt.call(ot,Et)||Et==="key"||Et==="__self"||Et==="__source"||Et==="ref"&&ot.ref===void 0||(mt[Et]=ot[Et]);var Et=arguments.length-2;if(Et===1)mt.children=_t;else if(1<Et){for(var Ee=Array(Et),re=0;re<Et;re++)Ee[re]=arguments[re+2];mt.children=Ee}return V(D.type,wt,void 0,void 0,At,mt)},Zt.createContext=function(D){return D={$$typeof:m,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:h,_context:D},D},Zt.createElement=function(D,ot,_t){var mt,wt={},At=null;if(ot!=null)for(mt in ot.key!==void 0&&(At=""+ot.key),ot)xt.call(ot,mt)&&mt!=="key"&&mt!=="__self"&&mt!=="__source"&&(wt[mt]=ot[mt]);var Et=arguments.length-2;if(Et===1)wt.children=_t;else if(1<Et){for(var Ee=Array(Et),re=0;re<Et;re++)Ee[re]=arguments[re+2];wt.children=Ee}if(D&&D.defaultProps)for(mt in Et=D.defaultProps,Et)wt[mt]===void 0&&(wt[mt]=Et[mt]);return V(D,At,void 0,void 0,null,wt)},Zt.createRef=function(){return{current:null}},Zt.forwardRef=function(D){return{$$typeof:y,render:D}},Zt.isValidElement=M,Zt.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:yt}},Zt.memo=function(D,ot){return{$$typeof:T,type:D,compare:ot===void 0?null:ot}},Zt.startTransition=function(D){var ot=Tt.T,_t={};Tt.T=_t;try{var mt=D(),wt=Tt.S;wt!==null&&wt(_t,mt),typeof mt=="object"&&mt!==null&&typeof mt.then=="function"&&mt.then(se,pt)}catch(At){pt(At)}finally{Tt.T=ot}},Zt.unstable_useCacheRefresh=function(){return Tt.H.useCacheRefresh()},Zt.use=function(D){return Tt.H.use(D)},Zt.useActionState=function(D,ot,_t){return Tt.H.useActionState(D,ot,_t)},Zt.useCallback=function(D,ot){return Tt.H.useCallback(D,ot)},Zt.useContext=function(D){return Tt.H.useContext(D)},Zt.useDebugValue=function(){},Zt.useDeferredValue=function(D,ot){return Tt.H.useDeferredValue(D,ot)},Zt.useEffect=function(D,ot,_t){var mt=Tt.H;if(typeof _t=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return mt.useEffect(D,ot)},Zt.useId=function(){return Tt.H.useId()},Zt.useImperativeHandle=function(D,ot,_t){return Tt.H.useImperativeHandle(D,ot,_t)},Zt.useInsertionEffect=function(D,ot){return Tt.H.useInsertionEffect(D,ot)},Zt.useLayoutEffect=function(D,ot){return Tt.H.useLayoutEffect(D,ot)},Zt.useMemo=function(D,ot){return Tt.H.useMemo(D,ot)},Zt.useOptimistic=function(D,ot){return Tt.H.useOptimistic(D,ot)},Zt.useReducer=function(D,ot,_t){return Tt.H.useReducer(D,ot,_t)},Zt.useRef=function(D){return Tt.H.useRef(D)},Zt.useState=function(D){return Tt.H.useState(D)},Zt.useSyncExternalStore=function(D,ot,_t){return Tt.H.useSyncExternalStore(D,ot,_t)},Zt.useTransition=function(){return Tt.H.useTransition()},Zt.version="19.1.0",Zt}var Vv;function zp(){return Vv||(Vv=1,km.exports=AS()),km.exports}var Q=zp();const Te=Vp(Q);var Vm={exports:{}},Ju={},zm={exports:{}},Um={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function RS(){return zv||(zv=1,function(i){function t(at,yt){var pt=at.length;at.push(yt);t:for(;0<pt;){var se=pt-1>>>1,D=at[se];if(0<l(D,yt))at[se]=yt,at[pt]=D,pt=se;else break t}}function e(at){return at.length===0?null:at[0]}function a(at){if(at.length===0)return null;var yt=at[0],pt=at.pop();if(pt!==yt){at[0]=pt;t:for(var se=0,D=at.length,ot=D>>>1;se<ot;){var _t=2*(se+1)-1,mt=at[_t],wt=_t+1,At=at[wt];if(0>l(mt,pt))wt<D&&0>l(At,mt)?(at[se]=At,at[wt]=pt,se=wt):(at[se]=mt,at[_t]=pt,se=_t);else if(wt<D&&0>l(At,pt))at[se]=At,at[wt]=pt,se=wt;else break t}}return yt}function l(at,yt){var pt=at.sortIndex-yt.sortIndex;return pt!==0?pt:at.id-yt.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;i.unstable_now=function(){return h.now()}}else{var m=Date,y=m.now();i.unstable_now=function(){return m.now()-y}}var v=[],T=[],A=1,C=null,P=3,U=!1,q=!1,G=!1,$=!1,et=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,nt=typeof setImmediate<"u"?setImmediate:null;function gt(at){for(var yt=e(T);yt!==null;){if(yt.callback===null)a(T);else if(yt.startTime<=at)a(T),yt.sortIndex=yt.expirationTime,t(v,yt);else break;yt=e(T)}}function Tt(at){if(G=!1,gt(at),!q)if(e(v)!==null)q=!0,xt||(xt=!0,F());else{var yt=e(T);yt!==null&&Re(Tt,yt.startTime-at)}}var xt=!1,V=-1,O=5,M=-1;function B(){return $?!0:!(i.unstable_now()-M<O)}function H(){if($=!1,xt){var at=i.unstable_now();M=at;var yt=!0;try{t:{q=!1,G&&(G=!1,J(V),V=-1),U=!0;var pt=P;try{e:{for(gt(at),C=e(v);C!==null&&!(C.expirationTime>at&&B());){var se=C.callback;if(typeof se=="function"){C.callback=null,P=C.priorityLevel;var D=se(C.expirationTime<=at);if(at=i.unstable_now(),typeof D=="function"){C.callback=D,gt(at),yt=!0;break e}C===e(v)&&a(v),gt(at)}else a(v);C=e(v)}if(C!==null)yt=!0;else{var ot=e(T);ot!==null&&Re(Tt,ot.startTime-at),yt=!1}}break t}finally{C=null,P=pt,U=!1}yt=void 0}}finally{yt?F():xt=!1}}}var F;if(typeof nt=="function")F=function(){nt(H)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,pe=z.port2;z.port1.onmessage=H,F=function(){pe.postMessage(null)}}else F=function(){et(H,0)};function Re(at,yt){V=et(function(){at(i.unstable_now())},yt)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(at){at.callback=null},i.unstable_forceFrameRate=function(at){0>at||125<at?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<at?Math.floor(1e3/at):5},i.unstable_getCurrentPriorityLevel=function(){return P},i.unstable_next=function(at){switch(P){case 1:case 2:case 3:var yt=3;break;default:yt=P}var pt=P;P=yt;try{return at()}finally{P=pt}},i.unstable_requestPaint=function(){$=!0},i.unstable_runWithPriority=function(at,yt){switch(at){case 1:case 2:case 3:case 4:case 5:break;default:at=3}var pt=P;P=at;try{return yt()}finally{P=pt}},i.unstable_scheduleCallback=function(at,yt,pt){var se=i.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?se+pt:se):pt=se,at){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=pt+D,at={id:A++,callback:yt,priorityLevel:at,startTime:pt,expirationTime:D,sortIndex:-1},pt>se?(at.sortIndex=pt,t(T,at),e(v)===null&&at===e(T)&&(G?(J(V),V=-1):G=!0,Re(Tt,pt-se))):(at.sortIndex=D,t(v,at),q||U||(q=!0,xt||(xt=!0,F()))),at},i.unstable_shouldYield=B,i.unstable_wrapCallback=function(at){var yt=P;return function(){var pt=P;P=yt;try{return at.apply(this,arguments)}finally{P=pt}}}}(Um)),Um}var Uv;function IS(){return Uv||(Uv=1,zm.exports=RS()),zm.exports}var Bm={exports:{}},zn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function CS(){if(Bv)return zn;Bv=1;var i=zp();function t(v){var T="https://react.dev/errors/"+v;if(1<arguments.length){T+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)T+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+T+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var a={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(v,T,A){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:C==null?null:""+C,children:v,containerInfo:T,implementation:A}}var m=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(v,T){if(v==="font")return"";if(typeof T=="string")return T==="use-credentials"?T:""}return zn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,zn.createPortal=function(v,T){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!T||T.nodeType!==1&&T.nodeType!==9&&T.nodeType!==11)throw Error(t(299));return h(v,T,null,A)},zn.flushSync=function(v){var T=m.T,A=a.p;try{if(m.T=null,a.p=2,v)return v()}finally{m.T=T,a.p=A,a.d.f()}},zn.preconnect=function(v,T){typeof v=="string"&&(T?(T=T.crossOrigin,T=typeof T=="string"?T==="use-credentials"?T:"":void 0):T=null,a.d.C(v,T))},zn.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},zn.preinit=function(v,T){if(typeof v=="string"&&T&&typeof T.as=="string"){var A=T.as,C=y(A,T.crossOrigin),P=typeof T.integrity=="string"?T.integrity:void 0,U=typeof T.fetchPriority=="string"?T.fetchPriority:void 0;A==="style"?a.d.S(v,typeof T.precedence=="string"?T.precedence:void 0,{crossOrigin:C,integrity:P,fetchPriority:U}):A==="script"&&a.d.X(v,{crossOrigin:C,integrity:P,fetchPriority:U,nonce:typeof T.nonce=="string"?T.nonce:void 0})}},zn.preinitModule=function(v,T){if(typeof v=="string")if(typeof T=="object"&&T!==null){if(T.as==null||T.as==="script"){var A=y(T.as,T.crossOrigin);a.d.M(v,{crossOrigin:A,integrity:typeof T.integrity=="string"?T.integrity:void 0,nonce:typeof T.nonce=="string"?T.nonce:void 0})}}else T==null&&a.d.M(v)},zn.preload=function(v,T){if(typeof v=="string"&&typeof T=="object"&&T!==null&&typeof T.as=="string"){var A=T.as,C=y(A,T.crossOrigin);a.d.L(v,A,{crossOrigin:C,integrity:typeof T.integrity=="string"?T.integrity:void 0,nonce:typeof T.nonce=="string"?T.nonce:void 0,type:typeof T.type=="string"?T.type:void 0,fetchPriority:typeof T.fetchPriority=="string"?T.fetchPriority:void 0,referrerPolicy:typeof T.referrerPolicy=="string"?T.referrerPolicy:void 0,imageSrcSet:typeof T.imageSrcSet=="string"?T.imageSrcSet:void 0,imageSizes:typeof T.imageSizes=="string"?T.imageSizes:void 0,media:typeof T.media=="string"?T.media:void 0})}},zn.preloadModule=function(v,T){if(typeof v=="string")if(T){var A=y(T.as,T.crossOrigin);a.d.m(v,{as:typeof T.as=="string"&&T.as!=="script"?T.as:void 0,crossOrigin:A,integrity:typeof T.integrity=="string"?T.integrity:void 0})}else a.d.m(v)},zn.requestFormReset=function(v){a.d.r(v)},zn.unstable_batchedUpdates=function(v,T){return v(T)},zn.useFormState=function(v,T,A){return m.H.useFormState(v,T,A)},zn.useFormStatus=function(){return m.H.useHostTransitionStatus()},zn.version="19.1.0",zn}var Hv;function zT(){if(Hv)return Bm.exports;Hv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Bm.exports=CS(),Bm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function xS(){if(qv)return Ju;qv=1;var i=IS(),t=zp(),e=zT();function a(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function h(n){var r=n,o=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(o=r.return),n=r.return;while(n)}return r.tag===3?o:null}function m(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function y(n){if(h(n)!==n)throw Error(a(188))}function v(n){var r=n.alternate;if(!r){if(r=h(n),r===null)throw Error(a(188));return r!==n?null:n}for(var o=n,c=r;;){var p=o.return;if(p===null)break;var g=p.alternate;if(g===null){if(c=p.return,c!==null){o=c;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===o)return y(p),n;if(g===c)return y(p),r;g=g.sibling}throw Error(a(188))}if(o.return!==c.return)o=p,c=g;else{for(var S=!1,I=p.child;I;){if(I===o){S=!0,o=p,c=g;break}if(I===c){S=!0,c=p,o=g;break}I=I.sibling}if(!S){for(I=g.child;I;){if(I===o){S=!0,o=g,c=p;break}if(I===c){S=!0,c=g,o=p;break}I=I.sibling}if(!S)throw Error(a(189))}}if(o.alternate!==c)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?n:r}function T(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=T(n),r!==null)return r;n=n.sibling}return null}var A=Object.assign,C=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),U=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),$=Symbol.for("react.profiler"),et=Symbol.for("react.provider"),J=Symbol.for("react.consumer"),nt=Symbol.for("react.context"),gt=Symbol.for("react.forward_ref"),Tt=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),H=Symbol.iterator;function F(n){return n===null||typeof n!="object"?null:(n=H&&n[H]||n["@@iterator"],typeof n=="function"?n:null)}var z=Symbol.for("react.client.reference");function pe(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===z?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case q:return"Fragment";case $:return"Profiler";case G:return"StrictMode";case Tt:return"Suspense";case xt:return"SuspenseList";case M:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case U:return"Portal";case nt:return(n.displayName||"Context")+".Provider";case J:return(n._context.displayName||"Context")+".Consumer";case gt:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case V:return r=n.displayName||null,r!==null?r:pe(n.type)||"Memo";case O:r=n._payload,n=n._init;try{return pe(n(r))}catch{}}return null}var Re=Array.isArray,at=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,yt=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},se=[],D=-1;function ot(n){return{current:n}}function _t(n){0>D||(n.current=se[D],se[D]=null,D--)}function mt(n,r){D++,se[D]=n.current,n.current=r}var wt=ot(null),At=ot(null),Et=ot(null),Ee=ot(null);function re(n,r){switch(mt(Et,r),mt(At,n),mt(wt,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?lv(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=lv(r),n=uv(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}_t(wt),mt(wt,n)}function li(){_t(wt),_t(At),_t(Et)}function Li(n){n.memoizedState!==null&&mt(Ee,n);var r=wt.current,o=uv(r,n.type);r!==o&&(mt(At,n),mt(wt,o))}function ui(n){At.current===n&&(_t(wt),_t(At)),Ee.current===n&&(_t(Ee),$u._currentValue=pt)}var ci=Object.prototype.hasOwnProperty,tr=i.unstable_scheduleCallback,Jr=i.unstable_cancelCallback,zs=i.unstable_shouldYield,Xa=i.unstable_requestPaint,Pn=i.unstable_now,Us=i.unstable_getCurrentPriorityLevel,Wa=i.unstable_ImmediatePriority,ts=i.unstable_UserBlockingPriority,er=i.unstable_NormalPriority,Wo=i.unstable_LowPriority,es=i.unstable_IdlePriority,Ja=i.log,Jo=i.unstable_setDisableYieldValue,xe=null,ue=null;function On(n){if(typeof Ja=="function"&&Jo(n),ue&&typeof ue.setStrictMode=="function")try{ue.setStrictMode(xe,n)}catch{}}var hn=Math.clz32?Math.clz32:ns,to=Math.log,tl=Math.LN2;function ns(n){return n>>>=0,n===0?32:31-(to(n)/tl|0)|0}var Ar=256,nr=4194304;function Wn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Bs(n,r,o){var c=n.pendingLanes;if(c===0)return 0;var p=0,g=n.suspendedLanes,S=n.pingedLanes;n=n.warmLanes;var I=c&134217727;return I!==0?(c=I&~g,c!==0?p=Wn(c):(S&=I,S!==0?p=Wn(S):o||(o=I&~n,o!==0&&(p=Wn(o))))):(I=c&~g,I!==0?p=Wn(I):S!==0?p=Wn(S):o||(o=c&~n,o!==0&&(p=Wn(o)))),p===0?0:r!==0&&r!==p&&(r&g)===0&&(g=p&-p,o=r&-r,g>=o||g===32&&(o&4194048)!==0)?r:p}function hi(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function eo(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function no(){var n=Ar;return Ar<<=1,(Ar&4194048)===0&&(Ar=256),n}function Hs(){var n=nr;return nr<<=1,(nr&62914560)===0&&(nr=4194304),n}function Mi(n){for(var r=[],o=0;31>o;o++)r.push(n);return r}function Di(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function io(n,r,o,c,p,g){var S=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var I=n.entanglements,k=n.expirationTimes,W=n.hiddenUpdates;for(o=S&~o;0<o;){var lt=31-hn(o),ct=1<<lt;I[lt]=0,k[lt]=-1;var tt=W[lt];if(tt!==null)for(W[lt]=null,lt=0;lt<tt.length;lt++){var it=tt[lt];it!==null&&(it.lane&=-536870913)}o&=~ct}c!==0&&Ni(n,c,0),g!==0&&p===0&&n.tag!==0&&(n.suspendedLanes|=g&~(S&~r))}function Ni(n,r,o){n.pendingLanes|=r,n.suspendedLanes&=~r;var c=31-hn(r);n.entangledLanes|=r,n.entanglements[c]=n.entanglements[c]|1073741824|o&4194090}function ro(n,r){var o=n.entangledLanes|=r;for(n=n.entanglements;o;){var c=31-hn(o),p=1<<c;p&r|n[c]&r&&(n[c]|=r),o&=~p}}function Rr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function qs(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Ir(){var n=yt.p;return n!==0?n:(n=window.event,n===void 0?32:Cv(n.type))}function js(n,r){var o=yt.p;try{return yt.p=n,r()}finally{yt.p=o}}var Pe=Math.random().toString(36).slice(2),$e="__reactFiber$"+Pe,Fe="__reactProps$"+Pe,Jn="__reactContainer$"+Pe,Ln="__reactEvents$"+Pe,Ot="__reactListeners$"+Pe,ir="__reactHandles$"+Pe,so="__reactResources$"+Pe,Cr="__reactMarker$"+Pe;function rr(n){delete n[$e],delete n[Fe],delete n[Ln],delete n[Ot],delete n[ir]}function fi(n){var r=n[$e];if(r)return r;for(var o=n.parentNode;o;){if(r=o[Jn]||o[$e]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(n=dv(n);n!==null;){if(o=n[$e])return o;n=dv(n)}return r}n=o,o=n.parentNode}return null}function di(n){if(n=n[$e]||n[Jn]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function En(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(a(33))}function fn(n){var r=n[so];return r||(r=n[so]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ue(n){n[Cr]=!0}var ao=new Set,Fs={};function mi(n,r){ki(n,r),ki(n+"Capture",r)}function ki(n,r){for(Fs[n]=r,n=0;n<r.length;n++)ao.add(r[n])}var el=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),is={},rs={};function nl(n){return ci.call(rs,n)?!0:ci.call(is,n)?!1:el.test(n)?rs[n]=!0:(is[n]=!0,!1)}function xr(n,r,o){if(nl(r))if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var c=r.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+o)}}function Vi(n,r,o){if(o===null)n.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+o)}}function sn(n,r,o,c){if(c===null)n.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(r,o,""+c)}}var sr,Pr;function zi(n){if(sr===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);sr=r&&r[1]||"",Pr=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+sr+n+Pr}var ss=!1;function Ui(n,r){if(!n||ss)return"";ss=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(r){var ct=function(){throw Error()};if(Object.defineProperty(ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ct,[])}catch(it){var tt=it}Reflect.construct(n,[],ct)}else{try{ct.call()}catch(it){tt=it}n.call(ct.prototype)}}else{try{throw Error()}catch(it){tt=it}(ct=n())&&typeof ct.catch=="function"&&ct.catch(function(){})}}catch(it){if(it&&tt&&typeof it.stack=="string")return[it.stack,tt.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),S=g[0],I=g[1];if(S&&I){var k=S.split(`
`),W=I.split(`
`);for(p=c=0;c<k.length&&!k[c].includes("DetermineComponentFrameRoot");)c++;for(;p<W.length&&!W[p].includes("DetermineComponentFrameRoot");)p++;if(c===k.length||p===W.length)for(c=k.length-1,p=W.length-1;1<=c&&0<=p&&k[c]!==W[p];)p--;for(;1<=c&&0<=p;c--,p--)if(k[c]!==W[p]){if(c!==1||p!==1)do if(c--,p--,0>p||k[c]!==W[p]){var lt=`
`+k[c].replace(" at new "," at ");return n.displayName&&lt.includes("<anonymous>")&&(lt=lt.replace("<anonymous>",n.displayName)),lt}while(1<=c&&0<=p);break}}}finally{ss=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?zi(o):""}function Qt(n){switch(n.tag){case 26:case 27:case 5:return zi(n.type);case 16:return zi("Lazy");case 13:return zi("Suspense");case 19:return zi("SuspenseList");case 0:case 15:return Ui(n.type,!1);case 11:return Ui(n.type.render,!1);case 1:return Ui(n.type,!0);case 31:return zi("Activity");default:return""}}function fe(n){try{var r="";do r+=Qt(n),n=n.return;while(n);return r}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function We(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Bi(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Or(n){var r=Bi(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),c=""+n[r];if(!n.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var p=o.get,g=o.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return p.call(this)},set:function(S){c=""+S,g.call(this,S)}}),Object.defineProperty(n,r,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(S){c=""+S},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Lr(n){n._valueTracker||(n._valueTracker=Or(n))}function qt(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return n&&(c=Bi(n)?n.checked?"true":"false":n.value),n=c,n!==o?(r.setValue(n),!0):!1}function ge(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var oo=/[\n"\\]/g;function Ne(n){return n.replace(oo,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Oe(n,r,o,c,p,g,S,I){n.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.type=S:n.removeAttribute("type"),r!=null?S==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+We(r)):n.value!==""+We(r)&&(n.value=""+We(r)):S!=="submit"&&S!=="reset"||n.removeAttribute("value"),r!=null?pi(n,S,We(r)):o!=null?pi(n,S,We(o)):c!=null&&n.removeAttribute("value"),p==null&&g!=null&&(n.defaultChecked=!!g),p!=null&&(n.checked=p&&typeof p!="function"&&typeof p!="symbol"),I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?n.name=""+We(I):n.removeAttribute("name")}function as(n,r,o,c,p,g,S,I){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(n.type=g),r!=null||o!=null){if(!(g!=="submit"&&g!=="reset"||r!=null))return;o=o!=null?""+We(o):"",r=r!=null?""+We(r):o,I||r===n.value||(n.value=r),n.defaultValue=r}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=I?n.checked:!!c,n.defaultChecked=!!c,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(n.name=S)}function pi(n,r,o){r==="number"&&ge(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function wn(n,r,o,c){if(n=n.options,r){r={};for(var p=0;p<o.length;p++)r["$"+o[p]]=!0;for(o=0;o<n.length;o++)p=r.hasOwnProperty("$"+n[o].value),n[o].selected!==p&&(n[o].selected=p),p&&c&&(n[o].defaultSelected=!0)}else{for(o=""+We(o),r=null,p=0;p<n.length;p++){if(n[p].value===o){n[p].selected=!0,c&&(n[p].defaultSelected=!0);return}r!==null||n[p].disabled||(r=n[p])}r!==null&&(r.selected=!0)}}function Vt(n,r,o){if(r!=null&&(r=""+We(r),r!==n.value&&(n.value=r),o==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=o!=null?""+We(o):""}function Fn(n,r,o,c){if(r==null){if(c!=null){if(o!=null)throw Error(a(92));if(Re(c)){if(1<c.length)throw Error(a(93));c=c[0]}o=c}o==null&&(o=""),r=o}o=We(r),n.defaultValue=o,c=n.textContent,c===o&&c!==""&&c!==null&&(n.value=c)}function dn(n,r){if(r){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=r;return}}n.textContent=r}var gi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gs(n,r,o){var c=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":c?n.setProperty(r,o):typeof o!="number"||o===0||gi.has(r)?r==="float"?n.cssFloat=o:n[r]=(""+o).trim():n[r]=o+"px"}function ar(n,r,o){if(r!=null&&typeof r!="object")throw Error(a(62));if(n=n.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||r!=null&&r.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var p in r)c=r[p],r.hasOwnProperty(p)&&o[p]!==c&&Gs(n,p,c)}else for(var g in r)r.hasOwnProperty(g)&&Gs(n,g,r[g])}function os(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lo=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mr(n){return Zs.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var _i=null;function bn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Hi=null,yi=null;function uo(n){var r=di(n);if(r&&(n=r.stateNode)){var o=n[Fe]||null;t:switch(n=r.stateNode,r.type){case"input":if(Oe(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ne(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==n&&c.form===n.form){var p=c[Fe]||null;if(!p)throw Error(a(90));Oe(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(r=0;r<o.length;r++)c=o[r],c.form===n.form&&qt(c)}break t;case"textarea":Vt(n,o.value,o.defaultValue);break t;case"select":r=o.value,r!=null&&wn(n,!!o.multiple,r,!1)}}}var Dt=!1;function Gn(n,r,o){if(Dt)return n(r,o);Dt=!0;try{var c=n(r);return c}finally{if(Dt=!1,(Hi!==null||yi!==null)&&(Eh(),Hi&&(r=Hi,n=yi,yi=Hi=null,uo(r),n)))for(r=0;r<n.length;r++)uo(n[r])}}function ae(n,r){var o=n.stateNode;if(o===null)return null;var c=o[Fe]||null;if(c===null)return null;o=c[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break t;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(a(231,r,typeof o));return o}var ti=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mn=!1;if(ti)try{var or={};Object.defineProperty(or,"passive",{get:function(){Mn=!0}}),window.addEventListener("test",or,or),window.removeEventListener("test",or,or)}catch{Mn=!1}var ei=null,Dn=null,vi=null;function lr(){if(vi)return vi;var n,r=Dn,o=r.length,c,p="value"in ei?ei.value:ei.textContent,g=p.length;for(n=0;n<o&&r[n]===p[n];n++);var S=o-n;for(c=1;c<=S&&r[o-c]===p[g-c];c++);return vi=p.slice(n,1<c?1-c:void 0)}function we(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function mn(){return!0}function $s(){return!1}function Ke(n){function r(o,c,p,g,S){this._reactName=o,this._targetInst=p,this.type=c,this.nativeEvent=g,this.target=S,this.currentTarget=null;for(var I in n)n.hasOwnProperty(I)&&(o=n[I],this[I]=o?o(g):g[I]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?mn:$s,this.isPropagationStopped=$s,this}return A(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=mn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=mn)},persist:function(){},isPersistent:mn}),r}var ce={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ls=Ke(ce),ur=A({},ce,{view:0,detail:0}),il=Ke(ur),us,Gt,qi,an=A({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==qi&&(qi&&n.type==="mousemove"?(us=n.screenX-qi.screenX,Gt=n.screenY-qi.screenY):Gt=us=0,qi=n),us)},movementY:function(n){return"movementY"in n?n.movementY:Gt}}),pn=Ke(an),co=A({},an,{dataTransfer:0}),cu=Ke(co),cr=A({},ur,{relatedTarget:0}),Ks=Ke(cr),Ys=A({},ce,{animationName:0,elapsedTime:0,pseudoElement:0}),Qs=Ke(Ys),rl=A({},ce,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Dr=Ke(rl),hu=A({},ce,{data:0}),Nn=Ke(hu),cs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ho={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ti={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xs(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Ti[n])?!!r[n]:!1}function Nr(){return Xs}var Ws=A({},ur,{key:function(n){if(n.key){var r=cs[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=we(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ho[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nr,charCode:function(n){return n.type==="keypress"?we(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?we(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Js=Ke(Ws),fo=A({},an,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ta=Ke(fo),hr=A({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nr}),sl=Ke(hr),ea=A({},ce,{propertyName:0,elapsedTime:0,pseudoElement:0}),al=Ke(ea),mo=A({},an,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),hs=Ke(mo),Je=A({},ce,{newState:0,oldState:0}),ji=Ke(Je),ol=[9,13,27,32],kn=ti&&"CompositionEvent"in window,f=null;ti&&"documentMode"in document&&(f=document.documentMode);var E=ti&&"TextEvent"in window&&!f,b=ti&&(!kn||f&&8<f&&11>=f),x=" ",K=!1;function st(n,r){switch(n){case"keyup":return ol.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vt(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var te=!1;function Ge(n,r){switch(n){case"compositionend":return vt(r);case"keypress":return r.which!==32?null:(K=!0,x);case"textInput":return n=r.data,n===x&&K?null:n;default:return null}}function ee(n,r){if(te)return n==="compositionend"||!kn&&st(n,r)?(n=lr(),vi=Dn=ei=null,te=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return b&&r.locale!=="ko"?null:r.data;default:return null}}var de={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Le(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!de[n.type]:r==="textarea"}function fr(n,r,o,c){Hi?yi?yi.push(c):yi=[c]:Hi=c,r=Ih(r,"onChange"),0<r.length&&(o=new ls("onChange","change",null,o,c),n.push({event:o,listeners:r}))}var Ie=null,Fi=null;function Gi(n){iv(n,0)}function ll(n){var r=En(n);if(qt(r))return n}function na(n,r){if(n==="change")return r}var fu=!1;if(ti){var ia;if(ti){var du="oninput"in document;if(!du){var dr=document.createElement("div");dr.setAttribute("oninput","return;"),du=typeof dr.oninput=="function"}ia=du}else ia=!1;fu=ia&&(!document.documentMode||9<document.documentMode)}function po(){Ie&&(Ie.detachEvent("onpropertychange",Bc),Fi=Ie=null)}function Bc(n){if(n.propertyName==="value"&&ll(Fi)){var r=[];fr(r,Fi,n,bn(n)),Gn(Gi,r)}}function mu(n,r,o){n==="focusin"?(po(),Ie=r,Fi=o,Ie.attachEvent("onpropertychange",Bc)):n==="focusout"&&po()}function sd(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ll(Fi)}function mr(n,r){if(n==="click")return ll(r)}function ad(n,r){if(n==="input"||n==="change")return ll(r)}function ra(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Zn=typeof Object.is=="function"?Object.is:ra;function $n(n,r){if(Zn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var o=Object.keys(n),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var p=o[c];if(!ci.call(r,p)||!Zn(n[p],r[p]))return!1}return!0}function go(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function pu(n,r){var o=go(n);n=0;for(var c;o;){if(o.nodeType===3){if(c=n+o.textContent.length,n<=r&&c>=r)return{node:o,offset:r-n};n=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=go(o)}}function ul(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?ul(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function _o(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=ge(n.document);r instanceof n.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)n=r.contentWindow;else break;r=ge(n.document)}return r}function yo(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var cl=ti&&"documentMode"in document&&11>=document.documentMode,Ei=null,sa=null,fs=null,hl=!1;function Hc(n,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;hl||Ei==null||Ei!==ge(c)||(c=Ei,"selectionStart"in c&&yo(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),fs&&$n(fs,c)||(fs=c,c=Ih(sa,"onSelect"),0<c.length&&(r=new ls("onSelect","select",null,r,o),n.push({event:r,listeners:c}),r.target=Ei)))}function Zi(n,r){var o={};return o[n.toLowerCase()]=r.toLowerCase(),o["Webkit"+n]="webkit"+r,o["Moz"+n]="moz"+r,o}var aa={animationend:Zi("Animation","AnimationEnd"),animationiteration:Zi("Animation","AnimationIteration"),animationstart:Zi("Animation","AnimationStart"),transitionrun:Zi("Transition","TransitionRun"),transitionstart:Zi("Transition","TransitionStart"),transitioncancel:Zi("Transition","TransitionCancel"),transitionend:Zi("Transition","TransitionEnd")},fl={},qc={};ti&&(qc=document.createElement("div").style,"AnimationEvent"in window||(delete aa.animationend.animation,delete aa.animationiteration.animation,delete aa.animationstart.animation),"TransitionEvent"in window||delete aa.transitionend.transition);function kr(n){if(fl[n])return fl[n];if(!aa[n])return n;var r=aa[n],o;for(o in r)if(r.hasOwnProperty(o)&&o in qc)return fl[n]=r[o];return n}var jc=kr("animationend"),wi=kr("animationiteration"),vo=kr("animationstart"),od=kr("transitionrun"),dl=kr("transitionstart"),ld=kr("transitioncancel"),gu=kr("transitionend"),Fc=new Map,ds="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ds.push("scrollEnd");function bi(n,r){Fc.set(n,r),mi(r,[n])}var ms=new WeakMap;function Kn(n,r){if(typeof n=="object"&&n!==null){var o=ms.get(n);return o!==void 0?o:(r={value:n,source:r,stack:fe(r)},ms.set(n,r),r)}return{value:n,source:r,stack:fe(r)}}var Yn=[],oa=0,Si=0;function To(){for(var n=oa,r=Si=oa=0;r<n;){var o=Yn[r];Yn[r++]=null;var c=Yn[r];Yn[r++]=null;var p=Yn[r];Yn[r++]=null;var g=Yn[r];if(Yn[r++]=null,c!==null&&p!==null){var S=c.pending;S===null?p.next=p:(p.next=S.next,S.next=p),c.pending=p}g!==0&&wo(o,p,g)}}function Eo(n,r,o,c){Yn[oa++]=n,Yn[oa++]=r,Yn[oa++]=o,Yn[oa++]=c,Si|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function ps(n,r,o,c){return Eo(n,r,o,c),Vr(n)}function la(n,r){return Eo(n,null,null,r),Vr(n)}function wo(n,r,o){n.lanes|=o;var c=n.alternate;c!==null&&(c.lanes|=o);for(var p=!1,g=n.return;g!==null;)g.childLanes|=o,c=g.alternate,c!==null&&(c.childLanes|=o),g.tag===22&&(n=g.stateNode,n===null||n._visibility&1||(p=!0)),n=g,g=g.return;return n.tag===3?(g=n.stateNode,p&&r!==null&&(p=31-hn(o),n=g.hiddenUpdates,c=n[p],c===null?n[p]=[r]:c.push(r),r.lane=o|536870912),g):null}function Vr(n){if(50<Uu)throw Uu=0,sm=null,Error(a(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var gs={};function Gc(n,r,o,c){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(n,r,o,c){return new Gc(n,r,o,c)}function ml(n){return n=n.prototype,!(!n||!n.isReactComponent)}function $i(n,r){var o=n.alternate;return o===null?(o=Qn(n.tag,r,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=r,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,r=n.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function _u(n,r){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,r=o.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function bo(n,r,o,c,p,g){var S=0;if(c=n,typeof n=="function")ml(n)&&(S=1);else if(typeof n=="string")S=cS(n,o,wt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case M:return n=Qn(31,o,r,p),n.elementType=M,n.lanes=g,n;case q:return zr(o.children,p,g,r);case G:S=8,p|=24;break;case $:return n=Qn(12,o,r,p|2),n.elementType=$,n.lanes=g,n;case Tt:return n=Qn(13,o,r,p),n.elementType=Tt,n.lanes=g,n;case xt:return n=Qn(19,o,r,p),n.elementType=xt,n.lanes=g,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case et:case nt:S=10;break t;case J:S=9;break t;case gt:S=11;break t;case V:S=14;break t;case O:S=16,c=null;break t}S=29,o=Error(a(130,n===null?"null":typeof n,"")),c=null}return r=Qn(S,o,r,p),r.elementType=n,r.type=c,r.lanes=g,r}function zr(n,r,o,c){return n=Qn(7,n,c,r),n.lanes=o,n}function yu(n,r,o){return n=Qn(6,n,null,r),n.lanes=o,n}function pl(n,r,o){return r=Qn(4,n.children!==null?n.children:[],n.key,r),r.lanes=o,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var _s=[],ua=0,s=null,u=0,d=[],_=0,w=null,R=1,N="";function Y(n,r){_s[ua++]=u,_s[ua++]=s,s=n,u=r}function rt(n,r,o){d[_++]=R,d[_++]=N,d[_++]=w,w=n;var c=R;n=N;var p=32-hn(c)-1;c&=~(1<<p),o+=1;var g=32-hn(r)+p;if(30<g){var S=p-p%5;g=(c&(1<<S)-1).toString(32),c>>=S,p-=S,R=1<<32-hn(r)+p|o<<p|c,N=g+n}else R=1<<g|o<<p|c,N=n}function ft(n){n.return!==null&&(Y(n,1),rt(n,1,0))}function bt(n){for(;n===s;)s=_s[--ua],_s[ua]=null,u=_s[--ua],_s[ua]=null;for(;n===w;)w=d[--_],d[_]=null,N=d[--_],d[_]=null,R=d[--_],d[_]=null}var Rt=null,Pt=null,Bt=!1,Me=null,Be=!1,gn=Error(a(519));function ni(n){var r=Error(a(418,""));throw ha(Kn(r,n)),gn}function Zc(n){var r=n.stateNode,o=n.type,c=n.memoizedProps;switch(r[$e]=n,r[Fe]=c,o){case"dialog":Jt("cancel",r),Jt("close",r);break;case"iframe":case"object":case"embed":Jt("load",r);break;case"video":case"audio":for(o=0;o<Hu.length;o++)Jt(Hu[o],r);break;case"source":Jt("error",r);break;case"img":case"image":case"link":Jt("error",r),Jt("load",r);break;case"details":Jt("toggle",r);break;case"input":Jt("invalid",r),as(r,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Lr(r);break;case"select":Jt("invalid",r);break;case"textarea":Jt("invalid",r),Fn(r,c.value,c.defaultValue,c.children),Lr(r)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||c.suppressHydrationWarning===!0||ov(r.textContent,o)?(c.popover!=null&&(Jt("beforetoggle",r),Jt("toggle",r)),c.onScroll!=null&&Jt("scroll",r),c.onScrollEnd!=null&&Jt("scrollend",r),c.onClick!=null&&(r.onclick=Ch),r=!0):r=!1,r||ni(n)}function $c(n){for(Rt=n.return;Rt;)switch(Rt.tag){case 5:case 13:Be=!1;return;case 27:case 3:Be=!0;return;default:Rt=Rt.return}}function So(n){if(n!==Rt)return!1;if(!Bt)return $c(n),Bt=!0,!1;var r=n.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||Em(n.type,n.memoizedProps)),o=!o),o&&Pt&&ni(n),$c(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));t:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(r===0){Pt=yr(n.nextSibling);break t}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++;n=n.nextSibling}Pt=null}}else r===27?(r=Pt,Ra(n.type)?(n=Am,Am=null,Pt=n):Pt=r):Pt=Rt?yr(n.stateNode.nextSibling):null;return!0}function ca(){Pt=Rt=null,Bt=!1}function Kc(){var n=Me;return n!==null&&(si===null?si=n:si.push.apply(si,n),Me=null),n}function ha(n){Me===null?Me=[n]:Me.push(n)}var Ve=ot(null),Ki=null,pr=null;function Ur(n,r,o){mt(Ve,r._currentValue),r._currentValue=o}function gr(n){n._currentValue=Ve.current,_t(Ve)}function Ao(n,r,o){for(;n!==null;){var c=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),n===o)break;n=n.return}}function gl(n,r,o,c){var p=n.child;for(p!==null&&(p.return=n);p!==null;){var g=p.dependencies;if(g!==null){var S=p.child;g=g.firstContext;t:for(;g!==null;){var I=g;g=p;for(var k=0;k<r.length;k++)if(I.context===r[k]){g.lanes|=o,I=g.alternate,I!==null&&(I.lanes|=o),Ao(g.return,o,n),c||(S=null);break t}g=I.next}}else if(p.tag===18){if(S=p.return,S===null)throw Error(a(341));S.lanes|=o,g=S.alternate,g!==null&&(g.lanes|=o),Ao(S,o,n),S=null}else S=p.child;if(S!==null)S.return=p;else for(S=p;S!==null;){if(S===n){S=null;break}if(p=S.sibling,p!==null){p.return=S.return,S=p;break}S=S.return}p=S}}function Ro(n,r,o,c){n=null;for(var p=r,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var S=p.alternate;if(S===null)throw Error(a(387));if(S=S.memoizedProps,S!==null){var I=p.type;Zn(p.pendingProps.value,S.value)||(n!==null?n.push(I):n=[I])}}else if(p===Ee.current){if(S=p.alternate,S===null)throw Error(a(387));S.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(n!==null?n.push($u):n=[$u])}p=p.return}n!==null&&gl(r,n,o,c),r.flags|=262144}function Yc(n){for(n=n.firstContext;n!==null;){if(!Zn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Io(n){Ki=n,pr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Vn(n){return $g(Ki,n)}function Qc(n,r){return Ki===null&&Io(n),$g(n,r)}function $g(n,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},pr===null){if(n===null)throw Error(a(308));pr=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else pr=pr.next=r;return o}var u1=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(o,c){n.push(c)}};this.abort=function(){r.aborted=!0,n.forEach(function(o){return o()})}},c1=i.unstable_scheduleCallback,h1=i.unstable_NormalPriority,on={$$typeof:nt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ud(){return{controller:new u1,data:new Map,refCount:0}}function vu(n){n.refCount--,n.refCount===0&&c1(h1,function(){n.controller.abort()})}var Tu=null,cd=0,_l=0,yl=null;function f1(n,r){if(Tu===null){var o=Tu=[];cd=0,_l=fm(),yl={status:"pending",value:void 0,then:function(c){o.push(c)}}}return cd++,r.then(Kg,Kg),r}function Kg(){if(--cd===0&&Tu!==null){yl!==null&&(yl.status="fulfilled");var n=Tu;Tu=null,_l=0,yl=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function d1(n,r){var o=[],c={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return n.then(function(){c.status="fulfilled",c.value=r;for(var p=0;p<o.length;p++)(0,o[p])(r)},function(p){for(c.status="rejected",c.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),c}var Yg=at.S;at.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&f1(n,r),Yg!==null&&Yg(n,r)};var Co=ot(null);function hd(){var n=Co.current;return n!==null?n:De.pooledCache}function Xc(n,r){r===null?mt(Co,Co.current):mt(Co,r.pool)}function Qg(){var n=hd();return n===null?null:{parent:on._currentValue,pool:n}}var Eu=Error(a(460)),Xg=Error(a(474)),Wc=Error(a(542)),fd={then:function(){}};function Wg(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Jc(){}function Jg(n,r,o){switch(o=n[o],o===void 0?n.push(r):o!==r&&(r.then(Jc,Jc),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,e_(n),n;default:if(typeof r.status=="string")r.then(Jc,Jc);else{if(n=De,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=r,n.status="pending",n.then(function(c){if(r.status==="pending"){var p=r;p.status="fulfilled",p.value=c}},function(c){if(r.status==="pending"){var p=r;p.status="rejected",p.reason=c}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,e_(n),n}throw wu=r,Eu}}var wu=null;function t_(){if(wu===null)throw Error(a(459));var n=wu;return wu=null,n}function e_(n){if(n===Eu||n===Wc)throw Error(a(483))}var fa=!1;function dd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function md(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function da(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ma(n,r,o){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(_e&2)!==0){var p=c.pending;return p===null?r.next=r:(r.next=p.next,p.next=r),c.pending=r,r=Vr(n),wo(n,null,o),r}return Eo(n,c,r,o),Vr(n)}function bu(n,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var c=r.lanes;c&=n.pendingLanes,o|=c,r.lanes=o,ro(n,o)}}function pd(n,r){var o=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var p=null,g=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};g===null?p=g=S:g=g.next=S,o=o.next}while(o!==null);g===null?p=g=r:g=g.next=r}else p=g=r;o={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=r:n.next=r,o.lastBaseUpdate=r}var gd=!1;function Su(){if(gd){var n=yl;if(n!==null)throw n}}function Au(n,r,o,c){gd=!1;var p=n.updateQueue;fa=!1;var g=p.firstBaseUpdate,S=p.lastBaseUpdate,I=p.shared.pending;if(I!==null){p.shared.pending=null;var k=I,W=k.next;k.next=null,S===null?g=W:S.next=W,S=k;var lt=n.alternate;lt!==null&&(lt=lt.updateQueue,I=lt.lastBaseUpdate,I!==S&&(I===null?lt.firstBaseUpdate=W:I.next=W,lt.lastBaseUpdate=k))}if(g!==null){var ct=p.baseState;S=0,lt=W=k=null,I=g;do{var tt=I.lane&-536870913,it=tt!==I.lane;if(it?(oe&tt)===tt:(c&tt)===tt){tt!==0&&tt===_l&&(gd=!0),lt!==null&&(lt=lt.next={lane:0,tag:I.tag,payload:I.payload,callback:null,next:null});t:{var Ut=n,Nt=I;tt=r;var Ae=o;switch(Nt.tag){case 1:if(Ut=Nt.payload,typeof Ut=="function"){ct=Ut.call(Ae,ct,tt);break t}ct=Ut;break t;case 3:Ut.flags=Ut.flags&-65537|128;case 0:if(Ut=Nt.payload,tt=typeof Ut=="function"?Ut.call(Ae,ct,tt):Ut,tt==null)break t;ct=A({},ct,tt);break t;case 2:fa=!0}}tt=I.callback,tt!==null&&(n.flags|=64,it&&(n.flags|=8192),it=p.callbacks,it===null?p.callbacks=[tt]:it.push(tt))}else it={lane:tt,tag:I.tag,payload:I.payload,callback:I.callback,next:null},lt===null?(W=lt=it,k=ct):lt=lt.next=it,S|=tt;if(I=I.next,I===null){if(I=p.shared.pending,I===null)break;it=I,I=it.next,it.next=null,p.lastBaseUpdate=it,p.shared.pending=null}}while(!0);lt===null&&(k=ct),p.baseState=k,p.firstBaseUpdate=W,p.lastBaseUpdate=lt,g===null&&(p.shared.lanes=0),wa|=S,n.lanes=S,n.memoizedState=ct}}function n_(n,r){if(typeof n!="function")throw Error(a(191,n));n.call(r)}function i_(n,r){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)n_(o[n],r)}var vl=ot(null),th=ot(0);function r_(n,r){n=Ss,mt(th,n),mt(vl,r),Ss=n|r.baseLanes}function _d(){mt(th,Ss),mt(vl,vl.current)}function yd(){Ss=th.current,_t(vl),_t(th)}var pa=0,Kt=null,be=null,tn=null,eh=!1,Tl=!1,xo=!1,nh=0,Ru=0,El=null,m1=0;function Ye(){throw Error(a(321))}function vd(n,r){if(r===null)return!1;for(var o=0;o<r.length&&o<n.length;o++)if(!Zn(n[o],r[o]))return!1;return!0}function Td(n,r,o,c,p,g){return pa=g,Kt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,at.H=n===null||n.memoizedState===null?H_:q_,xo=!1,g=o(c,p),xo=!1,Tl&&(g=a_(r,o,c,p)),s_(n),g}function s_(n){at.H=lh;var r=be!==null&&be.next!==null;if(pa=0,tn=be=Kt=null,eh=!1,Ru=0,El=null,r)throw Error(a(300));n===null||_n||(n=n.dependencies,n!==null&&Yc(n)&&(_n=!0))}function a_(n,r,o,c){Kt=n;var p=0;do{if(Tl&&(El=null),Ru=0,Tl=!1,25<=p)throw Error(a(301));if(p+=1,tn=be=null,n.updateQueue!=null){var g=n.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}at.H=E1,g=r(o,c)}while(Tl);return g}function p1(){var n=at.H,r=n.useState()[0];return r=typeof r.then=="function"?Iu(r):r,n=n.useState()[0],(be!==null?be.memoizedState:null)!==n&&(Kt.flags|=1024),r}function Ed(){var n=nh!==0;return nh=0,n}function wd(n,r,o){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~o}function bd(n){if(eh){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}eh=!1}pa=0,tn=be=Kt=null,Tl=!1,Ru=nh=0,El=null}function ii(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tn===null?Kt.memoizedState=tn=n:tn=tn.next=n,tn}function en(){if(be===null){var n=Kt.alternate;n=n!==null?n.memoizedState:null}else n=be.next;var r=tn===null?Kt.memoizedState:tn.next;if(r!==null)tn=r,be=n;else{if(n===null)throw Kt.alternate===null?Error(a(467)):Error(a(310));be=n,n={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},tn===null?Kt.memoizedState=tn=n:tn=tn.next=n}return tn}function Sd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Iu(n){var r=Ru;return Ru+=1,El===null&&(El=[]),n=Jg(El,n,r),r=Kt,(tn===null?r.memoizedState:tn.next)===null&&(r=r.alternate,at.H=r===null||r.memoizedState===null?H_:q_),n}function ih(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Iu(n);if(n.$$typeof===nt)return Vn(n)}throw Error(a(438,String(n)))}function Ad(n){var r=null,o=Kt.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var c=Kt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(r={data:c.data.map(function(p){return p.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=Sd(),Kt.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(n),c=0;c<n;c++)o[c]=B;return r.index++,o}function ys(n,r){return typeof r=="function"?r(n):r}function rh(n){var r=en();return Rd(r,be,n)}function Rd(n,r,o){var c=n.queue;if(c===null)throw Error(a(311));c.lastRenderedReducer=o;var p=n.baseQueue,g=c.pending;if(g!==null){if(p!==null){var S=p.next;p.next=g.next,g.next=S}r.baseQueue=p=g,c.pending=null}if(g=n.baseState,p===null)n.memoizedState=g;else{r=p.next;var I=S=null,k=null,W=r,lt=!1;do{var ct=W.lane&-536870913;if(ct!==W.lane?(oe&ct)===ct:(pa&ct)===ct){var tt=W.revertLane;if(tt===0)k!==null&&(k=k.next={lane:0,revertLane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),ct===_l&&(lt=!0);else if((pa&tt)===tt){W=W.next,tt===_l&&(lt=!0);continue}else ct={lane:0,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},k===null?(I=k=ct,S=g):k=k.next=ct,Kt.lanes|=tt,wa|=tt;ct=W.action,xo&&o(g,ct),g=W.hasEagerState?W.eagerState:o(g,ct)}else tt={lane:ct,revertLane:W.revertLane,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null},k===null?(I=k=tt,S=g):k=k.next=tt,Kt.lanes|=ct,wa|=ct;W=W.next}while(W!==null&&W!==r);if(k===null?S=g:k.next=I,!Zn(g,n.memoizedState)&&(_n=!0,lt&&(o=yl,o!==null)))throw o;n.memoizedState=g,n.baseState=S,n.baseQueue=k,c.lastRenderedState=g}return p===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function Id(n){var r=en(),o=r.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=n;var c=o.dispatch,p=o.pending,g=r.memoizedState;if(p!==null){o.pending=null;var S=p=p.next;do g=n(g,S.action),S=S.next;while(S!==p);Zn(g,r.memoizedState)||(_n=!0),r.memoizedState=g,r.baseQueue===null&&(r.baseState=g),o.lastRenderedState=g}return[g,c]}function o_(n,r,o){var c=Kt,p=en(),g=Bt;if(g){if(o===void 0)throw Error(a(407));o=o()}else o=r();var S=!Zn((be||p).memoizedState,o);S&&(p.memoizedState=o,_n=!0),p=p.queue;var I=c_.bind(null,c,p,n);if(Cu(2048,8,I,[n]),p.getSnapshot!==r||S||tn!==null&&tn.memoizedState.tag&1){if(c.flags|=2048,wl(9,sh(),u_.bind(null,c,p,o,r),null),De===null)throw Error(a(349));g||(pa&124)!==0||l_(c,r,o)}return o}function l_(n,r,o){n.flags|=16384,n={getSnapshot:r,value:o},r=Kt.updateQueue,r===null?(r=Sd(),Kt.updateQueue=r,r.stores=[n]):(o=r.stores,o===null?r.stores=[n]:o.push(n))}function u_(n,r,o,c){r.value=o,r.getSnapshot=c,h_(r)&&f_(n)}function c_(n,r,o){return o(function(){h_(r)&&f_(n)})}function h_(n){var r=n.getSnapshot;n=n.value;try{var o=r();return!Zn(n,o)}catch{return!0}}function f_(n){var r=la(n,2);r!==null&&xi(r,n,2)}function Cd(n){var r=ii();if(typeof n=="function"){var o=n;if(n=o(),xo){On(!0);try{o()}finally{On(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:n},r}function d_(n,r,o,c){return n.baseState=o,Rd(n,be,typeof c=="function"?c:ys)}function g1(n,r,o,c,p){if(oh(n))throw Error(a(485));if(n=r.action,n!==null){var g={payload:p,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){g.listeners.push(S)}};at.T!==null?o(!0):g.isTransition=!1,c(g),o=r.pending,o===null?(g.next=r.pending=g,m_(r,g)):(g.next=o.next,r.pending=o.next=g)}}function m_(n,r){var o=r.action,c=r.payload,p=n.state;if(r.isTransition){var g=at.T,S={};at.T=S;try{var I=o(p,c),k=at.S;k!==null&&k(S,I),p_(n,r,I)}catch(W){xd(n,r,W)}finally{at.T=g}}else try{g=o(p,c),p_(n,r,g)}catch(W){xd(n,r,W)}}function p_(n,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){g_(n,r,c)},function(c){return xd(n,r,c)}):g_(n,r,o)}function g_(n,r,o){r.status="fulfilled",r.value=o,__(r),n.state=o,r=n.pending,r!==null&&(o=r.next,o===r?n.pending=null:(o=o.next,r.next=o,m_(n,o)))}function xd(n,r,o){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do r.status="rejected",r.reason=o,__(r),r=r.next;while(r!==c)}n.action=null}function __(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function y_(n,r){return r}function v_(n,r){if(Bt){var o=De.formState;if(o!==null){t:{var c=Kt;if(Bt){if(Pt){e:{for(var p=Pt,g=Be;p.nodeType!==8;){if(!g){p=null;break e}if(p=yr(p.nextSibling),p===null){p=null;break e}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){Pt=yr(p.nextSibling),c=p.data==="F!";break t}}ni(c)}c=!1}c&&(r=o[0])}}return o=ii(),o.memoizedState=o.baseState=r,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:y_,lastRenderedState:r},o.queue=c,o=z_.bind(null,Kt,c),c.dispatch=o,c=Cd(!1),g=Dd.bind(null,Kt,!1,c.queue),c=ii(),p={state:r,dispatch:null,action:n,pending:null},c.queue=p,o=g1.bind(null,Kt,p,g,o),p.dispatch=o,c.memoizedState=n,[r,o,!1]}function T_(n){var r=en();return E_(r,be,n)}function E_(n,r,o){if(r=Rd(n,r,y_)[0],n=rh(ys)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var c=Iu(r)}catch(S){throw S===Eu?Wc:S}else c=r;r=en();var p=r.queue,g=p.dispatch;return o!==r.memoizedState&&(Kt.flags|=2048,wl(9,sh(),_1.bind(null,p,o),null)),[c,g,n]}function _1(n,r){n.action=r}function w_(n){var r=en(),o=be;if(o!==null)return E_(r,o,n);en(),r=r.memoizedState,o=en();var c=o.queue.dispatch;return o.memoizedState=n,[r,c,!1]}function wl(n,r,o,c){return n={tag:n,create:o,deps:c,inst:r,next:null},r=Kt.updateQueue,r===null&&(r=Sd(),Kt.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=n.next=n:(c=o.next,o.next=n,n.next=c,r.lastEffect=n),n}function sh(){return{destroy:void 0,resource:void 0}}function b_(){return en().memoizedState}function ah(n,r,o,c){var p=ii();c=c===void 0?null:c,Kt.flags|=n,p.memoizedState=wl(1|r,sh(),o,c)}function Cu(n,r,o,c){var p=en();c=c===void 0?null:c;var g=p.memoizedState.inst;be!==null&&c!==null&&vd(c,be.memoizedState.deps)?p.memoizedState=wl(r,g,o,c):(Kt.flags|=n,p.memoizedState=wl(1|r,g,o,c))}function S_(n,r){ah(8390656,8,n,r)}function A_(n,r){Cu(2048,8,n,r)}function R_(n,r){return Cu(4,2,n,r)}function I_(n,r){return Cu(4,4,n,r)}function C_(n,r){if(typeof r=="function"){n=n();var o=r(n);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function x_(n,r,o){o=o!=null?o.concat([n]):null,Cu(4,4,C_.bind(null,r,n),o)}function Pd(){}function P_(n,r){var o=en();r=r===void 0?null:r;var c=o.memoizedState;return r!==null&&vd(r,c[1])?c[0]:(o.memoizedState=[n,r],n)}function O_(n,r){var o=en();r=r===void 0?null:r;var c=o.memoizedState;if(r!==null&&vd(r,c[1]))return c[0];if(c=n(),xo){On(!0);try{n()}finally{On(!1)}}return o.memoizedState=[c,r],c}function Od(n,r,o){return o===void 0||(pa&1073741824)!==0?n.memoizedState=r:(n.memoizedState=o,n=Dy(),Kt.lanes|=n,wa|=n,o)}function L_(n,r,o,c){return Zn(o,r)?o:vl.current!==null?(n=Od(n,o,c),Zn(n,r)||(_n=!0),n):(pa&42)===0?(_n=!0,n.memoizedState=o):(n=Dy(),Kt.lanes|=n,wa|=n,r)}function M_(n,r,o,c,p){var g=yt.p;yt.p=g!==0&&8>g?g:8;var S=at.T,I={};at.T=I,Dd(n,!1,r,o);try{var k=p(),W=at.S;if(W!==null&&W(I,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var lt=d1(k,c);xu(n,r,lt,Ci(n))}else xu(n,r,c,Ci(n))}catch(ct){xu(n,r,{then:function(){},status:"rejected",reason:ct},Ci())}finally{yt.p=g,at.T=S}}function y1(){}function Ld(n,r,o,c){if(n.tag!==5)throw Error(a(476));var p=D_(n).queue;M_(n,p,r,pt,o===null?y1:function(){return N_(n),o(c)})}function D_(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:pt},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:o},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function N_(n){var r=D_(n).next.queue;xu(n,r,{},Ci())}function Md(){return Vn($u)}function k_(){return en().memoizedState}function V_(){return en().memoizedState}function v1(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var o=Ci();n=da(o);var c=ma(r,n,o);c!==null&&(xi(c,r,o),bu(c,r,o)),r={cache:ud()},n.payload=r;return}r=r.return}}function T1(n,r,o){var c=Ci();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},oh(n)?U_(r,o):(o=ps(n,r,o,c),o!==null&&(xi(o,n,c),B_(o,r,c)))}function z_(n,r,o){var c=Ci();xu(n,r,o,c)}function xu(n,r,o,c){var p={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(oh(n))U_(r,p);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=r.lastRenderedReducer,g!==null))try{var S=r.lastRenderedState,I=g(S,o);if(p.hasEagerState=!0,p.eagerState=I,Zn(I,S))return Eo(n,r,p,0),De===null&&To(),!1}catch{}finally{}if(o=ps(n,r,p,c),o!==null)return xi(o,n,c),B_(o,r,c),!0}return!1}function Dd(n,r,o,c){if(c={lane:2,revertLane:fm(),action:c,hasEagerState:!1,eagerState:null,next:null},oh(n)){if(r)throw Error(a(479))}else r=ps(n,o,c,2),r!==null&&xi(r,n,2)}function oh(n){var r=n.alternate;return n===Kt||r!==null&&r===Kt}function U_(n,r){Tl=eh=!0;var o=n.pending;o===null?r.next=r:(r.next=o.next,o.next=r),n.pending=r}function B_(n,r,o){if((o&4194048)!==0){var c=r.lanes;c&=n.pendingLanes,o|=c,r.lanes=o,ro(n,o)}}var lh={readContext:Vn,use:ih,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye,useHostTransitionStatus:Ye,useFormState:Ye,useActionState:Ye,useOptimistic:Ye,useMemoCache:Ye,useCacheRefresh:Ye},H_={readContext:Vn,use:ih,useCallback:function(n,r){return ii().memoizedState=[n,r===void 0?null:r],n},useContext:Vn,useEffect:S_,useImperativeHandle:function(n,r,o){o=o!=null?o.concat([n]):null,ah(4194308,4,C_.bind(null,r,n),o)},useLayoutEffect:function(n,r){return ah(4194308,4,n,r)},useInsertionEffect:function(n,r){ah(4,2,n,r)},useMemo:function(n,r){var o=ii();r=r===void 0?null:r;var c=n();if(xo){On(!0);try{n()}finally{On(!1)}}return o.memoizedState=[c,r],c},useReducer:function(n,r,o){var c=ii();if(o!==void 0){var p=o(r);if(xo){On(!0);try{o(r)}finally{On(!1)}}}else p=r;return c.memoizedState=c.baseState=p,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:p},c.queue=n,n=n.dispatch=T1.bind(null,Kt,n),[c.memoizedState,n]},useRef:function(n){var r=ii();return n={current:n},r.memoizedState=n},useState:function(n){n=Cd(n);var r=n.queue,o=z_.bind(null,Kt,r);return r.dispatch=o,[n.memoizedState,o]},useDebugValue:Pd,useDeferredValue:function(n,r){var o=ii();return Od(o,n,r)},useTransition:function(){var n=Cd(!1);return n=M_.bind(null,Kt,n.queue,!0,!1),ii().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,o){var c=Kt,p=ii();if(Bt){if(o===void 0)throw Error(a(407));o=o()}else{if(o=r(),De===null)throw Error(a(349));(oe&124)!==0||l_(c,r,o)}p.memoizedState=o;var g={value:o,getSnapshot:r};return p.queue=g,S_(c_.bind(null,c,g,n),[n]),c.flags|=2048,wl(9,sh(),u_.bind(null,c,g,o,r),null),o},useId:function(){var n=ii(),r=De.identifierPrefix;if(Bt){var o=N,c=R;o=(c&~(1<<32-hn(c)-1)).toString(32)+o,r="«"+r+"R"+o,o=nh++,0<o&&(r+="H"+o.toString(32)),r+="»"}else o=m1++,r="«"+r+"r"+o.toString(32)+"»";return n.memoizedState=r},useHostTransitionStatus:Md,useFormState:v_,useActionState:v_,useOptimistic:function(n){var r=ii();r.memoizedState=r.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Dd.bind(null,Kt,!0,o),o.dispatch=r,[n,r]},useMemoCache:Ad,useCacheRefresh:function(){return ii().memoizedState=v1.bind(null,Kt)}},q_={readContext:Vn,use:ih,useCallback:P_,useContext:Vn,useEffect:A_,useImperativeHandle:x_,useInsertionEffect:R_,useLayoutEffect:I_,useMemo:O_,useReducer:rh,useRef:b_,useState:function(){return rh(ys)},useDebugValue:Pd,useDeferredValue:function(n,r){var o=en();return L_(o,be.memoizedState,n,r)},useTransition:function(){var n=rh(ys)[0],r=en().memoizedState;return[typeof n=="boolean"?n:Iu(n),r]},useSyncExternalStore:o_,useId:k_,useHostTransitionStatus:Md,useFormState:T_,useActionState:T_,useOptimistic:function(n,r){var o=en();return d_(o,be,n,r)},useMemoCache:Ad,useCacheRefresh:V_},E1={readContext:Vn,use:ih,useCallback:P_,useContext:Vn,useEffect:A_,useImperativeHandle:x_,useInsertionEffect:R_,useLayoutEffect:I_,useMemo:O_,useReducer:Id,useRef:b_,useState:function(){return Id(ys)},useDebugValue:Pd,useDeferredValue:function(n,r){var o=en();return be===null?Od(o,n,r):L_(o,be.memoizedState,n,r)},useTransition:function(){var n=Id(ys)[0],r=en().memoizedState;return[typeof n=="boolean"?n:Iu(n),r]},useSyncExternalStore:o_,useId:k_,useHostTransitionStatus:Md,useFormState:w_,useActionState:w_,useOptimistic:function(n,r){var o=en();return be!==null?d_(o,be,n,r):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:Ad,useCacheRefresh:V_},bl=null,Pu=0;function uh(n){var r=Pu;return Pu+=1,bl===null&&(bl=[]),Jg(bl,n,r)}function Ou(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function ch(n,r){throw r.$$typeof===C?Error(a(525)):(n=Object.prototype.toString.call(r),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function j_(n){var r=n._init;return r(n._payload)}function F_(n){function r(Z,j){if(n){var X=Z.deletions;X===null?(Z.deletions=[j],Z.flags|=16):X.push(j)}}function o(Z,j){if(!n)return null;for(;j!==null;)r(Z,j),j=j.sibling;return null}function c(Z){for(var j=new Map;Z!==null;)Z.key!==null?j.set(Z.key,Z):j.set(Z.index,Z),Z=Z.sibling;return j}function p(Z,j){return Z=$i(Z,j),Z.index=0,Z.sibling=null,Z}function g(Z,j,X){return Z.index=X,n?(X=Z.alternate,X!==null?(X=X.index,X<j?(Z.flags|=67108866,j):X):(Z.flags|=67108866,j)):(Z.flags|=1048576,j)}function S(Z){return n&&Z.alternate===null&&(Z.flags|=67108866),Z}function I(Z,j,X,ut){return j===null||j.tag!==6?(j=yu(X,Z.mode,ut),j.return=Z,j):(j=p(j,X),j.return=Z,j)}function k(Z,j,X,ut){var It=X.type;return It===q?lt(Z,j,X.props.children,ut,X.key):j!==null&&(j.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===O&&j_(It)===j.type)?(j=p(j,X.props),Ou(j,X),j.return=Z,j):(j=bo(X.type,X.key,X.props,null,Z.mode,ut),Ou(j,X),j.return=Z,j)}function W(Z,j,X,ut){return j===null||j.tag!==4||j.stateNode.containerInfo!==X.containerInfo||j.stateNode.implementation!==X.implementation?(j=pl(X,Z.mode,ut),j.return=Z,j):(j=p(j,X.children||[]),j.return=Z,j)}function lt(Z,j,X,ut,It){return j===null||j.tag!==7?(j=zr(X,Z.mode,ut,It),j.return=Z,j):(j=p(j,X),j.return=Z,j)}function ct(Z,j,X){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=yu(""+j,Z.mode,X),j.return=Z,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case P:return X=bo(j.type,j.key,j.props,null,Z.mode,X),Ou(X,j),X.return=Z,X;case U:return j=pl(j,Z.mode,X),j.return=Z,j;case O:var ut=j._init;return j=ut(j._payload),ct(Z,j,X)}if(Re(j)||F(j))return j=zr(j,Z.mode,X,null),j.return=Z,j;if(typeof j.then=="function")return ct(Z,uh(j),X);if(j.$$typeof===nt)return ct(Z,Qc(Z,j),X);ch(Z,j)}return null}function tt(Z,j,X,ut){var It=j!==null?j.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return It!==null?null:I(Z,j,""+X,ut);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case P:return X.key===It?k(Z,j,X,ut):null;case U:return X.key===It?W(Z,j,X,ut):null;case O:return It=X._init,X=It(X._payload),tt(Z,j,X,ut)}if(Re(X)||F(X))return It!==null?null:lt(Z,j,X,ut,null);if(typeof X.then=="function")return tt(Z,j,uh(X),ut);if(X.$$typeof===nt)return tt(Z,j,Qc(Z,X),ut);ch(Z,X)}return null}function it(Z,j,X,ut,It){if(typeof ut=="string"&&ut!==""||typeof ut=="number"||typeof ut=="bigint")return Z=Z.get(X)||null,I(j,Z,""+ut,It);if(typeof ut=="object"&&ut!==null){switch(ut.$$typeof){case P:return Z=Z.get(ut.key===null?X:ut.key)||null,k(j,Z,ut,It);case U:return Z=Z.get(ut.key===null?X:ut.key)||null,W(j,Z,ut,It);case O:var Xt=ut._init;return ut=Xt(ut._payload),it(Z,j,X,ut,It)}if(Re(ut)||F(ut))return Z=Z.get(X)||null,lt(j,Z,ut,It,null);if(typeof ut.then=="function")return it(Z,j,X,uh(ut),It);if(ut.$$typeof===nt)return it(Z,j,X,Qc(j,ut),It);ch(j,ut)}return null}function Ut(Z,j,X,ut){for(var It=null,Xt=null,Lt=j,kt=j=0,vn=null;Lt!==null&&kt<X.length;kt++){Lt.index>kt?(vn=Lt,Lt=null):vn=Lt.sibling;var he=tt(Z,Lt,X[kt],ut);if(he===null){Lt===null&&(Lt=vn);break}n&&Lt&&he.alternate===null&&r(Z,Lt),j=g(he,j,kt),Xt===null?It=he:Xt.sibling=he,Xt=he,Lt=vn}if(kt===X.length)return o(Z,Lt),Bt&&Y(Z,kt),It;if(Lt===null){for(;kt<X.length;kt++)Lt=ct(Z,X[kt],ut),Lt!==null&&(j=g(Lt,j,kt),Xt===null?It=Lt:Xt.sibling=Lt,Xt=Lt);return Bt&&Y(Z,kt),It}for(Lt=c(Lt);kt<X.length;kt++)vn=it(Lt,Z,kt,X[kt],ut),vn!==null&&(n&&vn.alternate!==null&&Lt.delete(vn.key===null?kt:vn.key),j=g(vn,j,kt),Xt===null?It=vn:Xt.sibling=vn,Xt=vn);return n&&Lt.forEach(function(Oa){return r(Z,Oa)}),Bt&&Y(Z,kt),It}function Nt(Z,j,X,ut){if(X==null)throw Error(a(151));for(var It=null,Xt=null,Lt=j,kt=j=0,vn=null,he=X.next();Lt!==null&&!he.done;kt++,he=X.next()){Lt.index>kt?(vn=Lt,Lt=null):vn=Lt.sibling;var Oa=tt(Z,Lt,he.value,ut);if(Oa===null){Lt===null&&(Lt=vn);break}n&&Lt&&Oa.alternate===null&&r(Z,Lt),j=g(Oa,j,kt),Xt===null?It=Oa:Xt.sibling=Oa,Xt=Oa,Lt=vn}if(he.done)return o(Z,Lt),Bt&&Y(Z,kt),It;if(Lt===null){for(;!he.done;kt++,he=X.next())he=ct(Z,he.value,ut),he!==null&&(j=g(he,j,kt),Xt===null?It=he:Xt.sibling=he,Xt=he);return Bt&&Y(Z,kt),It}for(Lt=c(Lt);!he.done;kt++,he=X.next())he=it(Lt,Z,kt,he.value,ut),he!==null&&(n&&he.alternate!==null&&Lt.delete(he.key===null?kt:he.key),j=g(he,j,kt),Xt===null?It=he:Xt.sibling=he,Xt=he);return n&&Lt.forEach(function(wS){return r(Z,wS)}),Bt&&Y(Z,kt),It}function Ae(Z,j,X,ut){if(typeof X=="object"&&X!==null&&X.type===q&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case P:t:{for(var It=X.key;j!==null;){if(j.key===It){if(It=X.type,It===q){if(j.tag===7){o(Z,j.sibling),ut=p(j,X.props.children),ut.return=Z,Z=ut;break t}}else if(j.elementType===It||typeof It=="object"&&It!==null&&It.$$typeof===O&&j_(It)===j.type){o(Z,j.sibling),ut=p(j,X.props),Ou(ut,X),ut.return=Z,Z=ut;break t}o(Z,j);break}else r(Z,j);j=j.sibling}X.type===q?(ut=zr(X.props.children,Z.mode,ut,X.key),ut.return=Z,Z=ut):(ut=bo(X.type,X.key,X.props,null,Z.mode,ut),Ou(ut,X),ut.return=Z,Z=ut)}return S(Z);case U:t:{for(It=X.key;j!==null;){if(j.key===It)if(j.tag===4&&j.stateNode.containerInfo===X.containerInfo&&j.stateNode.implementation===X.implementation){o(Z,j.sibling),ut=p(j,X.children||[]),ut.return=Z,Z=ut;break t}else{o(Z,j);break}else r(Z,j);j=j.sibling}ut=pl(X,Z.mode,ut),ut.return=Z,Z=ut}return S(Z);case O:return It=X._init,X=It(X._payload),Ae(Z,j,X,ut)}if(Re(X))return Ut(Z,j,X,ut);if(F(X)){if(It=F(X),typeof It!="function")throw Error(a(150));return X=It.call(X),Nt(Z,j,X,ut)}if(typeof X.then=="function")return Ae(Z,j,uh(X),ut);if(X.$$typeof===nt)return Ae(Z,j,Qc(Z,X),ut);ch(Z,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,j!==null&&j.tag===6?(o(Z,j.sibling),ut=p(j,X),ut.return=Z,Z=ut):(o(Z,j),ut=yu(X,Z.mode,ut),ut.return=Z,Z=ut),S(Z)):o(Z,j)}return function(Z,j,X,ut){try{Pu=0;var It=Ae(Z,j,X,ut);return bl=null,It}catch(Lt){if(Lt===Eu||Lt===Wc)throw Lt;var Xt=Qn(29,Lt,null,Z.mode);return Xt.lanes=ut,Xt.return=Z,Xt}finally{}}}var Sl=F_(!0),G_=F_(!1),Yi=ot(null),Br=null;function ga(n){var r=n.alternate;mt(ln,ln.current&1),mt(Yi,n),Br===null&&(r===null||vl.current!==null||r.memoizedState!==null)&&(Br=n)}function Z_(n){if(n.tag===22){if(mt(ln,ln.current),mt(Yi,n),Br===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(Br=n)}}else _a()}function _a(){mt(ln,ln.current),mt(Yi,Yi.current)}function vs(n){_t(Yi),Br===n&&(Br=null),_t(ln)}var ln=ot(0);function hh(n){for(var r=n;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Sm(o)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Nd(n,r,o,c){r=n.memoizedState,o=o(c,r),o=o==null?r:A({},r,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var kd={enqueueSetState:function(n,r,o){n=n._reactInternals;var c=Ci(),p=da(c);p.payload=r,o!=null&&(p.callback=o),r=ma(n,p,c),r!==null&&(xi(r,n,c),bu(r,n,c))},enqueueReplaceState:function(n,r,o){n=n._reactInternals;var c=Ci(),p=da(c);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=ma(n,p,c),r!==null&&(xi(r,n,c),bu(r,n,c))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var o=Ci(),c=da(o);c.tag=2,r!=null&&(c.callback=r),r=ma(n,c,o),r!==null&&(xi(r,n,o),bu(r,n,o))}};function $_(n,r,o,c,p,g,S){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,g,S):r.prototype&&r.prototype.isPureReactComponent?!$n(o,c)||!$n(p,g):!0}function K_(n,r,o,c){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==n&&kd.enqueueReplaceState(r,r.state,null)}function Po(n,r){var o=r;if("ref"in r){o={};for(var c in r)c!=="ref"&&(o[c]=r[c])}if(n=n.defaultProps){o===r&&(o=A({},o));for(var p in n)o[p]===void 0&&(o[p]=n[p])}return o}var fh=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Y_(n){fh(n)}function Q_(n){console.error(n)}function X_(n){fh(n)}function dh(n,r){try{var o=n.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(c){setTimeout(function(){throw c})}}function W_(n,r,o){try{var c=n.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Vd(n,r,o){return o=da(o),o.tag=3,o.payload={element:null},o.callback=function(){dh(n,r)},o}function J_(n){return n=da(n),n.tag=3,n}function ty(n,r,o,c){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var g=c.value;n.payload=function(){return p(g)},n.callback=function(){W_(r,o,c)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(n.callback=function(){W_(r,o,c),typeof p!="function"&&(ba===null?ba=new Set([this]):ba.add(this));var I=c.stack;this.componentDidCatch(c.value,{componentStack:I!==null?I:""})})}function w1(n,r,o,c,p){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(r=o.alternate,r!==null&&Ro(r,o,p,!0),o=Yi.current,o!==null){switch(o.tag){case 13:return Br===null?om():o.alternate===null&&Ze===0&&(Ze=3),o.flags&=-257,o.flags|=65536,o.lanes=p,c===fd?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([c]):r.add(c),um(n,c,p)),!1;case 22:return o.flags|=65536,c===fd?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([c]):o.add(c)),um(n,c,p)),!1}throw Error(a(435,o.tag))}return um(n,c,p),om(),!1}if(Bt)return r=Yi.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=p,c!==gn&&(n=Error(a(422),{cause:c}),ha(Kn(n,o)))):(c!==gn&&(r=Error(a(423),{cause:c}),ha(Kn(r,o))),n=n.current.alternate,n.flags|=65536,p&=-p,n.lanes|=p,c=Kn(c,o),p=Vd(n.stateNode,c,p),pd(n,p),Ze!==4&&(Ze=2)),!1;var g=Error(a(520),{cause:c});if(g=Kn(g,o),zu===null?zu=[g]:zu.push(g),Ze!==4&&(Ze=2),r===null)return!0;c=Kn(c,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,n=p&-p,o.lanes|=n,n=Vd(o.stateNode,c,n),pd(o,n),!1;case 1:if(r=o.type,g=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ba===null||!ba.has(g))))return o.flags|=65536,p&=-p,o.lanes|=p,p=J_(p),ty(p,n,o,c),pd(o,p),!1}o=o.return}while(o!==null);return!1}var ey=Error(a(461)),_n=!1;function Sn(n,r,o,c){r.child=n===null?G_(r,null,o,c):Sl(r,n.child,o,c)}function ny(n,r,o,c,p){o=o.render;var g=r.ref;if("ref"in c){var S={};for(var I in c)I!=="ref"&&(S[I]=c[I])}else S=c;return Io(r),c=Td(n,r,o,S,g,p),I=Ed(),n!==null&&!_n?(wd(n,r,p),Ts(n,r,p)):(Bt&&I&&ft(r),r.flags|=1,Sn(n,r,c,p),r.child)}function iy(n,r,o,c,p){if(n===null){var g=o.type;return typeof g=="function"&&!ml(g)&&g.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=g,ry(n,r,g,c,p)):(n=bo(o.type,null,c,r,r.mode,p),n.ref=r.ref,n.return=r,r.child=n)}if(g=n.child,!Gd(n,p)){var S=g.memoizedProps;if(o=o.compare,o=o!==null?o:$n,o(S,c)&&n.ref===r.ref)return Ts(n,r,p)}return r.flags|=1,n=$i(g,c),n.ref=r.ref,n.return=r,r.child=n}function ry(n,r,o,c,p){if(n!==null){var g=n.memoizedProps;if($n(g,c)&&n.ref===r.ref)if(_n=!1,r.pendingProps=c=g,Gd(n,p))(n.flags&131072)!==0&&(_n=!0);else return r.lanes=n.lanes,Ts(n,r,p)}return zd(n,r,o,c,p)}function sy(n,r,o){var c=r.pendingProps,p=c.children,g=n!==null?n.memoizedState:null;if(c.mode==="hidden"){if((r.flags&128)!==0){if(c=g!==null?g.baseLanes|o:o,n!==null){for(p=r.child=n.child,g=0;p!==null;)g=g|p.lanes|p.childLanes,p=p.sibling;r.childLanes=g&~c}else r.childLanes=0,r.child=null;return ay(n,r,c,o)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Xc(r,g!==null?g.cachePool:null),g!==null?r_(r,g):_d(),Z_(r);else return r.lanes=r.childLanes=536870912,ay(n,r,g!==null?g.baseLanes|o:o,o)}else g!==null?(Xc(r,g.cachePool),r_(r,g),_a(),r.memoizedState=null):(n!==null&&Xc(r,null),_d(),_a());return Sn(n,r,p,o),r.child}function ay(n,r,o,c){var p=hd();return p=p===null?null:{parent:on._currentValue,pool:p},r.memoizedState={baseLanes:o,cachePool:p},n!==null&&Xc(r,null),_d(),Z_(r),n!==null&&Ro(n,r,c,!0),null}function mh(n,r){var o=r.ref;if(o===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(n===null||n.ref!==o)&&(r.flags|=4194816)}}function zd(n,r,o,c,p){return Io(r),o=Td(n,r,o,c,void 0,p),c=Ed(),n!==null&&!_n?(wd(n,r,p),Ts(n,r,p)):(Bt&&c&&ft(r),r.flags|=1,Sn(n,r,o,p),r.child)}function oy(n,r,o,c,p,g){return Io(r),r.updateQueue=null,o=a_(r,c,o,p),s_(n),c=Ed(),n!==null&&!_n?(wd(n,r,g),Ts(n,r,g)):(Bt&&c&&ft(r),r.flags|=1,Sn(n,r,o,g),r.child)}function ly(n,r,o,c,p){if(Io(r),r.stateNode===null){var g=gs,S=o.contextType;typeof S=="object"&&S!==null&&(g=Vn(S)),g=new o(c,g),r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=kd,r.stateNode=g,g._reactInternals=r,g=r.stateNode,g.props=c,g.state=r.memoizedState,g.refs={},dd(r),S=o.contextType,g.context=typeof S=="object"&&S!==null?Vn(S):gs,g.state=r.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(Nd(r,o,S,c),g.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(S=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),S!==g.state&&kd.enqueueReplaceState(g,g.state,null),Au(r,c,g,p),Su(),g.state=r.memoizedState),typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!0}else if(n===null){g=r.stateNode;var I=r.memoizedProps,k=Po(o,I);g.props=k;var W=g.context,lt=o.contextType;S=gs,typeof lt=="object"&&lt!==null&&(S=Vn(lt));var ct=o.getDerivedStateFromProps;lt=typeof ct=="function"||typeof g.getSnapshotBeforeUpdate=="function",I=r.pendingProps!==I,lt||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(I||W!==S)&&K_(r,g,c,S),fa=!1;var tt=r.memoizedState;g.state=tt,Au(r,c,g,p),Su(),W=r.memoizedState,I||tt!==W||fa?(typeof ct=="function"&&(Nd(r,o,ct,c),W=r.memoizedState),(k=fa||$_(r,o,k,c,tt,W,S))?(lt||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(r.flags|=4194308)):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=W),g.props=c,g.state=W,g.context=S,c=k):(typeof g.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{g=r.stateNode,md(n,r),S=r.memoizedProps,lt=Po(o,S),g.props=lt,ct=r.pendingProps,tt=g.context,W=o.contextType,k=gs,typeof W=="object"&&W!==null&&(k=Vn(W)),I=o.getDerivedStateFromProps,(W=typeof I=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S!==ct||tt!==k)&&K_(r,g,c,k),fa=!1,tt=r.memoizedState,g.state=tt,Au(r,c,g,p),Su();var it=r.memoizedState;S!==ct||tt!==it||fa||n!==null&&n.dependencies!==null&&Yc(n.dependencies)?(typeof I=="function"&&(Nd(r,o,I,c),it=r.memoizedState),(lt=fa||$_(r,o,lt,c,tt,it,k)||n!==null&&n.dependencies!==null&&Yc(n.dependencies))?(W||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,it,k),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,it,k)),typeof g.componentDidUpdate=="function"&&(r.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof g.componentDidUpdate!="function"||S===n.memoizedProps&&tt===n.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&tt===n.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=it),g.props=c,g.state=it,g.context=k,c=lt):(typeof g.componentDidUpdate!="function"||S===n.memoizedProps&&tt===n.memoizedState||(r.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&tt===n.memoizedState||(r.flags|=1024),c=!1)}return g=c,mh(n,r),c=(r.flags&128)!==0,g||c?(g=r.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:g.render(),r.flags|=1,n!==null&&c?(r.child=Sl(r,n.child,null,p),r.child=Sl(r,null,o,p)):Sn(n,r,o,p),r.memoizedState=g.state,n=r.child):n=Ts(n,r,p),n}function uy(n,r,o,c){return ca(),r.flags|=256,Sn(n,r,o,c),r.child}var Ud={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bd(n){return{baseLanes:n,cachePool:Qg()}}function Hd(n,r,o){return n=n!==null?n.childLanes&~o:0,r&&(n|=Qi),n}function cy(n,r,o){var c=r.pendingProps,p=!1,g=(r.flags&128)!==0,S;if((S=g)||(S=n!==null&&n.memoizedState===null?!1:(ln.current&2)!==0),S&&(p=!0,r.flags&=-129),S=(r.flags&32)!==0,r.flags&=-33,n===null){if(Bt){if(p?ga(r):_a(),Bt){var I=Pt,k;if(k=I){t:{for(k=I,I=Be;k.nodeType!==8;){if(!I){I=null;break t}if(k=yr(k.nextSibling),k===null){I=null;break t}}I=k}I!==null?(r.memoizedState={dehydrated:I,treeContext:w!==null?{id:R,overflow:N}:null,retryLane:536870912,hydrationErrors:null},k=Qn(18,null,null,0),k.stateNode=I,k.return=r,r.child=k,Rt=r,Pt=null,k=!0):k=!1}k||ni(r)}if(I=r.memoizedState,I!==null&&(I=I.dehydrated,I!==null))return Sm(I)?r.lanes=32:r.lanes=536870912,null;vs(r)}return I=c.children,c=c.fallback,p?(_a(),p=r.mode,I=ph({mode:"hidden",children:I},p),c=zr(c,p,o,null),I.return=r,c.return=r,I.sibling=c,r.child=I,p=r.child,p.memoizedState=Bd(o),p.childLanes=Hd(n,S,o),r.memoizedState=Ud,c):(ga(r),qd(r,I))}if(k=n.memoizedState,k!==null&&(I=k.dehydrated,I!==null)){if(g)r.flags&256?(ga(r),r.flags&=-257,r=jd(n,r,o)):r.memoizedState!==null?(_a(),r.child=n.child,r.flags|=128,r=null):(_a(),p=c.fallback,I=r.mode,c=ph({mode:"visible",children:c.children},I),p=zr(p,I,o,null),p.flags|=2,c.return=r,p.return=r,c.sibling=p,r.child=c,Sl(r,n.child,null,o),c=r.child,c.memoizedState=Bd(o),c.childLanes=Hd(n,S,o),r.memoizedState=Ud,r=p);else if(ga(r),Sm(I)){if(S=I.nextSibling&&I.nextSibling.dataset,S)var W=S.dgst;S=W,c=Error(a(419)),c.stack="",c.digest=S,ha({value:c,source:null,stack:null}),r=jd(n,r,o)}else if(_n||Ro(n,r,o,!1),S=(o&n.childLanes)!==0,_n||S){if(S=De,S!==null&&(c=o&-o,c=(c&42)!==0?1:Rr(c),c=(c&(S.suspendedLanes|o))!==0?0:c,c!==0&&c!==k.retryLane))throw k.retryLane=c,la(n,c),xi(S,n,c),ey;I.data==="$?"||om(),r=jd(n,r,o)}else I.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=k.treeContext,Pt=yr(I.nextSibling),Rt=r,Bt=!0,Me=null,Be=!1,n!==null&&(d[_++]=R,d[_++]=N,d[_++]=w,R=n.id,N=n.overflow,w=r),r=qd(r,c.children),r.flags|=4096);return r}return p?(_a(),p=c.fallback,I=r.mode,k=n.child,W=k.sibling,c=$i(k,{mode:"hidden",children:c.children}),c.subtreeFlags=k.subtreeFlags&65011712,W!==null?p=$i(W,p):(p=zr(p,I,o,null),p.flags|=2),p.return=r,c.return=r,c.sibling=p,r.child=c,c=p,p=r.child,I=n.child.memoizedState,I===null?I=Bd(o):(k=I.cachePool,k!==null?(W=on._currentValue,k=k.parent!==W?{parent:W,pool:W}:k):k=Qg(),I={baseLanes:I.baseLanes|o,cachePool:k}),p.memoizedState=I,p.childLanes=Hd(n,S,o),r.memoizedState=Ud,c):(ga(r),o=n.child,n=o.sibling,o=$i(o,{mode:"visible",children:c.children}),o.return=r,o.sibling=null,n!==null&&(S=r.deletions,S===null?(r.deletions=[n],r.flags|=16):S.push(n)),r.child=o,r.memoizedState=null,o)}function qd(n,r){return r=ph({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function ph(n,r){return n=Qn(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function jd(n,r,o){return Sl(r,n.child,null,o),n=qd(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function hy(n,r,o){n.lanes|=r;var c=n.alternate;c!==null&&(c.lanes|=r),Ao(n.return,r,o)}function Fd(n,r,o,c,p){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:p}:(g.isBackwards=r,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=o,g.tailMode=p)}function fy(n,r,o){var c=r.pendingProps,p=c.revealOrder,g=c.tail;if(Sn(n,r,c.children,o),c=ln.current,(c&2)!==0)c=c&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&hy(n,o,r);else if(n.tag===19)hy(n,o,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break t;for(;n.sibling===null;){if(n.return===null||n.return===r)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}switch(mt(ln,c),p){case"forwards":for(o=r.child,p=null;o!==null;)n=o.alternate,n!==null&&hh(n)===null&&(p=o),o=o.sibling;o=p,o===null?(p=r.child,r.child=null):(p=o.sibling,o.sibling=null),Fd(r,!1,p,o,g);break;case"backwards":for(o=null,p=r.child,r.child=null;p!==null;){if(n=p.alternate,n!==null&&hh(n)===null){r.child=p;break}n=p.sibling,p.sibling=o,o=p,p=n}Fd(r,!0,o,null,g);break;case"together":Fd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Ts(n,r,o){if(n!==null&&(r.dependencies=n.dependencies),wa|=r.lanes,(o&r.childLanes)===0)if(n!==null){if(Ro(n,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(a(153));if(r.child!==null){for(n=r.child,o=$i(n,n.pendingProps),r.child=o,o.return=r;n.sibling!==null;)n=n.sibling,o=o.sibling=$i(n,n.pendingProps),o.return=r;o.sibling=null}return r.child}function Gd(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Yc(n)))}function b1(n,r,o){switch(r.tag){case 3:re(r,r.stateNode.containerInfo),Ur(r,on,n.memoizedState.cache),ca();break;case 27:case 5:Li(r);break;case 4:re(r,r.stateNode.containerInfo);break;case 10:Ur(r,r.type,r.memoizedProps.value);break;case 13:var c=r.memoizedState;if(c!==null)return c.dehydrated!==null?(ga(r),r.flags|=128,null):(o&r.child.childLanes)!==0?cy(n,r,o):(ga(r),n=Ts(n,r,o),n!==null?n.sibling:null);ga(r);break;case 19:var p=(n.flags&128)!==0;if(c=(o&r.childLanes)!==0,c||(Ro(n,r,o,!1),c=(o&r.childLanes)!==0),p){if(c)return fy(n,r,o);r.flags|=128}if(p=r.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),mt(ln,ln.current),c)break;return null;case 22:case 23:return r.lanes=0,sy(n,r,o);case 24:Ur(r,on,n.memoizedState.cache)}return Ts(n,r,o)}function dy(n,r,o){if(n!==null)if(n.memoizedProps!==r.pendingProps)_n=!0;else{if(!Gd(n,o)&&(r.flags&128)===0)return _n=!1,b1(n,r,o);_n=(n.flags&131072)!==0}else _n=!1,Bt&&(r.flags&1048576)!==0&&rt(r,u,r.index);switch(r.lanes=0,r.tag){case 16:t:{n=r.pendingProps;var c=r.elementType,p=c._init;if(c=p(c._payload),r.type=c,typeof c=="function")ml(c)?(n=Po(c,n),r.tag=1,r=ly(null,r,c,n,o)):(r.tag=0,r=zd(null,r,c,n,o));else{if(c!=null){if(p=c.$$typeof,p===gt){r.tag=11,r=ny(null,r,c,n,o);break t}else if(p===V){r.tag=14,r=iy(null,r,c,n,o);break t}}throw r=pe(c)||c,Error(a(306,r,""))}}return r;case 0:return zd(n,r,r.type,r.pendingProps,o);case 1:return c=r.type,p=Po(c,r.pendingProps),ly(n,r,c,p,o);case 3:t:{if(re(r,r.stateNode.containerInfo),n===null)throw Error(a(387));c=r.pendingProps;var g=r.memoizedState;p=g.element,md(n,r),Au(r,c,null,o);var S=r.memoizedState;if(c=S.cache,Ur(r,on,c),c!==g.cache&&gl(r,[on],o,!0),Su(),c=S.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:S.cache},r.updateQueue.baseState=g,r.memoizedState=g,r.flags&256){r=uy(n,r,c,o);break t}else if(c!==p){p=Kn(Error(a(424)),r),ha(p),r=uy(n,r,c,o);break t}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Pt=yr(n.firstChild),Rt=r,Bt=!0,Me=null,Be=!0,o=G_(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ca(),c===p){r=Ts(n,r,o);break t}Sn(n,r,c,o)}r=r.child}return r;case 26:return mh(n,r),n===null?(o=_v(r.type,null,r.pendingProps,null))?r.memoizedState=o:Bt||(o=r.type,n=r.pendingProps,c=xh(Et.current).createElement(o),c[$e]=r,c[Fe]=n,Rn(c,o,n),Ue(c),r.stateNode=c):r.memoizedState=_v(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Li(r),n===null&&Bt&&(c=r.stateNode=mv(r.type,r.pendingProps,Et.current),Rt=r,Be=!0,p=Pt,Ra(r.type)?(Am=p,Pt=yr(c.firstChild)):Pt=p),Sn(n,r,r.pendingProps.children,o),mh(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Bt&&((p=c=Pt)&&(c=X1(c,r.type,r.pendingProps,Be),c!==null?(r.stateNode=c,Rt=r,Pt=yr(c.firstChild),Be=!1,p=!0):p=!1),p||ni(r)),Li(r),p=r.type,g=r.pendingProps,S=n!==null?n.memoizedProps:null,c=g.children,Em(p,g)?c=null:S!==null&&Em(p,S)&&(r.flags|=32),r.memoizedState!==null&&(p=Td(n,r,p1,null,null,o),$u._currentValue=p),mh(n,r),Sn(n,r,c,o),r.child;case 6:return n===null&&Bt&&((n=o=Pt)&&(o=W1(o,r.pendingProps,Be),o!==null?(r.stateNode=o,Rt=r,Pt=null,n=!0):n=!1),n||ni(r)),null;case 13:return cy(n,r,o);case 4:return re(r,r.stateNode.containerInfo),c=r.pendingProps,n===null?r.child=Sl(r,null,c,o):Sn(n,r,c,o),r.child;case 11:return ny(n,r,r.type,r.pendingProps,o);case 7:return Sn(n,r,r.pendingProps,o),r.child;case 8:return Sn(n,r,r.pendingProps.children,o),r.child;case 12:return Sn(n,r,r.pendingProps.children,o),r.child;case 10:return c=r.pendingProps,Ur(r,r.type,c.value),Sn(n,r,c.children,o),r.child;case 9:return p=r.type._context,c=r.pendingProps.children,Io(r),p=Vn(p),c=c(p),r.flags|=1,Sn(n,r,c,o),r.child;case 14:return iy(n,r,r.type,r.pendingProps,o);case 15:return ry(n,r,r.type,r.pendingProps,o);case 19:return fy(n,r,o);case 31:return c=r.pendingProps,o=r.mode,c={mode:c.mode,children:c.children},n===null?(o=ph(c,o),o.ref=r.ref,r.child=o,o.return=r,r=o):(o=$i(n.child,c),o.ref=r.ref,r.child=o,o.return=r,r=o),r;case 22:return sy(n,r,o);case 24:return Io(r),c=Vn(on),n===null?(p=hd(),p===null&&(p=De,g=ud(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=o),p=g),r.memoizedState={parent:c,cache:p},dd(r),Ur(r,on,p)):((n.lanes&o)!==0&&(md(n,r),Au(r,null,null,o),Su()),p=n.memoizedState,g=r.memoizedState,p.parent!==c?(p={parent:c,cache:c},r.memoizedState=p,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=p),Ur(r,on,c)):(c=g.cache,Ur(r,on,c),c!==p.cache&&gl(r,[on],o,!0))),Sn(n,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(a(156,r.tag))}function Es(n){n.flags|=4}function my(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!wv(r)){if(r=Yi.current,r!==null&&((oe&4194048)===oe?Br!==null:(oe&62914560)!==oe&&(oe&536870912)===0||r!==Br))throw wu=fd,Xg;n.flags|=8192}}function gh(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Hs():536870912,n.lanes|=r,Cl|=r)}function Lu(n,r){if(!Bt)switch(n.tailMode){case"hidden":r=n.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function He(n){var r=n.alternate!==null&&n.alternate.child===n.child,o=0,c=0;if(r)for(var p=n.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=n,p=p.sibling;else for(p=n.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=n,p=p.sibling;return n.subtreeFlags|=c,n.childLanes=o,r}function S1(n,r,o){var c=r.pendingProps;switch(bt(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(r),null;case 1:return He(r),null;case 3:return o=r.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),r.memoizedState.cache!==c&&(r.flags|=2048),gr(on),li(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(So(r)?Es(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Kc())),He(r),null;case 26:return o=r.memoizedState,n===null?(Es(r),o!==null?(He(r),my(r,o)):(He(r),r.flags&=-16777217)):o?o!==n.memoizedState?(Es(r),He(r),my(r,o)):(He(r),r.flags&=-16777217):(n.memoizedProps!==c&&Es(r),He(r),r.flags&=-16777217),null;case 27:ui(r),o=Et.current;var p=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==c&&Es(r);else{if(!c){if(r.stateNode===null)throw Error(a(166));return He(r),null}n=wt.current,So(r)?Zc(r):(n=mv(p,c,o),r.stateNode=n,Es(r))}return He(r),null;case 5:if(ui(r),o=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==c&&Es(r);else{if(!c){if(r.stateNode===null)throw Error(a(166));return He(r),null}if(n=wt.current,So(r))Zc(r);else{switch(p=xh(Et.current),n){case 1:n=p.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=p.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=p.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?n.multiple=!0:c.size&&(n.size=c.size);break;default:n=typeof c.is=="string"?p.createElement(o,{is:c.is}):p.createElement(o)}}n[$e]=r,n[Fe]=c;t:for(p=r.child;p!==null;){if(p.tag===5||p.tag===6)n.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===r)break t;for(;p.sibling===null;){if(p.return===null||p.return===r)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}r.stateNode=n;t:switch(Rn(n,o,c),o){case"button":case"input":case"select":case"textarea":n=!!c.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&Es(r)}}return He(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==c&&Es(r);else{if(typeof c!="string"&&r.stateNode===null)throw Error(a(166));if(n=Et.current,So(r)){if(n=r.stateNode,o=r.memoizedProps,c=null,p=Rt,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}n[$e]=r,n=!!(n.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||ov(n.nodeValue,o)),n||ni(r)}else n=xh(n).createTextNode(c),n[$e]=r,r.stateNode=n}return He(r),null;case 13:if(c=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(p=So(r),c!==null&&c.dehydrated!==null){if(n===null){if(!p)throw Error(a(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(a(317));p[$e]=r}else ca(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;He(r),p=!1}else p=Kc(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=p),p=!0;if(!p)return r.flags&256?(vs(r),r):(vs(r),null)}if(vs(r),(r.flags&128)!==0)return r.lanes=o,r;if(o=c!==null,n=n!==null&&n.memoizedState!==null,o){c=r.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==p&&(c.flags|=2048)}return o!==n&&o&&(r.child.flags|=8192),gh(r,r.updateQueue),He(r),null;case 4:return li(),n===null&&gm(r.stateNode.containerInfo),He(r),null;case 10:return gr(r.type),He(r),null;case 19:if(_t(ln),p=r.memoizedState,p===null)return He(r),null;if(c=(r.flags&128)!==0,g=p.rendering,g===null)if(c)Lu(p,!1);else{if(Ze!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(g=hh(n),g!==null){for(r.flags|=128,Lu(p,!1),n=g.updateQueue,r.updateQueue=n,gh(r,n),r.subtreeFlags=0,n=o,o=r.child;o!==null;)_u(o,n),o=o.sibling;return mt(ln,ln.current&1|2),r.child}n=n.sibling}p.tail!==null&&Pn()>vh&&(r.flags|=128,c=!0,Lu(p,!1),r.lanes=4194304)}else{if(!c)if(n=hh(g),n!==null){if(r.flags|=128,c=!0,n=n.updateQueue,r.updateQueue=n,gh(r,n),Lu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!g.alternate&&!Bt)return He(r),null}else 2*Pn()-p.renderingStartTime>vh&&o!==536870912&&(r.flags|=128,c=!0,Lu(p,!1),r.lanes=4194304);p.isBackwards?(g.sibling=r.child,r.child=g):(n=p.last,n!==null?n.sibling=g:r.child=g,p.last=g)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=Pn(),r.sibling=null,n=ln.current,mt(ln,c?n&1|2:n&1),r):(He(r),null);case 22:case 23:return vs(r),yd(),c=r.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(r.flags|=8192):c&&(r.flags|=8192),c?(o&536870912)!==0&&(r.flags&128)===0&&(He(r),r.subtreeFlags&6&&(r.flags|=8192)):He(r),o=r.updateQueue,o!==null&&gh(r,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),c=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(c=r.memoizedState.cachePool.pool),c!==o&&(r.flags|=2048),n!==null&&_t(Co),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),gr(on),He(r),null;case 25:return null;case 30:return null}throw Error(a(156,r.tag))}function A1(n,r){switch(bt(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return gr(on),li(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return ui(r),null;case 13:if(vs(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(a(340));ca()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return _t(ln),null;case 4:return li(),null;case 10:return gr(r.type),null;case 22:case 23:return vs(r),yd(),n!==null&&_t(Co),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return gr(on),null;case 25:return null;default:return null}}function py(n,r){switch(bt(r),r.tag){case 3:gr(on),li();break;case 26:case 27:case 5:ui(r);break;case 4:li();break;case 13:vs(r);break;case 19:_t(ln);break;case 10:gr(r.type);break;case 22:case 23:vs(r),yd(),n!==null&&_t(Co);break;case 24:gr(on)}}function Mu(n,r){try{var o=r.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var p=c.next;o=p;do{if((o.tag&n)===n){c=void 0;var g=o.create,S=o.inst;c=g(),S.destroy=c}o=o.next}while(o!==p)}}catch(I){Ce(r,r.return,I)}}function ya(n,r,o){try{var c=r.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var g=p.next;c=g;do{if((c.tag&n)===n){var S=c.inst,I=S.destroy;if(I!==void 0){S.destroy=void 0,p=r;var k=o,W=I;try{W()}catch(lt){Ce(p,k,lt)}}}c=c.next}while(c!==g)}}catch(lt){Ce(r,r.return,lt)}}function gy(n){var r=n.updateQueue;if(r!==null){var o=n.stateNode;try{i_(r,o)}catch(c){Ce(n,n.return,c)}}}function _y(n,r,o){o.props=Po(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(c){Ce(n,r,c)}}function Du(n,r){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof o=="function"?n.refCleanup=o(c):o.current=c}}catch(p){Ce(n,r,p)}}function Hr(n,r){var o=n.ref,c=n.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(p){Ce(n,r,p)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){Ce(n,r,p)}else o.current=null}function yy(n){var r=n.type,o=n.memoizedProps,c=n.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(p){Ce(n,n.return,p)}}function Zd(n,r,o){try{var c=n.stateNode;Z1(c,n.type,o,r),c[Fe]=r}catch(p){Ce(n,n.return,p)}}function vy(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ra(n.type)||n.tag===4}function $d(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||vy(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ra(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Kd(n,r,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(n),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Ch));else if(c!==4&&(c===27&&Ra(n.type)&&(o=n.stateNode,r=null),n=n.child,n!==null))for(Kd(n,r,o),n=n.sibling;n!==null;)Kd(n,r,o),n=n.sibling}function _h(n,r,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?o.insertBefore(n,r):o.appendChild(n);else if(c!==4&&(c===27&&Ra(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(_h(n,r,o),n=n.sibling;n!==null;)_h(n,r,o),n=n.sibling}function Ty(n){var r=n.stateNode,o=n.memoizedProps;try{for(var c=n.type,p=r.attributes;p.length;)r.removeAttributeNode(p[0]);Rn(r,c,o),r[$e]=n,r[Fe]=o}catch(g){Ce(n,n.return,g)}}var ws=!1,Qe=!1,Yd=!1,Ey=typeof WeakSet=="function"?WeakSet:Set,yn=null;function R1(n,r){if(n=n.containerInfo,vm=Nh,n=_o(n),yo(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else t:{o=(o=n.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var p=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{o.nodeType,g.nodeType}catch{o=null;break t}var S=0,I=-1,k=-1,W=0,lt=0,ct=n,tt=null;e:for(;;){for(var it;ct!==o||p!==0&&ct.nodeType!==3||(I=S+p),ct!==g||c!==0&&ct.nodeType!==3||(k=S+c),ct.nodeType===3&&(S+=ct.nodeValue.length),(it=ct.firstChild)!==null;)tt=ct,ct=it;for(;;){if(ct===n)break e;if(tt===o&&++W===p&&(I=S),tt===g&&++lt===c&&(k=S),(it=ct.nextSibling)!==null)break;ct=tt,tt=ct.parentNode}ct=it}o=I===-1||k===-1?null:{start:I,end:k}}else o=null}o=o||{start:0,end:0}}else o=null;for(Tm={focusedElem:n,selectionRange:o},Nh=!1,yn=r;yn!==null;)if(r=yn,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,yn=n;else for(;yn!==null;){switch(r=yn,g=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&g!==null){n=void 0,o=r,p=g.memoizedProps,g=g.memoizedState,c=o.stateNode;try{var Ut=Po(o.type,p,o.elementType===o.type);n=c.getSnapshotBeforeUpdate(Ut,g),c.__reactInternalSnapshotBeforeUpdate=n}catch(Nt){Ce(o,o.return,Nt)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,o=n.nodeType,o===9)bm(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":bm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=r.sibling,n!==null){n.return=r.return,yn=n;break}yn=r.return}}function wy(n,r,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:va(n,o),c&4&&Mu(5,o);break;case 1:if(va(n,o),c&4)if(n=o.stateNode,r===null)try{n.componentDidMount()}catch(S){Ce(o,o.return,S)}else{var p=Po(o.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(p,r,n.__reactInternalSnapshotBeforeUpdate)}catch(S){Ce(o,o.return,S)}}c&64&&gy(o),c&512&&Du(o,o.return);break;case 3:if(va(n,o),c&64&&(n=o.updateQueue,n!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{i_(n,r)}catch(S){Ce(o,o.return,S)}}break;case 27:r===null&&c&4&&Ty(o);case 26:case 5:va(n,o),r===null&&c&4&&yy(o),c&512&&Du(o,o.return);break;case 12:va(n,o);break;case 13:va(n,o),c&4&&Ay(n,o),c&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=N1.bind(null,o),J1(n,o))));break;case 22:if(c=o.memoizedState!==null||ws,!c){r=r!==null&&r.memoizedState!==null||Qe,p=ws;var g=Qe;ws=c,(Qe=r)&&!g?Ta(n,o,(o.subtreeFlags&8772)!==0):va(n,o),ws=p,Qe=g}break;case 30:break;default:va(n,o)}}function by(n){var r=n.alternate;r!==null&&(n.alternate=null,by(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&rr(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ze=null,ri=!1;function bs(n,r,o){for(o=o.child;o!==null;)Sy(n,r,o),o=o.sibling}function Sy(n,r,o){if(ue&&typeof ue.onCommitFiberUnmount=="function")try{ue.onCommitFiberUnmount(xe,o)}catch{}switch(o.tag){case 26:Qe||Hr(o,r),bs(n,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Qe||Hr(o,r);var c=ze,p=ri;Ra(o.type)&&(ze=o.stateNode,ri=!1),bs(n,r,o),ju(o.stateNode),ze=c,ri=p;break;case 5:Qe||Hr(o,r);case 6:if(c=ze,p=ri,ze=null,bs(n,r,o),ze=c,ri=p,ze!==null)if(ri)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(o.stateNode)}catch(g){Ce(o,r,g)}else try{ze.removeChild(o.stateNode)}catch(g){Ce(o,r,g)}break;case 18:ze!==null&&(ri?(n=ze,fv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),Xu(n)):fv(ze,o.stateNode));break;case 4:c=ze,p=ri,ze=o.stateNode.containerInfo,ri=!0,bs(n,r,o),ze=c,ri=p;break;case 0:case 11:case 14:case 15:Qe||ya(2,o,r),Qe||ya(4,o,r),bs(n,r,o);break;case 1:Qe||(Hr(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"&&_y(o,r,c)),bs(n,r,o);break;case 21:bs(n,r,o);break;case 22:Qe=(c=Qe)||o.memoizedState!==null,bs(n,r,o),Qe=c;break;default:bs(n,r,o)}}function Ay(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Xu(n)}catch(o){Ce(r,r.return,o)}}function I1(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new Ey),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new Ey),r;default:throw Error(a(435,n.tag))}}function Qd(n,r){var o=I1(n);r.forEach(function(c){var p=k1.bind(null,n,c);o.has(c)||(o.add(c),c.then(p,p))})}function Ai(n,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var p=o[c],g=n,S=r,I=S;t:for(;I!==null;){switch(I.tag){case 27:if(Ra(I.type)){ze=I.stateNode,ri=!1;break t}break;case 5:ze=I.stateNode,ri=!1;break t;case 3:case 4:ze=I.stateNode.containerInfo,ri=!0;break t}I=I.return}if(ze===null)throw Error(a(160));Sy(g,S,p),ze=null,ri=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Ry(r,n),r=r.sibling}var _r=null;function Ry(n,r){var o=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Ai(r,n),Ri(n),c&4&&(ya(3,n,n.return),Mu(3,n),ya(5,n,n.return));break;case 1:Ai(r,n),Ri(n),c&512&&(Qe||o===null||Hr(o,o.return)),c&64&&ws&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var p=_r;if(Ai(r,n),Ri(n),c&512&&(Qe||o===null||Hr(o,o.return)),c&4){var g=o!==null?o.memoizedState:null;if(c=n.memoizedState,o===null)if(c===null)if(n.stateNode===null){t:{c=n.type,o=n.memoizedProps,p=p.ownerDocument||p;e:switch(c){case"title":g=p.getElementsByTagName("title")[0],(!g||g[Cr]||g[$e]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(c),p.head.insertBefore(g,p.querySelector("head > title"))),Rn(g,c,o),g[$e]=n,Ue(g),c=g;break t;case"link":var S=Tv("link","href",p).get(c+(o.href||""));if(S){for(var I=0;I<S.length;I++)if(g=S[I],g.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&g.getAttribute("rel")===(o.rel==null?null:o.rel)&&g.getAttribute("title")===(o.title==null?null:o.title)&&g.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(I,1);break e}}g=p.createElement(c),Rn(g,c,o),p.head.appendChild(g);break;case"meta":if(S=Tv("meta","content",p).get(c+(o.content||""))){for(I=0;I<S.length;I++)if(g=S[I],g.getAttribute("content")===(o.content==null?null:""+o.content)&&g.getAttribute("name")===(o.name==null?null:o.name)&&g.getAttribute("property")===(o.property==null?null:o.property)&&g.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&g.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(I,1);break e}}g=p.createElement(c),Rn(g,c,o),p.head.appendChild(g);break;default:throw Error(a(468,c))}g[$e]=n,Ue(g),c=g}n.stateNode=c}else Ev(p,n.type,n.stateNode);else n.stateNode=vv(p,c,n.memoizedProps);else g!==c?(g===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):g.count--,c===null?Ev(p,n.type,n.stateNode):vv(p,c,n.memoizedProps)):c===null&&n.stateNode!==null&&Zd(n,n.memoizedProps,o.memoizedProps)}break;case 27:Ai(r,n),Ri(n),c&512&&(Qe||o===null||Hr(o,o.return)),o!==null&&c&4&&Zd(n,n.memoizedProps,o.memoizedProps);break;case 5:if(Ai(r,n),Ri(n),c&512&&(Qe||o===null||Hr(o,o.return)),n.flags&32){p=n.stateNode;try{dn(p,"")}catch(it){Ce(n,n.return,it)}}c&4&&n.stateNode!=null&&(p=n.memoizedProps,Zd(n,p,o!==null?o.memoizedProps:p)),c&1024&&(Yd=!0);break;case 6:if(Ai(r,n),Ri(n),c&4){if(n.stateNode===null)throw Error(a(162));c=n.memoizedProps,o=n.stateNode;try{o.nodeValue=c}catch(it){Ce(n,n.return,it)}}break;case 3:if(Lh=null,p=_r,_r=Ph(r.containerInfo),Ai(r,n),_r=p,Ri(n),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Xu(r.containerInfo)}catch(it){Ce(n,n.return,it)}Yd&&(Yd=!1,Iy(n));break;case 4:c=_r,_r=Ph(n.stateNode.containerInfo),Ai(r,n),Ri(n),_r=c;break;case 12:Ai(r,n),Ri(n);break;case 13:Ai(r,n),Ri(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(nm=Pn()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Qd(n,c)));break;case 22:p=n.memoizedState!==null;var k=o!==null&&o.memoizedState!==null,W=ws,lt=Qe;if(ws=W||p,Qe=lt||k,Ai(r,n),Qe=lt,ws=W,Ri(n),c&8192)t:for(r=n.stateNode,r._visibility=p?r._visibility&-2:r._visibility|1,p&&(o===null||k||ws||Qe||Oo(n)),o=null,r=n;;){if(r.tag===5||r.tag===26){if(o===null){k=o=r;try{if(g=k.stateNode,p)S=g.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{I=k.stateNode;var ct=k.memoizedProps.style,tt=ct!=null&&ct.hasOwnProperty("display")?ct.display:null;I.style.display=tt==null||typeof tt=="boolean"?"":(""+tt).trim()}}catch(it){Ce(k,k.return,it)}}}else if(r.tag===6){if(o===null){k=r;try{k.stateNode.nodeValue=p?"":k.memoizedProps}catch(it){Ce(k,k.return,it)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break t;for(;r.sibling===null;){if(r.return===null||r.return===n)break t;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}c&4&&(c=n.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Qd(n,o))));break;case 19:Ai(r,n),Ri(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Qd(n,c)));break;case 30:break;case 21:break;default:Ai(r,n),Ri(n)}}function Ri(n){var r=n.flags;if(r&2){try{for(var o,c=n.return;c!==null;){if(vy(c)){o=c;break}c=c.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var p=o.stateNode,g=$d(n);_h(n,g,p);break;case 5:var S=o.stateNode;o.flags&32&&(dn(S,""),o.flags&=-33);var I=$d(n);_h(n,I,S);break;case 3:case 4:var k=o.stateNode.containerInfo,W=$d(n);Kd(n,W,k);break;default:throw Error(a(161))}}catch(lt){Ce(n,n.return,lt)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function Iy(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;Iy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function va(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)wy(n,r.alternate,r),r=r.sibling}function Oo(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:ya(4,r,r.return),Oo(r);break;case 1:Hr(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&_y(r,r.return,o),Oo(r);break;case 27:ju(r.stateNode);case 26:case 5:Hr(r,r.return),Oo(r);break;case 22:r.memoizedState===null&&Oo(r);break;case 30:Oo(r);break;default:Oo(r)}n=n.sibling}}function Ta(n,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var c=r.alternate,p=n,g=r,S=g.flags;switch(g.tag){case 0:case 11:case 15:Ta(p,g,o),Mu(4,g);break;case 1:if(Ta(p,g,o),c=g,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(W){Ce(c,c.return,W)}if(c=g,p=c.updateQueue,p!==null){var I=c.stateNode;try{var k=p.shared.hiddenCallbacks;if(k!==null)for(p.shared.hiddenCallbacks=null,p=0;p<k.length;p++)n_(k[p],I)}catch(W){Ce(c,c.return,W)}}o&&S&64&&gy(g),Du(g,g.return);break;case 27:Ty(g);case 26:case 5:Ta(p,g,o),o&&c===null&&S&4&&yy(g),Du(g,g.return);break;case 12:Ta(p,g,o);break;case 13:Ta(p,g,o),o&&S&4&&Ay(p,g);break;case 22:g.memoizedState===null&&Ta(p,g,o),Du(g,g.return);break;case 30:break;default:Ta(p,g,o)}r=r.sibling}}function Xd(n,r){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&vu(o))}function Wd(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&vu(n))}function qr(n,r,o,c){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Cy(n,r,o,c),r=r.sibling}function Cy(n,r,o,c){var p=r.flags;switch(r.tag){case 0:case 11:case 15:qr(n,r,o,c),p&2048&&Mu(9,r);break;case 1:qr(n,r,o,c);break;case 3:qr(n,r,o,c),p&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&vu(n)));break;case 12:if(p&2048){qr(n,r,o,c),n=r.stateNode;try{var g=r.memoizedProps,S=g.id,I=g.onPostCommit;typeof I=="function"&&I(S,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(k){Ce(r,r.return,k)}}else qr(n,r,o,c);break;case 13:qr(n,r,o,c);break;case 23:break;case 22:g=r.stateNode,S=r.alternate,r.memoizedState!==null?g._visibility&2?qr(n,r,o,c):Nu(n,r):g._visibility&2?qr(n,r,o,c):(g._visibility|=2,Al(n,r,o,c,(r.subtreeFlags&10256)!==0)),p&2048&&Xd(S,r);break;case 24:qr(n,r,o,c),p&2048&&Wd(r.alternate,r);break;default:qr(n,r,o,c)}}function Al(n,r,o,c,p){for(p=p&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var g=n,S=r,I=o,k=c,W=S.flags;switch(S.tag){case 0:case 11:case 15:Al(g,S,I,k,p),Mu(8,S);break;case 23:break;case 22:var lt=S.stateNode;S.memoizedState!==null?lt._visibility&2?Al(g,S,I,k,p):Nu(g,S):(lt._visibility|=2,Al(g,S,I,k,p)),p&&W&2048&&Xd(S.alternate,S);break;case 24:Al(g,S,I,k,p),p&&W&2048&&Wd(S.alternate,S);break;default:Al(g,S,I,k,p)}r=r.sibling}}function Nu(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=n,c=r,p=c.flags;switch(c.tag){case 22:Nu(o,c),p&2048&&Xd(c.alternate,c);break;case 24:Nu(o,c),p&2048&&Wd(c.alternate,c);break;default:Nu(o,c)}r=r.sibling}}var ku=8192;function Rl(n){if(n.subtreeFlags&ku)for(n=n.child;n!==null;)xy(n),n=n.sibling}function xy(n){switch(n.tag){case 26:Rl(n),n.flags&ku&&n.memoizedState!==null&&fS(_r,n.memoizedState,n.memoizedProps);break;case 5:Rl(n);break;case 3:case 4:var r=_r;_r=Ph(n.stateNode.containerInfo),Rl(n),_r=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=ku,ku=16777216,Rl(n),ku=r):Rl(n));break;default:Rl(n)}}function Py(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Vu(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];yn=c,Ly(c,n)}Py(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Oy(n),n=n.sibling}function Oy(n){switch(n.tag){case 0:case 11:case 15:Vu(n),n.flags&2048&&ya(9,n,n.return);break;case 3:Vu(n);break;case 12:Vu(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,yh(n)):Vu(n);break;default:Vu(n)}}function yh(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var c=r[o];yn=c,Ly(c,n)}Py(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:ya(8,r,r.return),yh(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,yh(r));break;default:yh(r)}n=n.sibling}}function Ly(n,r){for(;yn!==null;){var o=yn;switch(o.tag){case 0:case 11:case 15:ya(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:vu(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,yn=c;else t:for(o=n;yn!==null;){c=yn;var p=c.sibling,g=c.return;if(by(c),c===o){yn=null;break t}if(p!==null){p.return=g,yn=p;break t}yn=g}}}var C1={getCacheForType:function(n){var r=Vn(on),o=r.data.get(n);return o===void 0&&(o=n(),r.data.set(n,o)),o}},x1=typeof WeakMap=="function"?WeakMap:Map,_e=0,De=null,Wt=null,oe=0,ye=0,Ii=null,Ea=!1,Il=!1,Jd=!1,Ss=0,Ze=0,wa=0,Lo=0,tm=0,Qi=0,Cl=0,zu=null,si=null,em=!1,nm=0,vh=1/0,Th=null,ba=null,An=0,Sa=null,xl=null,Pl=0,im=0,rm=null,My=null,Uu=0,sm=null;function Ci(){if((_e&2)!==0&&oe!==0)return oe&-oe;if(at.T!==null){var n=_l;return n!==0?n:fm()}return Ir()}function Dy(){Qi===0&&(Qi=(oe&536870912)===0||Bt?no():536870912);var n=Yi.current;return n!==null&&(n.flags|=32),Qi}function xi(n,r,o){(n===De&&(ye===2||ye===9)||n.cancelPendingCommit!==null)&&(Ol(n,0),Aa(n,oe,Qi,!1)),Di(n,o),((_e&2)===0||n!==De)&&(n===De&&((_e&2)===0&&(Lo|=o),Ze===4&&Aa(n,oe,Qi,!1)),jr(n))}function Ny(n,r,o){if((_e&6)!==0)throw Error(a(327));var c=!o&&(r&124)===0&&(r&n.expiredLanes)===0||hi(n,r),p=c?L1(n,r):lm(n,r,!0),g=c;do{if(p===0){Il&&!c&&Aa(n,r,0,!1);break}else{if(o=n.current.alternate,g&&!P1(o)){p=lm(n,r,!1),g=!1;continue}if(p===2){if(g=r,n.errorRecoveryDisabledLanes&g)var S=0;else S=n.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){r=S;t:{var I=n;p=zu;var k=I.current.memoizedState.isDehydrated;if(k&&(Ol(I,S).flags|=256),S=lm(I,S,!1),S!==2){if(Jd&&!k){I.errorRecoveryDisabledLanes|=g,Lo|=g,p=4;break t}g=si,si=p,g!==null&&(si===null?si=g:si.push.apply(si,g))}p=S}if(g=!1,p!==2)continue}}if(p===1){Ol(n,0),Aa(n,r,0,!0);break}t:{switch(c=n,g=p,g){case 0:case 1:throw Error(a(345));case 4:if((r&4194048)!==r)break;case 6:Aa(c,r,Qi,!Ea);break t;case 2:si=null;break;case 3:case 5:break;default:throw Error(a(329))}if((r&62914560)===r&&(p=nm+300-Pn(),10<p)){if(Aa(c,r,Qi,!Ea),Bs(c,0,!0)!==0)break t;c.timeoutHandle=cv(ky.bind(null,c,o,si,Th,em,r,Qi,Lo,Cl,Ea,g,2,-0,0),p);break t}ky(c,o,si,Th,em,r,Qi,Lo,Cl,Ea,g,0,-0,0)}}break}while(!0);jr(n)}function ky(n,r,o,c,p,g,S,I,k,W,lt,ct,tt,it){if(n.timeoutHandle=-1,ct=r.subtreeFlags,(ct&8192||(ct&16785408)===16785408)&&(Zu={stylesheets:null,count:0,unsuspend:hS},xy(r),ct=dS(),ct!==null)){n.cancelPendingCommit=ct(jy.bind(null,n,r,g,o,c,p,S,I,k,lt,1,tt,it)),Aa(n,g,S,!W);return}jy(n,r,g,o,c,p,S,I,k)}function P1(n){for(var r=n;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var p=o[c],g=p.getSnapshot;p=p.value;try{if(!Zn(g(),p))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Aa(n,r,o,c){r&=~tm,r&=~Lo,n.suspendedLanes|=r,n.pingedLanes&=~r,c&&(n.warmLanes|=r),c=n.expirationTimes;for(var p=r;0<p;){var g=31-hn(p),S=1<<g;c[g]=-1,p&=~S}o!==0&&Ni(n,o,r)}function Eh(){return(_e&6)===0?(Bu(0),!1):!0}function am(){if(Wt!==null){if(ye===0)var n=Wt.return;else n=Wt,pr=Ki=null,bd(n),bl=null,Pu=0,n=Wt;for(;n!==null;)py(n.alternate,n),n=n.return;Wt=null}}function Ol(n,r){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,K1(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),am(),De=n,Wt=o=$i(n.current,null),oe=r,ye=0,Ii=null,Ea=!1,Il=hi(n,r),Jd=!1,Cl=Qi=tm=Lo=wa=Ze=0,si=zu=null,em=!1,(r&8)!==0&&(r|=r&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=r;0<c;){var p=31-hn(c),g=1<<p;r|=n[p],c&=~g}return Ss=r,To(),o}function Vy(n,r){Kt=null,at.H=lh,r===Eu||r===Wc?(r=t_(),ye=3):r===Xg?(r=t_(),ye=4):ye=r===ey?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Ii=r,Wt===null&&(Ze=1,dh(n,Kn(r,n.current)))}function zy(){var n=at.H;return at.H=lh,n===null?lh:n}function Uy(){var n=at.A;return at.A=C1,n}function om(){Ze=4,Ea||(oe&4194048)!==oe&&Yi.current!==null||(Il=!0),(wa&134217727)===0&&(Lo&134217727)===0||De===null||Aa(De,oe,Qi,!1)}function lm(n,r,o){var c=_e;_e|=2;var p=zy(),g=Uy();(De!==n||oe!==r)&&(Th=null,Ol(n,r)),r=!1;var S=Ze;t:do try{if(ye!==0&&Wt!==null){var I=Wt,k=Ii;switch(ye){case 8:am(),S=6;break t;case 3:case 2:case 9:case 6:Yi.current===null&&(r=!0);var W=ye;if(ye=0,Ii=null,Ll(n,I,k,W),o&&Il){S=0;break t}break;default:W=ye,ye=0,Ii=null,Ll(n,I,k,W)}}O1(),S=Ze;break}catch(lt){Vy(n,lt)}while(!0);return r&&n.shellSuspendCounter++,pr=Ki=null,_e=c,at.H=p,at.A=g,Wt===null&&(De=null,oe=0,To()),S}function O1(){for(;Wt!==null;)By(Wt)}function L1(n,r){var o=_e;_e|=2;var c=zy(),p=Uy();De!==n||oe!==r?(Th=null,vh=Pn()+500,Ol(n,r)):Il=hi(n,r);t:do try{if(ye!==0&&Wt!==null){r=Wt;var g=Ii;e:switch(ye){case 1:ye=0,Ii=null,Ll(n,r,g,1);break;case 2:case 9:if(Wg(g)){ye=0,Ii=null,Hy(r);break}r=function(){ye!==2&&ye!==9||De!==n||(ye=7),jr(n)},g.then(r,r);break t;case 3:ye=7;break t;case 4:ye=5;break t;case 7:Wg(g)?(ye=0,Ii=null,Hy(r)):(ye=0,Ii=null,Ll(n,r,g,7));break;case 5:var S=null;switch(Wt.tag){case 26:S=Wt.memoizedState;case 5:case 27:var I=Wt;if(!S||wv(S)){ye=0,Ii=null;var k=I.sibling;if(k!==null)Wt=k;else{var W=I.return;W!==null?(Wt=W,wh(W)):Wt=null}break e}}ye=0,Ii=null,Ll(n,r,g,5);break;case 6:ye=0,Ii=null,Ll(n,r,g,6);break;case 8:am(),Ze=6;break t;default:throw Error(a(462))}}M1();break}catch(lt){Vy(n,lt)}while(!0);return pr=Ki=null,at.H=c,at.A=p,_e=o,Wt!==null?0:(De=null,oe=0,To(),Ze)}function M1(){for(;Wt!==null&&!zs();)By(Wt)}function By(n){var r=dy(n.alternate,n,Ss);n.memoizedProps=n.pendingProps,r===null?wh(n):Wt=r}function Hy(n){var r=n,o=r.alternate;switch(r.tag){case 15:case 0:r=oy(o,r,r.pendingProps,r.type,void 0,oe);break;case 11:r=oy(o,r,r.pendingProps,r.type.render,r.ref,oe);break;case 5:bd(r);default:py(o,r),r=Wt=_u(r,Ss),r=dy(o,r,Ss)}n.memoizedProps=n.pendingProps,r===null?wh(n):Wt=r}function Ll(n,r,o,c){pr=Ki=null,bd(r),bl=null,Pu=0;var p=r.return;try{if(w1(n,p,r,o,oe)){Ze=1,dh(n,Kn(o,n.current)),Wt=null;return}}catch(g){if(p!==null)throw Wt=p,g;Ze=1,dh(n,Kn(o,n.current)),Wt=null;return}r.flags&32768?(Bt||c===1?n=!0:Il||(oe&536870912)!==0?n=!1:(Ea=n=!0,(c===2||c===9||c===3||c===6)&&(c=Yi.current,c!==null&&c.tag===13&&(c.flags|=16384))),qy(r,n)):wh(r)}function wh(n){var r=n;do{if((r.flags&32768)!==0){qy(r,Ea);return}n=r.return;var o=S1(r.alternate,r,Ss);if(o!==null){Wt=o;return}if(r=r.sibling,r!==null){Wt=r;return}Wt=r=n}while(r!==null);Ze===0&&(Ze=5)}function qy(n,r){do{var o=A1(n.alternate,n);if(o!==null){o.flags&=32767,Wt=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(n=n.sibling,n!==null)){Wt=n;return}Wt=n=o}while(n!==null);Ze=6,Wt=null}function jy(n,r,o,c,p,g,S,I,k){n.cancelPendingCommit=null;do bh();while(An!==0);if((_e&6)!==0)throw Error(a(327));if(r!==null){if(r===n.current)throw Error(a(177));if(g=r.lanes|r.childLanes,g|=Si,io(n,o,g,S,I,k),n===De&&(Wt=De=null,oe=0),xl=r,Sa=n,Pl=o,im=g,rm=p,My=c,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,V1(er,function(){return Ky(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||c){c=at.T,at.T=null,p=yt.p,yt.p=2,S=_e,_e|=4;try{R1(n,r,o)}finally{_e=S,yt.p=p,at.T=c}}An=1,Fy(),Gy(),Zy()}}function Fy(){if(An===1){An=0;var n=Sa,r=xl,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=at.T,at.T=null;var c=yt.p;yt.p=2;var p=_e;_e|=4;try{Ry(r,n);var g=Tm,S=_o(n.containerInfo),I=g.focusedElem,k=g.selectionRange;if(S!==I&&I&&I.ownerDocument&&ul(I.ownerDocument.documentElement,I)){if(k!==null&&yo(I)){var W=k.start,lt=k.end;if(lt===void 0&&(lt=W),"selectionStart"in I)I.selectionStart=W,I.selectionEnd=Math.min(lt,I.value.length);else{var ct=I.ownerDocument||document,tt=ct&&ct.defaultView||window;if(tt.getSelection){var it=tt.getSelection(),Ut=I.textContent.length,Nt=Math.min(k.start,Ut),Ae=k.end===void 0?Nt:Math.min(k.end,Ut);!it.extend&&Nt>Ae&&(S=Ae,Ae=Nt,Nt=S);var Z=pu(I,Nt),j=pu(I,Ae);if(Z&&j&&(it.rangeCount!==1||it.anchorNode!==Z.node||it.anchorOffset!==Z.offset||it.focusNode!==j.node||it.focusOffset!==j.offset)){var X=ct.createRange();X.setStart(Z.node,Z.offset),it.removeAllRanges(),Nt>Ae?(it.addRange(X),it.extend(j.node,j.offset)):(X.setEnd(j.node,j.offset),it.addRange(X))}}}}for(ct=[],it=I;it=it.parentNode;)it.nodeType===1&&ct.push({element:it,left:it.scrollLeft,top:it.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<ct.length;I++){var ut=ct[I];ut.element.scrollLeft=ut.left,ut.element.scrollTop=ut.top}}Nh=!!vm,Tm=vm=null}finally{_e=p,yt.p=c,at.T=o}}n.current=r,An=2}}function Gy(){if(An===2){An=0;var n=Sa,r=xl,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=at.T,at.T=null;var c=yt.p;yt.p=2;var p=_e;_e|=4;try{wy(n,r.alternate,r)}finally{_e=p,yt.p=c,at.T=o}}An=3}}function Zy(){if(An===4||An===3){An=0,Xa();var n=Sa,r=xl,o=Pl,c=My;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?An=5:(An=0,xl=Sa=null,$y(n,n.pendingLanes));var p=n.pendingLanes;if(p===0&&(ba=null),qs(o),r=r.stateNode,ue&&typeof ue.onCommitFiberRoot=="function")try{ue.onCommitFiberRoot(xe,r,void 0,(r.current.flags&128)===128)}catch{}if(c!==null){r=at.T,p=yt.p,yt.p=2,at.T=null;try{for(var g=n.onRecoverableError,S=0;S<c.length;S++){var I=c[S];g(I.value,{componentStack:I.stack})}}finally{at.T=r,yt.p=p}}(Pl&3)!==0&&bh(),jr(n),p=n.pendingLanes,(o&4194090)!==0&&(p&42)!==0?n===sm?Uu++:(Uu=0,sm=n):Uu=0,Bu(0)}}function $y(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,vu(r)))}function bh(n){return Fy(),Gy(),Zy(),Ky()}function Ky(){if(An!==5)return!1;var n=Sa,r=im;im=0;var o=qs(Pl),c=at.T,p=yt.p;try{yt.p=32>o?32:o,at.T=null,o=rm,rm=null;var g=Sa,S=Pl;if(An=0,xl=Sa=null,Pl=0,(_e&6)!==0)throw Error(a(331));var I=_e;if(_e|=4,Oy(g.current),Cy(g,g.current,S,o),_e=I,Bu(0,!1),ue&&typeof ue.onPostCommitFiberRoot=="function")try{ue.onPostCommitFiberRoot(xe,g)}catch{}return!0}finally{yt.p=p,at.T=c,$y(n,r)}}function Yy(n,r,o){r=Kn(o,r),r=Vd(n.stateNode,r,2),n=ma(n,r,2),n!==null&&(Di(n,2),jr(n))}function Ce(n,r,o){if(n.tag===3)Yy(n,n,o);else for(;r!==null;){if(r.tag===3){Yy(r,n,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ba===null||!ba.has(c))){n=Kn(o,n),o=J_(2),c=ma(r,o,2),c!==null&&(ty(o,c,r,n),Di(c,2),jr(c));break}}r=r.return}}function um(n,r,o){var c=n.pingCache;if(c===null){c=n.pingCache=new x1;var p=new Set;c.set(r,p)}else p=c.get(r),p===void 0&&(p=new Set,c.set(r,p));p.has(o)||(Jd=!0,p.add(o),n=D1.bind(null,n,r,o),r.then(n,n))}function D1(n,r,o){var c=n.pingCache;c!==null&&c.delete(r),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,De===n&&(oe&o)===o&&(Ze===4||Ze===3&&(oe&62914560)===oe&&300>Pn()-nm?(_e&2)===0&&Ol(n,0):tm|=o,Cl===oe&&(Cl=0)),jr(n)}function Qy(n,r){r===0&&(r=Hs()),n=la(n,r),n!==null&&(Di(n,r),jr(n))}function N1(n){var r=n.memoizedState,o=0;r!==null&&(o=r.retryLane),Qy(n,o)}function k1(n,r){var o=0;switch(n.tag){case 13:var c=n.stateNode,p=n.memoizedState;p!==null&&(o=p.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(a(314))}c!==null&&c.delete(r),Qy(n,o)}function V1(n,r){return tr(n,r)}var Sh=null,Ml=null,cm=!1,Ah=!1,hm=!1,Mo=0;function jr(n){n!==Ml&&n.next===null&&(Ml===null?Sh=Ml=n:Ml=Ml.next=n),Ah=!0,cm||(cm=!0,U1())}function Bu(n,r){if(!hm&&Ah){hm=!0;do for(var o=!1,c=Sh;c!==null;){if(n!==0){var p=c.pendingLanes;if(p===0)var g=0;else{var S=c.suspendedLanes,I=c.pingedLanes;g=(1<<31-hn(42|n)+1)-1,g&=p&~(S&~I),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(o=!0,tv(c,g))}else g=oe,g=Bs(c,c===De?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||hi(c,g)||(o=!0,tv(c,g));c=c.next}while(o);hm=!1}}function z1(){Xy()}function Xy(){Ah=cm=!1;var n=0;Mo!==0&&($1()&&(n=Mo),Mo=0);for(var r=Pn(),o=null,c=Sh;c!==null;){var p=c.next,g=Wy(c,r);g===0?(c.next=null,o===null?Sh=p:o.next=p,p===null&&(Ml=o)):(o=c,(n!==0||(g&3)!==0)&&(Ah=!0)),c=p}Bu(n)}function Wy(n,r){for(var o=n.suspendedLanes,c=n.pingedLanes,p=n.expirationTimes,g=n.pendingLanes&-62914561;0<g;){var S=31-hn(g),I=1<<S,k=p[S];k===-1?((I&o)===0||(I&c)!==0)&&(p[S]=eo(I,r)):k<=r&&(n.expiredLanes|=I),g&=~I}if(r=De,o=oe,o=Bs(n,n===r?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,o===0||n===r&&(ye===2||ye===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&Jr(c),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||hi(n,o)){if(r=o&-o,r===n.callbackPriority)return r;switch(c!==null&&Jr(c),qs(o)){case 2:case 8:o=ts;break;case 32:o=er;break;case 268435456:o=es;break;default:o=er}return c=Jy.bind(null,n),o=tr(o,c),n.callbackPriority=r,n.callbackNode=o,r}return c!==null&&c!==null&&Jr(c),n.callbackPriority=2,n.callbackNode=null,2}function Jy(n,r){if(An!==0&&An!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(bh()&&n.callbackNode!==o)return null;var c=oe;return c=Bs(n,n===De?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(Ny(n,c,r),Wy(n,Pn()),n.callbackNode!=null&&n.callbackNode===o?Jy.bind(null,n):null)}function tv(n,r){if(bh())return null;Ny(n,r,!0)}function U1(){Y1(function(){(_e&6)!==0?tr(Wa,z1):Xy()})}function fm(){return Mo===0&&(Mo=no()),Mo}function ev(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Mr(""+n)}function nv(n,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,n.id&&o.setAttribute("form",n.id),r.parentNode.insertBefore(o,r),n=new FormData(n),o.parentNode.removeChild(o),n}function B1(n,r,o,c,p){if(r==="submit"&&o&&o.stateNode===p){var g=ev((p[Fe]||null).action),S=c.submitter;S&&(r=(r=S[Fe]||null)?ev(r.formAction):S.getAttribute("formAction"),r!==null&&(g=r,S=null));var I=new ls("action","action",null,c,p);n.push({event:I,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Mo!==0){var k=S?nv(p,S):new FormData(p);Ld(o,{pending:!0,data:k,method:p.method,action:g},null,k)}}else typeof g=="function"&&(I.preventDefault(),k=S?nv(p,S):new FormData(p),Ld(o,{pending:!0,data:k,method:p.method,action:g},g,k))},currentTarget:p}]})}}for(var dm=0;dm<ds.length;dm++){var mm=ds[dm],H1=mm.toLowerCase(),q1=mm[0].toUpperCase()+mm.slice(1);bi(H1,"on"+q1)}bi(jc,"onAnimationEnd"),bi(wi,"onAnimationIteration"),bi(vo,"onAnimationStart"),bi("dblclick","onDoubleClick"),bi("focusin","onFocus"),bi("focusout","onBlur"),bi(od,"onTransitionRun"),bi(dl,"onTransitionStart"),bi(ld,"onTransitionCancel"),bi(gu,"onTransitionEnd"),ki("onMouseEnter",["mouseout","mouseover"]),ki("onMouseLeave",["mouseout","mouseover"]),ki("onPointerEnter",["pointerout","pointerover"]),ki("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hu));function iv(n,r){r=(r&4)!==0;for(var o=0;o<n.length;o++){var c=n[o],p=c.event;c=c.listeners;t:{var g=void 0;if(r)for(var S=c.length-1;0<=S;S--){var I=c[S],k=I.instance,W=I.currentTarget;if(I=I.listener,k!==g&&p.isPropagationStopped())break t;g=I,p.currentTarget=W;try{g(p)}catch(lt){fh(lt)}p.currentTarget=null,g=k}else for(S=0;S<c.length;S++){if(I=c[S],k=I.instance,W=I.currentTarget,I=I.listener,k!==g&&p.isPropagationStopped())break t;g=I,p.currentTarget=W;try{g(p)}catch(lt){fh(lt)}p.currentTarget=null,g=k}}}}function Jt(n,r){var o=r[Ln];o===void 0&&(o=r[Ln]=new Set);var c=n+"__bubble";o.has(c)||(rv(r,n,2,!1),o.add(c))}function pm(n,r,o){var c=0;r&&(c|=4),rv(o,n,c,r)}var Rh="_reactListening"+Math.random().toString(36).slice(2);function gm(n){if(!n[Rh]){n[Rh]=!0,ao.forEach(function(o){o!=="selectionchange"&&(j1.has(o)||pm(o,!1,n),pm(o,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Rh]||(r[Rh]=!0,pm("selectionchange",!1,r))}}function rv(n,r,o,c){switch(Cv(r)){case 2:var p=gS;break;case 8:p=_S;break;default:p=Pm}o=p.bind(null,r,o,n),p=void 0,!Mn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(p=!0),c?p!==void 0?n.addEventListener(r,o,{capture:!0,passive:p}):n.addEventListener(r,o,!0):p!==void 0?n.addEventListener(r,o,{passive:p}):n.addEventListener(r,o,!1)}function _m(n,r,o,c,p){var g=c;if((r&1)===0&&(r&2)===0&&c!==null)t:for(;;){if(c===null)return;var S=c.tag;if(S===3||S===4){var I=c.stateNode.containerInfo;if(I===p)break;if(S===4)for(S=c.return;S!==null;){var k=S.tag;if((k===3||k===4)&&S.stateNode.containerInfo===p)return;S=S.return}for(;I!==null;){if(S=fi(I),S===null)return;if(k=S.tag,k===5||k===6||k===26||k===27){c=g=S;continue t}I=I.parentNode}}c=c.return}Gn(function(){var W=g,lt=bn(o),ct=[];t:{var tt=Fc.get(n);if(tt!==void 0){var it=ls,Ut=n;switch(n){case"keypress":if(we(o)===0)break t;case"keydown":case"keyup":it=Js;break;case"focusin":Ut="focus",it=Ks;break;case"focusout":Ut="blur",it=Ks;break;case"beforeblur":case"afterblur":it=Ks;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":it=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":it=cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":it=sl;break;case jc:case wi:case vo:it=Qs;break;case gu:it=al;break;case"scroll":case"scrollend":it=il;break;case"wheel":it=hs;break;case"copy":case"cut":case"paste":it=Dr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":it=ta;break;case"toggle":case"beforetoggle":it=ji}var Nt=(r&4)!==0,Ae=!Nt&&(n==="scroll"||n==="scrollend"),Z=Nt?tt!==null?tt+"Capture":null:tt;Nt=[];for(var j=W,X;j!==null;){var ut=j;if(X=ut.stateNode,ut=ut.tag,ut!==5&&ut!==26&&ut!==27||X===null||Z===null||(ut=ae(j,Z),ut!=null&&Nt.push(qu(j,ut,X))),Ae)break;j=j.return}0<Nt.length&&(tt=new it(tt,Ut,null,o,lt),ct.push({event:tt,listeners:Nt}))}}if((r&7)===0){t:{if(tt=n==="mouseover"||n==="pointerover",it=n==="mouseout"||n==="pointerout",tt&&o!==_i&&(Ut=o.relatedTarget||o.fromElement)&&(fi(Ut)||Ut[Jn]))break t;if((it||tt)&&(tt=lt.window===lt?lt:(tt=lt.ownerDocument)?tt.defaultView||tt.parentWindow:window,it?(Ut=o.relatedTarget||o.toElement,it=W,Ut=Ut?fi(Ut):null,Ut!==null&&(Ae=h(Ut),Nt=Ut.tag,Ut!==Ae||Nt!==5&&Nt!==27&&Nt!==6)&&(Ut=null)):(it=null,Ut=W),it!==Ut)){if(Nt=pn,ut="onMouseLeave",Z="onMouseEnter",j="mouse",(n==="pointerout"||n==="pointerover")&&(Nt=ta,ut="onPointerLeave",Z="onPointerEnter",j="pointer"),Ae=it==null?tt:En(it),X=Ut==null?tt:En(Ut),tt=new Nt(ut,j+"leave",it,o,lt),tt.target=Ae,tt.relatedTarget=X,ut=null,fi(lt)===W&&(Nt=new Nt(Z,j+"enter",Ut,o,lt),Nt.target=X,Nt.relatedTarget=Ae,ut=Nt),Ae=ut,it&&Ut)e:{for(Nt=it,Z=Ut,j=0,X=Nt;X;X=Dl(X))j++;for(X=0,ut=Z;ut;ut=Dl(ut))X++;for(;0<j-X;)Nt=Dl(Nt),j--;for(;0<X-j;)Z=Dl(Z),X--;for(;j--;){if(Nt===Z||Z!==null&&Nt===Z.alternate)break e;Nt=Dl(Nt),Z=Dl(Z)}Nt=null}else Nt=null;it!==null&&sv(ct,tt,it,Nt,!1),Ut!==null&&Ae!==null&&sv(ct,Ae,Ut,Nt,!0)}}t:{if(tt=W?En(W):window,it=tt.nodeName&&tt.nodeName.toLowerCase(),it==="select"||it==="input"&&tt.type==="file")var It=na;else if(Le(tt))if(fu)It=ad;else{It=sd;var Xt=mu}else it=tt.nodeName,!it||it.toLowerCase()!=="input"||tt.type!=="checkbox"&&tt.type!=="radio"?W&&os(W.elementType)&&(It=na):It=mr;if(It&&(It=It(n,W))){fr(ct,It,o,lt);break t}Xt&&Xt(n,tt,W),n==="focusout"&&W&&tt.type==="number"&&W.memoizedProps.value!=null&&pi(tt,"number",tt.value)}switch(Xt=W?En(W):window,n){case"focusin":(Le(Xt)||Xt.contentEditable==="true")&&(Ei=Xt,sa=W,fs=null);break;case"focusout":fs=sa=Ei=null;break;case"mousedown":hl=!0;break;case"contextmenu":case"mouseup":case"dragend":hl=!1,Hc(ct,o,lt);break;case"selectionchange":if(cl)break;case"keydown":case"keyup":Hc(ct,o,lt)}var Lt;if(kn)t:{switch(n){case"compositionstart":var kt="onCompositionStart";break t;case"compositionend":kt="onCompositionEnd";break t;case"compositionupdate":kt="onCompositionUpdate";break t}kt=void 0}else te?st(n,o)&&(kt="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(kt="onCompositionStart");kt&&(b&&o.locale!=="ko"&&(te||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&te&&(Lt=lr()):(ei=lt,Dn="value"in ei?ei.value:ei.textContent,te=!0)),Xt=Ih(W,kt),0<Xt.length&&(kt=new Nn(kt,n,null,o,lt),ct.push({event:kt,listeners:Xt}),Lt?kt.data=Lt:(Lt=vt(o),Lt!==null&&(kt.data=Lt)))),(Lt=E?Ge(n,o):ee(n,o))&&(kt=Ih(W,"onBeforeInput"),0<kt.length&&(Xt=new Nn("onBeforeInput","beforeinput",null,o,lt),ct.push({event:Xt,listeners:kt}),Xt.data=Lt)),B1(ct,n,W,o,lt)}iv(ct,r)})}function qu(n,r,o){return{instance:n,listener:r,currentTarget:o}}function Ih(n,r){for(var o=r+"Capture",c=[];n!==null;){var p=n,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=ae(n,o),p!=null&&c.unshift(qu(n,p,g)),p=ae(n,r),p!=null&&c.push(qu(n,p,g))),n.tag===3)return c;n=n.return}return[]}function Dl(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function sv(n,r,o,c,p){for(var g=r._reactName,S=[];o!==null&&o!==c;){var I=o,k=I.alternate,W=I.stateNode;if(I=I.tag,k!==null&&k===c)break;I!==5&&I!==26&&I!==27||W===null||(k=W,p?(W=ae(o,g),W!=null&&S.unshift(qu(o,W,k))):p||(W=ae(o,g),W!=null&&S.push(qu(o,W,k)))),o=o.return}S.length!==0&&n.push({event:r,listeners:S})}var F1=/\r\n?/g,G1=/\u0000|\uFFFD/g;function av(n){return(typeof n=="string"?n:""+n).replace(F1,`
`).replace(G1,"")}function ov(n,r){return r=av(r),av(n)===r}function Ch(){}function Se(n,r,o,c,p,g){switch(o){case"children":typeof c=="string"?r==="body"||r==="textarea"&&c===""||dn(n,c):(typeof c=="number"||typeof c=="bigint")&&r!=="body"&&dn(n,""+c);break;case"className":Vi(n,"class",c);break;case"tabIndex":Vi(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Vi(n,o,c);break;case"style":ar(n,c,g);break;case"data":if(r!=="object"){Vi(n,"data",c);break}case"src":case"href":if(c===""&&(r!=="a"||o!=="href")){n.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=Mr(""+c),n.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(o==="formAction"?(r!=="input"&&Se(n,r,"name",p.name,p,null),Se(n,r,"formEncType",p.formEncType,p,null),Se(n,r,"formMethod",p.formMethod,p,null),Se(n,r,"formTarget",p.formTarget,p,null)):(Se(n,r,"encType",p.encType,p,null),Se(n,r,"method",p.method,p,null),Se(n,r,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=Mr(""+c),n.setAttribute(o,c);break;case"onClick":c!=null&&(n.onclick=Ch);break;case"onScroll":c!=null&&Jt("scroll",n);break;case"onScrollEnd":c!=null&&Jt("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(a(60));n.innerHTML=o}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}o=Mr(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""+c):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":c===!0?n.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,c):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(o,c):n.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(o):n.setAttribute(o,c);break;case"popover":Jt("beforetoggle",n),Jt("toggle",n),xr(n,"popover",c);break;case"xlinkActuate":sn(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":sn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":sn(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":sn(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":sn(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":sn(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":sn(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":sn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":sn(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":xr(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=lo.get(o)||o,xr(n,o,c))}}function ym(n,r,o,c,p,g){switch(o){case"style":ar(n,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(a(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(a(60));n.innerHTML=o}}break;case"children":typeof c=="string"?dn(n,c):(typeof c=="number"||typeof c=="bigint")&&dn(n,""+c);break;case"onScroll":c!=null&&Jt("scroll",n);break;case"onScrollEnd":c!=null&&Jt("scrollend",n);break;case"onClick":c!=null&&(n.onclick=Ch);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fs.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),r=o.slice(2,p?o.length-7:void 0),g=n[Fe]||null,g=g!=null?g[o]:null,typeof g=="function"&&n.removeEventListener(r,g,p),typeof c=="function")){typeof g!="function"&&g!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(r,c,p);break t}o in n?n[o]=c:c===!0?n.setAttribute(o,""):xr(n,o,c)}}}function Rn(n,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Jt("error",n),Jt("load",n);var c=!1,p=!1,g;for(g in o)if(o.hasOwnProperty(g)){var S=o[g];if(S!=null)switch(g){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:Se(n,r,g,S,o,null)}}p&&Se(n,r,"srcSet",o.srcSet,o,null),c&&Se(n,r,"src",o.src,o,null);return;case"input":Jt("invalid",n);var I=g=S=p=null,k=null,W=null;for(c in o)if(o.hasOwnProperty(c)){var lt=o[c];if(lt!=null)switch(c){case"name":p=lt;break;case"type":S=lt;break;case"checked":k=lt;break;case"defaultChecked":W=lt;break;case"value":g=lt;break;case"defaultValue":I=lt;break;case"children":case"dangerouslySetInnerHTML":if(lt!=null)throw Error(a(137,r));break;default:Se(n,r,c,lt,o,null)}}as(n,g,I,k,W,S,p,!1),Lr(n);return;case"select":Jt("invalid",n),c=S=g=null;for(p in o)if(o.hasOwnProperty(p)&&(I=o[p],I!=null))switch(p){case"value":g=I;break;case"defaultValue":S=I;break;case"multiple":c=I;default:Se(n,r,p,I,o,null)}r=g,o=S,n.multiple=!!c,r!=null?wn(n,!!c,r,!1):o!=null&&wn(n,!!c,o,!0);return;case"textarea":Jt("invalid",n),g=p=c=null;for(S in o)if(o.hasOwnProperty(S)&&(I=o[S],I!=null))switch(S){case"value":c=I;break;case"defaultValue":p=I;break;case"children":g=I;break;case"dangerouslySetInnerHTML":if(I!=null)throw Error(a(91));break;default:Se(n,r,S,I,o,null)}Fn(n,c,p,g),Lr(n);return;case"option":for(k in o)if(o.hasOwnProperty(k)&&(c=o[k],c!=null))switch(k){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Se(n,r,k,c,o,null)}return;case"dialog":Jt("beforetoggle",n),Jt("toggle",n),Jt("cancel",n),Jt("close",n);break;case"iframe":case"object":Jt("load",n);break;case"video":case"audio":for(c=0;c<Hu.length;c++)Jt(Hu[c],n);break;case"image":Jt("error",n),Jt("load",n);break;case"details":Jt("toggle",n);break;case"embed":case"source":case"link":Jt("error",n),Jt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(W in o)if(o.hasOwnProperty(W)&&(c=o[W],c!=null))switch(W){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,r));default:Se(n,r,W,c,o,null)}return;default:if(os(r)){for(lt in o)o.hasOwnProperty(lt)&&(c=o[lt],c!==void 0&&ym(n,r,lt,c,o,void 0));return}}for(I in o)o.hasOwnProperty(I)&&(c=o[I],c!=null&&Se(n,r,I,c,o,null))}function Z1(n,r,o,c){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,S=null,I=null,k=null,W=null,lt=null;for(it in o){var ct=o[it];if(o.hasOwnProperty(it)&&ct!=null)switch(it){case"checked":break;case"value":break;case"defaultValue":k=ct;default:c.hasOwnProperty(it)||Se(n,r,it,null,c,ct)}}for(var tt in c){var it=c[tt];if(ct=o[tt],c.hasOwnProperty(tt)&&(it!=null||ct!=null))switch(tt){case"type":g=it;break;case"name":p=it;break;case"checked":W=it;break;case"defaultChecked":lt=it;break;case"value":S=it;break;case"defaultValue":I=it;break;case"children":case"dangerouslySetInnerHTML":if(it!=null)throw Error(a(137,r));break;default:it!==ct&&Se(n,r,tt,it,c,ct)}}Oe(n,S,I,k,W,lt,g,p);return;case"select":it=S=I=tt=null;for(g in o)if(k=o[g],o.hasOwnProperty(g)&&k!=null)switch(g){case"value":break;case"multiple":it=k;default:c.hasOwnProperty(g)||Se(n,r,g,null,c,k)}for(p in c)if(g=c[p],k=o[p],c.hasOwnProperty(p)&&(g!=null||k!=null))switch(p){case"value":tt=g;break;case"defaultValue":I=g;break;case"multiple":S=g;default:g!==k&&Se(n,r,p,g,c,k)}r=I,o=S,c=it,tt!=null?wn(n,!!o,tt,!1):!!c!=!!o&&(r!=null?wn(n,!!o,r,!0):wn(n,!!o,o?[]:"",!1));return;case"textarea":it=tt=null;for(I in o)if(p=o[I],o.hasOwnProperty(I)&&p!=null&&!c.hasOwnProperty(I))switch(I){case"value":break;case"children":break;default:Se(n,r,I,null,c,p)}for(S in c)if(p=c[S],g=o[S],c.hasOwnProperty(S)&&(p!=null||g!=null))switch(S){case"value":tt=p;break;case"defaultValue":it=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(a(91));break;default:p!==g&&Se(n,r,S,p,c,g)}Vt(n,tt,it);return;case"option":for(var Ut in o)if(tt=o[Ut],o.hasOwnProperty(Ut)&&tt!=null&&!c.hasOwnProperty(Ut))switch(Ut){case"selected":n.selected=!1;break;default:Se(n,r,Ut,null,c,tt)}for(k in c)if(tt=c[k],it=o[k],c.hasOwnProperty(k)&&tt!==it&&(tt!=null||it!=null))switch(k){case"selected":n.selected=tt&&typeof tt!="function"&&typeof tt!="symbol";break;default:Se(n,r,k,tt,c,it)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Nt in o)tt=o[Nt],o.hasOwnProperty(Nt)&&tt!=null&&!c.hasOwnProperty(Nt)&&Se(n,r,Nt,null,c,tt);for(W in c)if(tt=c[W],it=o[W],c.hasOwnProperty(W)&&tt!==it&&(tt!=null||it!=null))switch(W){case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(a(137,r));break;default:Se(n,r,W,tt,c,it)}return;default:if(os(r)){for(var Ae in o)tt=o[Ae],o.hasOwnProperty(Ae)&&tt!==void 0&&!c.hasOwnProperty(Ae)&&ym(n,r,Ae,void 0,c,tt);for(lt in c)tt=c[lt],it=o[lt],!c.hasOwnProperty(lt)||tt===it||tt===void 0&&it===void 0||ym(n,r,lt,tt,c,it);return}}for(var Z in o)tt=o[Z],o.hasOwnProperty(Z)&&tt!=null&&!c.hasOwnProperty(Z)&&Se(n,r,Z,null,c,tt);for(ct in c)tt=c[ct],it=o[ct],!c.hasOwnProperty(ct)||tt===it||tt==null&&it==null||Se(n,r,ct,tt,c,it)}var vm=null,Tm=null;function xh(n){return n.nodeType===9?n:n.ownerDocument}function lv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function uv(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Em(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var wm=null;function $1(){var n=window.event;return n&&n.type==="popstate"?n===wm?!1:(wm=n,!0):(wm=null,!1)}var cv=typeof setTimeout=="function"?setTimeout:void 0,K1=typeof clearTimeout=="function"?clearTimeout:void 0,hv=typeof Promise=="function"?Promise:void 0,Y1=typeof queueMicrotask=="function"?queueMicrotask:typeof hv<"u"?function(n){return hv.resolve(null).then(n).catch(Q1)}:cv;function Q1(n){setTimeout(function(){throw n})}function Ra(n){return n==="head"}function fv(n,r){var o=r,c=0,p=0;do{var g=o.nextSibling;if(n.removeChild(o),g&&g.nodeType===8)if(o=g.data,o==="/$"){if(0<c&&8>c){o=c;var S=n.ownerDocument;if(o&1&&ju(S.documentElement),o&2&&ju(S.body),o&4)for(o=S.head,ju(o),S=o.firstChild;S;){var I=S.nextSibling,k=S.nodeName;S[Cr]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&S.rel.toLowerCase()==="stylesheet"||o.removeChild(S),S=I}}if(p===0){n.removeChild(g),Xu(r);return}p--}else o==="$"||o==="$?"||o==="$!"?p++:c=o.charCodeAt(0)-48;else c=0;o=g}while(o);Xu(r)}function bm(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":bm(o),rr(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function X1(n,r,o,c){for(;n.nodeType===1;){var p=o;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[Cr])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(g=n.getAttribute("rel"),g==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(g!==p.rel||n.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||n.getAttribute("title")!==(p.title==null?null:p.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(g=n.getAttribute("src"),(g!==(p.src==null?null:p.src)||n.getAttribute("type")!==(p.type==null?null:p.type)||n.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&n.getAttribute("name")===g)return n}else return n;if(n=yr(n.nextSibling),n===null)break}return null}function W1(n,r,o){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=yr(n.nextSibling),n===null))return null;return n}function Sm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function J1(n,r){var o=n.ownerDocument;if(n.data!=="$?"||o.readyState==="complete")r();else{var c=function(){r(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function yr(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var Am=null;function dv(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return n;r--}else o==="/$"&&r++}n=n.previousSibling}return null}function mv(n,r,o){switch(r=xh(o),n){case"html":if(n=r.documentElement,!n)throw Error(a(452));return n;case"head":if(n=r.head,!n)throw Error(a(453));return n;case"body":if(n=r.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}function ju(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);rr(n)}var Xi=new Map,pv=new Set;function Ph(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var As=yt.d;yt.d={f:tS,r:eS,D:nS,C:iS,L:rS,m:sS,X:oS,S:aS,M:lS};function tS(){var n=As.f(),r=Eh();return n||r}function eS(n){var r=di(n);r!==null&&r.tag===5&&r.type==="form"?N_(r):As.r(n)}var Nl=typeof document>"u"?null:document;function gv(n,r,o){var c=Nl;if(c&&typeof r=="string"&&r){var p=Ne(r);p='link[rel="'+n+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),pv.has(p)||(pv.add(p),n={rel:n,crossOrigin:o,href:r},c.querySelector(p)===null&&(r=c.createElement("link"),Rn(r,"link",n),Ue(r),c.head.appendChild(r)))}}function nS(n){As.D(n),gv("dns-prefetch",n,null)}function iS(n,r){As.C(n,r),gv("preconnect",n,r)}function rS(n,r,o){As.L(n,r,o);var c=Nl;if(c&&n&&r){var p='link[rel="preload"][as="'+Ne(r)+'"]';r==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+Ne(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+Ne(o.imageSizes)+'"]')):p+='[href="'+Ne(n)+'"]';var g=p;switch(r){case"style":g=kl(n);break;case"script":g=Vl(n)}Xi.has(g)||(n=A({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:n,as:r},o),Xi.set(g,n),c.querySelector(p)!==null||r==="style"&&c.querySelector(Fu(g))||r==="script"&&c.querySelector(Gu(g))||(r=c.createElement("link"),Rn(r,"link",n),Ue(r),c.head.appendChild(r)))}}function sS(n,r){As.m(n,r);var o=Nl;if(o&&n){var c=r&&typeof r.as=="string"?r.as:"script",p='link[rel="modulepreload"][as="'+Ne(c)+'"][href="'+Ne(n)+'"]',g=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Vl(n)}if(!Xi.has(g)&&(n=A({rel:"modulepreload",href:n},r),Xi.set(g,n),o.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Gu(g)))return}c=o.createElement("link"),Rn(c,"link",n),Ue(c),o.head.appendChild(c)}}}function aS(n,r,o){As.S(n,r,o);var c=Nl;if(c&&n){var p=fn(c).hoistableStyles,g=kl(n);r=r||"default";var S=p.get(g);if(!S){var I={loading:0,preload:null};if(S=c.querySelector(Fu(g)))I.loading=5;else{n=A({rel:"stylesheet",href:n,"data-precedence":r},o),(o=Xi.get(g))&&Rm(n,o);var k=S=c.createElement("link");Ue(k),Rn(k,"link",n),k._p=new Promise(function(W,lt){k.onload=W,k.onerror=lt}),k.addEventListener("load",function(){I.loading|=1}),k.addEventListener("error",function(){I.loading|=2}),I.loading|=4,Oh(S,r,c)}S={type:"stylesheet",instance:S,count:1,state:I},p.set(g,S)}}}function oS(n,r){As.X(n,r);var o=Nl;if(o&&n){var c=fn(o).hoistableScripts,p=Vl(n),g=c.get(p);g||(g=o.querySelector(Gu(p)),g||(n=A({src:n,async:!0},r),(r=Xi.get(p))&&Im(n,r),g=o.createElement("script"),Ue(g),Rn(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function lS(n,r){As.M(n,r);var o=Nl;if(o&&n){var c=fn(o).hoistableScripts,p=Vl(n),g=c.get(p);g||(g=o.querySelector(Gu(p)),g||(n=A({src:n,async:!0,type:"module"},r),(r=Xi.get(p))&&Im(n,r),g=o.createElement("script"),Ue(g),Rn(g,"link",n),o.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function _v(n,r,o,c){var p=(p=Et.current)?Ph(p):null;if(!p)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=kl(o.href),o=fn(p).hoistableStyles,c=o.get(r),c||(c={type:"style",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=kl(o.href);var g=fn(p).hoistableStyles,S=g.get(n);if(S||(p=p.ownerDocument||p,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(n,S),(g=p.querySelector(Fu(n)))&&!g._p&&(S.instance=g,S.state.loading=5),Xi.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Xi.set(n,o),g||uS(p,n,o,S.state))),r&&c===null)throw Error(a(528,""));return S}if(r&&c!==null)throw Error(a(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Vl(o),o=fn(p).hoistableScripts,c=o.get(r),c||(c={type:"script",instance:null,count:0,state:null},o.set(r,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function kl(n){return'href="'+Ne(n)+'"'}function Fu(n){return'link[rel="stylesheet"]['+n+"]"}function yv(n){return A({},n,{"data-precedence":n.precedence,precedence:null})}function uS(n,r,o,c){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?c.loading=1:(r=n.createElement("link"),c.preload=r,r.addEventListener("load",function(){return c.loading|=1}),r.addEventListener("error",function(){return c.loading|=2}),Rn(r,"link",o),Ue(r),n.head.appendChild(r))}function Vl(n){return'[src="'+Ne(n)+'"]'}function Gu(n){return"script[async]"+n}function vv(n,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var c=n.querySelector('style[data-href~="'+Ne(o.href)+'"]');if(c)return r.instance=c,Ue(c),c;var p=A({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),Ue(c),Rn(c,"style",p),Oh(c,o.precedence,n),r.instance=c;case"stylesheet":p=kl(o.href);var g=n.querySelector(Fu(p));if(g)return r.state.loading|=4,r.instance=g,Ue(g),g;c=yv(o),(p=Xi.get(p))&&Rm(c,p),g=(n.ownerDocument||n).createElement("link"),Ue(g);var S=g;return S._p=new Promise(function(I,k){S.onload=I,S.onerror=k}),Rn(g,"link",c),r.state.loading|=4,Oh(g,o.precedence,n),r.instance=g;case"script":return g=Vl(o.src),(p=n.querySelector(Gu(g)))?(r.instance=p,Ue(p),p):(c=o,(p=Xi.get(g))&&(c=A({},o),Im(c,p)),n=n.ownerDocument||n,p=n.createElement("script"),Ue(p),Rn(p,"link",c),n.head.appendChild(p),r.instance=p);case"void":return null;default:throw Error(a(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(c=r.instance,r.state.loading|=4,Oh(c,o.precedence,n));return r.instance}function Oh(n,r,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,g=p,S=0;S<c.length;S++){var I=c[S];if(I.dataset.precedence===r)g=I;else if(g!==p)break}g?g.parentNode.insertBefore(n,g.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(n,r.firstChild))}function Rm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Im(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Lh=null;function Tv(n,r,o){if(Lh===null){var c=new Map,p=Lh=new Map;p.set(o,c)}else p=Lh,c=p.get(o),c||(c=new Map,p.set(o,c));if(c.has(n))return c;for(c.set(n,null),o=o.getElementsByTagName(n),p=0;p<o.length;p++){var g=o[p];if(!(g[Cr]||g[$e]||n==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var S=g.getAttribute(r)||"";S=n+S;var I=c.get(S);I?I.push(g):c.set(S,[g])}}return c}function Ev(n,r,o){n=n.ownerDocument||n,n.head.insertBefore(o,r==="title"?n.querySelector("head > title"):null)}function cS(n,r,o){if(o===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function wv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Zu=null;function hS(){}function fS(n,r,o){if(Zu===null)throw Error(a(475));var c=Zu;if(r.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var p=kl(o.href),g=n.querySelector(Fu(p));if(g){n=g._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(c.count++,c=Mh.bind(c),n.then(c,c)),r.state.loading|=4,r.instance=g,Ue(g);return}g=n.ownerDocument||n,o=yv(o),(p=Xi.get(p))&&Rm(o,p),g=g.createElement("link"),Ue(g);var S=g;S._p=new Promise(function(I,k){S.onload=I,S.onerror=k}),Rn(g,"link",o),r.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(c.count++,r=Mh.bind(c),n.addEventListener("load",r),n.addEventListener("error",r))}}function dS(){if(Zu===null)throw Error(a(475));var n=Zu;return n.stylesheets&&n.count===0&&Cm(n,n.stylesheets),0<n.count?function(r){var o=setTimeout(function(){if(n.stylesheets&&Cm(n,n.stylesheets),n.unsuspend){var c=n.unsuspend;n.unsuspend=null,c()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(o)}}:null}function Mh(){if(this.count--,this.count===0){if(this.stylesheets)Cm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Dh=null;function Cm(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Dh=new Map,r.forEach(mS,n),Dh=null,Mh.call(n))}function mS(n,r){if(!(r.state.loading&4)){var o=Dh.get(n);if(o)var c=o.get(null);else{o=new Map,Dh.set(n,o);for(var p=n.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var S=p[g];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),c=S)}c&&o.set(null,c)}p=r.instance,S=p.getAttribute("data-precedence"),g=o.get(S)||c,g===c&&o.set(null,p),o.set(S,p),this.count++,c=Mh.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),g?g.parentNode.insertBefore(p,g.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(p,n.firstChild)),r.state.loading|=4}}var $u={$$typeof:nt,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function pS(n,r,o,c,p,g,S,I){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mi(0),this.hiddenUpdates=Mi(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function bv(n,r,o,c,p,g,S,I,k,W,lt,ct){return n=new pS(n,r,o,S,I,k,W,ct),r=1,g===!0&&(r|=24),g=Qn(3,null,null,r),n.current=g,g.stateNode=n,r=ud(),r.refCount++,n.pooledCache=r,r.refCount++,g.memoizedState={element:c,isDehydrated:o,cache:r},dd(g),n}function Sv(n){return n?(n=gs,n):gs}function Av(n,r,o,c,p,g){p=Sv(p),c.context===null?c.context=p:c.pendingContext=p,c=da(r),c.payload={element:o},g=g===void 0?null:g,g!==null&&(c.callback=g),o=ma(n,c,r),o!==null&&(xi(o,n,r),bu(o,n,r))}function Rv(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<r?o:r}}function xm(n,r){Rv(n,r),(n=n.alternate)&&Rv(n,r)}function Iv(n){if(n.tag===13){var r=la(n,67108864);r!==null&&xi(r,n,67108864),xm(n,67108864)}}var Nh=!0;function gS(n,r,o,c){var p=at.T;at.T=null;var g=yt.p;try{yt.p=2,Pm(n,r,o,c)}finally{yt.p=g,at.T=p}}function _S(n,r,o,c){var p=at.T;at.T=null;var g=yt.p;try{yt.p=8,Pm(n,r,o,c)}finally{yt.p=g,at.T=p}}function Pm(n,r,o,c){if(Nh){var p=Om(c);if(p===null)_m(n,r,c,kh,o),xv(n,c);else if(vS(p,n,r,o,c))c.stopPropagation();else if(xv(n,c),r&4&&-1<yS.indexOf(n)){for(;p!==null;){var g=di(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var S=Wn(g.pendingLanes);if(S!==0){var I=g;for(I.pendingLanes|=2,I.entangledLanes|=2;S;){var k=1<<31-hn(S);I.entanglements[1]|=k,S&=~k}jr(g),(_e&6)===0&&(vh=Pn()+500,Bu(0))}}break;case 13:I=la(g,2),I!==null&&xi(I,g,2),Eh(),xm(g,2)}if(g=Om(c),g===null&&_m(n,r,c,kh,o),g===p)break;p=g}p!==null&&c.stopPropagation()}else _m(n,r,c,null,o)}}function Om(n){return n=bn(n),Lm(n)}var kh=null;function Lm(n){if(kh=null,n=fi(n),n!==null){var r=h(n);if(r===null)n=null;else{var o=r.tag;if(o===13){if(n=m(r),n!==null)return n;n=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return kh=n,null}function Cv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Us()){case Wa:return 2;case ts:return 8;case er:case Wo:return 32;case es:return 268435456;default:return 32}default:return 32}}var Mm=!1,Ia=null,Ca=null,xa=null,Ku=new Map,Yu=new Map,Pa=[],yS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xv(n,r){switch(n){case"focusin":case"focusout":Ia=null;break;case"dragenter":case"dragleave":Ca=null;break;case"mouseover":case"mouseout":xa=null;break;case"pointerover":case"pointerout":Ku.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yu.delete(r.pointerId)}}function Qu(n,r,o,c,p,g){return n===null||n.nativeEvent!==g?(n={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:g,targetContainers:[p]},r!==null&&(r=di(r),r!==null&&Iv(r)),n):(n.eventSystemFlags|=c,r=n.targetContainers,p!==null&&r.indexOf(p)===-1&&r.push(p),n)}function vS(n,r,o,c,p){switch(r){case"focusin":return Ia=Qu(Ia,n,r,o,c,p),!0;case"dragenter":return Ca=Qu(Ca,n,r,o,c,p),!0;case"mouseover":return xa=Qu(xa,n,r,o,c,p),!0;case"pointerover":var g=p.pointerId;return Ku.set(g,Qu(Ku.get(g)||null,n,r,o,c,p)),!0;case"gotpointercapture":return g=p.pointerId,Yu.set(g,Qu(Yu.get(g)||null,n,r,o,c,p)),!0}return!1}function Pv(n){var r=fi(n.target);if(r!==null){var o=h(r);if(o!==null){if(r=o.tag,r===13){if(r=m(o),r!==null){n.blockedOn=r,js(n.priority,function(){if(o.tag===13){var c=Ci();c=Rr(c);var p=la(o,c);p!==null&&xi(p,o,c),xm(o,c)}});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Vh(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var o=Om(n.nativeEvent);if(o===null){o=n.nativeEvent;var c=new o.constructor(o.type,o);_i=c,o.target.dispatchEvent(c),_i=null}else return r=di(o),r!==null&&Iv(r),n.blockedOn=o,!1;r.shift()}return!0}function Ov(n,r,o){Vh(n)&&o.delete(r)}function TS(){Mm=!1,Ia!==null&&Vh(Ia)&&(Ia=null),Ca!==null&&Vh(Ca)&&(Ca=null),xa!==null&&Vh(xa)&&(xa=null),Ku.forEach(Ov),Yu.forEach(Ov)}function zh(n,r){n.blockedOn===r&&(n.blockedOn=null,Mm||(Mm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,TS)))}var Uh=null;function Lv(n){Uh!==n&&(Uh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Uh===n&&(Uh=null);for(var r=0;r<n.length;r+=3){var o=n[r],c=n[r+1],p=n[r+2];if(typeof c!="function"){if(Lm(c||o)===null)continue;break}var g=di(o);g!==null&&(n.splice(r,3),r-=3,Ld(g,{pending:!0,data:p,method:o.method,action:c},c,p))}}))}function Xu(n){function r(k){return zh(k,n)}Ia!==null&&zh(Ia,n),Ca!==null&&zh(Ca,n),xa!==null&&zh(xa,n),Ku.forEach(r),Yu.forEach(r);for(var o=0;o<Pa.length;o++){var c=Pa[o];c.blockedOn===n&&(c.blockedOn=null)}for(;0<Pa.length&&(o=Pa[0],o.blockedOn===null);)Pv(o),o.blockedOn===null&&Pa.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var p=o[c],g=o[c+1],S=p[Fe]||null;if(typeof g=="function")S||Lv(o);else if(S){var I=null;if(g&&g.hasAttribute("formAction")){if(p=g,S=g[Fe]||null)I=S.formAction;else if(Lm(p)!==null)continue}else I=S.action;typeof I=="function"?o[c+1]=I:(o.splice(c,3),c-=3),Lv(o)}}}function Dm(n){this._internalRoot=n}Bh.prototype.render=Dm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(a(409));var o=r.current,c=Ci();Av(o,c,n,r,null,null)},Bh.prototype.unmount=Dm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;Av(n.current,2,null,n,null,null),Eh(),r[Jn]=null}};function Bh(n){this._internalRoot=n}Bh.prototype.unstable_scheduleHydration=function(n){if(n){var r=Ir();n={blockedOn:null,target:n,priority:r};for(var o=0;o<Pa.length&&r!==0&&r<Pa[o].priority;o++);Pa.splice(o,0,n),o===0&&Pv(n)}};var Mv=t.version;if(Mv!=="19.1.0")throw Error(a(527,Mv,"19.1.0"));yt.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=v(r),n=n!==null?T(n):null,n=n===null?null:n.stateNode,n};var ES={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:at,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hh.isDisabled&&Hh.supportsFiber)try{xe=Hh.inject(ES),ue=Hh}catch{}}return Ju.createRoot=function(n,r){if(!l(n))throw Error(a(299));var o=!1,c="",p=Y_,g=Q_,S=X_,I=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(p=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(S=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(I=r.unstable_transitionCallbacks)),r=bv(n,1,!1,null,null,o,c,p,g,S,I,null),n[Jn]=r.current,gm(n),new Dm(r)},Ju.hydrateRoot=function(n,r,o){if(!l(n))throw Error(a(299));var c=!1,p="",g=Y_,S=Q_,I=X_,k=null,W=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(I=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(k=o.unstable_transitionCallbacks),o.formState!==void 0&&(W=o.formState)),r=bv(n,1,!0,r,o??null,c,p,g,S,I,k,W),r.context=Sv(null),o=r.current,c=Ci(),c=Rr(c),p=da(c),p.callback=null,ma(o,p,c),o=c,r.current.lanes=o,Di(r,o),jr(r),n[Jn]=r.current,gm(n),new Bh(r)},Ju.version="19.1.0",Ju}var jv;function PS(){if(jv)return Vm.exports;jv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Vm.exports=xS(),Vm.exports}var OS=PS();const LS=Vp(OS);var tc={},Fv;function MS(){if(Fv)return tc;Fv=1,Object.defineProperty(tc,"__esModule",{value:!0}),tc.parse=m,tc.serialize=T;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,l=Object.prototype.toString,h=(()=>{const P=function(){};return P.prototype=Object.create(null),P})();function m(P,U){const q=new h,G=P.length;if(G<2)return q;const $=(U==null?void 0:U.decode)||A;let et=0;do{const J=P.indexOf("=",et);if(J===-1)break;const nt=P.indexOf(";",et),gt=nt===-1?G:nt;if(J>gt){et=P.lastIndexOf(";",J-1)+1;continue}const Tt=y(P,et,J),xt=v(P,J,Tt),V=P.slice(Tt,xt);if(q[V]===void 0){let O=y(P,J+1,gt),M=v(P,gt,O);const B=$(P.slice(O,M));q[V]=B}et=gt+1}while(et<G);return q}function y(P,U,q){do{const G=P.charCodeAt(U);if(G!==32&&G!==9)return U}while(++U<q);return q}function v(P,U,q){for(;U>q;){const G=P.charCodeAt(--U);if(G!==32&&G!==9)return U+1}return q}function T(P,U,q){const G=(q==null?void 0:q.encode)||encodeURIComponent;if(!i.test(P))throw new TypeError(`argument name is invalid: ${P}`);const $=G(U);if(!t.test($))throw new TypeError(`argument val is invalid: ${U}`);let et=P+"="+$;if(!q)return et;if(q.maxAge!==void 0){if(!Number.isInteger(q.maxAge))throw new TypeError(`option maxAge is invalid: ${q.maxAge}`);et+="; Max-Age="+q.maxAge}if(q.domain){if(!e.test(q.domain))throw new TypeError(`option domain is invalid: ${q.domain}`);et+="; Domain="+q.domain}if(q.path){if(!a.test(q.path))throw new TypeError(`option path is invalid: ${q.path}`);et+="; Path="+q.path}if(q.expires){if(!C(q.expires)||!Number.isFinite(q.expires.valueOf()))throw new TypeError(`option expires is invalid: ${q.expires}`);et+="; Expires="+q.expires.toUTCString()}if(q.httpOnly&&(et+="; HttpOnly"),q.secure&&(et+="; Secure"),q.partitioned&&(et+="; Partitioned"),q.priority)switch(typeof q.priority=="string"?q.priority.toLowerCase():void 0){case"low":et+="; Priority=Low";break;case"medium":et+="; Priority=Medium";break;case"high":et+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${q.priority}`)}if(q.sameSite)switch(typeof q.sameSite=="string"?q.sameSite.toLowerCase():q.sameSite){case!0:case"strict":et+="; SameSite=Strict";break;case"lax":et+="; SameSite=Lax";break;case"none":et+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${q.sameSite}`)}return et}function A(P){if(P.indexOf("%")===-1)return P;try{return decodeURIComponent(P)}catch{return P}}function C(P){return l.call(P)==="[object Date]"}return tc}MS();var Gv="popstate";function DS(i={}){function t(a,l){let{pathname:h,search:m,hash:y}=a.location;return ip("",{pathname:h,search:m,hash:y},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function e(a,l){return typeof l=="string"?l:pc(l)}return kS(t,e,null,i)}function qe(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}function Yr(i,t){if(!i){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function NS(){return Math.random().toString(36).substring(2,10)}function Zv(i,t){return{usr:i.state,key:i.key,idx:t}}function ip(i,t,e=null,a){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof t=="string"?tu(t):t,state:e,key:t&&t.key||a||NS()}}function pc({pathname:i="/",search:t="",hash:e=""}){return t&&t!=="?"&&(i+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(i+=e.charAt(0)==="#"?e:"#"+e),i}function tu(i){let t={};if(i){let e=i.indexOf("#");e>=0&&(t.hash=i.substring(e),i=i.substring(0,e));let a=i.indexOf("?");a>=0&&(t.search=i.substring(a),i=i.substring(0,a)),i&&(t.pathname=i)}return t}function kS(i,t,e,a={}){let{window:l=document.defaultView,v5Compat:h=!1}=a,m=l.history,y="POP",v=null,T=A();T==null&&(T=0,m.replaceState({...m.state,idx:T},""));function A(){return(m.state||{idx:null}).idx}function C(){y="POP";let $=A(),et=$==null?null:$-T;T=$,v&&v({action:y,location:G.location,delta:et})}function P($,et){y="PUSH";let J=ip(G.location,$,et);T=A()+1;let nt=Zv(J,T),gt=G.createHref(J);try{m.pushState(nt,"",gt)}catch(Tt){if(Tt instanceof DOMException&&Tt.name==="DataCloneError")throw Tt;l.location.assign(gt)}h&&v&&v({action:y,location:G.location,delta:1})}function U($,et){y="REPLACE";let J=ip(G.location,$,et);T=A();let nt=Zv(J,T),gt=G.createHref(J);m.replaceState(nt,"",gt),h&&v&&v({action:y,location:G.location,delta:0})}function q($){return VS($)}let G={get action(){return y},get location(){return i(l,m)},listen($){if(v)throw new Error("A history only accepts one active listener");return l.addEventListener(Gv,C),v=$,()=>{l.removeEventListener(Gv,C),v=null}},createHref($){return t(l,$)},createURL:q,encodeLocation($){let et=q($);return{pathname:et.pathname,search:et.search,hash:et.hash}},push:P,replace:U,go($){return m.go($)}};return G}function VS(i,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),qe(e,"No window.location.(origin|href) available to create URL");let a=typeof i=="string"?i:pc(i);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=e+a),new URL(a,e)}function UT(i,t,e="/"){return zS(i,t,e,!1)}function zS(i,t,e,a){let l=typeof t=="string"?tu(t):t,h=Ps(l.pathname||"/",e);if(h==null)return null;let m=BT(i);US(m);let y=null;for(let v=0;y==null&&v<m.length;++v){let T=QS(h);y=KS(m[v],T,a)}return y}function BT(i,t=[],e=[],a=""){let l=(h,m,y)=>{let v={relativePath:y===void 0?h.path||"":y,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};v.relativePath.startsWith("/")&&(qe(v.relativePath.startsWith(a),`Absolute route path "${v.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(a.length));let T=Cs([a,v.relativePath]),A=e.concat(v);h.children&&h.children.length>0&&(qe(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),BT(h.children,t,A,T)),!(h.path==null&&!h.index)&&t.push({path:T,score:ZS(T,h.index),routesMeta:A})};return i.forEach((h,m)=>{var y;if(h.path===""||!((y=h.path)!=null&&y.includes("?")))l(h,m);else for(let v of HT(h.path))l(h,m,v)}),t}function HT(i){let t=i.split("/");if(t.length===0)return[];let[e,...a]=t,l=e.endsWith("?"),h=e.replace(/\?$/,"");if(a.length===0)return l?[h,""]:[h];let m=HT(a.join("/")),y=[];return y.push(...m.map(v=>v===""?h:[h,v].join("/"))),l&&y.push(...m),y.map(v=>i.startsWith("/")&&v===""?"/":v)}function US(i){i.sort((t,e)=>t.score!==e.score?e.score-t.score:$S(t.routesMeta.map(a=>a.childrenIndex),e.routesMeta.map(a=>a.childrenIndex)))}var BS=/^:[\w-]+$/,HS=3,qS=2,jS=1,FS=10,GS=-2,$v=i=>i==="*";function ZS(i,t){let e=i.split("/"),a=e.length;return e.some($v)&&(a+=GS),t&&(a+=qS),e.filter(l=>!$v(l)).reduce((l,h)=>l+(BS.test(h)?HS:h===""?jS:FS),a)}function $S(i,t){return i.length===t.length&&i.slice(0,-1).every((a,l)=>a===t[l])?i[i.length-1]-t[t.length-1]:0}function KS(i,t,e=!1){let{routesMeta:a}=i,l={},h="/",m=[];for(let y=0;y<a.length;++y){let v=a[y],T=y===a.length-1,A=h==="/"?t:t.slice(h.length)||"/",C=uf({path:v.relativePath,caseSensitive:v.caseSensitive,end:T},A),P=v.route;if(!C&&T&&e&&!a[a.length-1].route.index&&(C=uf({path:v.relativePath,caseSensitive:v.caseSensitive,end:!1},A)),!C)return null;Object.assign(l,C.params),m.push({params:l,pathname:Cs([h,C.pathname]),pathnameBase:tA(Cs([h,C.pathnameBase])),route:P}),C.pathnameBase!=="/"&&(h=Cs([h,C.pathnameBase]))}return m}function uf(i,t){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[e,a]=YS(i.path,i.caseSensitive,i.end),l=t.match(e);if(!l)return null;let h=l[0],m=h.replace(/(.)\/+$/,"$1"),y=l.slice(1);return{params:a.reduce((T,{paramName:A,isOptional:C},P)=>{if(A==="*"){let q=y[P]||"";m=h.slice(0,h.length-q.length).replace(/(.)\/+$/,"$1")}const U=y[P];return C&&!U?T[A]=void 0:T[A]=(U||"").replace(/%2F/g,"/"),T},{}),pathname:h,pathnameBase:m,pattern:i}}function YS(i,t=!1,e=!0){Yr(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let a=[],l="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,y,v)=>(a.push({paramName:y,isOptional:v!=null}),v?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(a.push({paramName:"*"}),l+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?l+="\\/*$":i!==""&&i!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),a]}function QS(i){try{return i.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Yr(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),i}}function Ps(i,t){if(t==="/")return i;if(!i.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,a=i.charAt(e);return a&&a!=="/"?null:i.slice(e)||"/"}function XS(i,t="/"){let{pathname:e,search:a="",hash:l=""}=typeof i=="string"?tu(i):i;return{pathname:e?e.startsWith("/")?e:WS(e,t):t,search:eA(a),hash:nA(l)}}function WS(i,t){let e=t.replace(/\/+$/,"").split("/");return i.split("/").forEach(l=>{l===".."?e.length>1&&e.pop():l!=="."&&e.push(l)}),e.length>1?e.join("/"):"/"}function Hm(i,t,e,a){return`Cannot include a '${i}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JS(i){return i.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function qT(i){let t=JS(i);return t.map((e,a)=>a===t.length-1?e.pathname:e.pathnameBase)}function jT(i,t,e,a=!1){let l;typeof i=="string"?l=tu(i):(l={...i},qe(!l.pathname||!l.pathname.includes("?"),Hm("?","pathname","search",l)),qe(!l.pathname||!l.pathname.includes("#"),Hm("#","pathname","hash",l)),qe(!l.search||!l.search.includes("#"),Hm("#","search","hash",l)));let h=i===""||l.pathname==="",m=h?"/":l.pathname,y;if(m==null)y=e;else{let C=t.length-1;if(!a&&m.startsWith("..")){let P=m.split("/");for(;P[0]==="..";)P.shift(),C-=1;l.pathname=P.join("/")}y=C>=0?t[C]:"/"}let v=XS(l,y),T=m&&m!=="/"&&m.endsWith("/"),A=(h||m===".")&&e.endsWith("/");return!v.pathname.endsWith("/")&&(T||A)&&(v.pathname+="/"),v}var Cs=i=>i.join("/").replace(/\/\/+/g,"/"),tA=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),eA=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,nA=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function iA(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var FT=["POST","PUT","PATCH","DELETE"];new Set(FT);var rA=["GET",...FT];new Set(rA);var eu=Q.createContext(null);eu.displayName="DataRouter";var Mf=Q.createContext(null);Mf.displayName="DataRouterState";var GT=Q.createContext({isTransitioning:!1});GT.displayName="ViewTransition";var sA=Q.createContext(new Map);sA.displayName="Fetchers";var aA=Q.createContext(null);aA.displayName="Await";var Wr=Q.createContext(null);Wr.displayName="Navigation";var Ac=Q.createContext(null);Ac.displayName="Location";var Vs=Q.createContext({outlet:null,matches:[],isDataRoute:!1});Vs.displayName="Route";var Up=Q.createContext(null);Up.displayName="RouteError";function oA(i,{relative:t}={}){qe(Rc(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:a}=Q.useContext(Wr),{hash:l,pathname:h,search:m}=Ic(i,{relative:t}),y=h;return e!=="/"&&(y=h==="/"?e:Cs([e,h])),a.createHref({pathname:y,search:m,hash:l})}function Rc(){return Q.useContext(Ac)!=null}function Go(){return qe(Rc(),"useLocation() may be used only in the context of a <Router> component."),Q.useContext(Ac).location}var ZT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function $T(i){Q.useContext(Wr).static||Q.useLayoutEffect(i)}function Bp(){let{isDataRoute:i}=Q.useContext(Vs);return i?TA():lA()}function lA(){qe(Rc(),"useNavigate() may be used only in the context of a <Router> component.");let i=Q.useContext(eu),{basename:t,navigator:e}=Q.useContext(Wr),{matches:a}=Q.useContext(Vs),{pathname:l}=Go(),h=JSON.stringify(qT(a)),m=Q.useRef(!1);return $T(()=>{m.current=!0}),Q.useCallback((v,T={})=>{if(Yr(m.current,ZT),!m.current)return;if(typeof v=="number"){e.go(v);return}let A=jT(v,JSON.parse(h),l,T.relative==="path");i==null&&t!=="/"&&(A.pathname=A.pathname==="/"?t:Cs([t,A.pathname])),(T.replace?e.replace:e.push)(A,T.state,T)},[t,e,h,l,i])}Q.createContext(null);function Ic(i,{relative:t}={}){let{matches:e}=Q.useContext(Vs),{pathname:a}=Go(),l=JSON.stringify(qT(e));return Q.useMemo(()=>jT(i,JSON.parse(l),a,t==="path"),[i,l,a,t])}function uA(i,t){return KT(i,t)}function KT(i,t,e,a){var et;qe(Rc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=Q.useContext(Wr),{matches:h}=Q.useContext(Vs),m=h[h.length-1],y=m?m.params:{},v=m?m.pathname:"/",T=m?m.pathnameBase:"/",A=m&&m.route;{let J=A&&A.path||"";YT(v,!A||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let C=Go(),P;if(t){let J=typeof t=="string"?tu(t):t;qe(T==="/"||((et=J.pathname)==null?void 0:et.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${J.pathname}" was given in the \`location\` prop.`),P=J}else P=C;let U=P.pathname||"/",q=U;if(T!=="/"){let J=T.replace(/^\//,"").split("/");q="/"+U.replace(/^\//,"").split("/").slice(J.length).join("/")}let G=UT(i,{pathname:q});Yr(A||G!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),Yr(G==null||G[G.length-1].route.element!==void 0||G[G.length-1].route.Component!==void 0||G[G.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=mA(G&&G.map(J=>Object.assign({},J,{params:Object.assign({},y,J.params),pathname:Cs([T,l.encodeLocation?l.encodeLocation(J.pathname).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?T:Cs([T,l.encodeLocation?l.encodeLocation(J.pathnameBase).pathname:J.pathnameBase])})),h,e,a);return t&&$?Q.createElement(Ac.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},$):$}function cA(){let i=vA(),t=iA(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),e=i instanceof Error?i.stack:null,a="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:a},h={padding:"2px 4px",backgroundColor:a},m=null;return console.error("Error handled by React Router default ErrorBoundary:",i),m=Q.createElement(Q.Fragment,null,Q.createElement("p",null,"💿 Hey developer 👋"),Q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",Q.createElement("code",{style:h},"ErrorBoundary")," or"," ",Q.createElement("code",{style:h},"errorElement")," prop on your route.")),Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},t),e?Q.createElement("pre",{style:l},e):null,m)}var hA=Q.createElement(cA,null),fA=class extends Q.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,t){return t.location!==i.location||t.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:t.error,location:t.location,revalidation:i.revalidation||t.revalidation}}componentDidCatch(i,t){console.error("React Router caught the following error during render",i,t)}render(){return this.state.error!==void 0?Q.createElement(Vs.Provider,{value:this.props.routeContext},Q.createElement(Up.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function dA({routeContext:i,match:t,children:e}){let a=Q.useContext(eu);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),Q.createElement(Vs.Provider,{value:i},e)}function mA(i,t=[],e=null,a=null){if(i==null){if(!e)return null;if(e.errors)i=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)i=e.matches;else return null}let l=i,h=e==null?void 0:e.errors;if(h!=null){let v=l.findIndex(T=>T.route.id&&(h==null?void 0:h[T.route.id])!==void 0);qe(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let m=!1,y=-1;if(e)for(let v=0;v<l.length;v++){let T=l[v];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(y=v),T.route.id){let{loaderData:A,errors:C}=e,P=T.route.loader&&!A.hasOwnProperty(T.route.id)&&(!C||C[T.route.id]===void 0);if(T.route.lazy||P){m=!0,y>=0?l=l.slice(0,y+1):l=[l[0]];break}}}return l.reduceRight((v,T,A)=>{let C,P=!1,U=null,q=null;e&&(C=h&&T.route.id?h[T.route.id]:void 0,U=T.route.errorElement||hA,m&&(y<0&&A===0?(YT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),P=!0,q=null):y===A&&(P=!0,q=T.route.hydrateFallbackElement||null)));let G=t.concat(l.slice(0,A+1)),$=()=>{let et;return C?et=U:P?et=q:T.route.Component?et=Q.createElement(T.route.Component,null):T.route.element?et=T.route.element:et=v,Q.createElement(dA,{match:T,routeContext:{outlet:v,matches:G,isDataRoute:e!=null},children:et})};return e&&(T.route.ErrorBoundary||T.route.errorElement||A===0)?Q.createElement(fA,{location:e.location,revalidation:e.revalidation,component:U,error:C,children:$(),routeContext:{outlet:null,matches:G,isDataRoute:!0}}):$()},null)}function Hp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pA(i){let t=Q.useContext(eu);return qe(t,Hp(i)),t}function gA(i){let t=Q.useContext(Mf);return qe(t,Hp(i)),t}function _A(i){let t=Q.useContext(Vs);return qe(t,Hp(i)),t}function qp(i){let t=_A(i),e=t.matches[t.matches.length-1];return qe(e.route.id,`${i} can only be used on routes that contain a unique "id"`),e.route.id}function yA(){return qp("useRouteId")}function vA(){var a;let i=Q.useContext(Up),t=gA("useRouteError"),e=qp("useRouteError");return i!==void 0?i:(a=t.errors)==null?void 0:a[e]}function TA(){let{router:i}=pA("useNavigate"),t=qp("useNavigate"),e=Q.useRef(!1);return $T(()=>{e.current=!0}),Q.useCallback(async(l,h={})=>{Yr(e.current,ZT),e.current&&(typeof l=="number"?i.navigate(l):await i.navigate(l,{fromRouteId:t,...h}))},[i,t])}var Kv={};function YT(i,t,e){!t&&!Kv[i]&&(Kv[i]=!0,Yr(!1,e))}Q.memo(EA);function EA({routes:i,future:t,state:e}){return KT(i,void 0,e,t)}function Yh(i){qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function wA({basename:i="/",children:t=null,location:e,navigationType:a="POP",navigator:l,static:h=!1}){qe(!Rc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=i.replace(/^\/*/,"/"),y=Q.useMemo(()=>({basename:m,navigator:l,static:h,future:{}}),[m,l,h]);typeof e=="string"&&(e=tu(e));let{pathname:v="/",search:T="",hash:A="",state:C=null,key:P="default"}=e,U=Q.useMemo(()=>{let q=Ps(v,m);return q==null?null:{location:{pathname:q,search:T,hash:A,state:C,key:P},navigationType:a}},[m,v,T,A,C,P,a]);return Yr(U!=null,`<Router basename="${m}"> is not able to match the URL "${v}${T}${A}" because it does not start with the basename, so the <Router> won't render anything.`),U==null?null:Q.createElement(Wr.Provider,{value:y},Q.createElement(Ac.Provider,{children:t,value:U}))}function bA({children:i,location:t}){return uA(rp(i),t)}function rp(i,t=[]){let e=[];return Q.Children.forEach(i,(a,l)=>{if(!Q.isValidElement(a))return;let h=[...t,l];if(a.type===Q.Fragment){e.push.apply(e,rp(a.props.children,h));return}qe(a.type===Yh,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qe(!a.props.index||!a.props.children,"An index route cannot have child routes.");let m={id:a.props.id||h.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(m.children=rp(a.props.children,h)),e.push(m)}),e}var Qh="get",Xh="application/x-www-form-urlencoded";function Df(i){return i!=null&&typeof i.tagName=="string"}function SA(i){return Df(i)&&i.tagName.toLowerCase()==="button"}function AA(i){return Df(i)&&i.tagName.toLowerCase()==="form"}function RA(i){return Df(i)&&i.tagName.toLowerCase()==="input"}function IA(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function CA(i,t){return i.button===0&&(!t||t==="_self")&&!IA(i)}var qh=null;function xA(){if(qh===null)try{new FormData(document.createElement("form"),0),qh=!1}catch{qh=!0}return qh}var PA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qm(i){return i!=null&&!PA.has(i)?(Yr(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xh}"`),null):i}function OA(i,t){let e,a,l,h,m;if(AA(i)){let y=i.getAttribute("action");a=y?Ps(y,t):null,e=i.getAttribute("method")||Qh,l=qm(i.getAttribute("enctype"))||Xh,h=new FormData(i)}else if(SA(i)||RA(i)&&(i.type==="submit"||i.type==="image")){let y=i.form;if(y==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let v=i.getAttribute("formaction")||y.getAttribute("action");if(a=v?Ps(v,t):null,e=i.getAttribute("formmethod")||y.getAttribute("method")||Qh,l=qm(i.getAttribute("formenctype"))||qm(y.getAttribute("enctype"))||Xh,h=new FormData(y,i),!xA()){let{name:T,type:A,value:C}=i;if(A==="image"){let P=T?`${T}.`:"";h.append(`${P}x`,"0"),h.append(`${P}y`,"0")}else T&&h.append(T,C)}}else{if(Df(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Qh,a=null,l=Xh,m=i}return h&&l==="text/plain"&&(m=h,h=void 0),{action:a,method:e.toLowerCase(),encType:l,formData:h,body:m}}function jp(i,t){if(i===!1||i===null||typeof i>"u")throw new Error(t)}async function LA(i,t){if(i.id in t)return t[i.id];try{let e=await import(i.module);return t[i.id]=e,e}catch(e){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function MA(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function DA(i,t,e){let a=await Promise.all(i.map(async l=>{let h=t.routes[l.route.id];if(h){let m=await LA(h,e);return m.links?m.links():[]}return[]}));return zA(a.flat(1).filter(MA).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Yv(i,t,e,a,l,h){let m=(v,T)=>e[T]?v.route.id!==e[T].route.id:!0,y=(v,T)=>{var A;return e[T].pathname!==v.pathname||((A=e[T].route.path)==null?void 0:A.endsWith("*"))&&e[T].params["*"]!==v.params["*"]};return h==="assets"?t.filter((v,T)=>m(v,T)||y(v,T)):h==="data"?t.filter((v,T)=>{var C;let A=a.routes[v.route.id];if(!A||!A.hasLoader)return!1;if(m(v,T)||y(v,T))return!0;if(v.route.shouldRevalidate){let P=v.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((C=e[0])==null?void 0:C.params)||{},nextUrl:new URL(i,window.origin),nextParams:v.params,defaultShouldRevalidate:!0});if(typeof P=="boolean")return P}return!0}):[]}function NA(i,t,{includeHydrateFallback:e}={}){return kA(i.map(a=>{let l=t.routes[a.route.id];if(!l)return[];let h=[l.module];return l.clientActionModule&&(h=h.concat(l.clientActionModule)),l.clientLoaderModule&&(h=h.concat(l.clientLoaderModule)),e&&l.hydrateFallbackModule&&(h=h.concat(l.hydrateFallbackModule)),l.imports&&(h=h.concat(l.imports)),h}).flat(1))}function kA(i){return[...new Set(i)]}function VA(i){let t={},e=Object.keys(i).sort();for(let a of e)t[a]=i[a];return t}function zA(i,t){let e=new Set;return new Set(t),i.reduce((a,l)=>{let h=JSON.stringify(VA(l));return e.has(h)||(e.add(h),a.push({key:h,link:l})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var UA=new Set([100,101,204,205]);function BA(i,t){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":t&&Ps(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function QT(){let i=Q.useContext(eu);return jp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function HA(){let i=Q.useContext(Mf);return jp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Fp=Q.createContext(void 0);Fp.displayName="FrameworkContext";function XT(){let i=Q.useContext(Fp);return jp(i,"You must render this element inside a <HydratedRouter> element"),i}function qA(i,t){let e=Q.useContext(Fp),[a,l]=Q.useState(!1),[h,m]=Q.useState(!1),{onFocus:y,onBlur:v,onMouseEnter:T,onMouseLeave:A,onTouchStart:C}=t,P=Q.useRef(null);Q.useEffect(()=>{if(i==="render"&&m(!0),i==="viewport"){let G=et=>{et.forEach(J=>{m(J.isIntersecting)})},$=new IntersectionObserver(G,{threshold:.5});return P.current&&$.observe(P.current),()=>{$.disconnect()}}},[i]),Q.useEffect(()=>{if(a){let G=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(G)}}},[a]);let U=()=>{l(!0)},q=()=>{l(!1),m(!1)};return e?i!=="intent"?[h,P,{}]:[h,P,{onFocus:ec(y,U),onBlur:ec(v,q),onMouseEnter:ec(T,U),onMouseLeave:ec(A,q),onTouchStart:ec(C,U)}]:[!1,P,{}]}function ec(i,t){return e=>{i&&i(e),e.defaultPrevented||t(e)}}function jA({page:i,...t}){let{router:e}=QT(),a=Q.useMemo(()=>UT(e.routes,i,e.basename),[e.routes,i,e.basename]);return a?Q.createElement(GA,{page:i,matches:a,...t}):null}function FA(i){let{manifest:t,routeModules:e}=XT(),[a,l]=Q.useState([]);return Q.useEffect(()=>{let h=!1;return DA(i,t,e).then(m=>{h||l(m)}),()=>{h=!0}},[i,t,e]),a}function GA({page:i,matches:t,...e}){let a=Go(),{manifest:l,routeModules:h}=XT(),{basename:m}=QT(),{loaderData:y,matches:v}=HA(),T=Q.useMemo(()=>Yv(i,t,v,l,a,"data"),[i,t,v,l,a]),A=Q.useMemo(()=>Yv(i,t,v,l,a,"assets"),[i,t,v,l,a]),C=Q.useMemo(()=>{if(i===a.pathname+a.search+a.hash)return[];let q=new Set,G=!1;if(t.forEach(et=>{var nt;let J=l.routes[et.route.id];!J||!J.hasLoader||(!T.some(gt=>gt.route.id===et.route.id)&&et.route.id in y&&((nt=h[et.route.id])!=null&&nt.shouldRevalidate)||J.hasClientLoader?G=!0:q.add(et.route.id))}),q.size===0)return[];let $=BA(i,m);return G&&q.size>0&&$.searchParams.set("_routes",t.filter(et=>q.has(et.route.id)).map(et=>et.route.id).join(",")),[$.pathname+$.search]},[m,y,a,l,T,t,i,h]),P=Q.useMemo(()=>NA(A,l),[A,l]),U=FA(A);return Q.createElement(Q.Fragment,null,C.map(q=>Q.createElement("link",{key:q,rel:"prefetch",as:"fetch",href:q,...e})),P.map(q=>Q.createElement("link",{key:q,rel:"modulepreload",href:q,...e})),U.map(({key:q,link:G})=>Q.createElement("link",{key:q,...G})))}function ZA(...i){return t=>{i.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var WT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{WT&&(window.__reactRouterVersion="7.6.2")}catch{}function $A({basename:i,children:t,window:e}){let a=Q.useRef();a.current==null&&(a.current=DS({window:e,v5Compat:!0}));let l=a.current,[h,m]=Q.useState({action:l.action,location:l.location}),y=Q.useCallback(v=>{Q.startTransition(()=>m(v))},[m]);return Q.useLayoutEffect(()=>l.listen(y),[l,y]),Q.createElement(wA,{basename:i,children:t,location:h.location,navigationType:h.action,navigator:l})}var JT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gp=Q.forwardRef(function({onClick:t,discover:e="render",prefetch:a="none",relative:l,reloadDocument:h,replace:m,state:y,target:v,to:T,preventScrollReset:A,viewTransition:C,...P},U){let{basename:q}=Q.useContext(Wr),G=typeof T=="string"&&JT.test(T),$,et=!1;if(typeof T=="string"&&G&&($=T,WT))try{let M=new URL(window.location.href),B=T.startsWith("//")?new URL(M.protocol+T):new URL(T),H=Ps(B.pathname,q);B.origin===M.origin&&H!=null?T=H+B.search+B.hash:et=!0}catch{Yr(!1,`<Link to="${T}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=oA(T,{relative:l}),[nt,gt,Tt]=qA(a,P),xt=XA(T,{replace:m,state:y,target:v,preventScrollReset:A,relative:l,viewTransition:C});function V(M){t&&t(M),M.defaultPrevented||xt(M)}let O=Q.createElement("a",{...P,...Tt,href:$||J,onClick:et||h?t:V,ref:ZA(U,gt),target:v,"data-discover":!G&&e==="render"?"true":void 0});return nt&&!G?Q.createElement(Q.Fragment,null,O,Q.createElement(jA,{page:J})):O});Gp.displayName="Link";var KA=Q.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:a="",end:l=!1,style:h,to:m,viewTransition:y,children:v,...T},A){let C=Ic(m,{relative:T.relative}),P=Go(),U=Q.useContext(Mf),{navigator:q,basename:G}=Q.useContext(Wr),$=U!=null&&nR(C)&&y===!0,et=q.encodeLocation?q.encodeLocation(C).pathname:C.pathname,J=P.pathname,nt=U&&U.navigation&&U.navigation.location?U.navigation.location.pathname:null;e||(J=J.toLowerCase(),nt=nt?nt.toLowerCase():null,et=et.toLowerCase()),nt&&G&&(nt=Ps(nt,G)||nt);const gt=et!=="/"&&et.endsWith("/")?et.length-1:et.length;let Tt=J===et||!l&&J.startsWith(et)&&J.charAt(gt)==="/",xt=nt!=null&&(nt===et||!l&&nt.startsWith(et)&&nt.charAt(et.length)==="/"),V={isActive:Tt,isPending:xt,isTransitioning:$},O=Tt?t:void 0,M;typeof a=="function"?M=a(V):M=[a,Tt?"active":null,xt?"pending":null,$?"transitioning":null].filter(Boolean).join(" ");let B=typeof h=="function"?h(V):h;return Q.createElement(Gp,{...T,"aria-current":O,className:M,ref:A,style:B,to:m,viewTransition:y},typeof v=="function"?v(V):v)});KA.displayName="NavLink";var YA=Q.forwardRef(({discover:i="render",fetcherKey:t,navigate:e,reloadDocument:a,replace:l,state:h,method:m=Qh,action:y,onSubmit:v,relative:T,preventScrollReset:A,viewTransition:C,...P},U)=>{let q=tR(),G=eR(y,{relative:T}),$=m.toLowerCase()==="get"?"get":"post",et=typeof y=="string"&&JT.test(y),J=nt=>{if(v&&v(nt),nt.defaultPrevented)return;nt.preventDefault();let gt=nt.nativeEvent.submitter,Tt=(gt==null?void 0:gt.getAttribute("formmethod"))||m;q(gt||nt.currentTarget,{fetcherKey:t,method:Tt,navigate:e,replace:l,state:h,relative:T,preventScrollReset:A,viewTransition:C})};return Q.createElement("form",{ref:U,method:$,action:G,onSubmit:a?v:J,...P,"data-discover":!et&&i==="render"?"true":void 0})});YA.displayName="Form";function QA(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tE(i){let t=Q.useContext(eu);return qe(t,QA(i)),t}function XA(i,{target:t,replace:e,state:a,preventScrollReset:l,relative:h,viewTransition:m}={}){let y=Bp(),v=Go(),T=Ic(i,{relative:h});return Q.useCallback(A=>{if(CA(A,t)){A.preventDefault();let C=e!==void 0?e:pc(v)===pc(T);y(i,{replace:C,state:a,preventScrollReset:l,relative:h,viewTransition:m})}},[v,y,T,e,a,t,i,l,h,m])}var WA=0,JA=()=>`__${String(++WA)}__`;function tR(){let{router:i}=tE("useSubmit"),{basename:t}=Q.useContext(Wr),e=yA();return Q.useCallback(async(a,l={})=>{let{action:h,method:m,encType:y,formData:v,body:T}=OA(a,t);if(l.navigate===!1){let A=l.fetcherKey||JA();await i.fetch(A,e,l.action||h,{preventScrollReset:l.preventScrollReset,formData:v,body:T,formMethod:l.method||m,formEncType:l.encType||y,flushSync:l.flushSync})}else await i.navigate(l.action||h,{preventScrollReset:l.preventScrollReset,formData:v,body:T,formMethod:l.method||m,formEncType:l.encType||y,replace:l.replace,state:l.state,fromRouteId:e,flushSync:l.flushSync,viewTransition:l.viewTransition})},[i,t,e])}function eR(i,{relative:t}={}){let{basename:e}=Q.useContext(Wr),a=Q.useContext(Vs);qe(a,"useFormAction must be used inside a RouteContext");let[l]=a.matches.slice(-1),h={...Ic(i||".",{relative:t})},m=Go();if(i==null){h.search=m.search;let y=new URLSearchParams(h.search),v=y.getAll("index");if(v.some(A=>A==="")){y.delete("index"),v.filter(C=>C).forEach(C=>y.append("index",C));let A=y.toString();h.search=A?`?${A}`:""}}return(!i||i===".")&&l.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(h.pathname=h.pathname==="/"?e:Cs([e,h.pathname])),pc(h)}function nR(i,t={}){let e=Q.useContext(GT);qe(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=tE("useViewTransitionState"),l=Ic(i,{relative:t.relative});if(!e.isTransitioning)return!1;let h=Ps(e.currentLocation.pathname,a)||e.currentLocation.pathname,m=Ps(e.nextLocation.pathname,a)||e.nextLocation.pathname;return uf(l.pathname,m)!=null||uf(l.pathname,h)!=null}[...UA];var iR=zT();const rR=()=>{const i=Bp(),t=()=>{i("/mapa")},e=()=>{i("/añadir")};return $t.jsxs("div",{className:"home",children:[$t.jsx("h1",{className:"title",children:"🍻 TapasRadar"}),$t.jsx("p",{className:"description",children:"Descubre los bares con más ambiente de Madrid en tiempo real. Tapas, cerveza y buena vibra — todo en un vistazo."}),$t.jsx("button",{className:"start-button",onClick:t,children:"Empezar"}),$t.jsx("br",{}),$t.jsx("button",{className:"start-button",onClick:e,children:"Añadir bars"})]})};function eE(i,t){const e=Q.useRef(t);Q.useEffect(function(){t!==e.current&&i.attributionControl!=null&&(e.current!=null&&i.attributionControl.removeAttribution(e.current),t!=null&&i.attributionControl.addAttribution(t)),e.current=t},[i,t])}const sR=1;function aR(i){return Object.freeze({__version:sR,map:i})}function oR(i,t){return Object.freeze({...i,...t})}const Zp=Q.createContext(null);function nE(){const i=Q.use(Zp);if(i==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return i}function lR(i){function t(e,a){const{instance:l,context:h}=i(e).current;Q.useImperativeHandle(a,()=>l);const{children:m}=e;return m==null?null:Te.createElement(Zp,{value:h},m)}return Q.forwardRef(t)}function uR(i){function t(e,a){const[l,h]=Q.useState(!1),{instance:m}=i(e,h).current;Q.useImperativeHandle(a,()=>m),Q.useEffect(function(){l&&m.update()},[m,l,e.children]);const y=m._contentNode;return y?iR.createPortal(e.children,y):null}return Q.forwardRef(t)}function cR(i){function t(e,a){const{instance:l}=i(e).current;return Q.useImperativeHandle(a,()=>l),null}return Q.forwardRef(t)}function iE(i,t){const e=Q.useRef(void 0);Q.useEffect(function(){return t!=null&&i.instance.on(t),e.current=t,function(){e.current!=null&&i.instance.off(e.current),e.current=null}},[i,t])}function $p(i,t){const e=i.pane??t.pane;return e?{...i,pane:e}:i}function hR(i,t){return function(a,l){const h=nE(),m=i($p(a,h),h);return eE(h.map,a.attribution),iE(m.current,a.eventHandlers),t(m.current,h,a,l),m}}var nc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var fR=nc.exports,Qv;function dR(){return Qv||(Qv=1,function(i,t){(function(e,a){a(t)})(fR,function(e){var a="1.9.4";function l(s){var u,d,_,w;for(d=1,_=arguments.length;d<_;d++){w=arguments[d];for(u in w)s[u]=w[u]}return s}var h=Object.create||function(){function s(){}return function(u){return s.prototype=u,new s}}();function m(s,u){var d=Array.prototype.slice;if(s.bind)return s.bind.apply(s,d.call(arguments,1));var _=d.call(arguments,2);return function(){return s.apply(u,_.length?_.concat(d.call(arguments)):arguments)}}var y=0;function v(s){return"_leaflet_id"in s||(s._leaflet_id=++y),s._leaflet_id}function T(s,u,d){var _,w,R,N;return N=function(){_=!1,w&&(R.apply(d,w),w=!1)},R=function(){_?w=arguments:(s.apply(d,arguments),setTimeout(N,u),_=!0)},R}function A(s,u,d){var _=u[1],w=u[0],R=_-w;return s===_&&d?s:((s-w)%R+R)%R+w}function C(){return!1}function P(s,u){if(u===!1)return s;var d=Math.pow(10,u===void 0?6:u);return Math.round(s*d)/d}function U(s){return s.trim?s.trim():s.replace(/^\s+|\s+$/g,"")}function q(s){return U(s).split(/\s+/)}function G(s,u){Object.prototype.hasOwnProperty.call(s,"options")||(s.options=s.options?h(s.options):{});for(var d in u)s.options[d]=u[d];return s.options}function $(s,u,d){var _=[];for(var w in s)_.push(encodeURIComponent(d?w.toUpperCase():w)+"="+encodeURIComponent(s[w]));return(!u||u.indexOf("?")===-1?"?":"&")+_.join("&")}var et=/\{ *([\w_ -]+) *\}/g;function J(s,u){return s.replace(et,function(d,_){var w=u[_];if(w===void 0)throw new Error("No value provided for variable "+d);return typeof w=="function"&&(w=w(u)),w})}var nt=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function gt(s,u){for(var d=0;d<s.length;d++)if(s[d]===u)return d;return-1}var Tt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function xt(s){return window["webkit"+s]||window["moz"+s]||window["ms"+s]}var V=0;function O(s){var u=+new Date,d=Math.max(0,16-(u-V));return V=u+d,window.setTimeout(s,d)}var M=window.requestAnimationFrame||xt("RequestAnimationFrame")||O,B=window.cancelAnimationFrame||xt("CancelAnimationFrame")||xt("CancelRequestAnimationFrame")||function(s){window.clearTimeout(s)};function H(s,u,d){if(d&&M===O)s.call(u);else return M.call(window,m(s,u))}function F(s){s&&B.call(window,s)}var z={__proto__:null,extend:l,create:h,bind:m,get lastId(){return y},stamp:v,throttle:T,wrapNum:A,falseFn:C,formatNum:P,trim:U,splitWords:q,setOptions:G,getParamString:$,template:J,isArray:nt,indexOf:gt,emptyImageUrl:Tt,requestFn:M,cancelFn:B,requestAnimFrame:H,cancelAnimFrame:F};function pe(){}pe.extend=function(s){var u=function(){G(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=u.__super__=this.prototype,_=h(d);_.constructor=u,u.prototype=_;for(var w in this)Object.prototype.hasOwnProperty.call(this,w)&&w!=="prototype"&&w!=="__super__"&&(u[w]=this[w]);return s.statics&&l(u,s.statics),s.includes&&(Re(s.includes),l.apply(null,[_].concat(s.includes))),l(_,s),delete _.statics,delete _.includes,_.options&&(_.options=d.options?h(d.options):{},l(_.options,s.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var R=0,N=_._initHooks.length;R<N;R++)_._initHooks[R].call(this)}},u},pe.include=function(s){var u=this.prototype.options;return l(this.prototype,s),s.options&&(this.prototype.options=u,this.mergeOptions(s.options)),this},pe.mergeOptions=function(s){return l(this.prototype.options,s),this},pe.addInitHook=function(s){var u=Array.prototype.slice.call(arguments,1),d=typeof s=="function"?s:function(){this[s].apply(this,u)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function Re(s){if(!(typeof L>"u"||!L||!L.Mixin)){s=nt(s)?s:[s];for(var u=0;u<s.length;u++)s[u]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var at={on:function(s,u,d){if(typeof s=="object")for(var _ in s)this._on(_,s[_],u);else{s=q(s);for(var w=0,R=s.length;w<R;w++)this._on(s[w],u,d)}return this},off:function(s,u,d){if(!arguments.length)delete this._events;else if(typeof s=="object")for(var _ in s)this._off(_,s[_],u);else{s=q(s);for(var w=arguments.length===1,R=0,N=s.length;R<N;R++)w?this._off(s[R]):this._off(s[R],u,d)}return this},_on:function(s,u,d,_){if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}if(this._listens(s,u,d)===!1){d===this&&(d=void 0);var w={fn:u,ctx:d};_&&(w.once=!0),this._events=this._events||{},this._events[s]=this._events[s]||[],this._events[s].push(w)}},_off:function(s,u,d){var _,w,R;if(this._events&&(_=this._events[s],!!_)){if(arguments.length===1){if(this._firingCount)for(w=0,R=_.length;w<R;w++)_[w].fn=C;delete this._events[s];return}if(typeof u!="function"){console.warn("wrong listener type: "+typeof u);return}var N=this._listens(s,u,d);if(N!==!1){var Y=_[N];this._firingCount&&(Y.fn=C,this._events[s]=_=_.slice()),_.splice(N,1)}}},fire:function(s,u,d){if(!this.listens(s,d))return this;var _=l({},u,{type:s,target:this,sourceTarget:u&&u.sourceTarget||this});if(this._events){var w=this._events[s];if(w){this._firingCount=this._firingCount+1||1;for(var R=0,N=w.length;R<N;R++){var Y=w[R],rt=Y.fn;Y.once&&this.off(s,rt,Y.ctx),rt.call(Y.ctx||this,_)}this._firingCount--}}return d&&this._propagateEvent(_),this},listens:function(s,u,d,_){typeof s!="string"&&console.warn('"string" type argument expected');var w=u;typeof u!="function"&&(_=!!u,w=void 0,d=void 0);var R=this._events&&this._events[s];if(R&&R.length&&this._listens(s,w,d)!==!1)return!0;if(_){for(var N in this._eventParents)if(this._eventParents[N].listens(s,u,d,_))return!0}return!1},_listens:function(s,u,d){if(!this._events)return!1;var _=this._events[s]||[];if(!u)return!!_.length;d===this&&(d=void 0);for(var w=0,R=_.length;w<R;w++)if(_[w].fn===u&&_[w].ctx===d)return w;return!1},once:function(s,u,d){if(typeof s=="object")for(var _ in s)this._on(_,s[_],u,!0);else{s=q(s);for(var w=0,R=s.length;w<R;w++)this._on(s[w],u,d,!0)}return this},addEventParent:function(s){return this._eventParents=this._eventParents||{},this._eventParents[v(s)]=s,this},removeEventParent:function(s){return this._eventParents&&delete this._eventParents[v(s)],this},_propagateEvent:function(s){for(var u in this._eventParents)this._eventParents[u].fire(s.type,l({layer:s.target,propagatedFrom:s.target},s),!0)}};at.addEventListener=at.on,at.removeEventListener=at.clearAllEventListeners=at.off,at.addOneTimeEventListener=at.once,at.fireEvent=at.fire,at.hasEventListeners=at.listens;var yt=pe.extend(at);function pt(s,u,d){this.x=d?Math.round(s):s,this.y=d?Math.round(u):u}var se=Math.trunc||function(s){return s>0?Math.floor(s):Math.ceil(s)};pt.prototype={clone:function(){return new pt(this.x,this.y)},add:function(s){return this.clone()._add(D(s))},_add:function(s){return this.x+=s.x,this.y+=s.y,this},subtract:function(s){return this.clone()._subtract(D(s))},_subtract:function(s){return this.x-=s.x,this.y-=s.y,this},divideBy:function(s){return this.clone()._divideBy(s)},_divideBy:function(s){return this.x/=s,this.y/=s,this},multiplyBy:function(s){return this.clone()._multiplyBy(s)},_multiplyBy:function(s){return this.x*=s,this.y*=s,this},scaleBy:function(s){return new pt(this.x*s.x,this.y*s.y)},unscaleBy:function(s){return new pt(this.x/s.x,this.y/s.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=se(this.x),this.y=se(this.y),this},distanceTo:function(s){s=D(s);var u=s.x-this.x,d=s.y-this.y;return Math.sqrt(u*u+d*d)},equals:function(s){return s=D(s),s.x===this.x&&s.y===this.y},contains:function(s){return s=D(s),Math.abs(s.x)<=Math.abs(this.x)&&Math.abs(s.y)<=Math.abs(this.y)},toString:function(){return"Point("+P(this.x)+", "+P(this.y)+")"}};function D(s,u,d){return s instanceof pt?s:nt(s)?new pt(s[0],s[1]):s==null?s:typeof s=="object"&&"x"in s&&"y"in s?new pt(s.x,s.y):new pt(s,u,d)}function ot(s,u){if(s)for(var d=u?[s,u]:s,_=0,w=d.length;_<w;_++)this.extend(d[_])}ot.prototype={extend:function(s){var u,d;if(!s)return this;if(s instanceof pt||typeof s[0]=="number"||"x"in s)u=d=D(s);else if(s=_t(s),u=s.min,d=s.max,!u||!d)return this;return!this.min&&!this.max?(this.min=u.clone(),this.max=d.clone()):(this.min.x=Math.min(u.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(u.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(s){return D((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,s)},getBottomLeft:function(){return D(this.min.x,this.max.y)},getTopRight:function(){return D(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(s){var u,d;return typeof s[0]=="number"||s instanceof pt?s=D(s):s=_t(s),s instanceof ot?(u=s.min,d=s.max):u=d=s,u.x>=this.min.x&&d.x<=this.max.x&&u.y>=this.min.y&&d.y<=this.max.y},intersects:function(s){s=_t(s);var u=this.min,d=this.max,_=s.min,w=s.max,R=w.x>=u.x&&_.x<=d.x,N=w.y>=u.y&&_.y<=d.y;return R&&N},overlaps:function(s){s=_t(s);var u=this.min,d=this.max,_=s.min,w=s.max,R=w.x>u.x&&_.x<d.x,N=w.y>u.y&&_.y<d.y;return R&&N},isValid:function(){return!!(this.min&&this.max)},pad:function(s){var u=this.min,d=this.max,_=Math.abs(u.x-d.x)*s,w=Math.abs(u.y-d.y)*s;return _t(D(u.x-_,u.y-w),D(d.x+_,d.y+w))},equals:function(s){return s?(s=_t(s),this.min.equals(s.getTopLeft())&&this.max.equals(s.getBottomRight())):!1}};function _t(s,u){return!s||s instanceof ot?s:new ot(s,u)}function mt(s,u){if(s)for(var d=u?[s,u]:s,_=0,w=d.length;_<w;_++)this.extend(d[_])}mt.prototype={extend:function(s){var u=this._southWest,d=this._northEast,_,w;if(s instanceof At)_=s,w=s;else if(s instanceof mt){if(_=s._southWest,w=s._northEast,!_||!w)return this}else return s?this.extend(Et(s)||wt(s)):this;return!u&&!d?(this._southWest=new At(_.lat,_.lng),this._northEast=new At(w.lat,w.lng)):(u.lat=Math.min(_.lat,u.lat),u.lng=Math.min(_.lng,u.lng),d.lat=Math.max(w.lat,d.lat),d.lng=Math.max(w.lng,d.lng)),this},pad:function(s){var u=this._southWest,d=this._northEast,_=Math.abs(u.lat-d.lat)*s,w=Math.abs(u.lng-d.lng)*s;return new mt(new At(u.lat-_,u.lng-w),new At(d.lat+_,d.lng+w))},getCenter:function(){return new At((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new At(this.getNorth(),this.getWest())},getSouthEast:function(){return new At(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(s){typeof s[0]=="number"||s instanceof At||"lat"in s?s=Et(s):s=wt(s);var u=this._southWest,d=this._northEast,_,w;return s instanceof mt?(_=s.getSouthWest(),w=s.getNorthEast()):_=w=s,_.lat>=u.lat&&w.lat<=d.lat&&_.lng>=u.lng&&w.lng<=d.lng},intersects:function(s){s=wt(s);var u=this._southWest,d=this._northEast,_=s.getSouthWest(),w=s.getNorthEast(),R=w.lat>=u.lat&&_.lat<=d.lat,N=w.lng>=u.lng&&_.lng<=d.lng;return R&&N},overlaps:function(s){s=wt(s);var u=this._southWest,d=this._northEast,_=s.getSouthWest(),w=s.getNorthEast(),R=w.lat>u.lat&&_.lat<d.lat,N=w.lng>u.lng&&_.lng<d.lng;return R&&N},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(s,u){return s?(s=wt(s),this._southWest.equals(s.getSouthWest(),u)&&this._northEast.equals(s.getNorthEast(),u)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function wt(s,u){return s instanceof mt?s:new mt(s,u)}function At(s,u,d){if(isNaN(s)||isNaN(u))throw new Error("Invalid LatLng object: ("+s+", "+u+")");this.lat=+s,this.lng=+u,d!==void 0&&(this.alt=+d)}At.prototype={equals:function(s,u){if(!s)return!1;s=Et(s);var d=Math.max(Math.abs(this.lat-s.lat),Math.abs(this.lng-s.lng));return d<=(u===void 0?1e-9:u)},toString:function(s){return"LatLng("+P(this.lat,s)+", "+P(this.lng,s)+")"},distanceTo:function(s){return re.distance(this,Et(s))},wrap:function(){return re.wrapLatLng(this)},toBounds:function(s){var u=180*s/40075017,d=u/Math.cos(Math.PI/180*this.lat);return wt([this.lat-u,this.lng-d],[this.lat+u,this.lng+d])},clone:function(){return new At(this.lat,this.lng,this.alt)}};function Et(s,u,d){return s instanceof At?s:nt(s)&&typeof s[0]!="object"?s.length===3?new At(s[0],s[1],s[2]):s.length===2?new At(s[0],s[1]):null:s==null?s:typeof s=="object"&&"lat"in s?new At(s.lat,"lng"in s?s.lng:s.lon,s.alt):u===void 0?null:new At(s,u,d)}var Ee={latLngToPoint:function(s,u){var d=this.projection.project(s),_=this.scale(u);return this.transformation._transform(d,_)},pointToLatLng:function(s,u){var d=this.scale(u),_=this.transformation.untransform(s,d);return this.projection.unproject(_)},project:function(s){return this.projection.project(s)},unproject:function(s){return this.projection.unproject(s)},scale:function(s){return 256*Math.pow(2,s)},zoom:function(s){return Math.log(s/256)/Math.LN2},getProjectedBounds:function(s){if(this.infinite)return null;var u=this.projection.bounds,d=this.scale(s),_=this.transformation.transform(u.min,d),w=this.transformation.transform(u.max,d);return new ot(_,w)},infinite:!1,wrapLatLng:function(s){var u=this.wrapLng?A(s.lng,this.wrapLng,!0):s.lng,d=this.wrapLat?A(s.lat,this.wrapLat,!0):s.lat,_=s.alt;return new At(d,u,_)},wrapLatLngBounds:function(s){var u=s.getCenter(),d=this.wrapLatLng(u),_=u.lat-d.lat,w=u.lng-d.lng;if(_===0&&w===0)return s;var R=s.getSouthWest(),N=s.getNorthEast(),Y=new At(R.lat-_,R.lng-w),rt=new At(N.lat-_,N.lng-w);return new mt(Y,rt)}},re=l({},Ee,{wrapLng:[-180,180],R:6371e3,distance:function(s,u){var d=Math.PI/180,_=s.lat*d,w=u.lat*d,R=Math.sin((u.lat-s.lat)*d/2),N=Math.sin((u.lng-s.lng)*d/2),Y=R*R+Math.cos(_)*Math.cos(w)*N*N,rt=2*Math.atan2(Math.sqrt(Y),Math.sqrt(1-Y));return this.R*rt}}),li=6378137,Li={R:li,MAX_LATITUDE:85.0511287798,project:function(s){var u=Math.PI/180,d=this.MAX_LATITUDE,_=Math.max(Math.min(d,s.lat),-d),w=Math.sin(_*u);return new pt(this.R*s.lng*u,this.R*Math.log((1+w)/(1-w))/2)},unproject:function(s){var u=180/Math.PI;return new At((2*Math.atan(Math.exp(s.y/this.R))-Math.PI/2)*u,s.x*u/this.R)},bounds:function(){var s=li*Math.PI;return new ot([-s,-s],[s,s])}()};function ui(s,u,d,_){if(nt(s)){this._a=s[0],this._b=s[1],this._c=s[2],this._d=s[3];return}this._a=s,this._b=u,this._c=d,this._d=_}ui.prototype={transform:function(s,u){return this._transform(s.clone(),u)},_transform:function(s,u){return u=u||1,s.x=u*(this._a*s.x+this._b),s.y=u*(this._c*s.y+this._d),s},untransform:function(s,u){return u=u||1,new pt((s.x/u-this._b)/this._a,(s.y/u-this._d)/this._c)}};function ci(s,u,d,_){return new ui(s,u,d,_)}var tr=l({},re,{code:"EPSG:3857",projection:Li,transformation:function(){var s=.5/(Math.PI*Li.R);return ci(s,.5,-s,.5)}()}),Jr=l({},tr,{code:"EPSG:900913"});function zs(s){return document.createElementNS("http://www.w3.org/2000/svg",s)}function Xa(s,u){var d="",_,w,R,N,Y,rt;for(_=0,R=s.length;_<R;_++){for(Y=s[_],w=0,N=Y.length;w<N;w++)rt=Y[w],d+=(w?"L":"M")+rt.x+" "+rt.y;d+=u?Ot.svg?"z":"x":""}return d||"M0 0"}var Pn=document.documentElement.style,Us="ActiveXObject"in window,Wa=Us&&!document.addEventListener,ts="msLaunchUri"in navigator&&!("documentMode"in document),er=Ln("webkit"),Wo=Ln("android"),es=Ln("android 2")||Ln("android 3"),Ja=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Jo=Wo&&Ln("Google")&&Ja<537&&!("AudioNode"in window),xe=!!window.opera,ue=!ts&&Ln("chrome"),On=Ln("gecko")&&!er&&!xe&&!Us,hn=!ue&&Ln("safari"),to=Ln("phantom"),tl="OTransition"in Pn,ns=navigator.platform.indexOf("Win")===0,Ar=Us&&"transition"in Pn,nr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!es,Wn="MozPerspective"in Pn,Bs=!window.L_DISABLE_3D&&(Ar||nr||Wn)&&!tl&&!to,hi=typeof orientation<"u"||Ln("mobile"),eo=hi&&er,no=hi&&nr,Hs=!window.PointerEvent&&window.MSPointerEvent,Mi=!!(window.PointerEvent||Hs),Di="ontouchstart"in window||!!window.TouchEvent,io=!window.L_NO_TOUCH&&(Di||Mi),Ni=hi&&xe,ro=hi&&On,Rr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,qs=function(){var s=!1;try{var u=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("testPassiveEventSupport",C,u),window.removeEventListener("testPassiveEventSupport",C,u)}catch{}return s}(),Ir=function(){return!!document.createElement("canvas").getContext}(),js=!!(document.createElementNS&&zs("svg").createSVGRect),Pe=!!js&&function(){var s=document.createElement("div");return s.innerHTML="<svg/>",(s.firstChild&&s.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),$e=!js&&function(){try{var s=document.createElement("div");s.innerHTML='<v:shape adj="1"/>';var u=s.firstChild;return u.style.behavior="url(#default#VML)",u&&typeof u.adj=="object"}catch{return!1}}(),Fe=navigator.platform.indexOf("Mac")===0,Jn=navigator.platform.indexOf("Linux")===0;function Ln(s){return navigator.userAgent.toLowerCase().indexOf(s)>=0}var Ot={ie:Us,ielt9:Wa,edge:ts,webkit:er,android:Wo,android23:es,androidStock:Jo,opera:xe,chrome:ue,gecko:On,safari:hn,phantom:to,opera12:tl,win:ns,ie3d:Ar,webkit3d:nr,gecko3d:Wn,any3d:Bs,mobile:hi,mobileWebkit:eo,mobileWebkit3d:no,msPointer:Hs,pointer:Mi,touch:io,touchNative:Di,mobileOpera:Ni,mobileGecko:ro,retina:Rr,passiveEvents:qs,canvas:Ir,svg:js,vml:$e,inlineSvg:Pe,mac:Fe,linux:Jn},ir=Ot.msPointer?"MSPointerDown":"pointerdown",so=Ot.msPointer?"MSPointerMove":"pointermove",Cr=Ot.msPointer?"MSPointerUp":"pointerup",rr=Ot.msPointer?"MSPointerCancel":"pointercancel",fi={touchstart:ir,touchmove:so,touchend:Cr,touchcancel:rr},di={touchstart:rs,touchmove:is,touchend:is,touchcancel:is},En={},fn=!1;function Ue(s,u,d){return u==="touchstart"&&el(),di[u]?(d=di[u].bind(this,d),s.addEventListener(fi[u],d,!1),d):(console.warn("wrong event specified:",u),C)}function ao(s,u,d){if(!fi[u]){console.warn("wrong event specified:",u);return}s.removeEventListener(fi[u],d,!1)}function Fs(s){En[s.pointerId]=s}function mi(s){En[s.pointerId]&&(En[s.pointerId]=s)}function ki(s){delete En[s.pointerId]}function el(){fn||(document.addEventListener(ir,Fs,!0),document.addEventListener(so,mi,!0),document.addEventListener(Cr,ki,!0),document.addEventListener(rr,ki,!0),fn=!0)}function is(s,u){if(u.pointerType!==(u.MSPOINTER_TYPE_MOUSE||"mouse")){u.touches=[];for(var d in En)u.touches.push(En[d]);u.changedTouches=[u],s(u)}}function rs(s,u){u.MSPOINTER_TYPE_TOUCH&&u.pointerType===u.MSPOINTER_TYPE_TOUCH&&we(u),is(s,u)}function nl(s){var u={},d,_;for(_ in s)d=s[_],u[_]=d&&d.bind?d.bind(s):d;return s=u,u.type="dblclick",u.detail=2,u.isTrusted=!1,u._simulated=!0,u}var xr=200;function Vi(s,u){s.addEventListener("dblclick",u);var d=0,_;function w(R){if(R.detail!==1){_=R.detail;return}if(!(R.pointerType==="mouse"||R.sourceCapabilities&&!R.sourceCapabilities.firesTouchEvents)){var N=$s(R);if(!(N.some(function(rt){return rt instanceof HTMLLabelElement&&rt.attributes.for})&&!N.some(function(rt){return rt instanceof HTMLInputElement||rt instanceof HTMLSelectElement}))){var Y=Date.now();Y-d<=xr?(_++,_===2&&u(nl(R))):_=1,d=Y}}}return s.addEventListener("click",w),{dblclick:u,simDblclick:w}}function sn(s,u){s.removeEventListener("dblclick",u.dblclick),s.removeEventListener("click",u.simDblclick)}var sr=pi(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Pr=pi(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),zi=Pr==="webkitTransition"||Pr==="OTransition"?Pr+"End":"transitionend";function ss(s){return typeof s=="string"?document.getElementById(s):s}function Ui(s,u){var d=s.style[u]||s.currentStyle&&s.currentStyle[u];if((!d||d==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(s,null);d=_?_[u]:null}return d==="auto"?null:d}function Qt(s,u,d){var _=document.createElement(s);return _.className=u||"",d&&d.appendChild(_),_}function fe(s){var u=s.parentNode;u&&u.removeChild(s)}function We(s){for(;s.firstChild;)s.removeChild(s.firstChild)}function Bi(s){var u=s.parentNode;u&&u.lastChild!==s&&u.appendChild(s)}function Or(s){var u=s.parentNode;u&&u.firstChild!==s&&u.insertBefore(s,u.firstChild)}function Lr(s,u){if(s.classList!==void 0)return s.classList.contains(u);var d=Ne(s);return d.length>0&&new RegExp("(^|\\s)"+u+"(\\s|$)").test(d)}function qt(s,u){if(s.classList!==void 0)for(var d=q(u),_=0,w=d.length;_<w;_++)s.classList.add(d[_]);else if(!Lr(s,u)){var R=Ne(s);oo(s,(R?R+" ":"")+u)}}function ge(s,u){s.classList!==void 0?s.classList.remove(u):oo(s,U((" "+Ne(s)+" ").replace(" "+u+" "," ")))}function oo(s,u){s.className.baseVal===void 0?s.className=u:s.className.baseVal=u}function Ne(s){return s.correspondingElement&&(s=s.correspondingElement),s.className.baseVal===void 0?s.className:s.className.baseVal}function Oe(s,u){"opacity"in s.style?s.style.opacity=u:"filter"in s.style&&as(s,u)}function as(s,u){var d=!1,_="DXImageTransform.Microsoft.Alpha";try{d=s.filters.item(_)}catch{if(u===1)return}u=Math.round(u*100),d?(d.Enabled=u!==100,d.Opacity=u):s.style.filter+=" progid:"+_+"(opacity="+u+")"}function pi(s){for(var u=document.documentElement.style,d=0;d<s.length;d++)if(s[d]in u)return s[d];return!1}function wn(s,u,d){var _=u||new pt(0,0);s.style[sr]=(Ot.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(d?" scale("+d+")":"")}function Vt(s,u){s._leaflet_pos=u,Ot.any3d?wn(s,u):(s.style.left=u.x+"px",s.style.top=u.y+"px")}function Fn(s){return s._leaflet_pos||new pt(0,0)}var dn,gi,Gs;if("onselectstart"in document)dn=function(){Dt(window,"selectstart",we)},gi=function(){ae(window,"selectstart",we)};else{var ar=pi(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);dn=function(){if(ar){var s=document.documentElement.style;Gs=s[ar],s[ar]="none"}},gi=function(){ar&&(document.documentElement.style[ar]=Gs,Gs=void 0)}}function os(){Dt(window,"dragstart",we)}function lo(){ae(window,"dragstart",we)}var Zs,Mr;function _i(s){for(;s.tabIndex===-1;)s=s.parentNode;s.style&&(bn(),Zs=s,Mr=s.style.outlineStyle,s.style.outlineStyle="none",Dt(window,"keydown",bn))}function bn(){Zs&&(Zs.style.outlineStyle=Mr,Zs=void 0,Mr=void 0,ae(window,"keydown",bn))}function Hi(s){do s=s.parentNode;while((!s.offsetWidth||!s.offsetHeight)&&s!==document.body);return s}function yi(s){var u=s.getBoundingClientRect();return{x:u.width/s.offsetWidth||1,y:u.height/s.offsetHeight||1,boundingClientRect:u}}var uo={__proto__:null,TRANSFORM:sr,TRANSITION:Pr,TRANSITION_END:zi,get:ss,getStyle:Ui,create:Qt,remove:fe,empty:We,toFront:Bi,toBack:Or,hasClass:Lr,addClass:qt,removeClass:ge,setClass:oo,getClass:Ne,setOpacity:Oe,testProp:pi,setTransform:wn,setPosition:Vt,getPosition:Fn,get disableTextSelection(){return dn},get enableTextSelection(){return gi},disableImageDrag:os,enableImageDrag:lo,preventOutline:_i,restoreOutline:bn,getSizedParentNode:Hi,getScale:yi};function Dt(s,u,d,_){if(u&&typeof u=="object")for(var w in u)or(s,w,u[w],d);else{u=q(u);for(var R=0,N=u.length;R<N;R++)or(s,u[R],d,_)}return this}var Gn="_leaflet_events";function ae(s,u,d,_){if(arguments.length===1)ti(s),delete s[Gn];else if(u&&typeof u=="object")for(var w in u)ei(s,w,u[w],d);else if(u=q(u),arguments.length===2)ti(s,function(Y){return gt(u,Y)!==-1});else for(var R=0,N=u.length;R<N;R++)ei(s,u[R],d,_);return this}function ti(s,u){for(var d in s[Gn]){var _=d.split(/\d/)[0];(!u||u(_))&&ei(s,_,null,null,d)}}var Mn={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function or(s,u,d,_){var w=u+v(d)+(_?"_"+v(_):"");if(s[Gn]&&s[Gn][w])return this;var R=function(Y){return d.call(_||s,Y||window.event)},N=R;!Ot.touchNative&&Ot.pointer&&u.indexOf("touch")===0?R=Ue(s,u,R):Ot.touch&&u==="dblclick"?R=Vi(s,R):"addEventListener"in s?u==="touchstart"||u==="touchmove"||u==="wheel"||u==="mousewheel"?s.addEventListener(Mn[u]||u,R,Ot.passiveEvents?{passive:!1}:!1):u==="mouseenter"||u==="mouseleave"?(R=function(Y){Y=Y||window.event,ur(s,Y)&&N(Y)},s.addEventListener(Mn[u],R,!1)):s.addEventListener(u,N,!1):s.attachEvent("on"+u,R),s[Gn]=s[Gn]||{},s[Gn][w]=R}function ei(s,u,d,_,w){w=w||u+v(d)+(_?"_"+v(_):"");var R=s[Gn]&&s[Gn][w];if(!R)return this;!Ot.touchNative&&Ot.pointer&&u.indexOf("touch")===0?ao(s,u,R):Ot.touch&&u==="dblclick"?sn(s,R):"removeEventListener"in s?s.removeEventListener(Mn[u]||u,R,!1):s.detachEvent("on"+u,R),s[Gn][w]=null}function Dn(s){return s.stopPropagation?s.stopPropagation():s.originalEvent?s.originalEvent._stopped=!0:s.cancelBubble=!0,this}function vi(s){return or(s,"wheel",Dn),this}function lr(s){return Dt(s,"mousedown touchstart dblclick contextmenu",Dn),s._leaflet_disable_click=!0,this}function we(s){return s.preventDefault?s.preventDefault():s.returnValue=!1,this}function mn(s){return we(s),Dn(s),this}function $s(s){if(s.composedPath)return s.composedPath();for(var u=[],d=s.target;d;)u.push(d),d=d.parentNode;return u}function Ke(s,u){if(!u)return new pt(s.clientX,s.clientY);var d=yi(u),_=d.boundingClientRect;return new pt((s.clientX-_.left)/d.x-u.clientLeft,(s.clientY-_.top)/d.y-u.clientTop)}var ce=Ot.linux&&Ot.chrome?window.devicePixelRatio:Ot.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ls(s){return Ot.edge?s.wheelDeltaY/2:s.deltaY&&s.deltaMode===0?-s.deltaY/ce:s.deltaY&&s.deltaMode===1?-s.deltaY*20:s.deltaY&&s.deltaMode===2?-s.deltaY*60:s.deltaX||s.deltaZ?0:s.wheelDelta?(s.wheelDeltaY||s.wheelDelta)/2:s.detail&&Math.abs(s.detail)<32765?-s.detail*20:s.detail?s.detail/-32765*60:0}function ur(s,u){var d=u.relatedTarget;if(!d)return!0;try{for(;d&&d!==s;)d=d.parentNode}catch{return!1}return d!==s}var il={__proto__:null,on:Dt,off:ae,stopPropagation:Dn,disableScrollPropagation:vi,disableClickPropagation:lr,preventDefault:we,stop:mn,getPropagationPath:$s,getMousePosition:Ke,getWheelDelta:ls,isExternalTarget:ur,addListener:Dt,removeListener:ae},us=yt.extend({run:function(s,u,d,_){this.stop(),this._el=s,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=Fn(s),this._offset=u.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=H(this._animate,this),this._step()},_step:function(s){var u=+new Date-this._startTime,d=this._duration*1e3;u<d?this._runFrame(this._easeOut(u/d),s):(this._runFrame(1),this._complete())},_runFrame:function(s,u){var d=this._startPos.add(this._offset.multiplyBy(s));u&&d._round(),Vt(this._el,d),this.fire("step")},_complete:function(){F(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(s){return 1-Math.pow(1-s,this._easeOutPower)}}),Gt=yt.extend({options:{crs:tr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(s,u){u=G(this,u),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(s),this._initLayout(),this._onResize=m(this._onResize,this),this._initEvents(),u.maxBounds&&this.setMaxBounds(u.maxBounds),u.zoom!==void 0&&(this._zoom=this._limitZoom(u.zoom)),u.center&&u.zoom!==void 0&&this.setView(Et(u.center),u.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Pr&&Ot.any3d&&!Ot.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Dt(this._proxy,zi,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(s,u,d){if(u=u===void 0?this._zoom:this._limitZoom(u),s=this._limitCenter(Et(s),u,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=l({animate:d.animate},d.zoom),d.pan=l({animate:d.animate,duration:d.duration},d.pan));var _=this._zoom!==u?this._tryAnimatedZoom&&this._tryAnimatedZoom(s,u,d.zoom):this._tryAnimatedPan(s,d.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(s,u,d.pan&&d.pan.noMoveStart),this},setZoom:function(s,u){return this._loaded?this.setView(this.getCenter(),s,{zoom:u}):(this._zoom=s,this)},zoomIn:function(s,u){return s=s||(Ot.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+s,u)},zoomOut:function(s,u){return s=s||(Ot.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-s,u)},setZoomAround:function(s,u,d){var _=this.getZoomScale(u),w=this.getSize().divideBy(2),R=s instanceof pt?s:this.latLngToContainerPoint(s),N=R.subtract(w).multiplyBy(1-1/_),Y=this.containerPointToLatLng(w.add(N));return this.setView(Y,u,{zoom:d})},_getBoundsCenterZoom:function(s,u){u=u||{},s=s.getBounds?s.getBounds():wt(s);var d=D(u.paddingTopLeft||u.padding||[0,0]),_=D(u.paddingBottomRight||u.padding||[0,0]),w=this.getBoundsZoom(s,!1,d.add(_));if(w=typeof u.maxZoom=="number"?Math.min(u.maxZoom,w):w,w===1/0)return{center:s.getCenter(),zoom:w};var R=_.subtract(d).divideBy(2),N=this.project(s.getSouthWest(),w),Y=this.project(s.getNorthEast(),w),rt=this.unproject(N.add(Y).divideBy(2).add(R),w);return{center:rt,zoom:w}},fitBounds:function(s,u){if(s=wt(s),!s.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(s,u);return this.setView(d.center,d.zoom,u)},fitWorld:function(s){return this.fitBounds([[-90,-180],[90,180]],s)},panTo:function(s,u){return this.setView(s,this._zoom,{pan:u})},panBy:function(s,u){if(s=D(s).round(),u=u||{},!s.x&&!s.y)return this.fire("moveend");if(u.animate!==!0&&!this.getSize().contains(s))return this._resetView(this.unproject(this.project(this.getCenter()).add(s)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new us,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),u.noMoveStart||this.fire("movestart"),u.animate!==!1){qt(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(s).round();this._panAnim.run(this._mapPane,d,u.duration||.25,u.easeLinearity)}else this._rawPanBy(s),this.fire("move").fire("moveend");return this},flyTo:function(s,u,d){if(d=d||{},d.animate===!1||!Ot.any3d)return this.setView(s,u,d);this._stop();var _=this.project(this.getCenter()),w=this.project(s),R=this.getSize(),N=this._zoom;s=Et(s),u=u===void 0?N:u;var Y=Math.max(R.x,R.y),rt=Y*this.getZoomScale(N,u),ft=w.distanceTo(_)||1,bt=1.42,Rt=bt*bt;function Pt(Ve){var Ki=Ve?-1:1,pr=Ve?rt:Y,Ur=rt*rt-Y*Y+Ki*Rt*Rt*ft*ft,gr=2*pr*Rt*ft,Ao=Ur/gr,gl=Math.sqrt(Ao*Ao+1)-Ao,Ro=gl<1e-9?-18:Math.log(gl);return Ro}function Bt(Ve){return(Math.exp(Ve)-Math.exp(-Ve))/2}function Me(Ve){return(Math.exp(Ve)+Math.exp(-Ve))/2}function Be(Ve){return Bt(Ve)/Me(Ve)}var gn=Pt(0);function ni(Ve){return Y*(Me(gn)/Me(gn+bt*Ve))}function Zc(Ve){return Y*(Me(gn)*Be(gn+bt*Ve)-Bt(gn))/Rt}function $c(Ve){return 1-Math.pow(1-Ve,1.5)}var So=Date.now(),ca=(Pt(1)-gn)/bt,Kc=d.duration?1e3*d.duration:1e3*ca*.8;function ha(){var Ve=(Date.now()-So)/Kc,Ki=$c(Ve)*ca;Ve<=1?(this._flyToFrame=H(ha,this),this._move(this.unproject(_.add(w.subtract(_).multiplyBy(Zc(Ki)/ft)),N),this.getScaleZoom(Y/ni(Ki),N),{flyTo:!0})):this._move(s,u)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),ha.call(this),this},flyToBounds:function(s,u){var d=this._getBoundsCenterZoom(s,u);return this.flyTo(d.center,d.zoom,u)},setMaxBounds:function(s){return s=wt(s),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),s.isValid()?(this.options.maxBounds=s,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(s){var u=this.options.minZoom;return this.options.minZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(s):this},setMaxZoom:function(s){var u=this.options.maxZoom;return this.options.maxZoom=s,this._loaded&&u!==s&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(s):this},panInsideBounds:function(s,u){this._enforcingBounds=!0;var d=this.getCenter(),_=this._limitCenter(d,this._zoom,wt(s));return d.equals(_)||this.panTo(_,u),this._enforcingBounds=!1,this},panInside:function(s,u){u=u||{};var d=D(u.paddingTopLeft||u.padding||[0,0]),_=D(u.paddingBottomRight||u.padding||[0,0]),w=this.project(this.getCenter()),R=this.project(s),N=this.getPixelBounds(),Y=_t([N.min.add(d),N.max.subtract(_)]),rt=Y.getSize();if(!Y.contains(R)){this._enforcingBounds=!0;var ft=R.subtract(Y.getCenter()),bt=Y.extend(R).getSize().subtract(rt);w.x+=ft.x<0?-bt.x:bt.x,w.y+=ft.y<0?-bt.y:bt.y,this.panTo(this.unproject(w),u),this._enforcingBounds=!1}return this},invalidateSize:function(s){if(!this._loaded)return this;s=l({animate:!1,pan:!0},s===!0?{animate:!0}:s);var u=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),_=u.divideBy(2).round(),w=d.divideBy(2).round(),R=_.subtract(w);return!R.x&&!R.y?this:(s.animate&&s.pan?this.panBy(R):(s.pan&&this._rawPanBy(R),this.fire("move"),s.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(m(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:u,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(s){if(s=this._locateOptions=l({timeout:1e4,watch:!1},s),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var u=m(this._handleGeolocationResponse,this),d=m(this._handleGeolocationError,this);return s.watch?this._locationWatchId=navigator.geolocation.watchPosition(u,d,s):navigator.geolocation.getCurrentPosition(u,d,s),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(s){if(this._container._leaflet_id){var u=s.code,d=s.message||(u===1?"permission denied":u===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:u,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(s){if(this._container._leaflet_id){var u=s.coords.latitude,d=s.coords.longitude,_=new At(u,d),w=_.toBounds(s.coords.accuracy*2),R=this._locateOptions;if(R.setView){var N=this.getBoundsZoom(w);this.setView(_,R.maxZoom?Math.min(N,R.maxZoom):N)}var Y={latlng:_,bounds:w,timestamp:s.timestamp};for(var rt in s.coords)typeof s.coords[rt]=="number"&&(Y[rt]=s.coords[rt]);this.fire("locationfound",Y)}},addHandler:function(s,u){if(!u)return this;var d=this[s]=new u(this);return this._handlers.push(d),this.options[s]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),fe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(F(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var s;for(s in this._layers)this._layers[s].remove();for(s in this._panes)fe(this._panes[s]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(s,u){var d="leaflet-pane"+(s?" leaflet-"+s.replace("Pane","")+"-pane":""),_=Qt("div",d,u||this._mapPane);return s&&(this._panes[s]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var s=this.getPixelBounds(),u=this.unproject(s.getBottomLeft()),d=this.unproject(s.getTopRight());return new mt(u,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(s,u,d){s=wt(s),d=D(d||[0,0]);var _=this.getZoom()||0,w=this.getMinZoom(),R=this.getMaxZoom(),N=s.getNorthWest(),Y=s.getSouthEast(),rt=this.getSize().subtract(d),ft=_t(this.project(Y,_),this.project(N,_)).getSize(),bt=Ot.any3d?this.options.zoomSnap:1,Rt=rt.x/ft.x,Pt=rt.y/ft.y,Bt=u?Math.max(Rt,Pt):Math.min(Rt,Pt);return _=this.getScaleZoom(Bt,_),bt&&(_=Math.round(_/(bt/100))*(bt/100),_=u?Math.ceil(_/bt)*bt:Math.floor(_/bt)*bt),Math.max(w,Math.min(R,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new pt(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(s,u){var d=this._getTopLeftPoint(s,u);return new ot(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(s){return this.options.crs.getProjectedBounds(s===void 0?this.getZoom():s)},getPane:function(s){return typeof s=="string"?this._panes[s]:s},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(s,u){var d=this.options.crs;return u=u===void 0?this._zoom:u,d.scale(s)/d.scale(u)},getScaleZoom:function(s,u){var d=this.options.crs;u=u===void 0?this._zoom:u;var _=d.zoom(s*d.scale(u));return isNaN(_)?1/0:_},project:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.latLngToPoint(Et(s),u)},unproject:function(s,u){return u=u===void 0?this._zoom:u,this.options.crs.pointToLatLng(D(s),u)},layerPointToLatLng:function(s){var u=D(s).add(this.getPixelOrigin());return this.unproject(u)},latLngToLayerPoint:function(s){var u=this.project(Et(s))._round();return u._subtract(this.getPixelOrigin())},wrapLatLng:function(s){return this.options.crs.wrapLatLng(Et(s))},wrapLatLngBounds:function(s){return this.options.crs.wrapLatLngBounds(wt(s))},distance:function(s,u){return this.options.crs.distance(Et(s),Et(u))},containerPointToLayerPoint:function(s){return D(s).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(s){return D(s).add(this._getMapPanePos())},containerPointToLatLng:function(s){var u=this.containerPointToLayerPoint(D(s));return this.layerPointToLatLng(u)},latLngToContainerPoint:function(s){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Et(s)))},mouseEventToContainerPoint:function(s){return Ke(s,this._container)},mouseEventToLayerPoint:function(s){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(s))},mouseEventToLatLng:function(s){return this.layerPointToLatLng(this.mouseEventToLayerPoint(s))},_initContainer:function(s){var u=this._container=ss(s);if(u){if(u._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Dt(u,"scroll",this._onScroll,this),this._containerId=v(u)},_initLayout:function(){var s=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ot.any3d,qt(s,"leaflet-container"+(Ot.touch?" leaflet-touch":"")+(Ot.retina?" leaflet-retina":"")+(Ot.ielt9?" leaflet-oldie":"")+(Ot.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var u=Ui(s,"position");u!=="absolute"&&u!=="relative"&&u!=="fixed"&&u!=="sticky"&&(s.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var s=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Vt(this._mapPane,new pt(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(qt(s.markerPane,"leaflet-zoom-hide"),qt(s.shadowPane,"leaflet-zoom-hide"))},_resetView:function(s,u,d){Vt(this._mapPane,new pt(0,0));var _=!this._loaded;this._loaded=!0,u=this._limitZoom(u),this.fire("viewprereset");var w=this._zoom!==u;this._moveStart(w,d)._move(s,u)._moveEnd(w),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(s,u){return s&&this.fire("zoomstart"),u||this.fire("movestart"),this},_move:function(s,u,d,_){u===void 0&&(u=this._zoom);var w=this._zoom!==u;return this._zoom=u,this._lastCenter=s,this._pixelOrigin=this._getNewPixelOrigin(s),_?d&&d.pinch&&this.fire("zoom",d):((w||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(s){return s&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return F(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(s){Vt(this._mapPane,this._getMapPanePos().subtract(s))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(s){this._targets={},this._targets[v(this._container)]=this;var u=s?ae:Dt;u(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&u(window,"resize",this._onResize,this),Ot.any3d&&this.options.transform3DLimit&&(s?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){F(this._resizeRequest),this._resizeRequest=H(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var s=this._getMapPanePos();Math.max(Math.abs(s.x),Math.abs(s.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(s,u){for(var d=[],_,w=u==="mouseout"||u==="mouseover",R=s.target||s.srcElement,N=!1;R;){if(_=this._targets[v(R)],_&&(u==="click"||u==="preclick")&&this._draggableMoved(_)){N=!0;break}if(_&&_.listens(u,!0)&&(w&&!ur(R,s)||(d.push(_),w))||R===this._container)break;R=R.parentNode}return!d.length&&!N&&!w&&this.listens(u,!0)&&(d=[this]),d},_isClickDisabled:function(s){for(;s&&s!==this._container;){if(s._leaflet_disable_click)return!0;s=s.parentNode}},_handleDOMEvent:function(s){var u=s.target||s.srcElement;if(!(!this._loaded||u._leaflet_disable_events||s.type==="click"&&this._isClickDisabled(u))){var d=s.type;d==="mousedown"&&_i(u),this._fireDOMEvent(s,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(s,u,d){if(s.type==="click"){var _=l({},s);_.type="preclick",this._fireDOMEvent(_,_.type,d)}var w=this._findEventTargets(s,u);if(d){for(var R=[],N=0;N<d.length;N++)d[N].listens(u,!0)&&R.push(d[N]);w=R.concat(w)}if(w.length){u==="contextmenu"&&we(s);var Y=w[0],rt={originalEvent:s};if(s.type!=="keypress"&&s.type!=="keydown"&&s.type!=="keyup"){var ft=Y.getLatLng&&(!Y._radius||Y._radius<=10);rt.containerPoint=ft?this.latLngToContainerPoint(Y.getLatLng()):this.mouseEventToContainerPoint(s),rt.layerPoint=this.containerPointToLayerPoint(rt.containerPoint),rt.latlng=ft?Y.getLatLng():this.layerPointToLatLng(rt.layerPoint)}for(N=0;N<w.length;N++)if(w[N].fire(u,rt,!0),rt.originalEvent._stopped||w[N].options.bubblingMouseEvents===!1&&gt(this._mouseEvents,u)!==-1)return}},_draggableMoved:function(s){return s=s.dragging&&s.dragging.enabled()?s:this,s.dragging&&s.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var s=0,u=this._handlers.length;s<u;s++)this._handlers[s].disable()},whenReady:function(s,u){return this._loaded?s.call(u||this,{target:this}):this.on("load",s,u),this},_getMapPanePos:function(){return Fn(this._mapPane)||new pt(0,0)},_moved:function(){var s=this._getMapPanePos();return s&&!s.equals([0,0])},_getTopLeftPoint:function(s,u){var d=s&&u!==void 0?this._getNewPixelOrigin(s,u):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(s,u){var d=this.getSize()._divideBy(2);return this.project(s,u)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(s,u,d){var _=this._getNewPixelOrigin(d,u);return this.project(s,u)._subtract(_)},_latLngBoundsToNewLayerBounds:function(s,u,d){var _=this._getNewPixelOrigin(d,u);return _t([this.project(s.getSouthWest(),u)._subtract(_),this.project(s.getNorthWest(),u)._subtract(_),this.project(s.getSouthEast(),u)._subtract(_),this.project(s.getNorthEast(),u)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(s){return this.latLngToLayerPoint(s).subtract(this._getCenterLayerPoint())},_limitCenter:function(s,u,d){if(!d)return s;var _=this.project(s,u),w=this.getSize().divideBy(2),R=new ot(_.subtract(w),_.add(w)),N=this._getBoundsOffset(R,d,u);return Math.abs(N.x)<=1&&Math.abs(N.y)<=1?s:this.unproject(_.add(N),u)},_limitOffset:function(s,u){if(!u)return s;var d=this.getPixelBounds(),_=new ot(d.min.add(s),d.max.add(s));return s.add(this._getBoundsOffset(_,u))},_getBoundsOffset:function(s,u,d){var _=_t(this.project(u.getNorthEast(),d),this.project(u.getSouthWest(),d)),w=_.min.subtract(s.min),R=_.max.subtract(s.max),N=this._rebound(w.x,-R.x),Y=this._rebound(w.y,-R.y);return new pt(N,Y)},_rebound:function(s,u){return s+u>0?Math.round(s-u)/2:Math.max(0,Math.ceil(s))-Math.max(0,Math.floor(u))},_limitZoom:function(s){var u=this.getMinZoom(),d=this.getMaxZoom(),_=Ot.any3d?this.options.zoomSnap:1;return _&&(s=Math.round(s/_)*_),Math.max(u,Math.min(d,s))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ge(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(s,u){var d=this._getCenterOffset(s)._trunc();return(u&&u.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,u),!0)},_createAnimProxy:function(){var s=this._proxy=Qt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(s),this.on("zoomanim",function(u){var d=sr,_=this._proxy.style[d];wn(this._proxy,this.project(u.center,u.zoom),this.getZoomScale(u.zoom,1)),_===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){fe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var s=this.getCenter(),u=this.getZoom();wn(this._proxy,this.project(s,u),this.getZoomScale(u,1))},_catchTransitionEnd:function(s){this._animatingZoom&&s.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(s,u,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(u-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(u),w=this._getCenterOffset(s)._divideBy(1-1/_);return d.animate!==!0&&!this.getSize().contains(w)?!1:(H(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(s,u,!0)},this),!0)},_animateZoom:function(s,u,d,_){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=s,this._animateToZoom=u,qt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:s,zoom:u,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(m(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ge(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function qi(s,u){return new Gt(s,u)}var an=pe.extend({options:{position:"topright"},initialize:function(s){G(this,s)},getPosition:function(){return this.options.position},setPosition:function(s){var u=this._map;return u&&u.removeControl(this),this.options.position=s,u&&u.addControl(this),this},getContainer:function(){return this._container},addTo:function(s){this.remove(),this._map=s;var u=this._container=this.onAdd(s),d=this.getPosition(),_=s._controlCorners[d];return qt(u,"leaflet-control"),d.indexOf("bottom")!==-1?_.insertBefore(u,_.firstChild):_.appendChild(u),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(fe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(s){this._map&&s&&s.screenX>0&&s.screenY>0&&this._map.getContainer().focus()}}),pn=function(s){return new an(s)};Gt.include({addControl:function(s){return s.addTo(this),this},removeControl:function(s){return s.remove(),this},_initControlPos:function(){var s=this._controlCorners={},u="leaflet-",d=this._controlContainer=Qt("div",u+"control-container",this._container);function _(w,R){var N=u+w+" "+u+R;s[w+R]=Qt("div",N,d)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var s in this._controlCorners)fe(this._controlCorners[s]);fe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var co=an.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(s,u,d,_){return d<_?-1:_<d?1:0}},initialize:function(s,u,d){G(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in s)this._addLayer(s[_],_);for(_ in u)this._addLayer(u[_],_,!0)},onAdd:function(s){this._initLayout(),this._update(),this._map=s,s.on("zoomend",this._checkDisabledLayers,this);for(var u=0;u<this._layers.length;u++)this._layers[u].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(s){return an.prototype.addTo.call(this,s),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(s,u){return this._addLayer(s,u),this._map?this._update():this},addOverlay:function(s,u){return this._addLayer(s,u,!0),this._map?this._update():this},removeLayer:function(s){s.off("add remove",this._onLayerChange,this);var u=this._getLayer(v(s));return u&&this._layers.splice(this._layers.indexOf(u),1),this._map?this._update():this},expand:function(){qt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var s=this._map.getSize().y-(this._container.offsetTop+50);return s<this._section.clientHeight?(qt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=s+"px"):ge(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ge(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var s="leaflet-control-layers",u=this._container=Qt("div",s),d=this.options.collapsed;u.setAttribute("aria-haspopup",!0),lr(u),vi(u);var _=this._section=Qt("section",s+"-list");d&&(this._map.on("click",this.collapse,this),Dt(u,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var w=this._layersLink=Qt("a",s+"-toggle",u);w.href="#",w.title="Layers",w.setAttribute("role","button"),Dt(w,{keydown:function(R){R.keyCode===13&&this._expandSafely()},click:function(R){we(R),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=Qt("div",s+"-base",_),this._separator=Qt("div",s+"-separator",_),this._overlaysList=Qt("div",s+"-overlays",_),u.appendChild(_)},_getLayer:function(s){for(var u=0;u<this._layers.length;u++)if(this._layers[u]&&v(this._layers[u].layer)===s)return this._layers[u]},_addLayer:function(s,u,d){this._map&&s.on("add remove",this._onLayerChange,this),this._layers.push({layer:s,name:u,overlay:d}),this.options.sortLayers&&this._layers.sort(m(function(_,w){return this.options.sortFunction(_.layer,w.layer,_.name,w.name)},this)),this.options.autoZIndex&&s.setZIndex&&(this._lastZIndex++,s.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;We(this._baseLayersList),We(this._overlaysList),this._layerControlInputs=[];var s,u,d,_,w=0;for(d=0;d<this._layers.length;d++)_=this._layers[d],this._addItem(_),u=u||_.overlay,s=s||!_.overlay,w+=_.overlay?0:1;return this.options.hideSingleBase&&(s=s&&w>1,this._baseLayersList.style.display=s?"":"none"),this._separator.style.display=u&&s?"":"none",this},_onLayerChange:function(s){this._handlingClick||this._update();var u=this._getLayer(v(s.target)),d=u.overlay?s.type==="add"?"overlayadd":"overlayremove":s.type==="add"?"baselayerchange":null;d&&this._map.fire(d,u)},_createRadioElement:function(s,u){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+s+'"'+(u?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=d,_.firstChild},_addItem:function(s){var u=document.createElement("label"),d=this._map.hasLayer(s.layer),_;s.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=d):_=this._createRadioElement("leaflet-base-layers_"+v(this),d),this._layerControlInputs.push(_),_.layerId=v(s.layer),Dt(_,"click",this._onInputClick,this);var w=document.createElement("span");w.innerHTML=" "+s.name;var R=document.createElement("span");u.appendChild(R),R.appendChild(_),R.appendChild(w);var N=s.overlay?this._overlaysList:this._baseLayersList;return N.appendChild(u),this._checkDisabledLayers(),u},_onInputClick:function(){if(!this._preventClick){var s=this._layerControlInputs,u,d,_=[],w=[];this._handlingClick=!0;for(var R=s.length-1;R>=0;R--)u=s[R],d=this._getLayer(u.layerId).layer,u.checked?_.push(d):u.checked||w.push(d);for(R=0;R<w.length;R++)this._map.hasLayer(w[R])&&this._map.removeLayer(w[R]);for(R=0;R<_.length;R++)this._map.hasLayer(_[R])||this._map.addLayer(_[R]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var s=this._layerControlInputs,u,d,_=this._map.getZoom(),w=s.length-1;w>=0;w--)u=s[w],d=this._getLayer(u.layerId).layer,u.disabled=d.options.minZoom!==void 0&&_<d.options.minZoom||d.options.maxZoom!==void 0&&_>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var s=this._section;this._preventClick=!0,Dt(s,"click",we),this.expand();var u=this;setTimeout(function(){ae(s,"click",we),u._preventClick=!1})}}),cu=function(s,u,d){return new co(s,u,d)},cr=an.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(s){var u="leaflet-control-zoom",d=Qt("div",u+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,u+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,u+"-out",d,this._zoomOut),this._updateDisabled(),s.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(s){s.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(s){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(s.shiftKey?3:1))},_zoomOut:function(s){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(s.shiftKey?3:1))},_createButton:function(s,u,d,_,w){var R=Qt("a",d,_);return R.innerHTML=s,R.href="#",R.title=u,R.setAttribute("role","button"),R.setAttribute("aria-label",u),lr(R),Dt(R,"click",mn),Dt(R,"click",w,this),Dt(R,"click",this._refocusOnMap,this),R},_updateDisabled:function(){var s=this._map,u="leaflet-disabled";ge(this._zoomInButton,u),ge(this._zoomOutButton,u),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||s._zoom===s.getMinZoom())&&(qt(this._zoomOutButton,u),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||s._zoom===s.getMaxZoom())&&(qt(this._zoomInButton,u),this._zoomInButton.setAttribute("aria-disabled","true"))}});Gt.mergeOptions({zoomControl:!0}),Gt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new cr,this.addControl(this.zoomControl))});var Ks=function(s){return new cr(s)},Ys=an.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(s){var u="leaflet-control-scale",d=Qt("div",u),_=this.options;return this._addScales(_,u+"-line",d),s.on(_.updateWhenIdle?"moveend":"move",this._update,this),s.whenReady(this._update,this),d},onRemove:function(s){s.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(s,u,d){s.metric&&(this._mScale=Qt("div",u,d)),s.imperial&&(this._iScale=Qt("div",u,d))},_update:function(){var s=this._map,u=s.getSize().y/2,d=s.distance(s.containerPointToLatLng([0,u]),s.containerPointToLatLng([this.options.maxWidth,u]));this._updateScales(d)},_updateScales:function(s){this.options.metric&&s&&this._updateMetric(s),this.options.imperial&&s&&this._updateImperial(s)},_updateMetric:function(s){var u=this._getRoundNum(s),d=u<1e3?u+" m":u/1e3+" km";this._updateScale(this._mScale,d,u/s)},_updateImperial:function(s){var u=s*3.2808399,d,_,w;u>5280?(d=u/5280,_=this._getRoundNum(d),this._updateScale(this._iScale,_+" mi",_/d)):(w=this._getRoundNum(u),this._updateScale(this._iScale,w+" ft",w/u))},_updateScale:function(s,u,d){s.style.width=Math.round(this.options.maxWidth*d)+"px",s.innerHTML=u},_getRoundNum:function(s){var u=Math.pow(10,(Math.floor(s)+"").length-1),d=s/u;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,u*d}}),Qs=function(s){return new Ys(s)},rl='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Dr=an.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ot.inlineSvg?rl+" ":"")+"Leaflet</a>"},initialize:function(s){G(this,s),this._attributions={}},onAdd:function(s){s.attributionControl=this,this._container=Qt("div","leaflet-control-attribution"),lr(this._container);for(var u in s._layers)s._layers[u].getAttribution&&this.addAttribution(s._layers[u].getAttribution());return this._update(),s.on("layeradd",this._addAttribution,this),this._container},onRemove:function(s){s.off("layeradd",this._addAttribution,this)},_addAttribution:function(s){s.layer.getAttribution&&(this.addAttribution(s.layer.getAttribution()),s.layer.once("remove",function(){this.removeAttribution(s.layer.getAttribution())},this))},setPrefix:function(s){return this.options.prefix=s,this._update(),this},addAttribution:function(s){return s?(this._attributions[s]||(this._attributions[s]=0),this._attributions[s]++,this._update(),this):this},removeAttribution:function(s){return s?(this._attributions[s]&&(this._attributions[s]--,this._update()),this):this},_update:function(){if(this._map){var s=[];for(var u in this._attributions)this._attributions[u]&&s.push(u);var d=[];this.options.prefix&&d.push(this.options.prefix),s.length&&d.push(s.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});Gt.mergeOptions({attributionControl:!0}),Gt.addInitHook(function(){this.options.attributionControl&&new Dr().addTo(this)});var hu=function(s){return new Dr(s)};an.Layers=co,an.Zoom=cr,an.Scale=Ys,an.Attribution=Dr,pn.layers=cu,pn.zoom=Ks,pn.scale=Qs,pn.attribution=hu;var Nn=pe.extend({initialize:function(s){this._map=s},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Nn.addTo=function(s,u){return s.addHandler(u,this),this};var cs={Events:at},ho=Ot.touch?"touchstart mousedown":"mousedown",Ti=yt.extend({options:{clickTolerance:3},initialize:function(s,u,d,_){G(this,_),this._element=s,this._dragStartTarget=u||s,this._preventOutline=d},enable:function(){this._enabled||(Dt(this._dragStartTarget,ho,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ti._dragging===this&&this.finishDrag(!0),ae(this._dragStartTarget,ho,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(s){if(this._enabled&&(this._moved=!1,!Lr(this._element,"leaflet-zoom-anim"))){if(s.touches&&s.touches.length!==1){Ti._dragging===this&&this.finishDrag();return}if(!(Ti._dragging||s.shiftKey||s.which!==1&&s.button!==1&&!s.touches)&&(Ti._dragging=this,this._preventOutline&&_i(this._element),os(),dn(),!this._moving)){this.fire("down");var u=s.touches?s.touches[0]:s,d=Hi(this._element);this._startPoint=new pt(u.clientX,u.clientY),this._startPos=Fn(this._element),this._parentScale=yi(d);var _=s.type==="mousedown";Dt(document,_?"mousemove":"touchmove",this._onMove,this),Dt(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(s){if(this._enabled){if(s.touches&&s.touches.length>1){this._moved=!0;return}var u=s.touches&&s.touches.length===1?s.touches[0]:s,d=new pt(u.clientX,u.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,we(s),this._moved||(this.fire("dragstart"),this._moved=!0,qt(document.body,"leaflet-dragging"),this._lastTarget=s.target||s.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),qt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=s,this._updatePosition())}},_updatePosition:function(){var s={originalEvent:this._lastEvent};this.fire("predrag",s),Vt(this._element,this._newPos),this.fire("drag",s)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(s){ge(document.body,"leaflet-dragging"),this._lastTarget&&(ge(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ae(document,"mousemove touchmove",this._onMove,this),ae(document,"mouseup touchend touchcancel",this._onUp,this),lo(),gi();var u=this._moved&&this._moving;this._moving=!1,Ti._dragging=!1,u&&this.fire("dragend",{noInertia:s,distance:this._newPos.distanceTo(this._startPos)})}});function Xs(s,u,d){var _,w=[1,4,2,8],R,N,Y,rt,ft,bt,Rt,Pt;for(R=0,bt=s.length;R<bt;R++)s[R]._code=ji(s[R],u);for(Y=0;Y<4;Y++){for(Rt=w[Y],_=[],R=0,bt=s.length,N=bt-1;R<bt;N=R++)rt=s[R],ft=s[N],rt._code&Rt?ft._code&Rt||(Pt=Je(ft,rt,Rt,u,d),Pt._code=ji(Pt,u),_.push(Pt)):(ft._code&Rt&&(Pt=Je(ft,rt,Rt,u,d),Pt._code=ji(Pt,u),_.push(Pt)),_.push(rt));s=_}return s}function Nr(s,u){var d,_,w,R,N,Y,rt,ft,bt;if(!s||s.length===0)throw new Error("latlngs not passed");f(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var Rt=Et([0,0]),Pt=wt(s),Bt=Pt.getNorthWest().distanceTo(Pt.getSouthWest())*Pt.getNorthEast().distanceTo(Pt.getNorthWest());Bt<1700&&(Rt=Ws(s));var Me=s.length,Be=[];for(d=0;d<Me;d++){var gn=Et(s[d]);Be.push(u.project(Et([gn.lat-Rt.lat,gn.lng-Rt.lng])))}for(Y=rt=ft=0,d=0,_=Me-1;d<Me;_=d++)w=Be[d],R=Be[_],N=w.y*R.x-R.y*w.x,rt+=(w.x+R.x)*N,ft+=(w.y+R.y)*N,Y+=N*3;Y===0?bt=Be[0]:bt=[rt/Y,ft/Y];var ni=u.unproject(D(bt));return Et([ni.lat+Rt.lat,ni.lng+Rt.lng])}function Ws(s){for(var u=0,d=0,_=0,w=0;w<s.length;w++){var R=Et(s[w]);u+=R.lat,d+=R.lng,_++}return Et([u/_,d/_])}var Js={__proto__:null,clipPolygon:Xs,polygonCenter:Nr,centroid:Ws};function fo(s,u){if(!u||!s.length)return s.slice();var d=u*u;return s=al(s,d),s=sl(s,d),s}function ta(s,u,d){return Math.sqrt(kn(s,u,d,!0))}function hr(s,u,d){return kn(s,u,d)}function sl(s,u){var d=s.length,_=typeof Uint8Array<"u"?Uint8Array:Array,w=new _(d);w[0]=w[d-1]=1,ea(s,w,u,0,d-1);var R,N=[];for(R=0;R<d;R++)w[R]&&N.push(s[R]);return N}function ea(s,u,d,_,w){var R=0,N,Y,rt;for(Y=_+1;Y<=w-1;Y++)rt=kn(s[Y],s[_],s[w],!0),rt>R&&(N=Y,R=rt);R>d&&(u[N]=1,ea(s,u,d,_,N),ea(s,u,d,N,w))}function al(s,u){for(var d=[s[0]],_=1,w=0,R=s.length;_<R;_++)ol(s[_],s[w])>u&&(d.push(s[_]),w=_);return w<R-1&&d.push(s[R-1]),d}var mo;function hs(s,u,d,_,w){var R=_?mo:ji(s,d),N=ji(u,d),Y,rt,ft;for(mo=N;;){if(!(R|N))return[s,u];if(R&N)return!1;Y=R||N,rt=Je(s,u,Y,d,w),ft=ji(rt,d),Y===R?(s=rt,R=ft):(u=rt,N=ft)}}function Je(s,u,d,_,w){var R=u.x-s.x,N=u.y-s.y,Y=_.min,rt=_.max,ft,bt;return d&8?(ft=s.x+R*(rt.y-s.y)/N,bt=rt.y):d&4?(ft=s.x+R*(Y.y-s.y)/N,bt=Y.y):d&2?(ft=rt.x,bt=s.y+N*(rt.x-s.x)/R):d&1&&(ft=Y.x,bt=s.y+N*(Y.x-s.x)/R),new pt(ft,bt,w)}function ji(s,u){var d=0;return s.x<u.min.x?d|=1:s.x>u.max.x&&(d|=2),s.y<u.min.y?d|=4:s.y>u.max.y&&(d|=8),d}function ol(s,u){var d=u.x-s.x,_=u.y-s.y;return d*d+_*_}function kn(s,u,d,_){var w=u.x,R=u.y,N=d.x-w,Y=d.y-R,rt=N*N+Y*Y,ft;return rt>0&&(ft=((s.x-w)*N+(s.y-R)*Y)/rt,ft>1?(w=d.x,R=d.y):ft>0&&(w+=N*ft,R+=Y*ft)),N=s.x-w,Y=s.y-R,_?N*N+Y*Y:new pt(w,R)}function f(s){return!nt(s[0])||typeof s[0][0]!="object"&&typeof s[0][0]<"u"}function E(s){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),f(s)}function b(s,u){var d,_,w,R,N,Y,rt,ft;if(!s||s.length===0)throw new Error("latlngs not passed");f(s)||(console.warn("latlngs are not flat! Only the first ring will be used"),s=s[0]);var bt=Et([0,0]),Rt=wt(s),Pt=Rt.getNorthWest().distanceTo(Rt.getSouthWest())*Rt.getNorthEast().distanceTo(Rt.getNorthWest());Pt<1700&&(bt=Ws(s));var Bt=s.length,Me=[];for(d=0;d<Bt;d++){var Be=Et(s[d]);Me.push(u.project(Et([Be.lat-bt.lat,Be.lng-bt.lng])))}for(d=0,_=0;d<Bt-1;d++)_+=Me[d].distanceTo(Me[d+1])/2;if(_===0)ft=Me[0];else for(d=0,R=0;d<Bt-1;d++)if(N=Me[d],Y=Me[d+1],w=N.distanceTo(Y),R+=w,R>_){rt=(R-_)/w,ft=[Y.x-rt*(Y.x-N.x),Y.y-rt*(Y.y-N.y)];break}var gn=u.unproject(D(ft));return Et([gn.lat+bt.lat,gn.lng+bt.lng])}var x={__proto__:null,simplify:fo,pointToSegmentDistance:ta,closestPointOnSegment:hr,clipSegment:hs,_getEdgeIntersection:Je,_getBitCode:ji,_sqClosestPointOnSegment:kn,isFlat:f,_flat:E,polylineCenter:b},K={project:function(s){return new pt(s.lng,s.lat)},unproject:function(s){return new At(s.y,s.x)},bounds:new ot([-180,-90],[180,90])},st={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ot([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(s){var u=Math.PI/180,d=this.R,_=s.lat*u,w=this.R_MINOR/d,R=Math.sqrt(1-w*w),N=R*Math.sin(_),Y=Math.tan(Math.PI/4-_/2)/Math.pow((1-N)/(1+N),R/2);return _=-d*Math.log(Math.max(Y,1e-10)),new pt(s.lng*u*d,_)},unproject:function(s){for(var u=180/Math.PI,d=this.R,_=this.R_MINOR/d,w=Math.sqrt(1-_*_),R=Math.exp(-s.y/d),N=Math.PI/2-2*Math.atan(R),Y=0,rt=.1,ft;Y<15&&Math.abs(rt)>1e-7;Y++)ft=w*Math.sin(N),ft=Math.pow((1-ft)/(1+ft),w/2),rt=Math.PI/2-2*Math.atan(R*ft)-N,N+=rt;return new At(N*u,s.x*u/d)}},vt={__proto__:null,LonLat:K,Mercator:st,SphericalMercator:Li},te=l({},re,{code:"EPSG:3395",projection:st,transformation:function(){var s=.5/(Math.PI*st.R);return ci(s,.5,-s,.5)}()}),Ge=l({},re,{code:"EPSG:4326",projection:K,transformation:ci(1/180,1,-1/180,.5)}),ee=l({},Ee,{projection:K,transformation:ci(1,0,-1,0),scale:function(s){return Math.pow(2,s)},zoom:function(s){return Math.log(s)/Math.LN2},distance:function(s,u){var d=u.lng-s.lng,_=u.lat-s.lat;return Math.sqrt(d*d+_*_)},infinite:!0});Ee.Earth=re,Ee.EPSG3395=te,Ee.EPSG3857=tr,Ee.EPSG900913=Jr,Ee.EPSG4326=Ge,Ee.Simple=ee;var de=yt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(s){return s.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(s){return s&&s.removeLayer(this),this},getPane:function(s){return this._map.getPane(s?this.options[s]||s:this.options.pane)},addInteractiveTarget:function(s){return this._map._targets[v(s)]=this,this},removeInteractiveTarget:function(s){return delete this._map._targets[v(s)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(s){var u=s.target;if(u.hasLayer(this)){if(this._map=u,this._zoomAnimated=u._zoomAnimated,this.getEvents){var d=this.getEvents();u.on(d,this),this.once("remove",function(){u.off(d,this)},this)}this.onAdd(u),this.fire("add"),u.fire("layeradd",{layer:this})}}});Gt.include({addLayer:function(s){if(!s._layerAdd)throw new Error("The provided object is not a Layer.");var u=v(s);return this._layers[u]?this:(this._layers[u]=s,s._mapToAdd=this,s.beforeAdd&&s.beforeAdd(this),this.whenReady(s._layerAdd,s),this)},removeLayer:function(s){var u=v(s);return this._layers[u]?(this._loaded&&s.onRemove(this),delete this._layers[u],this._loaded&&(this.fire("layerremove",{layer:s}),s.fire("remove")),s._map=s._mapToAdd=null,this):this},hasLayer:function(s){return v(s)in this._layers},eachLayer:function(s,u){for(var d in this._layers)s.call(u,this._layers[d]);return this},_addLayers:function(s){s=s?nt(s)?s:[s]:[];for(var u=0,d=s.length;u<d;u++)this.addLayer(s[u])},_addZoomLimit:function(s){(!isNaN(s.options.maxZoom)||!isNaN(s.options.minZoom))&&(this._zoomBoundLayers[v(s)]=s,this._updateZoomLevels())},_removeZoomLimit:function(s){var u=v(s);this._zoomBoundLayers[u]&&(delete this._zoomBoundLayers[u],this._updateZoomLevels())},_updateZoomLevels:function(){var s=1/0,u=-1/0,d=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var w=this._zoomBoundLayers[_].options;s=w.minZoom===void 0?s:Math.min(s,w.minZoom),u=w.maxZoom===void 0?u:Math.max(u,w.maxZoom)}this._layersMaxZoom=u===-1/0?void 0:u,this._layersMinZoom=s===1/0?void 0:s,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Le=de.extend({initialize:function(s,u){G(this,u),this._layers={};var d,_;if(s)for(d=0,_=s.length;d<_;d++)this.addLayer(s[d])},addLayer:function(s){var u=this.getLayerId(s);return this._layers[u]=s,this._map&&this._map.addLayer(s),this},removeLayer:function(s){var u=s in this._layers?s:this.getLayerId(s);return this._map&&this._layers[u]&&this._map.removeLayer(this._layers[u]),delete this._layers[u],this},hasLayer:function(s){var u=typeof s=="number"?s:this.getLayerId(s);return u in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(s){var u=Array.prototype.slice.call(arguments,1),d,_;for(d in this._layers)_=this._layers[d],_[s]&&_[s].apply(_,u);return this},onAdd:function(s){this.eachLayer(s.addLayer,s)},onRemove:function(s){this.eachLayer(s.removeLayer,s)},eachLayer:function(s,u){for(var d in this._layers)s.call(u,this._layers[d]);return this},getLayer:function(s){return this._layers[s]},getLayers:function(){var s=[];return this.eachLayer(s.push,s),s},setZIndex:function(s){return this.invoke("setZIndex",s)},getLayerId:function(s){return v(s)}}),fr=function(s,u){return new Le(s,u)},Ie=Le.extend({addLayer:function(s){return this.hasLayer(s)?this:(s.addEventParent(this),Le.prototype.addLayer.call(this,s),this.fire("layeradd",{layer:s}))},removeLayer:function(s){return this.hasLayer(s)?(s in this._layers&&(s=this._layers[s]),s.removeEventParent(this),Le.prototype.removeLayer.call(this,s),this.fire("layerremove",{layer:s})):this},setStyle:function(s){return this.invoke("setStyle",s)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var s=new mt;for(var u in this._layers){var d=this._layers[u];s.extend(d.getBounds?d.getBounds():d.getLatLng())}return s}}),Fi=function(s,u){return new Ie(s,u)},Gi=pe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(s){G(this,s)},createIcon:function(s){return this._createIcon("icon",s)},createShadow:function(s){return this._createIcon("shadow",s)},_createIcon:function(s,u){var d=this._getIconUrl(s);if(!d){if(s==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(d,u&&u.tagName==="IMG"?u:null);return this._setIconStyles(_,s),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(s,u){var d=this.options,_=d[u+"Size"];typeof _=="number"&&(_=[_,_]);var w=D(_),R=D(u==="shadow"&&d.shadowAnchor||d.iconAnchor||w&&w.divideBy(2,!0));s.className="leaflet-marker-"+u+" "+(d.className||""),R&&(s.style.marginLeft=-R.x+"px",s.style.marginTop=-R.y+"px"),w&&(s.style.width=w.x+"px",s.style.height=w.y+"px")},_createImg:function(s,u){return u=u||document.createElement("img"),u.src=s,u},_getIconUrl:function(s){return Ot.retina&&this.options[s+"RetinaUrl"]||this.options[s+"Url"]}});function ll(s){return new Gi(s)}var na=Gi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(s){return typeof na.imagePath!="string"&&(na.imagePath=this._detectIconPath()),(this.options.imagePath||na.imagePath)+Gi.prototype._getIconUrl.call(this,s)},_stripUrl:function(s){var u=function(d,_,w){var R=_.exec(d);return R&&R[w]};return s=u(s,/^url\((['"])?(.+)\1\)$/,2),s&&u(s,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var s=Qt("div","leaflet-default-icon-path",document.body),u=Ui(s,"background-image")||Ui(s,"backgroundImage");if(document.body.removeChild(s),u=this._stripUrl(u),u)return u;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),fu=Nn.extend({initialize:function(s){this._marker=s},addHooks:function(){var s=this._marker._icon;this._draggable||(this._draggable=new Ti(s,s,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),qt(s,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ge(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(s){var u=this._marker,d=u._map,_=this._marker.options.autoPanSpeed,w=this._marker.options.autoPanPadding,R=Fn(u._icon),N=d.getPixelBounds(),Y=d.getPixelOrigin(),rt=_t(N.min._subtract(Y).add(w),N.max._subtract(Y).subtract(w));if(!rt.contains(R)){var ft=D((Math.max(rt.max.x,R.x)-rt.max.x)/(N.max.x-rt.max.x)-(Math.min(rt.min.x,R.x)-rt.min.x)/(N.min.x-rt.min.x),(Math.max(rt.max.y,R.y)-rt.max.y)/(N.max.y-rt.max.y)-(Math.min(rt.min.y,R.y)-rt.min.y)/(N.min.y-rt.min.y)).multiplyBy(_);d.panBy(ft,{animate:!1}),this._draggable._newPos._add(ft),this._draggable._startPos._add(ft),Vt(u._icon,this._draggable._newPos),this._onDrag(s),this._panRequest=H(this._adjustPan.bind(this,s))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(s){this._marker.options.autoPan&&(F(this._panRequest),this._panRequest=H(this._adjustPan.bind(this,s)))},_onDrag:function(s){var u=this._marker,d=u._shadow,_=Fn(u._icon),w=u._map.layerPointToLatLng(_);d&&Vt(d,_),u._latlng=w,s.latlng=w,s.oldLatLng=this._oldLatLng,u.fire("move",s).fire("drag",s)},_onDragEnd:function(s){F(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",s)}}),ia=de.extend({options:{icon:new na,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(s,u){G(this,u),this._latlng=Et(s)},onAdd:function(s){this._zoomAnimated=this._zoomAnimated&&s.options.markerZoomAnimation,this._zoomAnimated&&s.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(s){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&s.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(s){var u=this._latlng;return this._latlng=Et(s),this.update(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},setZIndexOffset:function(s){return this.options.zIndexOffset=s,this.update()},getIcon:function(){return this.options.icon},setIcon:function(s){return this.options.icon=s,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var s=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(s)}return this},_initIcon:function(){var s=this.options,u="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=s.icon.createIcon(this._icon),_=!1;d!==this._icon&&(this._icon&&this._removeIcon(),_=!0,s.title&&(d.title=s.title),d.tagName==="IMG"&&(d.alt=s.alt||"")),qt(d,u),s.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,s.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Dt(d,"focus",this._panOnFocus,this);var w=s.icon.createShadow(this._shadow),R=!1;w!==this._shadow&&(this._removeShadow(),R=!0),w&&(qt(w,u),w.alt=""),this._shadow=w,s.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),w&&R&&this.getPane(s.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ae(this._icon,"focus",this._panOnFocus,this),fe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&fe(this._shadow),this._shadow=null},_setPos:function(s){this._icon&&Vt(this._icon,s),this._shadow&&Vt(this._shadow,s),this._zIndex=s.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(s){this._icon&&(this._icon.style.zIndex=this._zIndex+s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center).round();this._setPos(u)},_initInteraction:function(){if(this.options.interactive&&(qt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),fu)){var s=this.options.draggable;this.dragging&&(s=this.dragging.enabled(),this.dragging.disable()),this.dragging=new fu(this),s&&this.dragging.enable()}},setOpacity:function(s){return this.options.opacity=s,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var s=this.options.opacity;this._icon&&Oe(this._icon,s),this._shadow&&Oe(this._shadow,s)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var s=this._map;if(s){var u=this.options.icon.options,d=u.iconSize?D(u.iconSize):D(0,0),_=u.iconAnchor?D(u.iconAnchor):D(0,0);s.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:d.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function du(s,u){return new ia(s,u)}var dr=de.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(s){this._renderer=s.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(s){return G(this,s),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&s&&Object.prototype.hasOwnProperty.call(s,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),po=dr.extend({options:{fill:!0,radius:10},initialize:function(s,u){G(this,u),this._latlng=Et(s),this._radius=this.options.radius},setLatLng:function(s){var u=this._latlng;return this._latlng=Et(s),this.redraw(),this.fire("move",{oldLatLng:u,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(s){return this.options.radius=this._radius=s,this.redraw()},getRadius:function(){return this._radius},setStyle:function(s){var u=s&&s.radius||this._radius;return dr.prototype.setStyle.call(this,s),this.setRadius(u),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var s=this._radius,u=this._radiusY||s,d=this._clickTolerance(),_=[s+d,u+d];this._pxBounds=new ot(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(s){return s.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Bc(s,u){return new po(s,u)}var mu=po.extend({initialize:function(s,u,d){if(typeof u=="number"&&(u=l({},d,{radius:u})),G(this,u),this._latlng=Et(s),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(s){return this._mRadius=s,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var s=[this._radius,this._radiusY||this._radius];return new mt(this._map.layerPointToLatLng(this._point.subtract(s)),this._map.layerPointToLatLng(this._point.add(s)))},setStyle:dr.prototype.setStyle,_project:function(){var s=this._latlng.lng,u=this._latlng.lat,d=this._map,_=d.options.crs;if(_.distance===re.distance){var w=Math.PI/180,R=this._mRadius/re.R/w,N=d.project([u+R,s]),Y=d.project([u-R,s]),rt=N.add(Y).divideBy(2),ft=d.unproject(rt).lat,bt=Math.acos((Math.cos(R*w)-Math.sin(u*w)*Math.sin(ft*w))/(Math.cos(u*w)*Math.cos(ft*w)))/w;(isNaN(bt)||bt===0)&&(bt=R/Math.cos(Math.PI/180*u)),this._point=rt.subtract(d.getPixelOrigin()),this._radius=isNaN(bt)?0:rt.x-d.project([ft,s-bt]).x,this._radiusY=rt.y-N.y}else{var Rt=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(Rt).x}this._updateBounds()}});function sd(s,u,d){return new mu(s,u,d)}var mr=dr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(s,u){G(this,u),this._setLatLngs(s)},getLatLngs:function(){return this._latlngs},setLatLngs:function(s){return this._setLatLngs(s),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(s){for(var u=1/0,d=null,_=kn,w,R,N=0,Y=this._parts.length;N<Y;N++)for(var rt=this._parts[N],ft=1,bt=rt.length;ft<bt;ft++){w=rt[ft-1],R=rt[ft];var Rt=_(s,w,R,!0);Rt<u&&(u=Rt,d=_(s,w,R))}return d&&(d.distance=Math.sqrt(u)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return b(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(s,u){return u=u||this._defaultShape(),s=Et(s),u.push(s),this._bounds.extend(s),this.redraw()},_setLatLngs:function(s){this._bounds=new mt,this._latlngs=this._convertLatLngs(s)},_defaultShape:function(){return f(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(s){for(var u=[],d=f(s),_=0,w=s.length;_<w;_++)d?(u[_]=Et(s[_]),this._bounds.extend(u[_])):u[_]=this._convertLatLngs(s[_]);return u},_project:function(){var s=new ot;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,s),this._bounds.isValid()&&s.isValid()&&(this._rawPxBounds=s,this._updateBounds())},_updateBounds:function(){var s=this._clickTolerance(),u=new pt(s,s);this._rawPxBounds&&(this._pxBounds=new ot([this._rawPxBounds.min.subtract(u),this._rawPxBounds.max.add(u)]))},_projectLatlngs:function(s,u,d){var _=s[0]instanceof At,w=s.length,R,N;if(_){for(N=[],R=0;R<w;R++)N[R]=this._map.latLngToLayerPoint(s[R]),d.extend(N[R]);u.push(N)}else for(R=0;R<w;R++)this._projectLatlngs(s[R],u,d)},_clipPoints:function(){var s=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}var u=this._parts,d,_,w,R,N,Y,rt;for(d=0,w=0,R=this._rings.length;d<R;d++)for(rt=this._rings[d],_=0,N=rt.length;_<N-1;_++)Y=hs(rt[_],rt[_+1],s,_,!0),Y&&(u[w]=u[w]||[],u[w].push(Y[0]),(Y[1]!==rt[_+1]||_===N-2)&&(u[w].push(Y[1]),w++))}},_simplifyPoints:function(){for(var s=this._parts,u=this.options.smoothFactor,d=0,_=s.length;d<_;d++)s[d]=fo(s[d],u)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(s,u){var d,_,w,R,N,Y,rt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(d=0,R=this._parts.length;d<R;d++)for(Y=this._parts[d],_=0,N=Y.length,w=N-1;_<N;w=_++)if(!(!u&&_===0)&&ta(s,Y[w],Y[_])<=rt)return!0;return!1}});function ad(s,u){return new mr(s,u)}mr._flat=E;var ra=mr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Nr(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(s){var u=mr.prototype._convertLatLngs.call(this,s),d=u.length;return d>=2&&u[0]instanceof At&&u[0].equals(u[d-1])&&u.pop(),u},_setLatLngs:function(s){mr.prototype._setLatLngs.call(this,s),f(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return f(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var s=this._renderer._bounds,u=this.options.weight,d=new pt(u,u);if(s=new ot(s.min.subtract(d),s.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(s))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,w=this._rings.length,R;_<w;_++)R=Xs(this._rings[_],s,!0),R.length&&this._parts.push(R)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(s){var u=!1,d,_,w,R,N,Y,rt,ft;if(!this._pxBounds||!this._pxBounds.contains(s))return!1;for(R=0,rt=this._parts.length;R<rt;R++)for(d=this._parts[R],N=0,ft=d.length,Y=ft-1;N<ft;Y=N++)_=d[N],w=d[Y],_.y>s.y!=w.y>s.y&&s.x<(w.x-_.x)*(s.y-_.y)/(w.y-_.y)+_.x&&(u=!u);return u||mr.prototype._containsPoint.call(this,s,!0)}});function Zn(s,u){return new ra(s,u)}var $n=Ie.extend({initialize:function(s,u){G(this,u),this._layers={},s&&this.addData(s)},addData:function(s){var u=nt(s)?s:s.features,d,_,w;if(u){for(d=0,_=u.length;d<_;d++)w=u[d],(w.geometries||w.geometry||w.features||w.coordinates)&&this.addData(w);return this}var R=this.options;if(R.filter&&!R.filter(s))return this;var N=go(s,R);return N?(N.feature=sa(s),N.defaultOptions=N.options,this.resetStyle(N),R.onEachFeature&&R.onEachFeature(s,N),this.addLayer(N)):this},resetStyle:function(s){return s===void 0?this.eachLayer(this.resetStyle,this):(s.options=l({},s.defaultOptions),this._setLayerStyle(s,this.options.style),this)},setStyle:function(s){return this.eachLayer(function(u){this._setLayerStyle(u,s)},this)},_setLayerStyle:function(s,u){s.setStyle&&(typeof u=="function"&&(u=u(s.feature)),s.setStyle(u))}});function go(s,u){var d=s.type==="Feature"?s.geometry:s,_=d?d.coordinates:null,w=[],R=u&&u.pointToLayer,N=u&&u.coordsToLatLng||ul,Y,rt,ft,bt;if(!_&&!d)return null;switch(d.type){case"Point":return Y=N(_),pu(R,s,Y,u);case"MultiPoint":for(ft=0,bt=_.length;ft<bt;ft++)Y=N(_[ft]),w.push(pu(R,s,Y,u));return new Ie(w);case"LineString":case"MultiLineString":return rt=_o(_,d.type==="LineString"?0:1,N),new mr(rt,u);case"Polygon":case"MultiPolygon":return rt=_o(_,d.type==="Polygon"?1:2,N),new ra(rt,u);case"GeometryCollection":for(ft=0,bt=d.geometries.length;ft<bt;ft++){var Rt=go({geometry:d.geometries[ft],type:"Feature",properties:s.properties},u);Rt&&w.push(Rt)}return new Ie(w);case"FeatureCollection":for(ft=0,bt=d.features.length;ft<bt;ft++){var Pt=go(d.features[ft],u);Pt&&w.push(Pt)}return new Ie(w);default:throw new Error("Invalid GeoJSON object.")}}function pu(s,u,d,_){return s?s(u,d):new ia(d,_&&_.markersInheritOptions&&_)}function ul(s){return new At(s[1],s[0],s[2])}function _o(s,u,d){for(var _=[],w=0,R=s.length,N;w<R;w++)N=u?_o(s[w],u-1,d):(d||ul)(s[w]),_.push(N);return _}function yo(s,u){return s=Et(s),s.alt!==void 0?[P(s.lng,u),P(s.lat,u),P(s.alt,u)]:[P(s.lng,u),P(s.lat,u)]}function cl(s,u,d,_){for(var w=[],R=0,N=s.length;R<N;R++)w.push(u?cl(s[R],f(s[R])?0:u-1,d,_):yo(s[R],_));return!u&&d&&w.length>0&&w.push(w[0].slice()),w}function Ei(s,u){return s.feature?l({},s.feature,{geometry:u}):sa(u)}function sa(s){return s.type==="Feature"||s.type==="FeatureCollection"?s:{type:"Feature",properties:{},geometry:s}}var fs={toGeoJSON:function(s){return Ei(this,{type:"Point",coordinates:yo(this.getLatLng(),s)})}};ia.include(fs),mu.include(fs),po.include(fs),mr.include({toGeoJSON:function(s){var u=!f(this._latlngs),d=cl(this._latlngs,u?1:0,!1,s);return Ei(this,{type:(u?"Multi":"")+"LineString",coordinates:d})}}),ra.include({toGeoJSON:function(s){var u=!f(this._latlngs),d=u&&!f(this._latlngs[0]),_=cl(this._latlngs,d?2:u?1:0,!0,s);return u||(_=[_]),Ei(this,{type:(d?"Multi":"")+"Polygon",coordinates:_})}}),Le.include({toMultiPoint:function(s){var u=[];return this.eachLayer(function(d){u.push(d.toGeoJSON(s).geometry.coordinates)}),Ei(this,{type:"MultiPoint",coordinates:u})},toGeoJSON:function(s){var u=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(u==="MultiPoint")return this.toMultiPoint(s);var d=u==="GeometryCollection",_=[];return this.eachLayer(function(w){if(w.toGeoJSON){var R=w.toGeoJSON(s);if(d)_.push(R.geometry);else{var N=sa(R);N.type==="FeatureCollection"?_.push.apply(_,N.features):_.push(N)}}}),d?Ei(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function hl(s,u){return new $n(s,u)}var Hc=hl,Zi=de.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(s,u,d){this._url=s,this._bounds=wt(u),G(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(qt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){fe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(s){return this.options.opacity=s,this._image&&this._updateOpacity(),this},setStyle:function(s){return s.opacity&&this.setOpacity(s.opacity),this},bringToFront:function(){return this._map&&Bi(this._image),this},bringToBack:function(){return this._map&&Or(this._image),this},setUrl:function(s){return this._url=s,this._image&&(this._image.src=s),this},setBounds:function(s){return this._bounds=wt(s),this._map&&this._reset(),this},getEvents:function(){var s={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var s=this._url.tagName==="IMG",u=this._image=s?this._url:Qt("img");if(qt(u,"leaflet-image-layer"),this._zoomAnimated&&qt(u,"leaflet-zoom-animated"),this.options.className&&qt(u,this.options.className),u.onselectstart=C,u.onmousemove=C,u.onload=m(this.fire,this,"load"),u.onerror=m(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),s){this._url=u.src;return}u.src=this._url,u.alt=this.options.alt},_animateZoom:function(s){var u=this._map.getZoomScale(s.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,s.zoom,s.center).min;wn(this._image,d,u)},_reset:function(){var s=this._image,u=new ot(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=u.getSize();Vt(s,u.min),s.style.width=d.x+"px",s.style.height=d.y+"px"},_updateOpacity:function(){Oe(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var s=this.options.errorOverlayUrl;s&&this._url!==s&&(this._url=s,this._image.src=s)},getCenter:function(){return this._bounds.getCenter()}}),aa=function(s,u,d){return new Zi(s,u,d)},fl=Zi.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var s=this._url.tagName==="VIDEO",u=this._image=s?this._url:Qt("video");if(qt(u,"leaflet-image-layer"),this._zoomAnimated&&qt(u,"leaflet-zoom-animated"),this.options.className&&qt(u,this.options.className),u.onselectstart=C,u.onmousemove=C,u.onloadeddata=m(this.fire,this,"load"),s){for(var d=u.getElementsByTagName("source"),_=[],w=0;w<d.length;w++)_.push(d[w].src);this._url=d.length>0?_:[u.src];return}nt(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(u.style,"objectFit")&&(u.style.objectFit="fill"),u.autoplay=!!this.options.autoplay,u.loop=!!this.options.loop,u.muted=!!this.options.muted,u.playsInline=!!this.options.playsInline;for(var R=0;R<this._url.length;R++){var N=Qt("source");N.src=this._url[R],u.appendChild(N)}}});function qc(s,u,d){return new fl(s,u,d)}var kr=Zi.extend({_initImage:function(){var s=this._image=this._url;qt(s,"leaflet-image-layer"),this._zoomAnimated&&qt(s,"leaflet-zoom-animated"),this.options.className&&qt(s,this.options.className),s.onselectstart=C,s.onmousemove=C}});function jc(s,u,d){return new kr(s,u,d)}var wi=de.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(s,u){s&&(s instanceof At||nt(s))?(this._latlng=Et(s),G(this,u)):(G(this,s),this._source=u),this.options.content&&(this._content=this.options.content)},openOn:function(s){return s=arguments.length?s:this._source._map,s.hasLayer(this)||s.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(s){return this._map?this.close():(arguments.length?this._source=s:s=this._source,this._prepareOpen(),this.openOn(s._map)),this},onAdd:function(s){this._zoomAnimated=s._zoomAnimated,this._container||this._initLayout(),s._fadeAnimated&&Oe(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),s._fadeAnimated&&Oe(this._container,1),this.bringToFront(),this.options.interactive&&(qt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(s){s._fadeAnimated?(Oe(this._container,0),this._removeTimeout=setTimeout(m(fe,void 0,this._container),200)):fe(this._container),this.options.interactive&&(ge(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(s){return this._latlng=Et(s),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(s){return this._content=s,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var s={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Bi(this._container),this},bringToBack:function(){return this._map&&Or(this._container),this},_prepareOpen:function(s){var u=this._source;if(!u._map)return!1;if(u instanceof Ie){u=null;var d=this._source._layers;for(var _ in d)if(d[_]._map){u=d[_];break}if(!u)return!1;this._source=u}if(!s)if(u.getCenter)s=u.getCenter();else if(u.getLatLng)s=u.getLatLng();else if(u.getBounds)s=u.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(s),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var s=this._contentNode,u=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof u=="string")s.innerHTML=u;else{for(;s.hasChildNodes();)s.removeChild(s.firstChild);s.appendChild(u)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var s=this._map.latLngToLayerPoint(this._latlng),u=D(this.options.offset),d=this._getAnchor();this._zoomAnimated?Vt(this._container,s.add(d)):u=u.add(s).add(d);var _=this._containerBottom=-u.y,w=this._containerLeft=-Math.round(this._containerWidth/2)+u.x;this._container.style.bottom=_+"px",this._container.style.left=w+"px"}},_getAnchor:function(){return[0,0]}});Gt.include({_initOverlay:function(s,u,d,_){var w=u;return w instanceof s||(w=new s(_).setContent(u)),d&&w.setLatLng(d),w}}),de.include({_initOverlay:function(s,u,d,_){var w=d;return w instanceof s?(G(w,_),w._source=this):(w=u&&!_?u:new s(_,this),w.setContent(d)),w}});var vo=wi.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(s){return s=arguments.length?s:this._source._map,!s.hasLayer(this)&&s._popup&&s._popup.options.autoClose&&s.removeLayer(s._popup),s._popup=this,wi.prototype.openOn.call(this,s)},onAdd:function(s){wi.prototype.onAdd.call(this,s),s.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof dr||this._source.on("preclick",Dn))},onRemove:function(s){wi.prototype.onRemove.call(this,s),s.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof dr||this._source.off("preclick",Dn))},getEvents:function(){var s=wi.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(s.preclick=this.close),this.options.keepInView&&(s.moveend=this._adjustPan),s},_initLayout:function(){var s="leaflet-popup",u=this._container=Qt("div",s+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=Qt("div",s+"-content-wrapper",u);if(this._contentNode=Qt("div",s+"-content",d),lr(u),vi(this._contentNode),Dt(u,"contextmenu",Dn),this._tipContainer=Qt("div",s+"-tip-container",u),this._tip=Qt("div",s+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=Qt("a",s+"-close-button",u);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',Dt(_,"click",function(w){we(w),this.close()},this)}},_updateLayout:function(){var s=this._contentNode,u=s.style;u.width="",u.whiteSpace="nowrap";var d=s.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),u.width=d+1+"px",u.whiteSpace="",u.height="";var _=s.offsetHeight,w=this.options.maxHeight,R="leaflet-popup-scrolled";w&&_>w?(u.height=w+"px",qt(s,R)):ge(s,R),this._containerWidth=this._container.offsetWidth},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center),d=this._getAnchor();Vt(this._container,u.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var s=this._map,u=parseInt(Ui(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+u,_=this._containerWidth,w=new pt(this._containerLeft,-d-this._containerBottom);w._add(Fn(this._container));var R=s.layerPointToContainerPoint(w),N=D(this.options.autoPanPadding),Y=D(this.options.autoPanPaddingTopLeft||N),rt=D(this.options.autoPanPaddingBottomRight||N),ft=s.getSize(),bt=0,Rt=0;R.x+_+rt.x>ft.x&&(bt=R.x+_-ft.x+rt.x),R.x-bt-Y.x<0&&(bt=R.x-Y.x),R.y+d+rt.y>ft.y&&(Rt=R.y+d-ft.y+rt.y),R.y-Rt-Y.y<0&&(Rt=R.y-Y.y),(bt||Rt)&&(this.options.keepInView&&(this._autopanning=!0),s.fire("autopanstart").panBy([bt,Rt]))}},_getAnchor:function(){return D(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),od=function(s,u){return new vo(s,u)};Gt.mergeOptions({closePopupOnClick:!0}),Gt.include({openPopup:function(s,u,d){return this._initOverlay(vo,s,u,d).openOn(this),this},closePopup:function(s){return s=arguments.length?s:this._popup,s&&s.close(),this}}),de.include({bindPopup:function(s,u){return this._popup=this._initOverlay(vo,this._popup,s,u),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(s){return this._popup&&(this instanceof Ie||(this._popup._source=this),this._popup._prepareOpen(s||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(s){return this._popup&&this._popup.setContent(s),this},getPopup:function(){return this._popup},_openPopup:function(s){if(!(!this._popup||!this._map)){mn(s);var u=s.layer||s.target;if(this._popup._source===u&&!(u instanceof dr)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(s.latlng);return}this._popup._source=u,this.openPopup(s.latlng)}},_movePopup:function(s){this._popup.setLatLng(s.latlng)},_onKeyPress:function(s){s.originalEvent.keyCode===13&&this._openPopup(s)}});var dl=wi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(s){wi.prototype.onAdd.call(this,s),this.setOpacity(this.options.opacity),s.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(s){wi.prototype.onRemove.call(this,s),s.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var s=wi.prototype.getEvents.call(this);return this.options.permanent||(s.preclick=this.close),s},_initLayout:function(){var s="leaflet-tooltip",u=s+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Qt("div",u),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+v(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(s){var u,d,_=this._map,w=this._container,R=_.latLngToContainerPoint(_.getCenter()),N=_.layerPointToContainerPoint(s),Y=this.options.direction,rt=w.offsetWidth,ft=w.offsetHeight,bt=D(this.options.offset),Rt=this._getAnchor();Y==="top"?(u=rt/2,d=ft):Y==="bottom"?(u=rt/2,d=0):Y==="center"?(u=rt/2,d=ft/2):Y==="right"?(u=0,d=ft/2):Y==="left"?(u=rt,d=ft/2):N.x<R.x?(Y="right",u=0,d=ft/2):(Y="left",u=rt+(bt.x+Rt.x)*2,d=ft/2),s=s.subtract(D(u,d,!0)).add(bt).add(Rt),ge(w,"leaflet-tooltip-right"),ge(w,"leaflet-tooltip-left"),ge(w,"leaflet-tooltip-top"),ge(w,"leaflet-tooltip-bottom"),qt(w,"leaflet-tooltip-"+Y),Vt(w,s)},_updatePosition:function(){var s=this._map.latLngToLayerPoint(this._latlng);this._setPosition(s)},setOpacity:function(s){this.options.opacity=s,this._container&&Oe(this._container,s)},_animateZoom:function(s){var u=this._map._latLngToNewLayerPoint(this._latlng,s.zoom,s.center);this._setPosition(u)},_getAnchor:function(){return D(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ld=function(s,u){return new dl(s,u)};Gt.include({openTooltip:function(s,u,d){return this._initOverlay(dl,s,u,d).openOn(this),this},closeTooltip:function(s){return s.close(),this}}),de.include({bindTooltip:function(s,u){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(dl,this._tooltip,s,u),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(s){if(!(!s&&this._tooltipHandlersAdded)){var u=s?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[u](d),this._tooltipHandlersAdded=!s}},openTooltip:function(s){return this._tooltip&&(this instanceof Ie||(this._tooltip._source=this),this._tooltip._prepareOpen(s)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(s){return this._tooltip&&this._tooltip.setContent(s),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&(Dt(u,"focus",function(){this._tooltip._source=s,this.openTooltip()},this),Dt(u,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(s){var u=typeof s.getElement=="function"&&s.getElement();u&&u.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(s){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var u=this;this._map.once("moveend",function(){u._openOnceFlag=!1,u._openTooltip(s)});return}this._tooltip._source=s.layer||s.target,this.openTooltip(this._tooltip.options.sticky?s.latlng:void 0)}},_moveTooltip:function(s){var u=s.latlng,d,_;this._tooltip.options.sticky&&s.originalEvent&&(d=this._map.mouseEventToContainerPoint(s.originalEvent),_=this._map.containerPointToLayerPoint(d),u=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(u)}});var gu=Gi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(s){var u=s&&s.tagName==="DIV"?s:document.createElement("div"),d=this.options;if(d.html instanceof Element?(We(u),u.appendChild(d.html)):u.innerHTML=d.html!==!1?d.html:"",d.bgPos){var _=D(d.bgPos);u.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(u,"icon"),u},createShadow:function(){return null}});function Fc(s){return new gu(s)}Gi.Default=na;var ds=de.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ot.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(s){G(this,s)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(s){s._addZoomLimit(this)},onRemove:function(s){this._removeAllTiles(),fe(this._container),s._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Bi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Or(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(s){return this.options.opacity=s,this._updateOpacity(),this},setZIndex:function(s){return this.options.zIndex=s,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var s=this._clampZoom(this._map.getZoom());s!==this._tileZoom&&(this._tileZoom=s,this._updateLevels()),this._update()}return this},getEvents:function(){var s={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=T(this._onMoveEnd,this.options.updateInterval,this)),s.move=this._onMove),this._zoomAnimated&&(s.zoomanim=this._animateZoom),s},createTile:function(){return document.createElement("div")},getTileSize:function(){var s=this.options.tileSize;return s instanceof pt?s:new pt(s,s)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(s){for(var u=this.getPane().children,d=-s(-1/0,1/0),_=0,w=u.length,R;_<w;_++)R=u[_].style.zIndex,u[_]!==this._container&&R&&(d=s(d,+R));isFinite(d)&&(this.options.zIndex=d+s(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ot.ielt9){Oe(this._container,this.options.opacity);var s=+new Date,u=!1,d=!1;for(var _ in this._tiles){var w=this._tiles[_];if(!(!w.current||!w.loaded)){var R=Math.min(1,(s-w.loaded)/200);Oe(w.el,R),R<1?u=!0:(w.active?d=!0:this._onOpaqueTile(w),w.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),u&&(F(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this))}},_onOpaqueTile:C,_initContainer:function(){this._container||(this._container=Qt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var s=this._tileZoom,u=this.options.maxZoom;if(s!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===s?(this._levels[d].el.style.zIndex=u-Math.abs(s-d),this._onUpdateLevel(d)):(fe(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var _=this._levels[s],w=this._map;return _||(_=this._levels[s]={},_.el=Qt("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=u,_.origin=w.project(w.unproject(w.getPixelOrigin()),s).round(),_.zoom=s,this._setZoomTransform(_,w.getCenter(),w.getZoom()),C(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:C,_onRemoveLevel:C,_onCreateLevel:C,_pruneTiles:function(){if(this._map){var s,u,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(s in this._tiles)u=this._tiles[s],u.retain=u.current;for(s in this._tiles)if(u=this._tiles[s],u.current&&!u.active){var _=u.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(s in this._tiles)this._tiles[s].retain||this._removeTile(s)}},_removeTilesAtZoom:function(s){for(var u in this._tiles)this._tiles[u].coords.z===s&&this._removeTile(u)},_removeAllTiles:function(){for(var s in this._tiles)this._removeTile(s)},_invalidateAll:function(){for(var s in this._levels)fe(this._levels[s].el),this._onRemoveLevel(Number(s)),delete this._levels[s];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(s,u,d,_){var w=Math.floor(s/2),R=Math.floor(u/2),N=d-1,Y=new pt(+w,+R);Y.z=+N;var rt=this._tileCoordsToKey(Y),ft=this._tiles[rt];return ft&&ft.active?(ft.retain=!0,!0):(ft&&ft.loaded&&(ft.retain=!0),N>_?this._retainParent(w,R,N,_):!1)},_retainChildren:function(s,u,d,_){for(var w=2*s;w<2*s+2;w++)for(var R=2*u;R<2*u+2;R++){var N=new pt(w,R);N.z=d+1;var Y=this._tileCoordsToKey(N),rt=this._tiles[Y];if(rt&&rt.active){rt.retain=!0;continue}else rt&&rt.loaded&&(rt.retain=!0);d+1<_&&this._retainChildren(w,R,d+1,_)}},_resetView:function(s){var u=s&&(s.pinch||s.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),u,u)},_animateZoom:function(s){this._setView(s.center,s.zoom,!0,s.noUpdate)},_clampZoom:function(s){var u=this.options;return u.minNativeZoom!==void 0&&s<u.minNativeZoom?u.minNativeZoom:u.maxNativeZoom!==void 0&&u.maxNativeZoom<s?u.maxNativeZoom:s},_setView:function(s,u,d,_){var w=Math.round(u);this.options.maxZoom!==void 0&&w>this.options.maxZoom||this.options.minZoom!==void 0&&w<this.options.minZoom?w=void 0:w=this._clampZoom(w);var R=this.options.updateWhenZooming&&w!==this._tileZoom;(!_||R)&&(this._tileZoom=w,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),w!==void 0&&this._update(s),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(s,u)},_setZoomTransforms:function(s,u){for(var d in this._levels)this._setZoomTransform(this._levels[d],s,u)},_setZoomTransform:function(s,u,d){var _=this._map.getZoomScale(d,s.zoom),w=s.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(u,d)).round();Ot.any3d?wn(s.el,w,_):Vt(s.el,w)},_resetGrid:function(){var s=this._map,u=s.options.crs,d=this._tileSize=this.getTileSize(),_=this._tileZoom,w=this._map.getPixelWorldBounds(this._tileZoom);w&&(this._globalTileRange=this._pxBoundsToTileRange(w)),this._wrapX=u.wrapLng&&!this.options.noWrap&&[Math.floor(s.project([0,u.wrapLng[0]],_).x/d.x),Math.ceil(s.project([0,u.wrapLng[1]],_).x/d.y)],this._wrapY=u.wrapLat&&!this.options.noWrap&&[Math.floor(s.project([u.wrapLat[0],0],_).y/d.x),Math.ceil(s.project([u.wrapLat[1],0],_).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(s){var u=this._map,d=u._animatingZoom?Math.max(u._animateToZoom,u.getZoom()):u.getZoom(),_=u.getZoomScale(d,this._tileZoom),w=u.project(s,this._tileZoom).floor(),R=u.getSize().divideBy(_*2);return new ot(w.subtract(R),w.add(R))},_update:function(s){var u=this._map;if(u){var d=this._clampZoom(u.getZoom());if(s===void 0&&(s=u.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(s),w=this._pxBoundsToTileRange(_),R=w.getCenter(),N=[],Y=this.options.keepBuffer,rt=new ot(w.getBottomLeft().subtract([Y,-Y]),w.getTopRight().add([Y,-Y]));if(!(isFinite(w.min.x)&&isFinite(w.min.y)&&isFinite(w.max.x)&&isFinite(w.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ft in this._tiles){var bt=this._tiles[ft].coords;(bt.z!==this._tileZoom||!rt.contains(new pt(bt.x,bt.y)))&&(this._tiles[ft].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(s,d);return}for(var Rt=w.min.y;Rt<=w.max.y;Rt++)for(var Pt=w.min.x;Pt<=w.max.x;Pt++){var Bt=new pt(Pt,Rt);if(Bt.z=this._tileZoom,!!this._isValidTile(Bt)){var Me=this._tiles[this._tileCoordsToKey(Bt)];Me?Me.current=!0:N.push(Bt)}}if(N.sort(function(gn,ni){return gn.distanceTo(R)-ni.distanceTo(R)}),N.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Be=document.createDocumentFragment();for(Pt=0;Pt<N.length;Pt++)this._addTile(N[Pt],Be);this._level.el.appendChild(Be)}}}},_isValidTile:function(s){var u=this._map.options.crs;if(!u.infinite){var d=this._globalTileRange;if(!u.wrapLng&&(s.x<d.min.x||s.x>d.max.x)||!u.wrapLat&&(s.y<d.min.y||s.y>d.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(s);return wt(this.options.bounds).overlaps(_)},_keyToBounds:function(s){return this._tileCoordsToBounds(this._keyToTileCoords(s))},_tileCoordsToNwSe:function(s){var u=this._map,d=this.getTileSize(),_=s.scaleBy(d),w=_.add(d),R=u.unproject(_,s.z),N=u.unproject(w,s.z);return[R,N]},_tileCoordsToBounds:function(s){var u=this._tileCoordsToNwSe(s),d=new mt(u[0],u[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(s){return s.x+":"+s.y+":"+s.z},_keyToTileCoords:function(s){var u=s.split(":"),d=new pt(+u[0],+u[1]);return d.z=+u[2],d},_removeTile:function(s){var u=this._tiles[s];u&&(fe(u.el),delete this._tiles[s],this.fire("tileunload",{tile:u.el,coords:this._keyToTileCoords(s)}))},_initTile:function(s){qt(s,"leaflet-tile");var u=this.getTileSize();s.style.width=u.x+"px",s.style.height=u.y+"px",s.onselectstart=C,s.onmousemove=C,Ot.ielt9&&this.options.opacity<1&&Oe(s,this.options.opacity)},_addTile:function(s,u){var d=this._getTilePos(s),_=this._tileCoordsToKey(s),w=this.createTile(this._wrapCoords(s),m(this._tileReady,this,s));this._initTile(w),this.createTile.length<2&&H(m(this._tileReady,this,s,null,w)),Vt(w,d),this._tiles[_]={el:w,coords:s,current:!0},u.appendChild(w),this.fire("tileloadstart",{tile:w,coords:s})},_tileReady:function(s,u,d){u&&this.fire("tileerror",{error:u,tile:d,coords:s});var _=this._tileCoordsToKey(s);d=this._tiles[_],d&&(d.loaded=+new Date,this._map._fadeAnimated?(Oe(d.el,0),F(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),u||(qt(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:s})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ot.ielt9||!this._map._fadeAnimated?H(this._pruneTiles,this):setTimeout(m(this._pruneTiles,this),250)))},_getTilePos:function(s){return s.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(s){var u=new pt(this._wrapX?A(s.x,this._wrapX):s.x,this._wrapY?A(s.y,this._wrapY):s.y);return u.z=s.z,u},_pxBoundsToTileRange:function(s){var u=this.getTileSize();return new ot(s.min.unscaleBy(u).floor(),s.max.unscaleBy(u).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var s in this._tiles)if(!this._tiles[s].loaded)return!1;return!0}});function bi(s){return new ds(s)}var ms=ds.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(s,u){this._url=s,u=G(this,u),u.detectRetina&&Ot.retina&&u.maxZoom>0?(u.tileSize=Math.floor(u.tileSize/2),u.zoomReverse?(u.zoomOffset--,u.minZoom=Math.min(u.maxZoom,u.minZoom+1)):(u.zoomOffset++,u.maxZoom=Math.max(u.minZoom,u.maxZoom-1)),u.minZoom=Math.max(0,u.minZoom)):u.zoomReverse?u.minZoom=Math.min(u.maxZoom,u.minZoom):u.maxZoom=Math.max(u.minZoom,u.maxZoom),typeof u.subdomains=="string"&&(u.subdomains=u.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(s,u){return this._url===s&&u===void 0&&(u=!0),this._url=s,u||this.redraw(),this},createTile:function(s,u){var d=document.createElement("img");return Dt(d,"load",m(this._tileOnLoad,this,u,d)),Dt(d,"error",m(this._tileOnError,this,u,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(s),d},getTileUrl:function(s){var u={r:Ot.retina?"@2x":"",s:this._getSubdomain(s),x:s.x,y:s.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-s.y;this.options.tms&&(u.y=d),u["-y"]=d}return J(this._url,l(u,this.options))},_tileOnLoad:function(s,u){Ot.ielt9?setTimeout(m(s,this,null,u),0):s(null,u)},_tileOnError:function(s,u,d){var _=this.options.errorTileUrl;_&&u.getAttribute("src")!==_&&(u.src=_),s(d,u)},_onTileRemove:function(s){s.tile.onload=null},_getZoomForUrl:function(){var s=this._tileZoom,u=this.options.maxZoom,d=this.options.zoomReverse,_=this.options.zoomOffset;return d&&(s=u-s),s+_},_getSubdomain:function(s){var u=Math.abs(s.x+s.y)%this.options.subdomains.length;return this.options.subdomains[u]},_abortLoading:function(){var s,u;for(s in this._tiles)if(this._tiles[s].coords.z!==this._tileZoom&&(u=this._tiles[s].el,u.onload=C,u.onerror=C,!u.complete)){u.src=Tt;var d=this._tiles[s].coords;fe(u),delete this._tiles[s],this.fire("tileabort",{tile:u,coords:d})}},_removeTile:function(s){var u=this._tiles[s];if(u)return u.el.setAttribute("src",Tt),ds.prototype._removeTile.call(this,s)},_tileReady:function(s,u,d){if(!(!this._map||d&&d.getAttribute("src")===Tt))return ds.prototype._tileReady.call(this,s,u,d)}});function Kn(s,u){return new ms(s,u)}var Yn=ms.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(s,u){this._url=s;var d=l({},this.defaultWmsParams);for(var _ in u)_ in this.options||(d[_]=u[_]);u=G(this,u);var w=u.detectRetina&&Ot.retina?2:1,R=this.getTileSize();d.width=R.x*w,d.height=R.y*w,this.wmsParams=d},onAdd:function(s){this._crs=this.options.crs||s.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var u=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[u]=this._crs.code,ms.prototype.onAdd.call(this,s)},getTileUrl:function(s){var u=this._tileCoordsToNwSe(s),d=this._crs,_=_t(d.project(u[0]),d.project(u[1])),w=_.min,R=_.max,N=(this._wmsVersion>=1.3&&this._crs===Ge?[w.y,w.x,R.y,R.x]:[w.x,w.y,R.x,R.y]).join(","),Y=ms.prototype.getTileUrl.call(this,s);return Y+$(this.wmsParams,Y,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+N},setParams:function(s,u){return l(this.wmsParams,s),u||this.redraw(),this}});function oa(s,u){return new Yn(s,u)}ms.WMS=Yn,Kn.wms=oa;var Si=de.extend({options:{padding:.1},initialize:function(s){G(this,s),v(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),qt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var s={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(s.zoomanim=this._onAnimZoom),s},_onAnimZoom:function(s){this._updateTransform(s.center,s.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(s,u){var d=this._map.getZoomScale(u,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),w=this._map.project(this._center,u),R=_.multiplyBy(-d).add(w).subtract(this._map._getNewPixelOrigin(s,u));Ot.any3d?wn(this._container,R,d):Vt(this._container,R)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var s in this._layers)this._layers[s]._reset()},_onZoomEnd:function(){for(var s in this._layers)this._layers[s]._project()},_updatePaths:function(){for(var s in this._layers)this._layers[s]._update()},_update:function(){var s=this.options.padding,u=this._map.getSize(),d=this._map.containerPointToLayerPoint(u.multiplyBy(-s)).round();this._bounds=new ot(d,d.add(u.multiplyBy(1+s*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),To=Si.extend({options:{tolerance:0},getEvents:function(){var s=Si.prototype.getEvents.call(this);return s.viewprereset=this._onViewPreReset,s},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Si.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var s=this._container=document.createElement("canvas");Dt(s,"mousemove",this._onMouseMove,this),Dt(s,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Dt(s,"mouseout",this._handleMouseOut,this),s._leaflet_disable_events=!0,this._ctx=s.getContext("2d")},_destroyContainer:function(){F(this._redrawRequest),delete this._ctx,fe(this._container),ae(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var s;this._redrawBounds=null;for(var u in this._layers)s=this._layers[u],s._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Si.prototype._update.call(this);var s=this._bounds,u=this._container,d=s.getSize(),_=Ot.retina?2:1;Vt(u,s.min),u.width=_*d.x,u.height=_*d.y,u.style.width=d.x+"px",u.style.height=d.y+"px",Ot.retina&&this._ctx.scale(2,2),this._ctx.translate(-s.min.x,-s.min.y),this.fire("update")}},_reset:function(){Si.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(s){this._updateDashArray(s),this._layers[v(s)]=s;var u=s._order={layer:s,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=u),this._drawLast=u,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(s){this._requestRedraw(s)},_removePath:function(s){var u=s._order,d=u.next,_=u.prev;d?d.prev=_:this._drawLast=_,_?_.next=d:this._drawFirst=d,delete s._order,delete this._layers[v(s)],this._requestRedraw(s)},_updatePath:function(s){this._extendRedrawBounds(s),s._project(),s._update(),this._requestRedraw(s)},_updateStyle:function(s){this._updateDashArray(s),this._requestRedraw(s)},_updateDashArray:function(s){if(typeof s.options.dashArray=="string"){var u=s.options.dashArray.split(/[, ]+/),d=[],_,w;for(w=0;w<u.length;w++){if(_=Number(u[w]),isNaN(_))return;d.push(_)}s.options._dashArray=d}else s.options._dashArray=s.options.dashArray},_requestRedraw:function(s){this._map&&(this._extendRedrawBounds(s),this._redrawRequest=this._redrawRequest||H(this._redraw,this))},_extendRedrawBounds:function(s){if(s._pxBounds){var u=(s.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ot,this._redrawBounds.extend(s._pxBounds.min.subtract([u,u])),this._redrawBounds.extend(s._pxBounds.max.add([u,u]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var s=this._redrawBounds;if(s){var u=s.getSize();this._ctx.clearRect(s.min.x,s.min.y,u.x,u.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var s,u=this._redrawBounds;if(this._ctx.save(),u){var d=u.getSize();this._ctx.beginPath(),this._ctx.rect(u.min.x,u.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)s=_.layer,(!u||s._pxBounds&&s._pxBounds.intersects(u))&&s._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(s,u){if(this._drawing){var d,_,w,R,N=s._parts,Y=N.length,rt=this._ctx;if(Y){for(rt.beginPath(),d=0;d<Y;d++){for(_=0,w=N[d].length;_<w;_++)R=N[d][_],rt[_?"lineTo":"moveTo"](R.x,R.y);u&&rt.closePath()}this._fillStroke(rt,s)}}},_updateCircle:function(s){if(!(!this._drawing||s._empty())){var u=s._point,d=this._ctx,_=Math.max(Math.round(s._radius),1),w=(Math.max(Math.round(s._radiusY),1)||_)/_;w!==1&&(d.save(),d.scale(1,w)),d.beginPath(),d.arc(u.x,u.y/w,_,0,Math.PI*2,!1),w!==1&&d.restore(),this._fillStroke(d,s)}},_fillStroke:function(s,u){var d=u.options;d.fill&&(s.globalAlpha=d.fillOpacity,s.fillStyle=d.fillColor||d.color,s.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(s.setLineDash&&s.setLineDash(u.options&&u.options._dashArray||[]),s.globalAlpha=d.opacity,s.lineWidth=d.weight,s.strokeStyle=d.color,s.lineCap=d.lineCap,s.lineJoin=d.lineJoin,s.stroke())},_onClick:function(s){for(var u=this._map.mouseEventToLayerPoint(s),d,_,w=this._drawFirst;w;w=w.next)d=w.layer,d.options.interactive&&d._containsPoint(u)&&(!(s.type==="click"||s.type==="preclick")||!this._map._draggableMoved(d))&&(_=d);this._fireEvent(_?[_]:!1,s)},_onMouseMove:function(s){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var u=this._map.mouseEventToLayerPoint(s);this._handleMouseHover(s,u)}},_handleMouseOut:function(s){var u=this._hoveredLayer;u&&(ge(this._container,"leaflet-interactive"),this._fireEvent([u],s,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(s,u){if(!this._mouseHoverThrottled){for(var d,_,w=this._drawFirst;w;w=w.next)d=w.layer,d.options.interactive&&d._containsPoint(u)&&(_=d);_!==this._hoveredLayer&&(this._handleMouseOut(s),_&&(qt(this._container,"leaflet-interactive"),this._fireEvent([_],s,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,s),this._mouseHoverThrottled=!0,setTimeout(m(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(s,u,d){this._map._fireDOMEvent(u,d||u.type,s)},_bringToFront:function(s){var u=s._order;if(u){var d=u.next,_=u.prev;if(d)d.prev=_;else return;_?_.next=d:d&&(this._drawFirst=d),u.prev=this._drawLast,this._drawLast.next=u,u.next=null,this._drawLast=u,this._requestRedraw(s)}},_bringToBack:function(s){var u=s._order;if(u){var d=u.next,_=u.prev;if(_)_.next=d;else return;d?d.prev=_:_&&(this._drawLast=_),u.prev=null,u.next=this._drawFirst,this._drawFirst.prev=u,this._drawFirst=u,this._requestRedraw(s)}}});function Eo(s){return Ot.canvas?new To(s):null}var ps=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(s){return document.createElement("<lvml:"+s+' class="lvml">')}}catch{}return function(s){return document.createElement("<"+s+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),la={_initContainer:function(){this._container=Qt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Si.prototype._update.call(this),this.fire("update"))},_initPath:function(s){var u=s._container=ps("shape");qt(u,"leaflet-vml-shape "+(this.options.className||"")),u.coordsize="1 1",s._path=ps("path"),u.appendChild(s._path),this._updateStyle(s),this._layers[v(s)]=s},_addPath:function(s){var u=s._container;this._container.appendChild(u),s.options.interactive&&s.addInteractiveTarget(u)},_removePath:function(s){var u=s._container;fe(u),s.removeInteractiveTarget(u),delete this._layers[v(s)]},_updateStyle:function(s){var u=s._stroke,d=s._fill,_=s.options,w=s._container;w.stroked=!!_.stroke,w.filled=!!_.fill,_.stroke?(u||(u=s._stroke=ps("stroke")),w.appendChild(u),u.weight=_.weight+"px",u.color=_.color,u.opacity=_.opacity,_.dashArray?u.dashStyle=nt(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):u.dashStyle="",u.endcap=_.lineCap.replace("butt","flat"),u.joinstyle=_.lineJoin):u&&(w.removeChild(u),s._stroke=null),_.fill?(d||(d=s._fill=ps("fill")),w.appendChild(d),d.color=_.fillColor||_.color,d.opacity=_.fillOpacity):d&&(w.removeChild(d),s._fill=null)},_updateCircle:function(s){var u=s._point.round(),d=Math.round(s._radius),_=Math.round(s._radiusY||d);this._setPath(s,s._empty()?"M0 0":"AL "+u.x+","+u.y+" "+d+","+_+" 0,"+65535*360)},_setPath:function(s,u){s._path.v=u},_bringToFront:function(s){Bi(s._container)},_bringToBack:function(s){Or(s._container)}},wo=Ot.vml?ps:zs,Vr=Si.extend({_initContainer:function(){this._container=wo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=wo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){fe(this._container),ae(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Si.prototype._update.call(this);var s=this._bounds,u=s.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(u))&&(this._svgSize=u,d.setAttribute("width",u.x),d.setAttribute("height",u.y)),Vt(d,s.min),d.setAttribute("viewBox",[s.min.x,s.min.y,u.x,u.y].join(" ")),this.fire("update")}},_initPath:function(s){var u=s._path=wo("path");s.options.className&&qt(u,s.options.className),s.options.interactive&&qt(u,"leaflet-interactive"),this._updateStyle(s),this._layers[v(s)]=s},_addPath:function(s){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(s._path),s.addInteractiveTarget(s._path)},_removePath:function(s){fe(s._path),s.removeInteractiveTarget(s._path),delete this._layers[v(s)]},_updatePath:function(s){s._project(),s._update()},_updateStyle:function(s){var u=s._path,d=s.options;u&&(d.stroke?(u.setAttribute("stroke",d.color),u.setAttribute("stroke-opacity",d.opacity),u.setAttribute("stroke-width",d.weight),u.setAttribute("stroke-linecap",d.lineCap),u.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?u.setAttribute("stroke-dasharray",d.dashArray):u.removeAttribute("stroke-dasharray"),d.dashOffset?u.setAttribute("stroke-dashoffset",d.dashOffset):u.removeAttribute("stroke-dashoffset")):u.setAttribute("stroke","none"),d.fill?(u.setAttribute("fill",d.fillColor||d.color),u.setAttribute("fill-opacity",d.fillOpacity),u.setAttribute("fill-rule",d.fillRule||"evenodd")):u.setAttribute("fill","none"))},_updatePoly:function(s,u){this._setPath(s,Xa(s._parts,u))},_updateCircle:function(s){var u=s._point,d=Math.max(Math.round(s._radius),1),_=Math.max(Math.round(s._radiusY),1)||d,w="a"+d+","+_+" 0 1,0 ",R=s._empty()?"M0 0":"M"+(u.x-d)+","+u.y+w+d*2+",0 "+w+-d*2+",0 ";this._setPath(s,R)},_setPath:function(s,u){s._path.setAttribute("d",u)},_bringToFront:function(s){Bi(s._path)},_bringToBack:function(s){Or(s._path)}});Ot.vml&&Vr.include(la);function gs(s){return Ot.svg||Ot.vml?new Vr(s):null}Gt.include({getRenderer:function(s){var u=s.options.renderer||this._getPaneRenderer(s.options.pane)||this.options.renderer||this._renderer;return u||(u=this._renderer=this._createRenderer()),this.hasLayer(u)||this.addLayer(u),u},_getPaneRenderer:function(s){if(s==="overlayPane"||s===void 0)return!1;var u=this._paneRenderers[s];return u===void 0&&(u=this._createRenderer({pane:s}),this._paneRenderers[s]=u),u},_createRenderer:function(s){return this.options.preferCanvas&&Eo(s)||gs(s)}});var Gc=ra.extend({initialize:function(s,u){ra.prototype.initialize.call(this,this._boundsToLatLngs(s),u)},setBounds:function(s){return this.setLatLngs(this._boundsToLatLngs(s))},_boundsToLatLngs:function(s){return s=wt(s),[s.getSouthWest(),s.getNorthWest(),s.getNorthEast(),s.getSouthEast()]}});function Qn(s,u){return new Gc(s,u)}Vr.create=wo,Vr.pointsToPath=Xa,$n.geometryToLayer=go,$n.coordsToLatLng=ul,$n.coordsToLatLngs=_o,$n.latLngToCoords=yo,$n.latLngsToCoords=cl,$n.getFeature=Ei,$n.asFeature=sa,Gt.mergeOptions({boxZoom:!0});var ml=Nn.extend({initialize:function(s){this._map=s,this._container=s._container,this._pane=s._panes.overlayPane,this._resetStateTimeout=0,s.on("unload",this._destroy,this)},addHooks:function(){Dt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ae(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){fe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(s){if(!s.shiftKey||s.which!==1&&s.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),dn(),os(),this._startPoint=this._map.mouseEventToContainerPoint(s),Dt(document,{contextmenu:mn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(s){this._moved||(this._moved=!0,this._box=Qt("div","leaflet-zoom-box",this._container),qt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(s);var u=new ot(this._point,this._startPoint),d=u.getSize();Vt(this._box,u.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(fe(this._box),ge(this._container,"leaflet-crosshair")),gi(),lo(),ae(document,{contextmenu:mn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(s){if(!(s.which!==1&&s.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(m(this._resetState,this),0);var u=new mt(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(u).fire("boxzoomend",{boxZoomBounds:u})}},_onKeyDown:function(s){s.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Gt.addInitHook("addHandler","boxZoom",ml),Gt.mergeOptions({doubleClickZoom:!0});var $i=Nn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(s){var u=this._map,d=u.getZoom(),_=u.options.zoomDelta,w=s.originalEvent.shiftKey?d-_:d+_;u.options.doubleClickZoom==="center"?u.setZoom(w):u.setZoomAround(s.containerPoint,w)}});Gt.addInitHook("addHandler","doubleClickZoom",$i),Gt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var _u=Nn.extend({addHooks:function(){if(!this._draggable){var s=this._map;this._draggable=new Ti(s._mapPane,s._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),s.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),s.on("zoomend",this._onZoomEnd,this),s.whenReady(this._onZoomEnd,this))}qt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ge(this._map._container,"leaflet-grab"),ge(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var s=this._map;if(s._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var u=wt(this._map.options.maxBounds);this._offsetLimit=_t(this._map.latLngToContainerPoint(u.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(u.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;s.fire("movestart").fire("dragstart"),s.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(s){if(this._map.options.inertia){var u=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(u),this._prunePositions(u)}this._map.fire("move",s).fire("drag",s)},_prunePositions:function(s){for(;this._positions.length>1&&s-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var s=this._map.getSize().divideBy(2),u=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=u.subtract(s).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(s,u){return s-(s-u)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var s=this._draggable._newPos.subtract(this._draggable._startPos),u=this._offsetLimit;s.x<u.min.x&&(s.x=this._viscousLimit(s.x,u.min.x)),s.y<u.min.y&&(s.y=this._viscousLimit(s.y,u.min.y)),s.x>u.max.x&&(s.x=this._viscousLimit(s.x,u.max.x)),s.y>u.max.y&&(s.y=this._viscousLimit(s.y,u.max.y)),this._draggable._newPos=this._draggable._startPos.add(s)}},_onPreDragWrap:function(){var s=this._worldWidth,u=Math.round(s/2),d=this._initialWorldOffset,_=this._draggable._newPos.x,w=(_-u+d)%s+u-d,R=(_+u+d)%s-u-d,N=Math.abs(w+d)<Math.abs(R+d)?w:R;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=N},_onDragEnd:function(s){var u=this._map,d=u.options,_=!d.inertia||s.noInertia||this._times.length<2;if(u.fire("dragend",s),_)u.fire("moveend");else{this._prunePositions(+new Date);var w=this._lastPos.subtract(this._positions[0]),R=(this._lastTime-this._times[0])/1e3,N=d.easeLinearity,Y=w.multiplyBy(N/R),rt=Y.distanceTo([0,0]),ft=Math.min(d.inertiaMaxSpeed,rt),bt=Y.multiplyBy(ft/rt),Rt=ft/(d.inertiaDeceleration*N),Pt=bt.multiplyBy(-Rt/2).round();!Pt.x&&!Pt.y?u.fire("moveend"):(Pt=u._limitOffset(Pt,u.options.maxBounds),H(function(){u.panBy(Pt,{duration:Rt,easeLinearity:N,noMoveStart:!0,animate:!0})}))}}});Gt.addInitHook("addHandler","dragging",_u),Gt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var bo=Nn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(s){this._map=s,this._setPanDelta(s.options.keyboardPanDelta),this._setZoomDelta(s.options.zoomDelta)},addHooks:function(){var s=this._map._container;s.tabIndex<=0&&(s.tabIndex="0"),Dt(s,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ae(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var s=document.body,u=document.documentElement,d=s.scrollTop||u.scrollTop,_=s.scrollLeft||u.scrollLeft;this._map._container.focus(),window.scrollTo(_,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(s){var u=this._panKeys={},d=this.keyCodes,_,w;for(_=0,w=d.left.length;_<w;_++)u[d.left[_]]=[-1*s,0];for(_=0,w=d.right.length;_<w;_++)u[d.right[_]]=[s,0];for(_=0,w=d.down.length;_<w;_++)u[d.down[_]]=[0,s];for(_=0,w=d.up.length;_<w;_++)u[d.up[_]]=[0,-1*s]},_setZoomDelta:function(s){var u=this._zoomKeys={},d=this.keyCodes,_,w;for(_=0,w=d.zoomIn.length;_<w;_++)u[d.zoomIn[_]]=s;for(_=0,w=d.zoomOut.length;_<w;_++)u[d.zoomOut[_]]=-s},_addHooks:function(){Dt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ae(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(s){if(!(s.altKey||s.ctrlKey||s.metaKey)){var u=s.keyCode,d=this._map,_;if(u in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(_=this._panKeys[u],s.shiftKey&&(_=D(_).multiplyBy(3)),d.options.maxBounds&&(_=d._limitOffset(D(_),d.options.maxBounds)),d.options.worldCopyJump){var w=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(_)));d.panTo(w)}else d.panBy(_)}else if(u in this._zoomKeys)d.setZoom(d.getZoom()+(s.shiftKey?3:1)*this._zoomKeys[u]);else if(u===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;mn(s)}}});Gt.addInitHook("addHandler","keyboard",bo),Gt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var zr=Nn.extend({addHooks:function(){Dt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ae(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(s){var u=ls(s),d=this._map.options.wheelDebounceTime;this._delta+=u,this._lastMousePos=this._map.mouseEventToContainerPoint(s),this._startTime||(this._startTime=+new Date);var _=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(m(this._performZoom,this),_),mn(s)},_performZoom:function(){var s=this._map,u=s.getZoom(),d=this._map.options.zoomSnap||0;s._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),w=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,R=d?Math.ceil(w/d)*d:w,N=s._limitZoom(u+(this._delta>0?R:-R))-u;this._delta=0,this._startTime=null,N&&(s.options.scrollWheelZoom==="center"?s.setZoom(u+N):s.setZoomAround(this._lastMousePos,u+N))}});Gt.addInitHook("addHandler","scrollWheelZoom",zr);var yu=600;Gt.mergeOptions({tapHold:Ot.touchNative&&Ot.safari&&Ot.mobile,tapTolerance:15});var pl=Nn.extend({addHooks:function(){Dt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ae(this._map._container,"touchstart",this._onDown,this)},_onDown:function(s){if(clearTimeout(this._holdTimeout),s.touches.length===1){var u=s.touches[0];this._startPos=this._newPos=new pt(u.clientX,u.clientY),this._holdTimeout=setTimeout(m(function(){this._cancel(),this._isTapValid()&&(Dt(document,"touchend",we),Dt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",u))},this),yu),Dt(document,"touchend touchcancel contextmenu",this._cancel,this),Dt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function s(){ae(document,"touchend",we),ae(document,"touchend touchcancel",s)},_cancel:function(){clearTimeout(this._holdTimeout),ae(document,"touchend touchcancel contextmenu",this._cancel,this),ae(document,"touchmove",this._onMove,this)},_onMove:function(s){var u=s.touches[0];this._newPos=new pt(u.clientX,u.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(s,u){var d=new MouseEvent(s,{bubbles:!0,cancelable:!0,view:window,screenX:u.screenX,screenY:u.screenY,clientX:u.clientX,clientY:u.clientY});d._simulated=!0,u.target.dispatchEvent(d)}});Gt.addInitHook("addHandler","tapHold",pl),Gt.mergeOptions({touchZoom:Ot.touch,bounceAtZoomLimits:!0});var _s=Nn.extend({addHooks:function(){qt(this._map._container,"leaflet-touch-zoom"),Dt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ge(this._map._container,"leaflet-touch-zoom"),ae(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(s){var u=this._map;if(!(!s.touches||s.touches.length!==2||u._animatingZoom||this._zooming)){var d=u.mouseEventToContainerPoint(s.touches[0]),_=u.mouseEventToContainerPoint(s.touches[1]);this._centerPoint=u.getSize()._divideBy(2),this._startLatLng=u.containerPointToLatLng(this._centerPoint),u.options.touchZoom!=="center"&&(this._pinchStartLatLng=u.containerPointToLatLng(d.add(_)._divideBy(2))),this._startDist=d.distanceTo(_),this._startZoom=u.getZoom(),this._moved=!1,this._zooming=!0,u._stop(),Dt(document,"touchmove",this._onTouchMove,this),Dt(document,"touchend touchcancel",this._onTouchEnd,this),we(s)}},_onTouchMove:function(s){if(!(!s.touches||s.touches.length!==2||!this._zooming)){var u=this._map,d=u.mouseEventToContainerPoint(s.touches[0]),_=u.mouseEventToContainerPoint(s.touches[1]),w=d.distanceTo(_)/this._startDist;if(this._zoom=u.getScaleZoom(w,this._startZoom),!u.options.bounceAtZoomLimits&&(this._zoom<u.getMinZoom()&&w<1||this._zoom>u.getMaxZoom()&&w>1)&&(this._zoom=u._limitZoom(this._zoom)),u.options.touchZoom==="center"){if(this._center=this._startLatLng,w===1)return}else{var R=d._add(_)._divideBy(2)._subtract(this._centerPoint);if(w===1&&R.x===0&&R.y===0)return;this._center=u.unproject(u.project(this._pinchStartLatLng,this._zoom).subtract(R),this._zoom)}this._moved||(u._moveStart(!0,!1),this._moved=!0),F(this._animRequest);var N=m(u._move,u,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=H(N,this,!0),we(s)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,F(this._animRequest),ae(document,"touchmove",this._onTouchMove,this),ae(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Gt.addInitHook("addHandler","touchZoom",_s),Gt.BoxZoom=ml,Gt.DoubleClickZoom=$i,Gt.Drag=_u,Gt.Keyboard=bo,Gt.ScrollWheelZoom=zr,Gt.TapHold=pl,Gt.TouchZoom=_s,e.Bounds=ot,e.Browser=Ot,e.CRS=Ee,e.Canvas=To,e.Circle=mu,e.CircleMarker=po,e.Class=pe,e.Control=an,e.DivIcon=gu,e.DivOverlay=wi,e.DomEvent=il,e.DomUtil=uo,e.Draggable=Ti,e.Evented=yt,e.FeatureGroup=Ie,e.GeoJSON=$n,e.GridLayer=ds,e.Handler=Nn,e.Icon=Gi,e.ImageOverlay=Zi,e.LatLng=At,e.LatLngBounds=mt,e.Layer=de,e.LayerGroup=Le,e.LineUtil=x,e.Map=Gt,e.Marker=ia,e.Mixin=cs,e.Path=dr,e.Point=pt,e.PolyUtil=Js,e.Polygon=ra,e.Polyline=mr,e.Popup=vo,e.PosAnimation=us,e.Projection=vt,e.Rectangle=Gc,e.Renderer=Si,e.SVG=Vr,e.SVGOverlay=kr,e.TileLayer=ms,e.Tooltip=dl,e.Transformation=ui,e.Util=z,e.VideoOverlay=fl,e.bind=m,e.bounds=_t,e.canvas=Eo,e.circle=sd,e.circleMarker=Bc,e.control=pn,e.divIcon=Fc,e.extend=l,e.featureGroup=Fi,e.geoJSON=hl,e.geoJson=Hc,e.gridLayer=bi,e.icon=ll,e.imageOverlay=aa,e.latLng=Et,e.latLngBounds=wt,e.layerGroup=fr,e.map=qi,e.marker=du,e.point=D,e.polygon=Zn,e.polyline=ad,e.popup=od,e.rectangle=Qn,e.setOptions=G,e.stamp=v,e.svg=gs,e.svgOverlay=jc,e.tileLayer=Kn,e.tooltip=ld,e.transformation=ci,e.version=a,e.videoOverlay=qc;var ua=window.L;e.noConflict=function(){return window.L=ua,this},window.L=e})}(nc,nc.exports)),nc.exports}var Cc=dR();const rE=Vp(Cc);function Kp(i,t,e){return Object.freeze({instance:i,context:t,container:e})}function Yp(i,t){return t==null?function(a,l){const h=Q.useRef(void 0);return h.current||(h.current=i(a,l)),h}:function(a,l){const h=Q.useRef(void 0);h.current||(h.current=i(a,l));const m=Q.useRef(a),{instance:y}=h.current;return Q.useEffect(function(){m.current!==a&&(t(y,a,m.current),m.current=a)},[y,a,t]),h}}function mR(i,t){Q.useEffect(function(){return(t.layerContainer??t.map).addLayer(i.instance),function(){var h;(h=t.layerContainer)==null||h.removeLayer(i.instance),t.map.removeLayer(i.instance)}},[t,i])}function sE(i){return function(e){const a=nE(),l=i($p(e,a),a);return eE(a.map,e.attribution),iE(l.current,e.eventHandlers),mR(l.current,a),l}}function pR(i,t){const e=Yp(i,t),a=sE(e);return lR(a)}function gR(i,t){const e=Yp(i),a=hR(e,t);return uR(a)}function _R(i,t){const e=Yp(i,t),a=sE(e);return cR(a)}function yR(i,t,e){const{opacity:a,zIndex:l}=t;a!=null&&a!==e.opacity&&i.setOpacity(a),l!=null&&l!==e.zIndex&&i.setZIndex(l)}function vR({bounds:i,boundsOptions:t,center:e,children:a,className:l,id:h,placeholder:m,style:y,whenReady:v,zoom:T,...A},C){const[P]=Q.useState({className:l,id:h,style:y}),[U,q]=Q.useState(null),G=Q.useRef(void 0);Q.useImperativeHandle(C,()=>(U==null?void 0:U.map)??null,[U]);const $=Q.useCallback(J=>{if(J!==null&&!G.current){const nt=new Cc.Map(J,A);G.current=nt,e!=null&&T!=null?nt.setView(e,T):i!=null&&nt.fitBounds(i,t),v!=null&&nt.whenReady(v),q(aR(nt))}},[]);Q.useEffect(()=>()=>{U==null||U.map.remove()},[U]);const et=U?Te.createElement(Zp,{value:U},a):m??null;return Te.createElement("div",{...P,ref:$},et)}const TR=Q.forwardRef(vR),ER=pR(function({position:t,...e},a){const l=new Cc.Marker(t,e);return Kp(l,oR(a,{overlayContainer:l}))},function(t,e,a){e.position!==a.position&&t.setLatLng(e.position),e.icon!=null&&e.icon!==a.icon&&t.setIcon(e.icon),e.zIndexOffset!=null&&e.zIndexOffset!==a.zIndexOffset&&t.setZIndexOffset(e.zIndexOffset),e.opacity!=null&&e.opacity!==a.opacity&&t.setOpacity(e.opacity),t.dragging!=null&&e.draggable!==a.draggable&&(e.draggable===!0?t.dragging.enable():t.dragging.disable())}),wR=gR(function(t,e){const a=new Cc.Popup(t,e.overlayContainer);return Kp(a,e)},function(t,e,{position:a},l){Q.useEffect(function(){const{instance:m}=t;function y(T){T.popup===m&&(m.update(),l(!0))}function v(T){T.popup===m&&l(!1)}return e.map.on({popupopen:y,popupclose:v}),e.overlayContainer==null?(a!=null&&m.setLatLng(a),m.openOn(e.map)):e.overlayContainer.bindPopup(m),function(){var A;e.map.off({popupopen:y,popupclose:v}),(A=e.overlayContainer)==null||A.unbindPopup(),e.map.removeLayer(m)}},[t,e,l,a])}),bR=_R(function({url:t,...e},a){const l=new Cc.TileLayer(t,$p(e,a));return Kp(l,a)},function(t,e,a){yR(t,e,a);const{url:l}=e;l!=null&&l!==a.url&&t.setUrl(l)}),SR=()=>{};var Xv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=function(i){const t=[];let e=0;for(let a=0;a<i.length;a++){let l=i.charCodeAt(a);l<128?t[e++]=l:l<2048?(t[e++]=l>>6|192,t[e++]=l&63|128):(l&64512)===55296&&a+1<i.length&&(i.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++a)&1023),t[e++]=l>>18|240,t[e++]=l>>12&63|128,t[e++]=l>>6&63|128,t[e++]=l&63|128):(t[e++]=l>>12|224,t[e++]=l>>6&63|128,t[e++]=l&63|128)}return t},AR=function(i){const t=[];let e=0,a=0;for(;e<i.length;){const l=i[e++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const h=i[e++];t[a++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=i[e++],m=i[e++],y=i[e++],v=((l&7)<<18|(h&63)<<12|(m&63)<<6|y&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const h=i[e++],m=i[e++];t[a++]=String.fromCharCode((l&15)<<12|(h&63)<<6|m&63)}}return t.join("")},oE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<i.length;l+=3){const h=i[l],m=l+1<i.length,y=m?i[l+1]:0,v=l+2<i.length,T=v?i[l+2]:0,A=h>>2,C=(h&3)<<4|y>>4;let P=(y&15)<<2|T>>6,U=T&63;v||(U=64,m||(P=64)),a.push(e[A],e[C],e[P],e[U])}return a.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(aE(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):AR(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<i.length;){const h=e[i.charAt(l++)],y=l<i.length?e[i.charAt(l)]:0;++l;const T=l<i.length?e[i.charAt(l)]:64;++l;const C=l<i.length?e[i.charAt(l)]:64;if(++l,h==null||y==null||T==null||C==null)throw new RR;const P=h<<2|y>>4;if(a.push(P),T!==64){const U=y<<4&240|T>>2;if(a.push(U),C!==64){const q=T<<6&192|C;a.push(q)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class RR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IR=function(i){const t=aE(i);return oE.encodeByteArray(t,!0)},cf=function(i){return IR(i).replace(/\./g,"")},lE=function(i){try{return oE.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=()=>CR().__FIREBASE_DEFAULTS__,PR=()=>{if(typeof process>"u"||typeof Xv>"u")return;const i=Xv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},OR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&lE(i[1]);return t&&JSON.parse(t)},Nf=()=>{try{return SR()||xR()||PR()||OR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},uE=i=>{var t,e;return(e=(t=Nf())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[i]},LR=i=>{const t=uE(i);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),a]:[t.substring(0,e),a]},cE=()=>{var i;return(i=Nf())===null||i===void 0?void 0:i.config},hE=i=>{var t;return(t=Nf())===null||t===void 0?void 0:t[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,a)=>{e?this.reject(e):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(i){return i.endsWith(".cloudworkstations.dev")}async function fE(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},a=t||"demo-project",l=i.iat||0,h=i.sub||i.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},i);return[cf(JSON.stringify(e)),cf(JSON.stringify(m)),""].join(".")}const oc={};function NR(){const i={prod:[],emulator:[]};for(const t of Object.keys(oc))oc[t]?i.emulator.push(t):i.prod.push(t);return i}function kR(i){let t=document.getElementById(i),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",i),e=!0),{created:e,element:t}}let Wv=!1;function dE(i,t){if(typeof window>"u"||typeof document>"u"||!nu(window.location.host)||oc[i]===t||oc[i]||Wv)return;oc[i]=t;function e(P){return`__firebase__banner__${P}`}const a="__firebase__banner",h=NR().prod.length>0;function m(){const P=document.getElementById(a);P&&P.remove()}function y(P){P.style.display="flex",P.style.background="#7faaf0",P.style.position="fixed",P.style.bottom="5px",P.style.left="5px",P.style.padding=".5em",P.style.borderRadius="5px",P.style.alignItems="center"}function v(P,U){P.setAttribute("width","24"),P.setAttribute("id",U),P.setAttribute("height","24"),P.setAttribute("viewBox","0 0 24 24"),P.setAttribute("fill","none"),P.style.marginLeft="-6px"}function T(){const P=document.createElement("span");return P.style.cursor="pointer",P.style.marginLeft="16px",P.style.fontSize="24px",P.innerHTML=" &times;",P.onclick=()=>{Wv=!0,m()},P}function A(P,U){P.setAttribute("id",U),P.innerText="Learn more",P.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",P.setAttribute("target","__blank"),P.style.paddingLeft="5px",P.style.textDecoration="underline"}function C(){const P=kR(a),U=e("text"),q=document.getElementById(U)||document.createElement("span"),G=e("learnmore"),$=document.getElementById(G)||document.createElement("a"),et=e("preprendIcon"),J=document.getElementById(et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(P.created){const nt=P.element;y(nt),A($,G);const gt=T();v(J,et),nt.append(J,q,$,gt),document.body.appendChild(nt)}h?(q.innerText="Preview backend disconnected.",J.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(J.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,q.innerText="Preview backend running in this workspace."),q.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",C):C()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function VR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qn())}function zR(){var i;const t=(i=Nf())===null||i===void 0?void 0:i.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function UR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Qp(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function BR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function HR(){const i=qn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function qR(){return!zR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Xp(){try{return typeof indexedDB=="object"}catch{return!1}}function Wp(){return new Promise((i,t)=>{try{let e=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),e||self.indexedDB.deleteDatabase(a),i(!0)},l.onupgradeneeded=()=>{e=!1},l.onerror=()=>{var h;t(((h=l.error)===null||h===void 0?void 0:h.message)||"")}}catch(e){t(e)}})}function mE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR="FirebaseError";class Sr extends Error{constructor(t,e,a){super(e),this.code=t,this.customData=a,this.name=jR,Object.setPrototypeOf(this,Sr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zo.prototype.create)}}class Zo{constructor(t,e,a){this.service=t,this.serviceName=e,this.errors=a}create(t,...e){const a=e[0]||{},l=`${this.service}/${t}`,h=this.errors[t],m=h?FR(h,a):"Error",y=`${this.serviceName}: ${m} (${l}).`;return new Sr(l,y,a)}}function FR(i,t){return i.replace(GR,(e,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const GR=/\{\$([^}]+)}/g;function ZR(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function ja(i,t){if(i===t)return!0;const e=Object.keys(i),a=Object.keys(t);for(const l of e){if(!a.includes(l))return!1;const h=i[l],m=t[l];if(Jv(h)&&Jv(m)){if(!ja(h,m))return!1}else if(h!==m)return!1}for(const l of a)if(!e.includes(l))return!1;return!0}function Jv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(i){const t=[];for(const[e,a]of Object.entries(i))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function $R(i,t){const e=new KR(i,t);return e.subscribe.bind(e)}class KR{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,a){let l;if(t===void 0&&e===void 0&&a===void 0)throw new Error("Missing Observer.");YR(t,["next","error","complete"])?l=t:l={next:t,error:e,complete:a},l.next===void 0&&(l.next=jm),l.error===void 0&&(l.error=jm),l.complete===void 0&&(l.complete=jm);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function YR(i,t){if(typeof i!="object"||i===null)return!1;for(const e of t)if(e in i&&typeof i[e]=="function")return!0;return!1}function jm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=1e3,XR=2,WR=4*60*60*1e3,JR=.5;function t0(i,t=QR,e=XR){const a=t*Math.pow(e,i),l=Math.round(JR*a*(Math.random()-.5)*2);return Math.min(WR,a+l)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(i){return i&&i._delegate?i._delegate:i}class wr{constructor(t,e,a){this.name=t,this.instanceFactory=e,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const a=new MR;if(this.instancesDeferred.set(e,a),this.isInitialized(e)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:e});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const a=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(h){if(l)return null;throw h}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(nI(t))try{this.getOrInitializeService({instanceIdentifier:Do})}catch{}for(const[e,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(e);try{const h=this.getOrInitializeService({instanceIdentifier:l});a.resolve(h)}catch{}}}}clearInstance(t=Do){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Do){return this.instances.has(t)}getOptions(t=Do){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:e});for(const[h,m]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(h);a===y&&m.resolve(l)}return l}onInit(t,e){var a;const l=this.normalizeInstanceIdentifier(e),h=(a=this.onInitCallbacks.get(l))!==null&&a!==void 0?a:new Set;h.add(t),this.onInitCallbacks.set(l,h);const m=this.instances.get(l);return m&&t(m,l),()=>{h.delete(t)}}invokeOnInitCallbacks(t,e){const a=this.onInitCallbacks.get(e);if(a)for(const l of a)try{l(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:eI(t),options:e}),this.instances.set(t,a),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Do){return this.component?this.component.multipleInstances?t:Do:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eI(i){return i===Do?void 0:i}function nI(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new tI(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ne;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ne||(ne={}));const rI={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},sI=ne.INFO,aI={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},oI=(i,t,...e)=>{if(t<i.logLevel)return;const a=new Date().toISOString(),l=aI[t];if(l)console[l](`[${a}]  ${i.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class kf{constructor(t){this.name=t,this._logLevel=sI,this._logHandler=oI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ne))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?rI[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...t),this._logHandler(this,ne.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...t),this._logHandler(this,ne.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...t),this._logHandler(this,ne.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...t),this._logHandler(this,ne.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...t),this._logHandler(this,ne.ERROR,...t)}}const lI=(i,t)=>t.some(e=>i instanceof e);let e0,n0;function uI(){return e0||(e0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cI(){return n0||(n0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pE=new WeakMap,sp=new WeakMap,gE=new WeakMap,Fm=new WeakMap,Jp=new WeakMap;function hI(i){const t=new Promise((e,a)=>{const l=()=>{i.removeEventListener("success",h),i.removeEventListener("error",m)},h=()=>{e(za(i.result)),l()},m=()=>{a(i.error),l()};i.addEventListener("success",h),i.addEventListener("error",m)});return t.then(e=>{e instanceof IDBCursor&&pE.set(e,i)}).catch(()=>{}),Jp.set(t,i),t}function fI(i){if(sp.has(i))return;const t=new Promise((e,a)=>{const l=()=>{i.removeEventListener("complete",h),i.removeEventListener("error",m),i.removeEventListener("abort",m)},h=()=>{e(),l()},m=()=>{a(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",h),i.addEventListener("error",m),i.addEventListener("abort",m)});sp.set(i,t)}let ap={get(i,t,e){if(i instanceof IDBTransaction){if(t==="done")return sp.get(i);if(t==="objectStoreNames")return i.objectStoreNames||gE.get(i);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return za(i[t])},set(i,t,e){return i[t]=e,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function dI(i){ap=i(ap)}function mI(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const a=i.call(Gm(this),t,...e);return gE.set(a,t.sort?t.sort():[t]),za(a)}:cI().includes(i)?function(...t){return i.apply(Gm(this),t),za(pE.get(this))}:function(...t){return za(i.apply(Gm(this),t))}}function pI(i){return typeof i=="function"?mI(i):(i instanceof IDBTransaction&&fI(i),lI(i,uI())?new Proxy(i,ap):i)}function za(i){if(i instanceof IDBRequest)return hI(i);if(Fm.has(i))return Fm.get(i);const t=pI(i);return t!==i&&(Fm.set(i,t),Jp.set(t,i)),t}const Gm=i=>Jp.get(i);function _E(i,t,{blocked:e,upgrade:a,blocking:l,terminated:h}={}){const m=indexedDB.open(i,t),y=za(m);return a&&m.addEventListener("upgradeneeded",v=>{a(za(m.result),v.oldVersion,v.newVersion,za(m.transaction),v)}),e&&m.addEventListener("blocked",v=>e(v.oldVersion,v.newVersion,v)),y.then(v=>{h&&v.addEventListener("close",()=>h()),l&&v.addEventListener("versionchange",T=>l(T.oldVersion,T.newVersion,T))}).catch(()=>{}),y}const gI=["get","getKey","getAll","getAllKeys","count"],_I=["put","add","delete","clear"],Zm=new Map;function i0(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Zm.get(t))return Zm.get(t);const e=t.replace(/FromIndex$/,""),a=t!==e,l=_I.includes(e);if(!(e in(a?IDBIndex:IDBObjectStore).prototype)||!(l||gI.includes(e)))return;const h=async function(m,...y){const v=this.transaction(m,l?"readwrite":"readonly");let T=v.store;return a&&(T=T.index(y.shift())),(await Promise.all([T[e](...y),l&&v.done]))[0]};return Zm.set(t,h),h}dI(i=>({...i,get:(t,e,a)=>i0(t,e)||i.get(t,e,a),has:(t,e)=>!!i0(t,e)||i.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(vI(e)){const a=e.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(e=>e).join(" ")}}function vI(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const op="@firebase/app",r0="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=new kf("@firebase/app"),TI="@firebase/app-compat",EI="@firebase/analytics-compat",wI="@firebase/analytics",bI="@firebase/app-check-compat",SI="@firebase/app-check",AI="@firebase/auth",RI="@firebase/auth-compat",II="@firebase/database",CI="@firebase/data-connect",xI="@firebase/database-compat",PI="@firebase/functions",OI="@firebase/functions-compat",LI="@firebase/installations",MI="@firebase/installations-compat",DI="@firebase/messaging",NI="@firebase/messaging-compat",kI="@firebase/performance",VI="@firebase/performance-compat",zI="@firebase/remote-config",UI="@firebase/remote-config-compat",BI="@firebase/storage",HI="@firebase/storage-compat",qI="@firebase/firestore",jI="@firebase/ai",FI="@firebase/firestore-compat",GI="firebase",ZI="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp="[DEFAULT]",$I={[op]:"fire-core",[TI]:"fire-core-compat",[wI]:"fire-analytics",[EI]:"fire-analytics-compat",[SI]:"fire-app-check",[bI]:"fire-app-check-compat",[AI]:"fire-auth",[RI]:"fire-auth-compat",[II]:"fire-rtdb",[CI]:"fire-data-connect",[xI]:"fire-rtdb-compat",[PI]:"fire-fn",[OI]:"fire-fn-compat",[LI]:"fire-iid",[MI]:"fire-iid-compat",[DI]:"fire-fcm",[NI]:"fire-fcm-compat",[kI]:"fire-perf",[VI]:"fire-perf-compat",[zI]:"fire-rc",[UI]:"fire-rc-compat",[BI]:"fire-gcs",[HI]:"fire-gcs-compat",[qI]:"fire-fst",[FI]:"fire-fst-compat",[jI]:"fire-vertex","fire-js":"fire-js",[GI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf=new Map,KI=new Map,up=new Map;function s0(i,t){try{i.container.addComponent(t)}catch(e){Os.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,e)}}function Qr(i){const t=i.name;if(up.has(t))return Os.debug(`There were multiple attempts to register component ${t}.`),!1;up.set(t,i);for(const e of hf.values())s0(e,i);for(const e of KI.values())s0(e,i);return!0}function $o(i,t){const e=i.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),i.container.getProvider(t)}function vr(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ua=new Zo("app","Firebase",YI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(t,e,a){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new wr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ua.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu=ZI;function yE(i,t={}){let e=i;typeof t!="object"&&(t={name:t});const a=Object.assign({name:lp,automaticDataCollectionEnabled:!0},t),l=a.name;if(typeof l!="string"||!l)throw Ua.create("bad-app-name",{appName:String(l)});if(e||(e=cE()),!e)throw Ua.create("no-options");const h=hf.get(l);if(h){if(ja(e,h.options)&&ja(a,h.config))return h;throw Ua.create("duplicate-app",{appName:l})}const m=new iI(l);for(const v of up.values())m.addComponent(v);const y=new QI(e,a,m);return hf.set(l,y),y}function tg(i=lp){const t=hf.get(i);if(!t&&i===lp&&cE())return yE();if(!t)throw Ua.create("no-app",{appName:i});return t}function Ji(i,t,e){var a;let l=(a=$I[i])!==null&&a!==void 0?a:i;e&&(l+=`-${e}`);const h=l.match(/\s|\//),m=t.match(/\s|\//);if(h||m){const y=[`Unable to register library "${l}" with version "${t}":`];h&&y.push(`library name "${l}" contains illegal characters (whitespace or "/")`),h&&m&&y.push("and"),m&&y.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Os.warn(y.join(" "));return}Qr(new wr(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI="firebase-heartbeat-database",WI=1,gc="firebase-heartbeat-store";let $m=null;function vE(){return $m||($m=_E(XI,WI,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(gc)}catch(e){console.warn(e)}}}}).catch(i=>{throw Ua.create("idb-open",{originalErrorMessage:i.message})})),$m}async function JI(i){try{const e=(await vE()).transaction(gc),a=await e.objectStore(gc).get(TE(i));return await e.done,a}catch(t){if(t instanceof Sr)Os.warn(t.message);else{const e=Ua.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Os.warn(e.message)}}}async function a0(i,t){try{const a=(await vE()).transaction(gc,"readwrite");await a.objectStore(gc).put(t,TE(i)),await a.done}catch(e){if(e instanceof Sr)Os.warn(e.message);else{const a=Ua.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});Os.warn(a.message)}}}function TE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC=1024,eC=30;class nC{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new rC(e),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,e;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=o0();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(m=>m.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:l}),this._heartbeatsCache.heartbeats.length>eC){const m=sC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(m,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Os.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=o0(),{heartbeatsToSend:a,unsentEntries:l}=iC(this._heartbeatsCache.heartbeats),h=cf(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=e,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(e){return Os.warn(e),""}}}function o0(){return new Date().toISOString().substring(0,10)}function iC(i,t=tC){const e=[];let a=i.slice();for(const l of i){const h=e.find(m=>m.agent===l.agent);if(h){if(h.dates.push(l.date),l0(e)>t){h.dates.pop();break}}else if(e.push({agent:l.agent,dates:[l.date]}),l0(e)>t){e.pop();break}a=a.slice(1)}return{heartbeatsToSend:e,unsentEntries:a}}class rC{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Xp()?Wp().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await JI(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const l=await this.read();return a0(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const l=await this.read();return a0(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function l0(i){return cf(JSON.stringify({version:2,heartbeats:i})).length}function sC(i){if(i.length===0)return-1;let t=0,e=i[0].date;for(let a=1;a<i.length;a++)i[a].date<e&&(e=i[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(i){Qr(new wr("platform-logger",t=>new yI(t),"PRIVATE")),Qr(new wr("heartbeat",t=>new nC(t),"PRIVATE")),Ji(op,r0,i),Ji(op,r0,"esm2017"),Ji("fire-js","")}aC("");var oC="firebase",lC="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ji(oC,lC,"app");const EE="@firebase/installations",eg="0.6.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE=1e4,bE=`w:${eg}`,SE="FIS_v2",uC="https://firebaseinstallations.googleapis.com/v1",cC=60*60*1e3,hC="installations",fC="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Uo=new Zo(hC,fC,dC);function AE(i){return i instanceof Sr&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE({projectId:i}){return`${uC}/projects/${i}/installations`}function IE(i){return{token:i.token,requestStatus:2,expiresIn:pC(i.expiresIn),creationTime:Date.now()}}async function CE(i,t){const a=(await t.json()).error;return Uo.create("request-failed",{requestName:i,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function xE({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function mC(i,{refreshToken:t}){const e=xE(i);return e.append("Authorization",gC(t)),e}async function PE(i){const t=await i();return t.status>=500&&t.status<600?i():t}function pC(i){return Number(i.replace("s","000"))}function gC(i){return`${SE} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _C({appConfig:i,heartbeatServiceProvider:t},{fid:e}){const a=RE(i),l=xE(i),h=t.getImmediate({optional:!0});if(h){const T=await h.getHeartbeatsHeader();T&&l.append("x-firebase-client",T)}const m={fid:e,authVersion:SE,appId:i.appId,sdkVersion:bE},y={method:"POST",headers:l,body:JSON.stringify(m)},v=await PE(()=>fetch(a,y));if(v.ok){const T=await v.json();return{fid:T.fid||e,registrationStatus:2,refreshToken:T.refreshToken,authToken:IE(T.authToken)}}else throw await CE("Create Installation",v)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(i){return new Promise(t=>{setTimeout(t,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=/^[cdef][\w-]{21}$/,cp="";function TC(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const e=EC(i);return vC.test(e)?e:cp}catch{return cp}}function EC(i){return yC(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vf(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE=new Map;function ME(i,t){const e=Vf(i);DE(e,t),wC(e,t)}function DE(i,t){const e=LE.get(i);if(e)for(const a of e)a(t)}function wC(i,t){const e=bC();e&&e.postMessage({key:i,fid:t}),SC()}let No=null;function bC(){return!No&&"BroadcastChannel"in self&&(No=new BroadcastChannel("[Firebase] FID Change"),No.onmessage=i=>{DE(i.data.key,i.data.fid)}),No}function SC(){LE.size===0&&No&&(No.close(),No=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="firebase-installations-database",RC=1,Bo="firebase-installations-store";let Km=null;function ng(){return Km||(Km=_E(AC,RC,{upgrade:(i,t)=>{switch(t){case 0:i.createObjectStore(Bo)}}})),Km}async function ff(i,t){const e=Vf(i),l=(await ng()).transaction(Bo,"readwrite"),h=l.objectStore(Bo),m=await h.get(e);return await h.put(t,e),await l.done,(!m||m.fid!==t.fid)&&ME(i,t.fid),t}async function NE(i){const t=Vf(i),a=(await ng()).transaction(Bo,"readwrite");await a.objectStore(Bo).delete(t),await a.done}async function zf(i,t){const e=Vf(i),l=(await ng()).transaction(Bo,"readwrite"),h=l.objectStore(Bo),m=await h.get(e),y=t(m);return y===void 0?await h.delete(e):await h.put(y,e),await l.done,y&&(!m||m.fid!==y.fid)&&ME(i,y.fid),y}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ig(i){let t;const e=await zf(i.appConfig,a=>{const l=IC(a),h=CC(i,l);return t=h.registrationPromise,h.installationEntry});return e.fid===cp?{installationEntry:await t}:{installationEntry:e,registrationPromise:t}}function IC(i){const t=i||{fid:TC(),registrationStatus:0};return kE(t)}function CC(i,t){if(t.registrationStatus===0){if(!navigator.onLine){const l=Promise.reject(Uo.create("app-offline"));return{installationEntry:t,registrationPromise:l}}const e={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},a=xC(i,e);return{installationEntry:e,registrationPromise:a}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:PC(i)}:{installationEntry:t}}async function xC(i,t){try{const e=await _C(i,t);return ff(i.appConfig,e)}catch(e){throw AE(e)&&e.customData.serverCode===409?await NE(i.appConfig):await ff(i.appConfig,{fid:t.fid,registrationStatus:0}),e}}async function PC(i){let t=await u0(i.appConfig);for(;t.registrationStatus===1;)await OE(100),t=await u0(i.appConfig);if(t.registrationStatus===0){const{installationEntry:e,registrationPromise:a}=await ig(i);return a||e}return t}function u0(i){return zf(i,t=>{if(!t)throw Uo.create("installation-not-found");return kE(t)})}function kE(i){return OC(i)?{fid:i.fid,registrationStatus:0}:i}function OC(i){return i.registrationStatus===1&&i.registrationTime+wE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LC({appConfig:i,heartbeatServiceProvider:t},e){const a=MC(i,e),l=mC(i,e),h=t.getImmediate({optional:!0});if(h){const T=await h.getHeartbeatsHeader();T&&l.append("x-firebase-client",T)}const m={installation:{sdkVersion:bE,appId:i.appId}},y={method:"POST",headers:l,body:JSON.stringify(m)},v=await PE(()=>fetch(a,y));if(v.ok){const T=await v.json();return IE(T)}else throw await CE("Generate Auth Token",v)}function MC(i,{fid:t}){return`${RE(i)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rg(i,t=!1){let e;const a=await zf(i.appConfig,h=>{if(!VE(h))throw Uo.create("not-registered");const m=h.authToken;if(!t&&kC(m))return h;if(m.requestStatus===1)return e=DC(i,t),h;{if(!navigator.onLine)throw Uo.create("app-offline");const y=zC(h);return e=NC(i,y),y}});return e?await e:a.authToken}async function DC(i,t){let e=await c0(i.appConfig);for(;e.authToken.requestStatus===1;)await OE(100),e=await c0(i.appConfig);const a=e.authToken;return a.requestStatus===0?rg(i,t):a}function c0(i){return zf(i,t=>{if(!VE(t))throw Uo.create("not-registered");const e=t.authToken;return UC(e)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function NC(i,t){try{const e=await LC(i,t),a=Object.assign(Object.assign({},t),{authToken:e});return await ff(i.appConfig,a),e}catch(e){if(AE(e)&&(e.customData.serverCode===401||e.customData.serverCode===404))await NE(i.appConfig);else{const a=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await ff(i.appConfig,a)}throw e}}function VE(i){return i!==void 0&&i.registrationStatus===2}function kC(i){return i.requestStatus===2&&!VC(i)}function VC(i){const t=Date.now();return t<i.creationTime||i.creationTime+i.expiresIn<t+cC}function zC(i){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:t})}function UC(i){return i.requestStatus===1&&i.requestTime+wE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BC(i){const t=i,{installationEntry:e,registrationPromise:a}=await ig(t);return a?a.catch(console.error):rg(t).catch(console.error),e.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HC(i,t=!1){const e=i;return await qC(e),(await rg(e,t)).token}async function qC(i){const{registrationPromise:t}=await ig(i);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(i){if(!i||!i.options)throw Ym("App Configuration");if(!i.name)throw Ym("App Name");const t=["projectId","apiKey","appId"];for(const e of t)if(!i.options[e])throw Ym(e);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Ym(i){return Uo.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="installations",FC="installations-internal",GC=i=>{const t=i.getProvider("app").getImmediate(),e=jC(t),a=$o(t,"heartbeat");return{app:t,appConfig:e,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},ZC=i=>{const t=i.getProvider("app").getImmediate(),e=$o(t,zE).getImmediate();return{getId:()=>BC(e),getToken:l=>HC(e,l)}};function $C(){Qr(new wr(zE,GC,"PUBLIC")),Qr(new wr(FC,ZC,"PRIVATE"))}$C();Ji(EE,eg);Ji(EE,eg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const df="analytics",KC="firebase_id",YC="origin",QC=60*1e3,XC="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",sg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oi=new kf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Pi=new Zo("analytics","Analytics",WC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(i){if(!i.startsWith(sg)){const t=Pi.create("invalid-gtag-resource",{gtagURL:i});return oi.warn(t.message),""}return i}function UE(i){return Promise.all(i.map(t=>t.catch(e=>e)))}function tx(i,t){let e;return window.trustedTypes&&(e=window.trustedTypes.createPolicy(i,t)),e}function ex(i,t){const e=tx("firebase-js-sdk-policy",{createScriptURL:JC}),a=document.createElement("script"),l=`${sg}?l=${i}&id=${t}`;a.src=e?e==null?void 0:e.createScriptURL(l):l,a.async=!0,document.head.appendChild(a)}function nx(i){let t=[];return Array.isArray(window[i])?t=window[i]:window[i]=t,t}async function ix(i,t,e,a,l,h){const m=a[l];try{if(m)await t[m];else{const v=(await UE(e)).find(T=>T.measurementId===l);v&&await t[v.appId]}}catch(y){oi.error(y)}i("config",l,h)}async function rx(i,t,e,a,l){try{let h=[];if(l&&l.send_to){let m=l.send_to;Array.isArray(m)||(m=[m]);const y=await UE(e);for(const v of m){const T=y.find(C=>C.measurementId===v),A=T&&t[T.appId];if(A)h.push(A);else{h=[];break}}}h.length===0&&(h=Object.values(t)),await Promise.all(h),i("event",a,l||{})}catch(h){oi.error(h)}}function sx(i,t,e,a){async function l(h,...m){try{if(h==="event"){const[y,v]=m;await rx(i,t,e,y,v)}else if(h==="config"){const[y,v]=m;await ix(i,t,e,a,y,v)}else if(h==="consent"){const[y,v]=m;i("consent",y,v)}else if(h==="get"){const[y,v,T]=m;i("get",y,v,T)}else if(h==="set"){const[y]=m;i("set",y)}else i(h,...m)}catch(y){oi.error(y)}}return l}function ax(i,t,e,a,l){let h=function(...m){window[a].push(arguments)};return window[l]&&typeof window[l]=="function"&&(h=window[l]),window[l]=sx(h,i,t,e),{gtagCore:h,wrappedGtag:window[l]}}function ox(i){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(sg)&&e.src.includes(i))return e;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx=30,ux=1e3;class cx{constructor(t={},e=ux){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const BE=new cx;function hx(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function fx(i){var t;const{appId:e,apiKey:a}=i,l={method:"GET",headers:hx(a)},h=XC.replace("{app-id}",e),m=await fetch(h,l);if(m.status!==200&&m.status!==304){let y="";try{const v=await m.json();!((t=v.error)===null||t===void 0)&&t.message&&(y=v.error.message)}catch{}throw Pi.create("config-fetch-failed",{httpStatus:m.status,responseMessage:y})}return m.json()}async function dx(i,t=BE,e){const{appId:a,apiKey:l,measurementId:h}=i.options;if(!a)throw Pi.create("no-app-id");if(!l){if(h)return{measurementId:h,appId:a};throw Pi.create("no-api-key")}const m=t.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},y=new gx;return setTimeout(async()=>{y.abort()},QC),HE({appId:a,apiKey:l,measurementId:h},m,y,t)}async function HE(i,{throttleEndTimeMillis:t,backoffCount:e},a,l=BE){var h;const{appId:m,measurementId:y}=i;try{await mx(a,t)}catch(v){if(y)return oi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${y} provided in the "measurementId" field in the local Firebase config. [${v==null?void 0:v.message}]`),{appId:m,measurementId:y};throw v}try{const v=await fx(i);return l.deleteThrottleMetadata(m),v}catch(v){const T=v;if(!px(T)){if(l.deleteThrottleMetadata(m),y)return oi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${y} provided in the "measurementId" field in the local Firebase config. [${T==null?void 0:T.message}]`),{appId:m,measurementId:y};throw v}const A=Number((h=T==null?void 0:T.customData)===null||h===void 0?void 0:h.httpStatus)===503?t0(e,l.intervalMillis,lx):t0(e,l.intervalMillis),C={throttleEndTimeMillis:Date.now()+A,backoffCount:e+1};return l.setThrottleMetadata(m,C),oi.debug(`Calling attemptFetch again in ${A} millis`),HE(i,C,a,l)}}function mx(i,t){return new Promise((e,a)=>{const l=Math.max(t-Date.now(),0),h=setTimeout(e,l);i.addEventListener(()=>{clearTimeout(h),a(Pi.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function px(i){if(!(i instanceof Sr)||!i.customData)return!1;const t=Number(i.customData.httpStatus);return t===429||t===500||t===503||t===504}class gx{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function _x(i,t,e,a,l){if(l&&l.global){i("event",e,a);return}else{const h=await t,m=Object.assign(Object.assign({},a),{send_to:h});i("event",e,m)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yx(){if(Xp())try{await Wp()}catch(i){return oi.warn(Pi.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return oi.warn(Pi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function vx(i,t,e,a,l,h,m){var y;const v=dx(i);v.then(U=>{e[U.measurementId]=U.appId,i.options.measurementId&&U.measurementId!==i.options.measurementId&&oi.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${U.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(U=>oi.error(U)),t.push(v);const T=yx().then(U=>{if(U)return a.getId()}),[A,C]=await Promise.all([v,T]);ox(h)||ex(h,A.measurementId),l("js",new Date);const P=(y=m==null?void 0:m.config)!==null&&y!==void 0?y:{};return P[YC]="firebase",P.update=!0,C!=null&&(P[KC]=C),l("config",A.measurementId,P),A.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(t){this.app=t}_delete(){return delete lc[this.app.options.appId],Promise.resolve()}}let lc={},h0=[];const f0={};let Qm="dataLayer",Ex="gtag",d0,qE,m0=!1;function wx(){const i=[];if(Qp()&&i.push("This is a browser extension environment."),mE()||i.push("Cookies are not available."),i.length>0){const t=i.map((a,l)=>`(${l+1}) ${a}`).join(" "),e=Pi.create("invalid-analytics-context",{errorInfo:t});oi.warn(e.message)}}function bx(i,t,e){wx();const a=i.options.appId;if(!a)throw Pi.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)oi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Pi.create("no-api-key");if(lc[a]!=null)throw Pi.create("already-exists",{id:a});if(!m0){nx(Qm);const{wrappedGtag:h,gtagCore:m}=ax(lc,h0,f0,Qm,Ex);qE=h,d0=m,m0=!0}return lc[a]=vx(i,h0,f0,t,d0,Qm,e),new Tx(i)}function Sx(i=tg()){i=jn(i);const t=$o(i,df);return t.isInitialized()?t.getImmediate():Ax(i)}function Ax(i,t={}){const e=$o(i,df);if(e.isInitialized()){const l=e.getImmediate();if(ja(t,e.getOptions()))return l;throw Pi.create("already-initialized")}return e.initialize({options:t})}async function Rx(){if(Qp()||!mE()||!Xp())return!1;try{return await Wp()}catch{return!1}}function Ix(i,t,e,a){i=jn(i),_x(qE,lc[i.app.options.appId],t,e,a).catch(l=>oi.error(l))}const p0="@firebase/analytics",g0="0.10.16";function Cx(){Qr(new wr(df,(t,{options:e})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("installations-internal").getImmediate();return bx(a,l,e)},"PUBLIC")),Qr(new wr("analytics-internal",i,"PRIVATE")),Ji(p0,g0),Ji(p0,g0,"esm2017");function i(t){try{const e=t.getProvider(df).getImmediate();return{logEvent:(a,l,h)=>Ix(e,a,l,h)}}catch(e){throw Pi.create("interop-component-reg-failed",{reason:e})}}}Cx();function ag(i,t){var e={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&t.indexOf(a)<0&&(e[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(i);l<a.length;l++)t.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(i,a[l])&&(e[a[l]]=i[a[l]]);return e}function jE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xx=jE,FE=new Zo("auth","Firebase",jE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mf=new kf("@firebase/auth");function Px(i,...t){mf.logLevel<=ne.WARN&&mf.warn(`Auth (${iu}): ${i}`,...t)}function Wh(i,...t){mf.logLevel<=ne.ERROR&&mf.error(`Auth (${iu}): ${i}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ls(i,...t){throw og(i,...t)}function Gr(i,...t){return og(i,...t)}function GE(i,t,e){const a=Object.assign(Object.assign({},xx()),{[t]:e});return new Zo("auth","Firebase",a).create(t,{appName:i.name})}function Ba(i){return GE(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function og(i,...t){if(typeof i!="string"){const e=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=i.name),i._errorFactory.create(e,...a)}return FE.create(i,...t)}function Ht(i,t,...e){if(!i)throw og(t,...e)}function Rs(i){const t="INTERNAL ASSERTION FAILED: "+i;throw Wh(t),new Error(t)}function Ms(i,t){i||Rs(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function Ox(){return _0()==="http:"||_0()==="https:"}function _0(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ox()||Qp()||"connection"in navigator)?navigator.onLine:!0}function Mx(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(t,e){this.shortDelay=t,this.longDelay=e,Ms(e>t,"Short delay should be less than long delay!"),this.isMobile=VR()||BR()}get(){return Lx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(i,t){Ms(i.emulator,"Emulator should always be set here");const{url:e}=i.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{static initialize(t,e,a){this.fetchImpl=t,e&&(this.headersImpl=e),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kx=new Pc(3e4,6e4);function Uf(i,t){return i.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:i.tenantId}):t}async function ru(i,t,e,a,l={}){return $E(i,l,async()=>{let h={},m={};a&&(t==="GET"?m=a:h={body:JSON.stringify(a)});const y=xc(Object.assign({key:i.config.apiKey},m)).slice(1),v=await i._getAdditionalHeaders();v["Content-Type"]="application/json",i.languageCode&&(v["X-Firebase-Locale"]=i.languageCode);const T=Object.assign({method:t,headers:v},h);return UR()||(T.referrerPolicy="no-referrer"),i.emulatorConfig&&nu(i.emulatorConfig.host)&&(T.credentials="include"),ZE.fetch()(await YE(i,i.config.apiHost,e,y),T)})}async function $E(i,t,e){i._canInitEmulator=!1;const a=Object.assign(Object.assign({},Dx),t);try{const l=new Vx(i),h=await Promise.race([e(),l.promise]);l.clearNetworkTimeout();const m=await h.json();if("needConfirmation"in m)throw jh(i,"account-exists-with-different-credential",m);if(h.ok&&!("errorMessage"in m))return m;{const y=h.ok?m.errorMessage:m.error.message,[v,T]=y.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw jh(i,"credential-already-in-use",m);if(v==="EMAIL_EXISTS")throw jh(i,"email-already-in-use",m);if(v==="USER_DISABLED")throw jh(i,"user-disabled",m);const A=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(T)throw GE(i,A,T);Ls(i,A)}}catch(l){if(l instanceof Sr)throw l;Ls(i,"network-request-failed",{message:String(l)})}}async function KE(i,t,e,a,l={}){const h=await ru(i,t,e,a,l);return"mfaPendingCredential"in h&&Ls(i,"multi-factor-auth-required",{_serverResponse:h}),h}async function YE(i,t,e,a){const l=`${t}${e}?${a}`,h=i,m=h.config.emulator?lg(i.config,l):`${i.config.apiScheme}://${l}`;return Nx.includes(e)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(m).toString():m}class Vx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,a)=>{this.timer=setTimeout(()=>a(Gr(this.auth,"network-request-failed")),kx.get())})}}function jh(i,t,e){const a={appName:i.name};e.email&&(a.email=e.email),e.phoneNumber&&(a.phoneNumber=e.phoneNumber);const l=Gr(i,t,a);return l.customData._tokenResponse=e,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zx(i,t){return ru(i,"POST","/v1/accounts:delete",t)}async function pf(i,t){return ru(i,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uc(i){if(i)try{const t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Ux(i,t=!1){const e=jn(i),a=await e.getIdToken(t),l=ug(a);Ht(l&&l.exp&&l.auth_time&&l.iat,e.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,m=h==null?void 0:h.sign_in_provider;return{claims:l,token:a,authTime:uc(Xm(l.auth_time)),issuedAtTime:uc(Xm(l.iat)),expirationTime:uc(Xm(l.exp)),signInProvider:m||null,signInSecondFactor:(h==null?void 0:h.sign_in_second_factor)||null}}function Xm(i){return Number(i)*1e3}function ug(i){const[t,e,a]=i.split(".");if(t===void 0||e===void 0||a===void 0)return Wh("JWT malformed, contained fewer than 3 sections"),null;try{const l=lE(e);return l?JSON.parse(l):(Wh("Failed to decode base64 JWT payload"),null)}catch(l){return Wh("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function y0(i){const t=ug(i);return Ht(t,"internal-error"),Ht(typeof t.exp<"u","internal-error"),Ht(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _c(i,t,e=!1){if(e)return t;try{return await t}catch(a){throw a instanceof Sr&&Bx(a)&&i.auth.currentUser===i&&await i.auth.signOut(),a}}function Bx({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const l=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=uc(this.lastLoginAt),this.creationTime=uc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gf(i){var t;const e=i.auth,a=await i.getIdToken(),l=await _c(i,pf(e,{idToken:a}));Ht(l==null?void 0:l.users.length,e,"internal-error");const h=l.users[0];i._notifyReloadListener(h);const m=!((t=h.providerUserInfo)===null||t===void 0)&&t.length?QE(h.providerUserInfo):[],y=jx(i.providerData,m),v=i.isAnonymous,T=!(i.email&&h.passwordHash)&&!(y!=null&&y.length),A=v?T:!1,C={uid:h.localId,displayName:h.displayName||null,photoURL:h.photoUrl||null,email:h.email||null,emailVerified:h.emailVerified||!1,phoneNumber:h.phoneNumber||null,tenantId:h.tenantId||null,providerData:y,metadata:new fp(h.createdAt,h.lastLoginAt),isAnonymous:A};Object.assign(i,C)}async function qx(i){const t=jn(i);await gf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function jx(i,t){return[...i.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function QE(i){return i.map(t=>{var{providerId:e}=t,a=ag(t,["providerId"]);return{providerId:e,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fx(i,t){const e=await $E(i,{},async()=>{const a=xc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=i.config,m=await YE(i,l,"/v1/token",`key=${h}`),y=await i._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:y,body:a};return i.emulatorConfig&&nu(i.emulatorConfig.host)&&(v.credentials="include"),ZE.fetch()(m,v)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function Gx(i,t){return ru(i,"POST","/v2/accounts:revokeToken",Uf(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ht(t.idToken,"internal-error"),Ht(typeof t.idToken<"u","internal-error"),Ht(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):y0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Ht(t.length!==0,"internal-error");const e=y0(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Ht(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:a,refreshToken:l,expiresIn:h}=await Fx(t,e);this.updateTokensAndExpiration(a,l,Number(h))}updateTokensAndExpiration(t,e,a){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,e){const{refreshToken:a,accessToken:l,expirationTime:h}=e,m=new jl;return a&&(Ht(typeof a=="string","internal-error",{appName:t}),m.refreshToken=a),l&&(Ht(typeof l=="string","internal-error",{appName:t}),m.accessToken=l),h&&(Ht(typeof h=="number","internal-error",{appName:t}),m.expirationTime=h),m}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new jl,this.toJSON())}_performRefresh(){return Rs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function La(i,t){Ht(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}class Tr{constructor(t){var{uid:e,auth:a,stsTokenManager:l}=t,h=ag(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Hx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=a,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=h.displayName||null,this.email=h.email||null,this.emailVerified=h.emailVerified||!1,this.phoneNumber=h.phoneNumber||null,this.photoURL=h.photoURL||null,this.isAnonymous=h.isAnonymous||!1,this.tenantId=h.tenantId||null,this.providerData=h.providerData?[...h.providerData]:[],this.metadata=new fp(h.createdAt||void 0,h.lastLoginAt||void 0)}async getIdToken(t){const e=await _c(this,this.stsTokenManager.getToken(this.auth,t));return Ht(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return Ux(this,t)}reload(){return qx(this)}_assign(t){this!==t&&(Ht(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Tr(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){Ht(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),e&&await gf(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vr(this.auth.app))return Promise.reject(Ba(this.auth));const t=await this.getIdToken();return await _c(this,zx(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var a,l,h,m,y,v,T,A;const C=(a=e.displayName)!==null&&a!==void 0?a:void 0,P=(l=e.email)!==null&&l!==void 0?l:void 0,U=(h=e.phoneNumber)!==null&&h!==void 0?h:void 0,q=(m=e.photoURL)!==null&&m!==void 0?m:void 0,G=(y=e.tenantId)!==null&&y!==void 0?y:void 0,$=(v=e._redirectEventId)!==null&&v!==void 0?v:void 0,et=(T=e.createdAt)!==null&&T!==void 0?T:void 0,J=(A=e.lastLoginAt)!==null&&A!==void 0?A:void 0,{uid:nt,emailVerified:gt,isAnonymous:Tt,providerData:xt,stsTokenManager:V}=e;Ht(nt&&V,t,"internal-error");const O=jl.fromJSON(this.name,V);Ht(typeof nt=="string",t,"internal-error"),La(C,t.name),La(P,t.name),Ht(typeof gt=="boolean",t,"internal-error"),Ht(typeof Tt=="boolean",t,"internal-error"),La(U,t.name),La(q,t.name),La(G,t.name),La($,t.name),La(et,t.name),La(J,t.name);const M=new Tr({uid:nt,auth:t,email:P,emailVerified:gt,displayName:C,isAnonymous:Tt,photoURL:q,phoneNumber:U,tenantId:G,stsTokenManager:O,createdAt:et,lastLoginAt:J});return xt&&Array.isArray(xt)&&(M.providerData=xt.map(B=>Object.assign({},B))),$&&(M._redirectEventId=$),M}static async _fromIdTokenResponse(t,e,a=!1){const l=new jl;l.updateFromServerResponse(e);const h=new Tr({uid:e.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await gf(h),h}static async _fromGetAccountInfoResponse(t,e,a){const l=e.users[0];Ht(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?QE(l.providerUserInfo):[],m=!(l.email&&l.passwordHash)&&!(h!=null&&h.length),y=new jl;y.updateFromIdToken(a);const v=new Tr({uid:l.localId,auth:t,stsTokenManager:y,isAnonymous:m}),T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new fp(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(h!=null&&h.length)};return Object.assign(v,T),v}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0=new Map;function Is(i){Ms(i instanceof Function,"Expected a class definition");let t=v0.get(i);return t?(Ms(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,v0.set(i,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}XE.type="NONE";const T0=XE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(i,t,e){return`firebase:${i}:${t}:${e}`}class Fl{constructor(t,e,a){this.persistence=t,this.auth=e,this.userKey=a;const{config:l,name:h}=this.auth;this.fullUserKey=Jh(this.userKey,l.apiKey,h),this.fullPersistenceKey=Jh("persistence",l.apiKey,h),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await pf(this.auth,{idToken:t}).catch(()=>{});return e?Tr._fromGetAccountInfoResponse(this.auth,e,t):null}return Tr._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,a="authUser"){if(!e.length)return new Fl(Is(T0),t,a);const l=(await Promise.all(e.map(async T=>{if(await T._isAvailable())return T}))).filter(T=>T);let h=l[0]||Is(T0);const m=Jh(a,t.config.apiKey,t.name);let y=null;for(const T of e)try{const A=await T._get(m);if(A){let C;if(typeof A=="string"){const P=await pf(t,{idToken:A}).catch(()=>{});if(!P)break;C=await Tr._fromGetAccountInfoResponse(t,P,A)}else C=Tr._fromJSON(t,A);T!==h&&(y=C),h=T;break}}catch{}const v=l.filter(T=>T._shouldAllowMigration);return!h._shouldAllowMigration||!v.length?new Fl(h,t,a):(h=v[0],y&&await h._set(m,y.toJSON()),await Promise.all(e.map(async T=>{if(T!==h)try{await T._remove(m)}catch{}})),new Fl(h,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(i){const t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ew(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(WE(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(iw(t))return"Blackberry";if(rw(t))return"Webos";if(JE(t))return"Safari";if((t.includes("chrome/")||tw(t))&&!t.includes("edge/"))return"Chrome";if(nw(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=i.match(e);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function WE(i=qn()){return/firefox\//i.test(i)}function JE(i=qn()){const t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function tw(i=qn()){return/crios\//i.test(i)}function ew(i=qn()){return/iemobile/i.test(i)}function nw(i=qn()){return/android/i.test(i)}function iw(i=qn()){return/blackberry/i.test(i)}function rw(i=qn()){return/webos/i.test(i)}function cg(i=qn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function Zx(i=qn()){var t;return cg(i)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function $x(){return HR()&&document.documentMode===10}function sw(i=qn()){return cg(i)||nw(i)||rw(i)||iw(i)||/windows phone/i.test(i)||ew(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(i,t=[]){let e;switch(i){case"Browser":e=E0(qn());break;case"Worker":e=`${E0(qn())}-${i}`;break;default:e=i}const a=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${iu}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const a=h=>new Promise((m,y)=>{try{const v=t(h);m(v)}catch(v){y(v)}});a.onAbort=e,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const a of this.queue)await a(t),a.onAbort&&e.push(a.onAbort)}catch(a){e.reverse();for(const l of e)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yx(i,t={}){return ru(i,"GET","/v2/passwordPolicy",Uf(i,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=6;class Xx{constructor(t){var e,a,l,h;const m=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=m.minPasswordLength)!==null&&e!==void 0?e:Qx,m.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=m.maxPasswordLength),m.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=m.containsLowercaseCharacter),m.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=m.containsUppercaseCharacter),m.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=m.containsNumericCharacter),m.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=m.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(a=t.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(h=t.forceUpgradeOnSignin)!==null&&h!==void 0?h:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,a,l,h,m,y;const v={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,v),this.validatePasswordCharacterOptions(t,v),v.isValid&&(v.isValid=(e=v.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),v.isValid&&(v.isValid=(a=v.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),v.isValid&&(v.isValid=(l=v.containsLowercaseLetter)!==null&&l!==void 0?l:!0),v.isValid&&(v.isValid=(h=v.containsUppercaseLetter)!==null&&h!==void 0?h:!0),v.isValid&&(v.isValid=(m=v.containsNumericCharacter)!==null&&m!==void 0?m:!0),v.isValid&&(v.isValid=(y=v.containsNonAlphanumericCharacter)!==null&&y!==void 0?y:!0),v}validatePasswordLengthOptions(t,e){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(e.meetsMinPasswordLength=t.length>=a),l&&(e.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(e,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,e,a,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(t,e,a,l){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new w0(this),this.idTokenSubscription=new w0(this),this.beforeStateQueue=new Kx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=FE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Is(e)),this._initializationPromise=this.queue(async()=>{var a,l,h;if(!this._deleted&&(this.persistenceManager=await Fl.create(this,t),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((l=this._popupRedirectResolver)===null||l===void 0)&&l._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=((h=this.currentUser)===null||h===void 0?void 0:h.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await pf(this,{idToken:t}),a=await Tr._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(a)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(vr(this.app)){const m=this.app.settings.authIdToken;return m?new Promise(y=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(m).then(y,y))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let l=a,h=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const m=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,y=l==null?void 0:l._redirectEventId,v=await this.tryRedirectSignIn(t);(!m||m===y)&&(v!=null&&v.user)&&(l=v.user,h=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(h)try{await this.beforeStateQueue.runMiddleware(l)}catch(m){l=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(m))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return Ht(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await gf(t)}catch(e){if((e==null?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Mx()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(vr(this.app))return Promise.reject(Ba(this));const e=t?jn(t):null;return e&&Ht(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Ht(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return vr(this.app)?Promise.reject(Ba(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return vr(this.app)?Promise.reject(Ba(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Is(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await Yx(this),e=new Xx(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Zo("auth","Firebase",t())}onAuthStateChanged(t,e,a){return this.registerStateListener(this.authStateSubscription,t,e,a)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,a){return this.registerStateListener(this.idTokenSubscription,t,e,a)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(a.tenantId=this.tenantId),await Gx(this,a)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,e){const a=await this.getOrInitRedirectPersistenceManager(e);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Is(t)||this._popupRedirectResolver;Ht(e,this,"argument-error"),this.redirectPersistenceManager=await Fl.create(this,[Is(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,a;return this._isInitialized&&await this.queue(async()=>{}),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,a,l){if(this._deleted)return()=>{};const h=typeof e=="function"?e:e.next.bind(e);let m=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ht(y,this,"internal-error"),y.then(()=>{m||h(this.currentUser)}),typeof e=="function"){const v=t.addObserver(e,a,l);return()=>{m=!0,v()}}else{const v=t.addObserver(e);return()=>{m=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ht(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=aw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const a=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());a&&(e["X-Firebase-Client"]=a);const l=await this._getAppCheckToken();return l&&(e["X-Firebase-AppCheck"]=l),e}async _getAppCheckToken(){var t;if(vr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return e!=null&&e.error&&Px(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Bf(i){return jn(i)}class w0{constructor(t){this.auth=t,this.observer=null,this.addObserver=$R(e=>this.observer=e)}get next(){return Ht(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Jx(i){hg=i}function t2(i){return hg.loadJS(i)}function e2(){return hg.gapiScript}function n2(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(i,t){const e=$o(i,"auth");if(e.isInitialized()){const l=e.getImmediate(),h=e.getOptions();if(ja(h,t??{}))return l;Ls(l,"already-initialized")}return e.initialize({options:t})}function r2(i,t){const e=(t==null?void 0:t.persistence)||[],a=(Array.isArray(e)?e:[e]).map(Is);t!=null&&t.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(a,t==null?void 0:t.popupRedirectResolver)}function s2(i,t,e){const a=Bf(i);Ht(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,h=ow(t),{host:m,port:y}=a2(t),v=y===null?"":`:${y}`,T={url:`${h}//${m}${v}/`},A=Object.freeze({host:m,port:y,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Ht(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Ht(ja(T,a.config.emulator)&&ja(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=T,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,nu(m)?(fE(`${h}//${m}${v}`),dE("Auth",!0)):o2()}function ow(i){const t=i.indexOf(":");return t<0?"":i.substr(0,t+1)}function a2(i){const t=ow(i),e=/(\/\/)?([^?#/]+)/.exec(i.substr(t.length));if(!e)return{host:"",port:null};const a=e[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const h=l[1];return{host:h,port:b0(a.substr(h.length+1))}}else{const[h,m]=a.split(":");return{host:h,port:b0(m)}}}function b0(i){if(!i)return null;const t=Number(i);return isNaN(t)?null:t}function o2(){function i(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Rs("not implemented")}_getIdTokenResponse(t){return Rs("not implemented")}_linkToIdToken(t,e){return Rs("not implemented")}_getReauthenticationResolver(t){return Rs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gl(i,t){return KE(i,"POST","/v1/accounts:signInWithIdp",Uf(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2="http://localhost";class Ho extends lw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Ho(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Ls("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l}=e,h=ag(e,["providerId","signInMethod"]);if(!a||!l)return null;const m=new Ho(a,l);return m.idToken=h.idToken||void 0,m.accessToken=h.accessToken||void 0,m.secret=h.secret,m.nonce=h.nonce,m.pendingToken=h.pendingToken||null,m}_getIdTokenResponse(t){const e=this.buildRequest();return Gl(t,e)}_linkToIdToken(t,e){const a=this.buildRequest();return a.idToken=e,Gl(t,a)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Gl(t,e)}buildRequest(){const t={requestUri:l2,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=xc(e)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc extends uw{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma extends Oc{constructor(){super("facebook.com")}static credential(t){return Ho._fromParams({providerId:Ma.PROVIDER_ID,signInMethod:Ma.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ma.credentialFromTaggedObject(t)}static credentialFromError(t){return Ma.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ma.credential(t.oauthAccessToken)}catch{return null}}}Ma.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ma.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da extends Oc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Ho._fromParams({providerId:Da.PROVIDER_ID,signInMethod:Da.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Da.credentialFromTaggedObject(t)}static credentialFromError(t){return Da.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:a}=t;if(!e&&!a)return null;try{return Da.credential(e,a)}catch{return null}}}Da.GOOGLE_SIGN_IN_METHOD="google.com";Da.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends Oc{constructor(){super("github.com")}static credential(t){return Ho._fromParams({providerId:Na.PROVIDER_ID,signInMethod:Na.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Na.credentialFromTaggedObject(t)}static credentialFromError(t){return Na.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Na.credential(t.oauthAccessToken)}catch{return null}}}Na.GITHUB_SIGN_IN_METHOD="github.com";Na.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka extends Oc{constructor(){super("twitter.com")}static credential(t,e){return Ho._fromParams({providerId:ka.PROVIDER_ID,signInMethod:ka.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return ka.credentialFromTaggedObject(t)}static credentialFromError(t){return ka.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:a}=t;if(!e||!a)return null;try{return ka.credential(e,a)}catch{return null}}}ka.TWITTER_SIGN_IN_METHOD="twitter.com";ka.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u2(i,t){return KE(i,"POST","/v1/accounts:signUp",Uf(i,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,a,l=!1){const h=await Tr._fromIdTokenResponse(t,a,l),m=S0(a);return new Fa({user:h,providerId:m,_tokenResponse:a,operationType:e})}static async _forOperation(t,e,a){await t._updateTokensIfNecessary(a,!0);const l=S0(a);return new Fa({user:t,providerId:l,_tokenResponse:a,operationType:e})}}function S0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c2(i){var t;if(vr(i.app))return Promise.reject(Ba(i));const e=Bf(i);if(await e._initializationPromise,!((t=e.currentUser)===null||t===void 0)&&t.isAnonymous)return new Fa({user:e.currentUser,providerId:null,operationType:"signIn"});const a=await u2(e,{returnSecureToken:!0}),l=await Fa._fromIdTokenResponse(e,"signIn",a,!0);return await e._updateCurrentUser(l.user),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f extends Sr{constructor(t,e,a,l){var h;super(e.code,e.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,_f.prototype),this.customData={appName:t.name,tenantId:(h=t.tenantId)!==null&&h!==void 0?h:void 0,_serverResponse:e.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,e,a,l){return new _f(t,e,a,l)}}function cw(i,t,e,a){return(t==="reauthenticate"?e._getReauthenticationResolver(i):e._getIdTokenResponse(i)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?_f._fromErrorAndOperation(i,h,t,a):h})}async function h2(i,t,e=!1){const a=await _c(i,t._linkToIdToken(i.auth,await i.getIdToken()),e);return Fa._forOperation(i,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f2(i,t,e=!1){const{auth:a}=i;if(vr(a.app))return Promise.reject(Ba(a));const l="reauthenticate";try{const h=await _c(i,cw(a,l,t,i),e);Ht(h.idToken,a,"internal-error");const m=ug(h.idToken);Ht(m,a,"internal-error");const{sub:y}=m;return Ht(i.uid===y,a,"user-mismatch"),Fa._forOperation(i,l,h)}catch(h){throw(h==null?void 0:h.code)==="auth/user-not-found"&&Ls(a,"user-mismatch"),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d2(i,t,e=!1){if(vr(i.app))return Promise.reject(Ba(i));const a="signIn",l=await cw(i,a,t),h=await Fa._fromIdTokenResponse(i,a,l);return e||await i._updateCurrentUser(h.user),h}function m2(i,t,e,a){return jn(i).onIdTokenChanged(t,e,a)}function p2(i,t,e){return jn(i).beforeAuthStateChanged(t,e)}function g2(i,t,e,a){return jn(i).onAuthStateChanged(t,e,a)}const yf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(yf,"1"),this.storage.removeItem(yf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=1e3,y2=10;class fw extends hw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sw(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const a=this.storage.getItem(e),l=this.localCache[e];a!==l&&t(e,l,a)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((m,y,v)=>{this.notifyListeners(m,v)});return}const a=t.key;e?this.detachListener():this.stopPolling();const l=()=>{const m=this.storage.getItem(a);!e&&this.localCache[a]===m||this.notifyListeners(a,m)},h=this.storage.getItem(a);$x()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,y2):l()}notifyListeners(t,e){this.localCache[t]=e;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:a}),!0)})},_2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}fw.type="LOCAL";const v2=fw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw extends hw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}dw.type="SESSION";const mw=dw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(i){return Promise.all(i.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(l=>l.isListeningto(t));if(e)return e;const a=new Hf(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:a,eventType:l,data:h}=e.data,m=this.handlersMap[l];if(!(m!=null&&m.size))return;e.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const y=Array.from(m).map(async T=>T(e.origin,h)),v=await T2(y);e.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:v})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(i="",t=10){let e="";for(let a=0;a<t;a++)e+=Math.floor(Math.random()*10);return i+e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,m;return new Promise((y,v)=>{const T=fg("",20);l.port1.start();const A=setTimeout(()=>{v(new Error("unsupported_event"))},a);m={messageChannel:l,onMessage(C){const P=C;if(P.data.eventId===T)switch(P.data.status){case"ack":clearTimeout(A),h=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),y(P.data.response);break;default:clearTimeout(A),clearTimeout(h),v(new Error("invalid_response"));break}}},this.handlers.add(m),l.port1.addEventListener("message",m.onMessage),this.target.postMessage({eventType:t,eventId:T,data:e},[l.port2])}).finally(()=>{m&&this.removeMessageHandler(m)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(){return window}function w2(i){Zr().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(){return typeof Zr().WorkerGlobalScope<"u"&&typeof Zr().importScripts=="function"}async function b2(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function S2(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function A2(){return pw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="firebaseLocalStorageDb",R2=1,vf="firebaseLocalStorage",_w="fbase_key";class Lc{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function qf(i,t){return i.transaction([vf],t?"readwrite":"readonly").objectStore(vf)}function I2(){const i=indexedDB.deleteDatabase(gw);return new Lc(i).toPromise()}function dp(){const i=indexedDB.open(gw,R2);return new Promise((t,e)=>{i.addEventListener("error",()=>{e(i.error)}),i.addEventListener("upgradeneeded",()=>{const a=i.result;try{a.createObjectStore(vf,{keyPath:_w})}catch(l){e(l)}}),i.addEventListener("success",async()=>{const a=i.result;a.objectStoreNames.contains(vf)?t(a):(a.close(),await I2(),t(await dp()))})})}async function A0(i,t,e){const a=qf(i,!0).put({[_w]:t,value:e});return new Lc(a).toPromise()}async function C2(i,t){const e=qf(i,!1).get(t),a=await new Lc(e).toPromise();return a===void 0?null:a.value}function R0(i,t){const e=qf(i,!0).delete(t);return new Lc(e).toPromise()}const x2=800,P2=3;class yw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dp(),this.db)}async _withRetries(t){let e=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(e++>P2)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hf._getInstance(A2()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){var t,e;if(this.activeServiceWorker=await b2(),!this.activeServiceWorker)return;this.sender=new E2(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((t=a[0])===null||t===void 0)&&t.fulfilled&&!((e=a[0])===null||e===void 0)&&e.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||S2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await dp();return await A0(t,yf,"1"),await R0(t,yf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(a=>A0(a,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(a=>C2(a,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>R0(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=qf(l,!1).getAll();return new Lc(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),e.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),e.push(l));return e}notifyListeners(t,e){this.localCache[t]=e;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),x2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yw.type="LOCAL";const O2=yw;new Pc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L2(i,t){return t?Is(t):(Ht(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg extends lw{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Gl(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Gl(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Gl(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function M2(i){return d2(i.auth,new dg(i),i.bypassAuthState)}function D2(i){const{auth:t,user:e}=i;return Ht(e,t,"internal-error"),f2(e,new dg(i),i.bypassAuthState)}async function N2(i){const{auth:t,user:e}=i;return Ht(e,t,"internal-error"),h2(e,new dg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(t,e,a,l,h=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:a,postBody:l,tenantId:h,error:m,type:y}=t;if(m){this.reject(m);return}const v={auth:this.auth,requestUri:e,sessionId:a,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(v))}catch(T){this.reject(T)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return M2;case"linkViaPopup":case"linkViaRedirect":return N2;case"reauthViaPopup":case"reauthViaRedirect":return D2;default:Ls(this.auth,"internal-error")}}resolve(t){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2=new Pc(2e3,1e4);class ql extends vw{constructor(t,e,a,l,h){super(t,e,l,h),this.provider=a,this.authWindow=null,this.pollId=null,ql.currentPopupAction&&ql.currentPopupAction.cancel(),ql.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ht(t,this.auth,"internal-error"),t}async onExecution(){Ms(this.filter.length===1,"Popup operations only handle one event");const t=fg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Gr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Gr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ql.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,a;if(!((a=(e=this.authWindow)===null||e===void 0?void 0:e.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Gr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,k2.get())};t()}}ql.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2="pendingRedirect",tf=new Map;class z2 extends vw{constructor(t,e,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,a),this.eventId=null}async execute(){let t=tf.get(this.auth._key());if(!t){try{const a=await U2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(e){t=()=>Promise.reject(e)}tf.set(this.auth._key(),t)}return this.bypassAuthState||tf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function U2(i,t){const e=q2(t),a=H2(i);if(!await a._isAvailable())return!1;const l=await a._get(e)==="true";return await a._remove(e),l}function B2(i,t){tf.set(i._key(),t)}function H2(i){return Is(i._redirectPersistence)}function q2(i){return Jh(V2,i.config.apiKey,i.name)}async function j2(i,t,e=!1){if(vr(i.app))return Promise.reject(Ba(i));const a=Bf(i),l=L2(a,t),m=await new z2(a,l,e).execute();return m&&!e&&(delete m.user._redirectEventId,await a._persistUserIfCurrent(m.user),await a._setRedirectUser(null,t)),m}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=10*60*1e3;class G2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(e=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Z2(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var a;if(t.error&&!Tw(t)){const l=((a=t.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";e.onError(Gr(this.auth,l))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const a=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=F2&&this.cachedEventUids.clear(),this.cachedEventUids.has(I0(t))}saveEventToCache(t){this.cachedEventUids.add(I0(t)),this.lastProcessedEventTime=Date.now()}}function I0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(t=>t).join("-")}function Tw({type:i,error:t}){return i==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Z2(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Tw(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $2(i,t={}){return ru(i,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Y2=/^https?/;async function Q2(i){if(i.config.emulator)return;const{authorizedDomains:t}=await $2(i);for(const e of t)try{if(X2(e))return}catch{}Ls(i,"unauthorized-domain")}function X2(i){const t=hp(),{protocol:e,hostname:a}=new URL(t);if(i.startsWith("chrome-extension://")){const m=new URL(i);return m.hostname===""&&a===""?e==="chrome-extension:"&&i.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&m.hostname===a}if(!Y2.test(e))return!1;if(K2.test(i))return a===i;const l=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=new Pc(3e4,6e4);function C0(){const i=Zr().___jsl;if(i!=null&&i.H){for(const t of Object.keys(i.H))if(i.H[t].r=i.H[t].r||[],i.H[t].L=i.H[t].L||[],i.H[t].r=[...i.H[t].L],i.CP)for(let e=0;e<i.CP.length;e++)i.CP[e]=null}}function J2(i){return new Promise((t,e)=>{var a,l,h;function m(){C0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{C0(),e(Gr(i,"network-request-failed"))},timeout:W2.get()})}if(!((l=(a=Zr().gapi)===null||a===void 0?void 0:a.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((h=Zr().gapi)===null||h===void 0)&&h.load)m();else{const y=n2("iframefcb");return Zr()[y]=()=>{gapi.load?m():e(Gr(i,"network-request-failed"))},t2(`${e2()}?onload=${y}`).catch(v=>e(v))}}).catch(t=>{throw ef=null,t})}let ef=null;function tP(i){return ef=ef||J2(i),ef}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eP=new Pc(5e3,15e3),nP="__/auth/iframe",iP="emulator/auth/iframe",rP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aP(i){const t=i.config;Ht(t.authDomain,i,"auth-domain-config-required");const e=t.emulator?lg(t,iP):`https://${i.config.authDomain}/${nP}`,a={apiKey:t.apiKey,appName:i.name,v:iu},l=sP.get(i.config.apiHost);l&&(a.eid=l);const h=i._getFrameworks();return h.length&&(a.fw=h.join(",")),`${e}?${xc(a).slice(1)}`}async function oP(i){const t=await tP(i),e=Zr().gapi;return Ht(e,i,"internal-error"),t.open({where:document.body,url:aP(i),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rP,dontclear:!0},a=>new Promise(async(l,h)=>{await a.restyle({setHideOnLeave:!1});const m=Gr(i,"network-request-failed"),y=Zr().setTimeout(()=>{h(m)},eP.get());function v(){Zr().clearTimeout(y),l(a)}a.ping(v).then(v,()=>{h(m)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uP=500,cP=600,hP="_blank",fP="http://localhost";class x0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dP(i,t,e,a=uP,l=cP){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),m=Math.max((window.screen.availWidth-a)/2,0).toString();let y="";const v=Object.assign(Object.assign({},lP),{width:a.toString(),height:l.toString(),top:h,left:m}),T=qn().toLowerCase();e&&(y=tw(T)?hP:e),WE(T)&&(t=t||fP,v.scrollbars="yes");const A=Object.entries(v).reduce((P,[U,q])=>`${P}${U}=${q},`,"");if(Zx(T)&&y!=="_self")return mP(t||"",y),new x0(null);const C=window.open(t||"",y,A);Ht(C,i,"popup-blocked");try{C.focus()}catch{}return new x0(C)}function mP(i,t){const e=document.createElement("a");e.href=i,e.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP="__/auth/handler",gP="emulator/auth/handler",_P=encodeURIComponent("fac");async function P0(i,t,e,a,l,h){Ht(i.config.authDomain,i,"auth-domain-config-required"),Ht(i.config.apiKey,i,"invalid-api-key");const m={apiKey:i.config.apiKey,appName:i.name,authType:e,redirectUrl:a,v:iu,eventId:l};if(t instanceof uw){t.setDefaultLanguage(i.languageCode),m.providerId=t.providerId||"",ZR(t.getCustomParameters())||(m.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,C]of Object.entries({}))m[A]=C}if(t instanceof Oc){const A=t.getScopes().filter(C=>C!=="");A.length>0&&(m.scopes=A.join(","))}i.tenantId&&(m.tid=i.tenantId);const y=m;for(const A of Object.keys(y))y[A]===void 0&&delete y[A];const v=await i._getAppCheckToken(),T=v?`#${_P}=${encodeURIComponent(v)}`:"";return`${yP(i)}?${xc(y).slice(1)}${T}`}function yP({config:i}){return i.emulator?lg(i,gP):`https://${i.authDomain}/${pP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wm="webStorageSupport";class vP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=mw,this._completeRedirectFn=j2,this._overrideRedirectResult=B2}async _openPopup(t,e,a,l){var h;Ms((h=this.eventManagers[t._key()])===null||h===void 0?void 0:h.manager,"_initialize() not called before _openPopup()");const m=await P0(t,e,a,hp(),l);return dP(t,m,fg())}async _openRedirect(t,e,a,l){await this._originValidation(t);const h=await P0(t,e,a,hp(),l);return w2(h),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:l,promise:h}=this.eventManagers[e];return l?Promise.resolve(l):(Ms(h,"If manager is not set, promise should be"),h)}const a=this.initAndGetManager(t);return this.eventManagers[e]={promise:a},a.catch(()=>{delete this.eventManagers[e]}),a}async initAndGetManager(t){const e=await oP(t),a=new G2(t);return e.register("authEvent",l=>(Ht(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=e,a}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Wm,{type:Wm},l=>{var h;const m=(h=l==null?void 0:l[0])===null||h===void 0?void 0:h[Wm];m!==void 0&&e(!!m),Ls(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=Q2(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return sw()||JE()||cg()}}const TP=vP;var O0="@firebase/auth",L0="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(a=>{t((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Ht(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wP(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bP(i){Qr(new wr("auth",(t,{options:e})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:m,authDomain:y}=a.options;Ht(m&&!m.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:m,authDomain:y,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aw(i)},T=new Wx(a,l,h,v);return r2(T,e),T},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,a)=>{t.getProvider("auth-internal").initialize()})),Qr(new wr("auth-internal",t=>{const e=Bf(t.getProvider("auth").getImmediate());return(a=>new EP(a))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ji(O0,L0,wP(i)),Ji(O0,L0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP=5*60,AP=hE("authIdTokenMaxAge")||SP;let M0=null;const RP=i=>async t=>{const e=t&&await t.getIdTokenResult(),a=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(a&&a>AP)return;const l=e==null?void 0:e.token;M0!==l&&(M0=l,await fetch(i,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function IP(i=tg()){const t=$o(i,"auth");if(t.isInitialized())return t.getImmediate();const e=i2(i,{popupRedirectResolver:TP,persistence:[O2,v2,mw]}),a=hE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(a,location.origin);if(location.origin===h.origin){const m=RP(h.toString());p2(e,m,()=>m(e.currentUser)),m2(e,y=>m(y))}}const l=uE("auth");return l&&s2(e,`http://${l}`),e}function CP(){var i,t;return(t=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&t!==void 0?t:document}Jx({loadJS(i){return new Promise((t,e)=>{const a=document.createElement("script");a.setAttribute("src",i),a.onload=t,a.onerror=l=>{const h=Gr("internal-error");h.customData=l,e(h)},a.type="text/javascript",a.charset="UTF-8",CP().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bP("Browser");var D0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ha,Ew;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,O){function M(){}M.prototype=O.prototype,V.D=O.prototype,V.prototype=new M,V.prototype.constructor=V,V.C=function(B,H,F){for(var z=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)z[pe-2]=arguments[pe];return O.prototype[H].apply(B,z)}}function e(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(a,e),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(V,O,M){M||(M=0);var B=Array(16);if(typeof O=="string")for(var H=0;16>H;++H)B[H]=O.charCodeAt(M++)|O.charCodeAt(M++)<<8|O.charCodeAt(M++)<<16|O.charCodeAt(M++)<<24;else for(H=0;16>H;++H)B[H]=O[M++]|O[M++]<<8|O[M++]<<16|O[M++]<<24;O=V.g[0],M=V.g[1],H=V.g[2];var F=V.g[3],z=O+(F^M&(H^F))+B[0]+3614090360&4294967295;O=M+(z<<7&4294967295|z>>>25),z=F+(H^O&(M^H))+B[1]+3905402710&4294967295,F=O+(z<<12&4294967295|z>>>20),z=H+(M^F&(O^M))+B[2]+606105819&4294967295,H=F+(z<<17&4294967295|z>>>15),z=M+(O^H&(F^O))+B[3]+3250441966&4294967295,M=H+(z<<22&4294967295|z>>>10),z=O+(F^M&(H^F))+B[4]+4118548399&4294967295,O=M+(z<<7&4294967295|z>>>25),z=F+(H^O&(M^H))+B[5]+1200080426&4294967295,F=O+(z<<12&4294967295|z>>>20),z=H+(M^F&(O^M))+B[6]+2821735955&4294967295,H=F+(z<<17&4294967295|z>>>15),z=M+(O^H&(F^O))+B[7]+4249261313&4294967295,M=H+(z<<22&4294967295|z>>>10),z=O+(F^M&(H^F))+B[8]+1770035416&4294967295,O=M+(z<<7&4294967295|z>>>25),z=F+(H^O&(M^H))+B[9]+2336552879&4294967295,F=O+(z<<12&4294967295|z>>>20),z=H+(M^F&(O^M))+B[10]+4294925233&4294967295,H=F+(z<<17&4294967295|z>>>15),z=M+(O^H&(F^O))+B[11]+2304563134&4294967295,M=H+(z<<22&4294967295|z>>>10),z=O+(F^M&(H^F))+B[12]+1804603682&4294967295,O=M+(z<<7&4294967295|z>>>25),z=F+(H^O&(M^H))+B[13]+4254626195&4294967295,F=O+(z<<12&4294967295|z>>>20),z=H+(M^F&(O^M))+B[14]+2792965006&4294967295,H=F+(z<<17&4294967295|z>>>15),z=M+(O^H&(F^O))+B[15]+1236535329&4294967295,M=H+(z<<22&4294967295|z>>>10),z=O+(H^F&(M^H))+B[1]+4129170786&4294967295,O=M+(z<<5&4294967295|z>>>27),z=F+(M^H&(O^M))+B[6]+3225465664&4294967295,F=O+(z<<9&4294967295|z>>>23),z=H+(O^M&(F^O))+B[11]+643717713&4294967295,H=F+(z<<14&4294967295|z>>>18),z=M+(F^O&(H^F))+B[0]+3921069994&4294967295,M=H+(z<<20&4294967295|z>>>12),z=O+(H^F&(M^H))+B[5]+3593408605&4294967295,O=M+(z<<5&4294967295|z>>>27),z=F+(M^H&(O^M))+B[10]+38016083&4294967295,F=O+(z<<9&4294967295|z>>>23),z=H+(O^M&(F^O))+B[15]+3634488961&4294967295,H=F+(z<<14&4294967295|z>>>18),z=M+(F^O&(H^F))+B[4]+3889429448&4294967295,M=H+(z<<20&4294967295|z>>>12),z=O+(H^F&(M^H))+B[9]+568446438&4294967295,O=M+(z<<5&4294967295|z>>>27),z=F+(M^H&(O^M))+B[14]+3275163606&4294967295,F=O+(z<<9&4294967295|z>>>23),z=H+(O^M&(F^O))+B[3]+4107603335&4294967295,H=F+(z<<14&4294967295|z>>>18),z=M+(F^O&(H^F))+B[8]+1163531501&4294967295,M=H+(z<<20&4294967295|z>>>12),z=O+(H^F&(M^H))+B[13]+2850285829&4294967295,O=M+(z<<5&4294967295|z>>>27),z=F+(M^H&(O^M))+B[2]+4243563512&4294967295,F=O+(z<<9&4294967295|z>>>23),z=H+(O^M&(F^O))+B[7]+1735328473&4294967295,H=F+(z<<14&4294967295|z>>>18),z=M+(F^O&(H^F))+B[12]+2368359562&4294967295,M=H+(z<<20&4294967295|z>>>12),z=O+(M^H^F)+B[5]+4294588738&4294967295,O=M+(z<<4&4294967295|z>>>28),z=F+(O^M^H)+B[8]+2272392833&4294967295,F=O+(z<<11&4294967295|z>>>21),z=H+(F^O^M)+B[11]+1839030562&4294967295,H=F+(z<<16&4294967295|z>>>16),z=M+(H^F^O)+B[14]+4259657740&4294967295,M=H+(z<<23&4294967295|z>>>9),z=O+(M^H^F)+B[1]+2763975236&4294967295,O=M+(z<<4&4294967295|z>>>28),z=F+(O^M^H)+B[4]+1272893353&4294967295,F=O+(z<<11&4294967295|z>>>21),z=H+(F^O^M)+B[7]+4139469664&4294967295,H=F+(z<<16&4294967295|z>>>16),z=M+(H^F^O)+B[10]+3200236656&4294967295,M=H+(z<<23&4294967295|z>>>9),z=O+(M^H^F)+B[13]+681279174&4294967295,O=M+(z<<4&4294967295|z>>>28),z=F+(O^M^H)+B[0]+3936430074&4294967295,F=O+(z<<11&4294967295|z>>>21),z=H+(F^O^M)+B[3]+3572445317&4294967295,H=F+(z<<16&4294967295|z>>>16),z=M+(H^F^O)+B[6]+76029189&4294967295,M=H+(z<<23&4294967295|z>>>9),z=O+(M^H^F)+B[9]+3654602809&4294967295,O=M+(z<<4&4294967295|z>>>28),z=F+(O^M^H)+B[12]+3873151461&4294967295,F=O+(z<<11&4294967295|z>>>21),z=H+(F^O^M)+B[15]+530742520&4294967295,H=F+(z<<16&4294967295|z>>>16),z=M+(H^F^O)+B[2]+3299628645&4294967295,M=H+(z<<23&4294967295|z>>>9),z=O+(H^(M|~F))+B[0]+4096336452&4294967295,O=M+(z<<6&4294967295|z>>>26),z=F+(M^(O|~H))+B[7]+1126891415&4294967295,F=O+(z<<10&4294967295|z>>>22),z=H+(O^(F|~M))+B[14]+2878612391&4294967295,H=F+(z<<15&4294967295|z>>>17),z=M+(F^(H|~O))+B[5]+4237533241&4294967295,M=H+(z<<21&4294967295|z>>>11),z=O+(H^(M|~F))+B[12]+1700485571&4294967295,O=M+(z<<6&4294967295|z>>>26),z=F+(M^(O|~H))+B[3]+2399980690&4294967295,F=O+(z<<10&4294967295|z>>>22),z=H+(O^(F|~M))+B[10]+4293915773&4294967295,H=F+(z<<15&4294967295|z>>>17),z=M+(F^(H|~O))+B[1]+2240044497&4294967295,M=H+(z<<21&4294967295|z>>>11),z=O+(H^(M|~F))+B[8]+1873313359&4294967295,O=M+(z<<6&4294967295|z>>>26),z=F+(M^(O|~H))+B[15]+4264355552&4294967295,F=O+(z<<10&4294967295|z>>>22),z=H+(O^(F|~M))+B[6]+2734768916&4294967295,H=F+(z<<15&4294967295|z>>>17),z=M+(F^(H|~O))+B[13]+1309151649&4294967295,M=H+(z<<21&4294967295|z>>>11),z=O+(H^(M|~F))+B[4]+4149444226&4294967295,O=M+(z<<6&4294967295|z>>>26),z=F+(M^(O|~H))+B[11]+3174756917&4294967295,F=O+(z<<10&4294967295|z>>>22),z=H+(O^(F|~M))+B[2]+718787259&4294967295,H=F+(z<<15&4294967295|z>>>17),z=M+(F^(H|~O))+B[9]+3951481745&4294967295,V.g[0]=V.g[0]+O&4294967295,V.g[1]=V.g[1]+(H+(z<<21&4294967295|z>>>11))&4294967295,V.g[2]=V.g[2]+H&4294967295,V.g[3]=V.g[3]+F&4294967295}a.prototype.u=function(V,O){O===void 0&&(O=V.length);for(var M=O-this.blockSize,B=this.B,H=this.h,F=0;F<O;){if(H==0)for(;F<=M;)l(this,V,F),F+=this.blockSize;if(typeof V=="string"){for(;F<O;)if(B[H++]=V.charCodeAt(F++),H==this.blockSize){l(this,B),H=0;break}}else for(;F<O;)if(B[H++]=V[F++],H==this.blockSize){l(this,B),H=0;break}}this.h=H,this.o+=O},a.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var O=1;O<V.length-8;++O)V[O]=0;var M=8*this.o;for(O=V.length-8;O<V.length;++O)V[O]=M&255,M/=256;for(this.u(V),V=Array(16),O=M=0;4>O;++O)for(var B=0;32>B;B+=8)V[M++]=this.g[O]>>>B&255;return V};function h(V,O){var M=y;return Object.prototype.hasOwnProperty.call(M,V)?M[V]:M[V]=O(V)}function m(V,O){this.h=O;for(var M=[],B=!0,H=V.length-1;0<=H;H--){var F=V[H]|0;B&&F==O||(M[H]=F,B=!1)}this.g=M}var y={};function v(V){return-128<=V&&128>V?h(V,function(O){return new m([O|0],0>O?-1:0)}):new m([V|0],0>V?-1:0)}function T(V){if(isNaN(V)||!isFinite(V))return C;if(0>V)return $(T(-V));for(var O=[],M=1,B=0;V>=M;B++)O[B]=V/M|0,M*=4294967296;return new m(O,0)}function A(V,O){if(V.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(V.charAt(0)=="-")return $(A(V.substring(1),O));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=T(Math.pow(O,8)),B=C,H=0;H<V.length;H+=8){var F=Math.min(8,V.length-H),z=parseInt(V.substring(H,H+F),O);8>F?(F=T(Math.pow(O,F)),B=B.j(F).add(T(z))):(B=B.j(M),B=B.add(T(z)))}return B}var C=v(0),P=v(1),U=v(16777216);i=m.prototype,i.m=function(){if(G(this))return-$(this).m();for(var V=0,O=1,M=0;M<this.g.length;M++){var B=this.i(M);V+=(0<=B?B:4294967296+B)*O,O*=4294967296}return V},i.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(q(this))return"0";if(G(this))return"-"+$(this).toString(V);for(var O=T(Math.pow(V,6)),M=this,B="";;){var H=gt(M,O).g;M=et(M,H.j(O));var F=((0<M.g.length?M.g[0]:M.h)>>>0).toString(V);if(M=H,q(M))return F+B;for(;6>F.length;)F="0"+F;B=F+B}},i.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function q(V){if(V.h!=0)return!1;for(var O=0;O<V.g.length;O++)if(V.g[O]!=0)return!1;return!0}function G(V){return V.h==-1}i.l=function(V){return V=et(this,V),G(V)?-1:q(V)?0:1};function $(V){for(var O=V.g.length,M=[],B=0;B<O;B++)M[B]=~V.g[B];return new m(M,~V.h).add(P)}i.abs=function(){return G(this)?$(this):this},i.add=function(V){for(var O=Math.max(this.g.length,V.g.length),M=[],B=0,H=0;H<=O;H++){var F=B+(this.i(H)&65535)+(V.i(H)&65535),z=(F>>>16)+(this.i(H)>>>16)+(V.i(H)>>>16);B=z>>>16,F&=65535,z&=65535,M[H]=z<<16|F}return new m(M,M[M.length-1]&-2147483648?-1:0)};function et(V,O){return V.add($(O))}i.j=function(V){if(q(this)||q(V))return C;if(G(this))return G(V)?$(this).j($(V)):$($(this).j(V));if(G(V))return $(this.j($(V)));if(0>this.l(U)&&0>V.l(U))return T(this.m()*V.m());for(var O=this.g.length+V.g.length,M=[],B=0;B<2*O;B++)M[B]=0;for(B=0;B<this.g.length;B++)for(var H=0;H<V.g.length;H++){var F=this.i(B)>>>16,z=this.i(B)&65535,pe=V.i(H)>>>16,Re=V.i(H)&65535;M[2*B+2*H]+=z*Re,J(M,2*B+2*H),M[2*B+2*H+1]+=F*Re,J(M,2*B+2*H+1),M[2*B+2*H+1]+=z*pe,J(M,2*B+2*H+1),M[2*B+2*H+2]+=F*pe,J(M,2*B+2*H+2)}for(B=0;B<O;B++)M[B]=M[2*B+1]<<16|M[2*B];for(B=O;B<2*O;B++)M[B]=0;return new m(M,0)};function J(V,O){for(;(V[O]&65535)!=V[O];)V[O+1]+=V[O]>>>16,V[O]&=65535,O++}function nt(V,O){this.g=V,this.h=O}function gt(V,O){if(q(O))throw Error("division by zero");if(q(V))return new nt(C,C);if(G(V))return O=gt($(V),O),new nt($(O.g),$(O.h));if(G(O))return O=gt(V,$(O)),new nt($(O.g),O.h);if(30<V.g.length){if(G(V)||G(O))throw Error("slowDivide_ only works with positive integers.");for(var M=P,B=O;0>=B.l(V);)M=Tt(M),B=Tt(B);var H=xt(M,1),F=xt(B,1);for(B=xt(B,2),M=xt(M,2);!q(B);){var z=F.add(B);0>=z.l(V)&&(H=H.add(M),F=z),B=xt(B,1),M=xt(M,1)}return O=et(V,H.j(O)),new nt(H,O)}for(H=C;0<=V.l(O);){for(M=Math.max(1,Math.floor(V.m()/O.m())),B=Math.ceil(Math.log(M)/Math.LN2),B=48>=B?1:Math.pow(2,B-48),F=T(M),z=F.j(O);G(z)||0<z.l(V);)M-=B,F=T(M),z=F.j(O);q(F)&&(F=P),H=H.add(F),V=et(V,z)}return new nt(H,V)}i.A=function(V){return gt(this,V).h},i.and=function(V){for(var O=Math.max(this.g.length,V.g.length),M=[],B=0;B<O;B++)M[B]=this.i(B)&V.i(B);return new m(M,this.h&V.h)},i.or=function(V){for(var O=Math.max(this.g.length,V.g.length),M=[],B=0;B<O;B++)M[B]=this.i(B)|V.i(B);return new m(M,this.h|V.h)},i.xor=function(V){for(var O=Math.max(this.g.length,V.g.length),M=[],B=0;B<O;B++)M[B]=this.i(B)^V.i(B);return new m(M,this.h^V.h)};function Tt(V){for(var O=V.g.length+1,M=[],B=0;B<O;B++)M[B]=V.i(B)<<1|V.i(B-1)>>>31;return new m(M,V.h)}function xt(V,O){var M=O>>5;O%=32;for(var B=V.g.length-M,H=[],F=0;F<B;F++)H[F]=0<O?V.i(F+M)>>>O|V.i(F+M+1)<<32-O:V.i(F+M);return new m(H,V.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,Ew=a,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.A,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=T,m.fromString=A,Ha=m}).apply(typeof D0<"u"?D0:typeof self<"u"?self:typeof window<"u"?window:{});var Fh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ww,ic,bw,nf,mp,Sw,Aw,Rw;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,E,b){return f==Array.prototype||f==Object.prototype||(f[E]=b.value),f};function e(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fh=="object"&&Fh];for(var E=0;E<f.length;++E){var b=f[E];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var a=e(this);function l(f,E){if(E)t:{var b=a;f=f.split(".");for(var x=0;x<f.length-1;x++){var K=f[x];if(!(K in b))break t;b=b[K]}f=f[f.length-1],x=b[f],E=E(x),E!=x&&E!=null&&t(b,f,{configurable:!0,writable:!0,value:E})}}function h(f,E){f instanceof String&&(f+="");var b=0,x=!1,K={next:function(){if(!x&&b<f.length){var st=b++;return{value:E(st,f[st]),done:!1}}return x=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}l("Array.prototype.values",function(f){return f||function(){return h(this,function(E,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var m=m||{},y=this||self;function v(f){var E=typeof f;return E=E!="object"?E:f?Array.isArray(f)?"array":E:"null",E=="array"||E=="object"&&typeof f.length=="number"}function T(f){var E=typeof f;return E=="object"&&f!=null||E=="function"}function A(f,E,b){return f.call.apply(f.bind,arguments)}function C(f,E,b){if(!f)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,x),f.apply(E,K)}}return function(){return f.apply(E,arguments)}}function P(f,E,b){return P=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:C,P.apply(null,arguments)}function U(f,E){var b=Array.prototype.slice.call(arguments,1);return function(){var x=b.slice();return x.push.apply(x,arguments),f.apply(this,x)}}function q(f,E){function b(){}b.prototype=E.prototype,f.aa=E.prototype,f.prototype=new b,f.prototype.constructor=f,f.Qb=function(x,K,st){for(var vt=Array(arguments.length-2),te=2;te<arguments.length;te++)vt[te-2]=arguments[te];return E.prototype[K].apply(x,vt)}}function G(f){const E=f.length;if(0<E){const b=Array(E);for(let x=0;x<E;x++)b[x]=f[x];return b}return[]}function $(f,E){for(let b=1;b<arguments.length;b++){const x=arguments[b];if(v(x)){const K=f.length||0,st=x.length||0;f.length=K+st;for(let vt=0;vt<st;vt++)f[K+vt]=x[vt]}else f.push(x)}}class et{constructor(E,b){this.i=E,this.j=b,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function J(f){return/^[\s\xa0]*$/.test(f)}function nt(){var f=y.navigator;return f&&(f=f.userAgent)?f:""}function gt(f){return gt[" "](f),f}gt[" "]=function(){};var Tt=nt().indexOf("Gecko")!=-1&&!(nt().toLowerCase().indexOf("webkit")!=-1&&nt().indexOf("Edge")==-1)&&!(nt().indexOf("Trident")!=-1||nt().indexOf("MSIE")!=-1)&&nt().indexOf("Edge")==-1;function xt(f,E,b){for(const x in f)E.call(b,f[x],x,f)}function V(f,E){for(const b in f)E.call(void 0,f[b],b,f)}function O(f){const E={};for(const b in f)E[b]=f[b];return E}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(f,E){let b,x;for(let K=1;K<arguments.length;K++){x=arguments[K];for(b in x)f[b]=x[b];for(let st=0;st<M.length;st++)b=M[st],Object.prototype.hasOwnProperty.call(x,b)&&(f[b]=x[b])}}function H(f){var E=1;f=f.split(":");const b=[];for(;0<E&&f.length;)b.push(f.shift()),E--;return f.length&&b.push(f.join(":")),b}function F(f){y.setTimeout(()=>{throw f},0)}function z(){var f=se;let E=null;return f.g&&(E=f.g,f.g=f.g.next,f.g||(f.h=null),E.next=null),E}class pe{constructor(){this.h=this.g=null}add(E,b){const x=Re.get();x.set(E,b),this.h?this.h.next=x:this.g=x,this.h=x}}var Re=new et(()=>new at,f=>f.reset());class at{constructor(){this.next=this.g=this.h=null}set(E,b){this.h=E,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let yt,pt=!1,se=new pe,D=()=>{const f=y.Promise.resolve(void 0);yt=()=>{f.then(ot)}};var ot=()=>{for(var f;f=z();){try{f.h.call(f.g)}catch(b){F(b)}var E=Re;E.j(f),100>E.h&&(E.h++,f.next=E.g,E.g=f)}pt=!1};function _t(){this.s=this.s,this.C=this.C}_t.prototype.s=!1,_t.prototype.ma=function(){this.s||(this.s=!0,this.N())},_t.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function mt(f,E){this.type=f,this.g=this.target=E,this.defaultPrevented=!1}mt.prototype.h=function(){this.defaultPrevented=!0};var wt=function(){if(!y.addEventListener||!Object.defineProperty)return!1;var f=!1,E=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const b=()=>{};y.addEventListener("test",b,E),y.removeEventListener("test",b,E)}catch{}return f}();function At(f,E){if(mt.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var b=this.type=f.type,x=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=E,E=f.relatedTarget){if(Tt){t:{try{gt(E.nodeName);var K=!0;break t}catch{}K=!1}K||(E=null)}}else b=="mouseover"?E=f.fromElement:b=="mouseout"&&(E=f.toElement);this.relatedTarget=E,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Et[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&At.aa.h.call(this)}}q(At,mt);var Et={2:"touch",3:"pen",4:"mouse"};At.prototype.h=function(){At.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var Ee="closure_listenable_"+(1e6*Math.random()|0),re=0;function li(f,E,b,x,K){this.listener=f,this.proxy=null,this.src=E,this.type=b,this.capture=!!x,this.ha=K,this.key=++re,this.da=this.fa=!1}function Li(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function ui(f){this.src=f,this.g={},this.h=0}ui.prototype.add=function(f,E,b,x,K){var st=f.toString();f=this.g[st],f||(f=this.g[st]=[],this.h++);var vt=tr(f,E,x,K);return-1<vt?(E=f[vt],b||(E.fa=!1)):(E=new li(E,this.src,st,!!x,K),E.fa=b,f.push(E)),E};function ci(f,E){var b=E.type;if(b in f.g){var x=f.g[b],K=Array.prototype.indexOf.call(x,E,void 0),st;(st=0<=K)&&Array.prototype.splice.call(x,K,1),st&&(Li(E),f.g[b].length==0&&(delete f.g[b],f.h--))}}function tr(f,E,b,x){for(var K=0;K<f.length;++K){var st=f[K];if(!st.da&&st.listener==E&&st.capture==!!b&&st.ha==x)return K}return-1}var Jr="closure_lm_"+(1e6*Math.random()|0),zs={};function Xa(f,E,b,x,K){if(Array.isArray(E)){for(var st=0;st<E.length;st++)Xa(f,E[st],b,x,K);return null}return b=Jo(b),f&&f[Ee]?f.K(E,b,T(x)?!!x.capture:!1,K):Pn(f,E,b,!1,x,K)}function Pn(f,E,b,x,K,st){if(!E)throw Error("Invalid event type");var vt=T(K)?!!K.capture:!!K,te=es(f);if(te||(f[Jr]=te=new ui(f)),b=te.add(E,b,x,vt,st),b.proxy)return b;if(x=Us(),b.proxy=x,x.src=f,x.listener=b,f.addEventListener)wt||(K=vt),K===void 0&&(K=!1),f.addEventListener(E.toString(),x,K);else if(f.attachEvent)f.attachEvent(er(E.toString()),x);else if(f.addListener&&f.removeListener)f.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Us(){function f(b){return E.call(f.src,f.listener,b)}const E=Wo;return f}function Wa(f,E,b,x,K){if(Array.isArray(E))for(var st=0;st<E.length;st++)Wa(f,E[st],b,x,K);else x=T(x)?!!x.capture:!!x,b=Jo(b),f&&f[Ee]?(f=f.i,E=String(E).toString(),E in f.g&&(st=f.g[E],b=tr(st,b,x,K),-1<b&&(Li(st[b]),Array.prototype.splice.call(st,b,1),st.length==0&&(delete f.g[E],f.h--)))):f&&(f=es(f))&&(E=f.g[E.toString()],f=-1,E&&(f=tr(E,b,x,K)),(b=-1<f?E[f]:null)&&ts(b))}function ts(f){if(typeof f!="number"&&f&&!f.da){var E=f.src;if(E&&E[Ee])ci(E.i,f);else{var b=f.type,x=f.proxy;E.removeEventListener?E.removeEventListener(b,x,f.capture):E.detachEvent?E.detachEvent(er(b),x):E.addListener&&E.removeListener&&E.removeListener(x),(b=es(E))?(ci(b,f),b.h==0&&(b.src=null,E[Jr]=null)):Li(f)}}}function er(f){return f in zs?zs[f]:zs[f]="on"+f}function Wo(f,E){if(f.da)f=!0;else{E=new At(E,this);var b=f.listener,x=f.ha||f.src;f.fa&&ts(f),f=b.call(x,E)}return f}function es(f){return f=f[Jr],f instanceof ui?f:null}var Ja="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jo(f){return typeof f=="function"?f:(f[Ja]||(f[Ja]=function(E){return f.handleEvent(E)}),f[Ja])}function xe(){_t.call(this),this.i=new ui(this),this.M=this,this.F=null}q(xe,_t),xe.prototype[Ee]=!0,xe.prototype.removeEventListener=function(f,E,b,x){Wa(this,f,E,b,x)};function ue(f,E){var b,x=f.F;if(x)for(b=[];x;x=x.F)b.push(x);if(f=f.M,x=E.type||E,typeof E=="string")E=new mt(E,f);else if(E instanceof mt)E.target=E.target||f;else{var K=E;E=new mt(x,f),B(E,K)}if(K=!0,b)for(var st=b.length-1;0<=st;st--){var vt=E.g=b[st];K=On(vt,x,!0,E)&&K}if(vt=E.g=f,K=On(vt,x,!0,E)&&K,K=On(vt,x,!1,E)&&K,b)for(st=0;st<b.length;st++)vt=E.g=b[st],K=On(vt,x,!1,E)&&K}xe.prototype.N=function(){if(xe.aa.N.call(this),this.i){var f=this.i,E;for(E in f.g){for(var b=f.g[E],x=0;x<b.length;x++)Li(b[x]);delete f.g[E],f.h--}}this.F=null},xe.prototype.K=function(f,E,b,x){return this.i.add(String(f),E,!1,b,x)},xe.prototype.L=function(f,E,b,x){return this.i.add(String(f),E,!0,b,x)};function On(f,E,b,x){if(E=f.i.g[String(E)],!E)return!0;E=E.concat();for(var K=!0,st=0;st<E.length;++st){var vt=E[st];if(vt&&!vt.da&&vt.capture==b){var te=vt.listener,Ge=vt.ha||vt.src;vt.fa&&ci(f.i,vt),K=te.call(Ge,x)!==!1&&K}}return K&&!x.defaultPrevented}function hn(f,E,b){if(typeof f=="function")b&&(f=P(f,b));else if(f&&typeof f.handleEvent=="function")f=P(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:y.setTimeout(f,E||0)}function to(f){f.g=hn(()=>{f.g=null,f.i&&(f.i=!1,to(f))},f.l);const E=f.h;f.h=null,f.m.apply(null,E)}class tl extends _t{constructor(E,b){super(),this.m=E,this.l=b,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:to(this)}N(){super.N(),this.g&&(y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ns(f){_t.call(this),this.h=f,this.g={}}q(ns,_t);var Ar=[];function nr(f){xt(f.g,function(E,b){this.g.hasOwnProperty(b)&&ts(E)},f),f.g={}}ns.prototype.N=function(){ns.aa.N.call(this),nr(this)},ns.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wn=y.JSON.stringify,Bs=y.JSON.parse,hi=class{stringify(f){return y.JSON.stringify(f,void 0)}parse(f){return y.JSON.parse(f,void 0)}};function eo(){}eo.prototype.h=null;function no(f){return f.h||(f.h=f.i())}function Hs(){}var Mi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Di(){mt.call(this,"d")}q(Di,mt);function io(){mt.call(this,"c")}q(io,mt);var Ni={},ro=null;function Rr(){return ro=ro||new xe}Ni.La="serverreachability";function qs(f){mt.call(this,Ni.La,f)}q(qs,mt);function Ir(f){const E=Rr();ue(E,new qs(E))}Ni.STAT_EVENT="statevent";function js(f,E){mt.call(this,Ni.STAT_EVENT,f),this.stat=E}q(js,mt);function Pe(f){const E=Rr();ue(E,new js(E,f))}Ni.Ma="timingevent";function $e(f,E){mt.call(this,Ni.Ma,f),this.size=E}q($e,mt);function Fe(f,E){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return y.setTimeout(function(){f()},E)}function Jn(){this.g=!0}Jn.prototype.xa=function(){this.g=!1};function Ln(f,E,b,x,K,st){f.info(function(){if(f.g)if(st)for(var vt="",te=st.split("&"),Ge=0;Ge<te.length;Ge++){var ee=te[Ge].split("=");if(1<ee.length){var de=ee[0];ee=ee[1];var Le=de.split("_");vt=2<=Le.length&&Le[1]=="type"?vt+(de+"="+ee+"&"):vt+(de+"=redacted&")}}else vt=null;else vt=st;return"XMLHTTP REQ ("+x+") [attempt "+K+"]: "+E+`
`+b+`
`+vt})}function Ot(f,E,b,x,K,st,vt){f.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+K+"]: "+E+`
`+b+`
`+st+" "+vt})}function ir(f,E,b,x){f.info(function(){return"XMLHTTP TEXT ("+E+"): "+Cr(f,b)+(x?" "+x:"")})}function so(f,E){f.info(function(){return"TIMEOUT: "+E})}Jn.prototype.info=function(){};function Cr(f,E){if(!f.g)return E;if(!E)return null;try{var b=JSON.parse(E);if(b){for(f=0;f<b.length;f++)if(Array.isArray(b[f])){var x=b[f];if(!(2>x.length)){var K=x[1];if(Array.isArray(K)&&!(1>K.length)){var st=K[0];if(st!="noop"&&st!="stop"&&st!="close")for(var vt=1;vt<K.length;vt++)K[vt]=""}}}}return Wn(b)}catch{return E}}var rr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},di;function En(){}q(En,eo),En.prototype.g=function(){return new XMLHttpRequest},En.prototype.i=function(){return{}},di=new En;function fn(f,E,b,x){this.j=f,this.i=E,this.l=b,this.R=x||1,this.U=new ns(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ue}function Ue(){this.i=null,this.g="",this.h=!1}var ao={},Fs={};function mi(f,E,b){f.L=1,f.v=Fn(Oe(E)),f.m=b,f.P=!0,ki(f,null)}function ki(f,E){f.F=Date.now(),rs(f),f.A=Oe(f.v);var b=f.A,x=f.R;Array.isArray(x)||(x=[String(x)]),uo(b.i,"t",x),f.C=0,b=f.j.J,f.h=new Ue,f.g=al(f.j,b?E:null,!f.m),0<f.O&&(f.M=new tl(P(f.Y,f,f.g),f.O)),E=f.U,b=f.g,x=f.ca;var K="readystatechange";Array.isArray(K)||(K&&(Ar[0]=K.toString()),K=Ar);for(var st=0;st<K.length;st++){var vt=Xa(b,K[st],x||E.handleEvent,!1,E.h||E);if(!vt)break;E.g[vt.key]=vt}E=f.H?O(f.H):{},f.m?(f.u||(f.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,E)):(f.u="GET",f.g.ea(f.A,f.u,null,E)),Ir(),Ln(f.i,f.u,f.A,f.l,f.R,f.m)}fn.prototype.ca=function(f){f=f.target;const E=this.M;E&&pn(f)==3?E.j():this.Y(f)},fn.prototype.Y=function(f){try{if(f==this.g)t:{const Le=pn(this.g);var E=this.g.Ba();const fr=this.g.Z();if(!(3>Le)&&(Le!=3||this.g&&(this.h.h||this.g.oa()||co(this.g)))){this.J||Le!=4||E==7||(E==8||0>=fr?Ir(3):Ir(2)),xr(this);var b=this.g.Z();this.X=b;e:if(el(this)){var x=co(this.g);f="";var K=x.length,st=pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sn(this),Vi(this);var vt="";break e}this.h.i=new y.TextDecoder}for(E=0;E<K;E++)this.h.h=!0,f+=this.h.i.decode(x[E],{stream:!(st&&E==K-1)});x.length=0,this.h.g+=f,this.C=0,vt=this.h.g}else vt=this.g.oa();if(this.o=b==200,Ot(this.i,this.u,this.A,this.l,this.R,Le,b),this.o){if(this.T&&!this.K){e:{if(this.g){var te,Ge=this.g;if((te=Ge.g?Ge.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(te)){var ee=te;break e}}ee=null}if(b=ee)ir(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,sr(this,b);else{this.o=!1,this.s=3,Pe(12),sn(this),Vi(this);break t}}if(this.P){b=!0;let Ie;for(;!this.J&&this.C<vt.length;)if(Ie=is(this,vt),Ie==Fs){Le==4&&(this.s=4,Pe(14),b=!1),ir(this.i,this.l,null,"[Incomplete Response]");break}else if(Ie==ao){this.s=4,Pe(15),ir(this.i,this.l,vt,"[Invalid Chunk]"),b=!1;break}else ir(this.i,this.l,Ie,null),sr(this,Ie);if(el(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Le!=4||vt.length!=0||this.h.h||(this.s=1,Pe(16),b=!1),this.o=this.o&&b,!b)ir(this.i,this.l,vt,"[Invalid Chunked Response]"),sn(this),Vi(this);else if(0<vt.length&&!this.W){this.W=!0;var de=this.j;de.g==this&&de.ba&&!de.M&&(de.j.info("Great, no buffering proxy detected. Bytes received: "+vt.length),Nr(de),de.M=!0,Pe(11))}}else ir(this.i,this.l,vt,null),sr(this,vt);Le==4&&sn(this),this.o&&!this.J&&(Le==4?fo(this.j,this):(this.o=!1,rs(this)))}else cu(this.g),b==400&&0<vt.indexOf("Unknown SID")?(this.s=3,Pe(12)):(this.s=0,Pe(13)),sn(this),Vi(this)}}}catch{}finally{}};function el(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function is(f,E){var b=f.C,x=E.indexOf(`
`,b);return x==-1?Fs:(b=Number(E.substring(b,x)),isNaN(b)?ao:(x+=1,x+b>E.length?Fs:(E=E.slice(x,x+b),f.C=x+b,E)))}fn.prototype.cancel=function(){this.J=!0,sn(this)};function rs(f){f.S=Date.now()+f.I,nl(f,f.I)}function nl(f,E){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Fe(P(f.ba,f),E)}function xr(f){f.B&&(y.clearTimeout(f.B),f.B=null)}fn.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(so(this.i,this.A),this.L!=2&&(Ir(),Pe(17)),sn(this),this.s=2,Vi(this)):nl(this,this.S-f)};function Vi(f){f.j.G==0||f.J||fo(f.j,f)}function sn(f){xr(f);var E=f.M;E&&typeof E.ma=="function"&&E.ma(),f.M=null,nr(f.U),f.g&&(E=f.g,f.g=null,E.abort(),E.ma())}function sr(f,E){try{var b=f.j;if(b.G!=0&&(b.g==f||Qt(b.h,f))){if(!f.K&&Qt(b.h,f)&&b.G==3){try{var x=b.Da.g.parse(E)}catch{x=null}if(Array.isArray(x)&&x.length==3){var K=x;if(K[0]==0){t:if(!b.u){if(b.g)if(b.g.F+3e3<f.F)Js(b),Qs(b);else break t;Xs(b),Pe(18)}}else b.za=K[1],0<b.za-b.T&&37500>K[2]&&b.F&&b.v==0&&!b.C&&(b.C=Fe(P(b.Za,b),6e3));if(1>=Ui(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else hr(b,11)}else if((f.K||b.g==f)&&Js(b),!J(E))for(K=b.Da.g.parse(E),E=0;E<K.length;E++){let ee=K[E];if(b.T=ee[0],ee=ee[1],b.G==2)if(ee[0]=="c"){b.K=ee[1],b.ia=ee[2];const de=ee[3];de!=null&&(b.la=de,b.j.info("VER="+b.la));const Le=ee[4];Le!=null&&(b.Aa=Le,b.j.info("SVER="+b.Aa));const fr=ee[5];fr!=null&&typeof fr=="number"&&0<fr&&(x=1.5*fr,b.L=x,b.j.info("backChannelRequestTimeoutMs_="+x)),x=b;const Ie=f.g;if(Ie){const Fi=Ie.g?Ie.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fi){var st=x.h;st.g||Fi.indexOf("spdy")==-1&&Fi.indexOf("quic")==-1&&Fi.indexOf("h2")==-1||(st.j=st.l,st.g=new Set,st.h&&(fe(st,st.h),st.h=null))}if(x.D){const Gi=Ie.g?Ie.g.getResponseHeader("X-HTTP-Session-Id"):null;Gi&&(x.ya=Gi,Vt(x.I,x.D,Gi))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-f.F,b.j.info("Handshake RTT: "+b.R+"ms")),x=b;var vt=f;if(x.qa=ea(x,x.J?x.ia:null,x.W),vt.K){We(x.h,vt);var te=vt,Ge=x.L;Ge&&(te.I=Ge),te.B&&(xr(te),rs(te)),x.g=vt}else Ti(x);0<b.i.length&&Dr(b)}else ee[0]!="stop"&&ee[0]!="close"||hr(b,7);else b.G==3&&(ee[0]=="stop"||ee[0]=="close"?ee[0]=="stop"?hr(b,7):Ys(b):ee[0]!="noop"&&b.l&&b.l.ta(ee),b.v=0)}}Ir(4)}catch{}}var Pr=class{constructor(f,E){this.g=f,this.map=E}};function zi(f){this.l=f||10,y.PerformanceNavigationTiming?(f=y.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(y.chrome&&y.chrome.loadTimes&&y.chrome.loadTimes()&&y.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ss(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function Ui(f){return f.h?1:f.g?f.g.size:0}function Qt(f,E){return f.h?f.h==E:f.g?f.g.has(E):!1}function fe(f,E){f.g?f.g.add(E):f.h=E}function We(f,E){f.h&&f.h==E?f.h=null:f.g&&f.g.has(E)&&f.g.delete(E)}zi.prototype.cancel=function(){if(this.i=Bi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Bi(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let E=f.i;for(const b of f.g.values())E=E.concat(b.D);return E}return G(f.i)}function Or(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(v(f)){for(var E=[],b=f.length,x=0;x<b;x++)E.push(f[x]);return E}E=[],b=0;for(x in f)E[b++]=f[x];return E}function Lr(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(v(f)||typeof f=="string"){var E=[];f=f.length;for(var b=0;b<f;b++)E.push(b);return E}E=[],b=0;for(const x in f)E[b++]=x;return E}}}function qt(f,E){if(f.forEach&&typeof f.forEach=="function")f.forEach(E,void 0);else if(v(f)||typeof f=="string")Array.prototype.forEach.call(f,E,void 0);else for(var b=Lr(f),x=Or(f),K=x.length,st=0;st<K;st++)E.call(void 0,x[st],b&&b[st],f)}var ge=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oo(f,E){if(f){f=f.split("&");for(var b=0;b<f.length;b++){var x=f[b].indexOf("="),K=null;if(0<=x){var st=f[b].substring(0,x);K=f[b].substring(x+1)}else st=f[b];E(st,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Ne(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Ne){this.h=f.h,as(this,f.j),this.o=f.o,this.g=f.g,pi(this,f.s),this.l=f.l;var E=f.i,b=new _i;b.i=E.i,E.g&&(b.g=new Map(E.g),b.h=E.h),wn(this,b),this.m=f.m}else f&&(E=String(f).match(ge))?(this.h=!1,as(this,E[1]||"",!0),this.o=dn(E[2]||""),this.g=dn(E[3]||"",!0),pi(this,E[4]),this.l=dn(E[5]||"",!0),wn(this,E[6]||"",!0),this.m=dn(E[7]||"")):(this.h=!1,this.i=new _i(null,this.h))}Ne.prototype.toString=function(){var f=[],E=this.j;E&&f.push(gi(E,ar,!0),":");var b=this.g;return(b||E=="file")&&(f.push("//"),(E=this.o)&&f.push(gi(E,ar,!0),"@"),f.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&f.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&f.push("/"),f.push(gi(b,b.charAt(0)=="/"?lo:os,!0))),(b=this.i.toString())&&f.push("?",b),(b=this.m)&&f.push("#",gi(b,Mr)),f.join("")};function Oe(f){return new Ne(f)}function as(f,E,b){f.j=b?dn(E,!0):E,f.j&&(f.j=f.j.replace(/:$/,""))}function pi(f,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);f.s=E}else f.s=null}function wn(f,E,b){E instanceof _i?(f.i=E,Gn(f.i,f.h)):(b||(E=gi(E,Zs)),f.i=new _i(E,f.h))}function Vt(f,E,b){f.i.set(E,b)}function Fn(f){return Vt(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function dn(f,E){return f?E?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function gi(f,E,b){return typeof f=="string"?(f=encodeURI(f).replace(E,Gs),b&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function Gs(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ar=/[#\/\?@]/g,os=/[#\?:]/g,lo=/[#\?]/g,Zs=/[#\?@]/g,Mr=/#/g;function _i(f,E){this.h=this.g=null,this.i=f||null,this.j=!!E}function bn(f){f.g||(f.g=new Map,f.h=0,f.i&&oo(f.i,function(E,b){f.add(decodeURIComponent(E.replace(/\+/g," ")),b)}))}i=_i.prototype,i.add=function(f,E){bn(this),this.i=null,f=Dt(this,f);var b=this.g.get(f);return b||this.g.set(f,b=[]),b.push(E),this.h+=1,this};function Hi(f,E){bn(f),E=Dt(f,E),f.g.has(E)&&(f.i=null,f.h-=f.g.get(E).length,f.g.delete(E))}function yi(f,E){return bn(f),E=Dt(f,E),f.g.has(E)}i.forEach=function(f,E){bn(this),this.g.forEach(function(b,x){b.forEach(function(K){f.call(E,K,x,this)},this)},this)},i.na=function(){bn(this);const f=Array.from(this.g.values()),E=Array.from(this.g.keys()),b=[];for(let x=0;x<E.length;x++){const K=f[x];for(let st=0;st<K.length;st++)b.push(E[x])}return b},i.V=function(f){bn(this);let E=[];if(typeof f=="string")yi(this,f)&&(E=E.concat(this.g.get(Dt(this,f))));else{f=Array.from(this.g.values());for(let b=0;b<f.length;b++)E=E.concat(f[b])}return E},i.set=function(f,E){return bn(this),this.i=null,f=Dt(this,f),yi(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[E]),this.h+=1,this},i.get=function(f,E){return f?(f=this.V(f),0<f.length?String(f[0]):E):E};function uo(f,E,b){Hi(f,E),0<b.length&&(f.i=null,f.g.set(Dt(f,E),G(b)),f.h+=b.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],E=Array.from(this.g.keys());for(var b=0;b<E.length;b++){var x=E[b];const st=encodeURIComponent(String(x)),vt=this.V(x);for(x=0;x<vt.length;x++){var K=st;vt[x]!==""&&(K+="="+encodeURIComponent(String(vt[x]))),f.push(K)}}return this.i=f.join("&")};function Dt(f,E){return E=String(E),f.j&&(E=E.toLowerCase()),E}function Gn(f,E){E&&!f.j&&(bn(f),f.i=null,f.g.forEach(function(b,x){var K=x.toLowerCase();x!=K&&(Hi(this,x),uo(this,K,b))},f)),f.j=E}function ae(f,E){const b=new Jn;if(y.Image){const x=new Image;x.onload=U(Mn,b,"TestLoadImage: loaded",!0,E,x),x.onerror=U(Mn,b,"TestLoadImage: error",!1,E,x),x.onabort=U(Mn,b,"TestLoadImage: abort",!1,E,x),x.ontimeout=U(Mn,b,"TestLoadImage: timeout",!1,E,x),y.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=f}else E(!1)}function ti(f,E){const b=new Jn,x=new AbortController,K=setTimeout(()=>{x.abort(),Mn(b,"TestPingServer: timeout",!1,E)},1e4);fetch(f,{signal:x.signal}).then(st=>{clearTimeout(K),st.ok?Mn(b,"TestPingServer: ok",!0,E):Mn(b,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(K),Mn(b,"TestPingServer: error",!1,E)})}function Mn(f,E,b,x,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),x(b)}catch{}}function or(){this.g=new hi}function ei(f,E,b){const x=b||"";try{qt(f,function(K,st){let vt=K;T(K)&&(vt=Wn(K)),E.push(x+st+"="+encodeURIComponent(vt))})}catch(K){throw E.push(x+"type="+encodeURIComponent("_badmap")),K}}function Dn(f){this.l=f.Ub||null,this.j=f.eb||!1}q(Dn,eo),Dn.prototype.g=function(){return new vi(this.l,this.j)},Dn.prototype.i=function(f){return function(){return f}}({});function vi(f,E){xe.call(this),this.D=f,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}q(vi,xe),i=vi.prototype,i.open=function(f,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=E,this.readyState=1,mn(this)},i.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(E.body=f),(this.D||y).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,we(this)),this.readyState=0},i.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,mn(this)),this.g&&(this.readyState=3,mn(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof y.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;lr(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function lr(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}i.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var E=f.value?f.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!f.done}))&&(this.response=this.responseText+=E)}f.done?we(this):mn(this),this.readyState==3&&lr(this)}},i.Ra=function(f){this.g&&(this.response=this.responseText=f,we(this))},i.Qa=function(f){this.g&&(this.response=f,we(this))},i.ga=function(){this.g&&we(this)};function we(f){f.readyState=4,f.l=null,f.j=null,f.v=null,mn(f)}i.setRequestHeader=function(f,E){this.u.append(f,E)},i.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],E=this.h.entries();for(var b=E.next();!b.done;)b=b.value,f.push(b[0]+": "+b[1]),b=E.next();return f.join(`\r
`)};function mn(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(vi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function $s(f){let E="";return xt(f,function(b,x){E+=x,E+=":",E+=b,E+=`\r
`}),E}function Ke(f,E,b){t:{for(x in b){var x=!1;break t}x=!0}x||(b=$s(b),typeof f=="string"?b!=null&&encodeURIComponent(String(b)):Vt(f,E,b))}function ce(f){xe.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}q(ce,xe);var ls=/^https?$/i,ur=["POST","PUT"];i=ce.prototype,i.Ha=function(f){this.J=f},i.ea=function(f,E,b,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);E=E?E.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():di.g(),this.v=this.o?no(this.o):no(di),this.g.onreadystatechange=P(this.Ea,this);try{this.B=!0,this.g.open(E,String(f),!0),this.B=!1}catch(st){il(this,st);return}if(f=b||"",b=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var K in x)b.set(K,x[K]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const st of x.keys())b.set(st,x.get(st));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(b.keys()).find(st=>st.toLowerCase()=="content-type"),K=y.FormData&&f instanceof y.FormData,!(0<=Array.prototype.indexOf.call(ur,E,void 0))||x||K||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[st,vt]of b)this.g.setRequestHeader(st,vt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{an(this),this.u=!0,this.g.send(f),this.u=!1}catch(st){il(this,st)}};function il(f,E){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=E,f.m=5,us(f),qi(f)}function us(f){f.A||(f.A=!0,ue(f,"complete"),ue(f,"error"))}i.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,ue(this,"complete"),ue(this,"abort"),qi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qi(this,!0)),ce.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Gt(this):this.bb())},i.bb=function(){Gt(this)};function Gt(f){if(f.h&&typeof m<"u"&&(!f.v[1]||pn(f)!=4||f.Z()!=2)){if(f.u&&pn(f)==4)hn(f.Ea,0,f);else if(ue(f,"readystatechange"),pn(f)==4){f.h=!1;try{const vt=f.Z();t:switch(vt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break t;default:E=!1}var b;if(!(b=E)){var x;if(x=vt===0){var K=String(f.D).match(ge)[1]||null;!K&&y.self&&y.self.location&&(K=y.self.location.protocol.slice(0,-1)),x=!ls.test(K?K.toLowerCase():"")}b=x}if(b)ue(f,"complete"),ue(f,"success");else{f.m=6;try{var st=2<pn(f)?f.g.statusText:""}catch{st=""}f.l=st+" ["+f.Z()+"]",us(f)}}finally{qi(f)}}}}function qi(f,E){if(f.g){an(f);const b=f.g,x=f.v[0]?()=>{}:null;f.g=null,f.v=null,E||ue(f,"ready");try{b.onreadystatechange=x}catch{}}}function an(f){f.I&&(y.clearTimeout(f.I),f.I=null)}i.isActive=function(){return!!this.g};function pn(f){return f.g?f.g.readyState:0}i.Z=function(){try{return 2<pn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(f){if(this.g){var E=this.g.responseText;return f&&E.indexOf(f)==0&&(E=E.substring(f.length)),Bs(E)}};function co(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function cu(f){const E={};f=(f.g&&2<=pn(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<f.length;x++){if(J(f[x]))continue;var b=H(f[x]);const K=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const st=E[K]||[];E[K]=st,st.push(b)}V(E,function(x){return x.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function cr(f,E,b){return b&&b.internalChannelParams&&b.internalChannelParams[f]||E}function Ks(f){this.Aa=0,this.i=[],this.j=new Jn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=cr("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=cr("baseRetryDelayMs",5e3,f),this.cb=cr("retryDelaySeedMs",1e4,f),this.Wa=cr("forwardChannelMaxRetries",2,f),this.wa=cr("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new zi(f&&f.concurrentRequestLimit),this.Da=new or,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Ks.prototype,i.la=8,i.G=1,i.connect=function(f,E,b,x){Pe(0),this.W=f,this.H=E||{},b&&x!==void 0&&(this.H.OSID=b,this.H.OAID=x),this.F=this.X,this.I=ea(this,null,this.W),Dr(this)};function Ys(f){if(rl(f),f.G==3){var E=f.U++,b=Oe(f.I);if(Vt(b,"SID",f.K),Vt(b,"RID",E),Vt(b,"TYPE","terminate"),cs(f,b),E=new fn(f,f.j,E),E.L=2,E.v=Fn(Oe(b)),b=!1,y.navigator&&y.navigator.sendBeacon)try{b=y.navigator.sendBeacon(E.v.toString(),"")}catch{}!b&&y.Image&&(new Image().src=E.v,b=!0),b||(E.g=al(E.j,null),E.g.ea(E.v)),E.F=Date.now(),rs(E)}sl(f)}function Qs(f){f.g&&(Nr(f),f.g.cancel(),f.g=null)}function rl(f){Qs(f),f.u&&(y.clearTimeout(f.u),f.u=null),Js(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&y.clearTimeout(f.s),f.s=null)}function Dr(f){if(!ss(f.h)&&!f.s){f.s=!0;var E=f.Ga;yt||D(),pt||(yt(),pt=!0),se.add(E,f),f.B=0}}function hu(f,E){return Ui(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=E.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Fe(P(f.Ga,f,E),ta(f,f.B)),f.B++,!0)}i.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const K=new fn(this,this.j,f);let st=this.o;if(this.S&&(st?(st=O(st),B(st,this.S)):st=this.S),this.m!==null||this.O||(K.H=st,st=null),this.P)t:{for(var E=0,b=0;b<this.i.length;b++){e:{var x=this.i[b];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break e}x=void 0}if(x===void 0)break;if(E+=x,4096<E){E=b;break t}if(E===4096||b===this.i.length-1){E=b+1;break t}}E=1e3}else E=1e3;E=ho(this,K,E),b=Oe(this.I),Vt(b,"RID",f),Vt(b,"CVER",22),this.D&&Vt(b,"X-HTTP-Session-Id",this.D),cs(this,b),st&&(this.O?E="headers="+encodeURIComponent(String($s(st)))+"&"+E:this.m&&Ke(b,this.m,st)),fe(this.h,K),this.Ua&&Vt(b,"TYPE","init"),this.P?(Vt(b,"$req",E),Vt(b,"SID","null"),K.T=!0,mi(K,b,null)):mi(K,b,E),this.G=2}}else this.G==3&&(f?Nn(this,f):this.i.length==0||ss(this.h)||Nn(this))};function Nn(f,E){var b;E?b=E.l:b=f.U++;const x=Oe(f.I);Vt(x,"SID",f.K),Vt(x,"RID",b),Vt(x,"AID",f.T),cs(f,x),f.m&&f.o&&Ke(x,f.m,f.o),b=new fn(f,f.j,b,f.B+1),f.m===null&&(b.H=f.o),E&&(f.i=E.D.concat(f.i)),E=ho(f,b,1e3),b.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),fe(f.h,b),mi(b,x,E)}function cs(f,E){f.H&&xt(f.H,function(b,x){Vt(E,x,b)}),f.l&&qt({},function(b,x){Vt(E,x,b)})}function ho(f,E,b){b=Math.min(f.i.length,b);var x=f.l?P(f.l.Na,f.l,f):null;t:{var K=f.i;let st=-1;for(;;){const vt=["count="+b];st==-1?0<b?(st=K[0].g,vt.push("ofs="+st)):st=0:vt.push("ofs="+st);let te=!0;for(let Ge=0;Ge<b;Ge++){let ee=K[Ge].g;const de=K[Ge].map;if(ee-=st,0>ee)st=Math.max(0,K[Ge].g-100),te=!1;else try{ei(de,vt,"req"+ee+"_")}catch{x&&x(de)}}if(te){x=vt.join("&");break t}}}return f=f.i.splice(0,b),E.D=f,x}function Ti(f){if(!f.g&&!f.u){f.Y=1;var E=f.Fa;yt||D(),pt||(yt(),pt=!0),se.add(E,f),f.v=0}}function Xs(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Fe(P(f.Fa,f),ta(f,f.v)),f.v++,!0)}i.Fa=function(){if(this.u=null,Ws(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Fe(P(this.ab,this),f)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pe(10),Qs(this),Ws(this))};function Nr(f){f.A!=null&&(y.clearTimeout(f.A),f.A=null)}function Ws(f){f.g=new fn(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var E=Oe(f.qa);Vt(E,"RID","rpc"),Vt(E,"SID",f.K),Vt(E,"AID",f.T),Vt(E,"CI",f.F?"0":"1"),!f.F&&f.ja&&Vt(E,"TO",f.ja),Vt(E,"TYPE","xmlhttp"),cs(f,E),f.m&&f.o&&Ke(E,f.m,f.o),f.L&&(f.g.I=f.L);var b=f.g;f=f.ia,b.L=1,b.v=Fn(Oe(E)),b.m=null,b.P=!0,ki(b,f)}i.Za=function(){this.C!=null&&(this.C=null,Qs(this),Xs(this),Pe(19))};function Js(f){f.C!=null&&(y.clearTimeout(f.C),f.C=null)}function fo(f,E){var b=null;if(f.g==E){Js(f),Nr(f),f.g=null;var x=2}else if(Qt(f.h,E))b=E.D,We(f.h,E),x=1;else return;if(f.G!=0){if(E.o)if(x==1){b=E.m?E.m.length:0,E=Date.now()-E.F;var K=f.B;x=Rr(),ue(x,new $e(x,b)),Dr(f)}else Ti(f);else if(K=E.s,K==3||K==0&&0<E.X||!(x==1&&hu(f,E)||x==2&&Xs(f)))switch(b&&0<b.length&&(E=f.h,E.i=E.i.concat(b)),K){case 1:hr(f,5);break;case 4:hr(f,10);break;case 3:hr(f,6);break;default:hr(f,2)}}}function ta(f,E){let b=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(b*=2),b*E}function hr(f,E){if(f.j.info("Error code "+E),E==2){var b=P(f.fb,f),x=f.Xa;const K=!x;x=new Ne(x||"//www.google.com/images/cleardot.gif"),y.location&&y.location.protocol=="http"||as(x,"https"),Fn(x),K?ae(x.toString(),b):ti(x.toString(),b)}else Pe(2);f.G=0,f.l&&f.l.sa(E),sl(f),rl(f)}i.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Pe(2)):(this.j.info("Failed to ping google.com"),Pe(1))};function sl(f){if(f.G=0,f.ka=[],f.l){const E=Bi(f.h);(E.length!=0||f.i.length!=0)&&($(f.ka,E),$(f.ka,f.i),f.h.i.length=0,G(f.i),f.i.length=0),f.l.ra()}}function ea(f,E,b){var x=b instanceof Ne?Oe(b):new Ne(b);if(x.g!="")E&&(x.g=E+"."+x.g),pi(x,x.s);else{var K=y.location;x=K.protocol,E=E?E+"."+K.hostname:K.hostname,K=+K.port;var st=new Ne(null);x&&as(st,x),E&&(st.g=E),K&&pi(st,K),b&&(st.l=b),x=st}return b=f.D,E=f.ya,b&&E&&Vt(x,b,E),Vt(x,"VER",f.la),cs(f,x),x}function al(f,E,b){if(E&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=f.Ca&&!f.pa?new ce(new Dn({eb:b})):new ce(f.pa),E.Ha(f.J),E}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function mo(){}i=mo.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function hs(){}hs.prototype.g=function(f,E){return new Je(f,E)};function Je(f,E){xe.call(this),this.g=new Ks(E),this.l=f,this.h=E&&E.messageUrlParams||null,f=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(f?f["X-WebChannel-Content-Type"]=E.messageContentType:f={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(f?f["X-WebChannel-Client-Profile"]=E.va:f={"X-WebChannel-Client-Profile":E.va}),this.g.S=f,(f=E&&E.Sb)&&!J(f)&&(this.g.m=f),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!J(E)&&(this.g.D=E,f=this.h,f!==null&&E in f&&(f=this.h,E in f&&delete f[E])),this.j=new kn(this)}q(Je,xe),Je.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Je.prototype.close=function(){Ys(this.g)},Je.prototype.o=function(f){var E=this.g;if(typeof f=="string"){var b={};b.__data__=f,f=b}else this.u&&(b={},b.__data__=Wn(f),f=b);E.i.push(new Pr(E.Ya++,f)),E.G==3&&Dr(E)},Je.prototype.N=function(){this.g.l=null,delete this.j,Ys(this.g),delete this.g,Je.aa.N.call(this)};function ji(f){Di.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var E=f.__sm__;if(E){t:{for(const b in E){f=b;break t}f=void 0}(this.i=f)&&(f=this.i,E=E!==null&&f in E?E[f]:void 0),this.data=E}else this.data=f}q(ji,Di);function ol(){io.call(this),this.status=1}q(ol,io);function kn(f){this.g=f}q(kn,mo),kn.prototype.ua=function(){ue(this.g,"a")},kn.prototype.ta=function(f){ue(this.g,new ji(f))},kn.prototype.sa=function(f){ue(this.g,new ol)},kn.prototype.ra=function(){ue(this.g,"b")},hs.prototype.createWebChannel=hs.prototype.g,Je.prototype.send=Je.prototype.o,Je.prototype.open=Je.prototype.m,Je.prototype.close=Je.prototype.close,Rw=function(){return new hs},Aw=function(){return Rr()},Sw=Ni,mp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rr.NO_ERROR=0,rr.TIMEOUT=8,rr.HTTP_ERROR=6,nf=rr,fi.COMPLETE="complete",bw=fi,Hs.EventType=Mi,Mi.OPEN="a",Mi.CLOSE="b",Mi.ERROR="c",Mi.MESSAGE="d",xe.prototype.listen=xe.prototype.K,ic=Hs,ce.prototype.listenOnce=ce.prototype.L,ce.prototype.getLastError=ce.prototype.Ka,ce.prototype.getLastErrorCode=ce.prototype.Ba,ce.prototype.getStatus=ce.prototype.Z,ce.prototype.getResponseJson=ce.prototype.Oa,ce.prototype.getResponseText=ce.prototype.oa,ce.prototype.send=ce.prototype.ea,ce.prototype.setWithCredentials=ce.prototype.Ha,ww=ce}).apply(typeof Fh<"u"?Fh:typeof self<"u"?self:typeof window<"u"?window:{});const N0="@firebase/firestore",k0="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Bn.UNAUTHENTICATED=new Bn(null),Bn.GOOGLE_CREDENTIALS=new Bn("google-credentials-uid"),Bn.FIRST_PARTY=new Bn("first-party-uid"),Bn.MOCK_USER=new Bn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let su="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=new kf("@firebase/firestore");function zl(){return qo.logLevel}function St(i,...t){if(qo.logLevel<=ne.DEBUG){const e=t.map(mg);qo.debug(`Firestore (${su}): ${i}`,...e)}}function Ds(i,...t){if(qo.logLevel<=ne.ERROR){const e=t.map(mg);qo.error(`Firestore (${su}): ${i}`,...e)}}function $l(i,...t){if(qo.logLevel<=ne.WARN){const e=t.map(mg);qo.warn(`Firestore (${su}): ${i}`,...e)}}function mg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(e){return JSON.stringify(e)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(i,t,e){let a="Unexpected state";typeof t=="string"?a=t:e=t,Iw(i,a,e)}function Iw(i,t,e){let a=`FIRESTORE (${su}) INTERNAL ASSERTION FAILED: ${t} (ID: ${i.toString(16)})`;if(e!==void 0)try{a+=" CONTEXT: "+JSON.stringify(e)}catch{a+=" CONTEXT: "+e}throw Ds(a),new Error(a)}function me(i,t,e,a){let l="Unexpected state";typeof e=="string"?l=e:a=e,i||Iw(t,l,a)}function Ft(i,t){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ct extends Sr{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class xP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Bn.UNAUTHENTICATED))}shutdown(){}}class PP{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class OP{constructor(t){this.t=t,this.currentUser=Bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){me(this.o===void 0,42304);let a=this.i;const l=v=>this.i!==a?(a=this.i,e(v)):Promise.resolve();let h=new Vo;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Vo,t.enqueueRetryable(()=>l(this.currentUser))};const m=()=>{const v=h;t.enqueueRetryable(async()=>{await v.promise,await l(this.currentUser)})},y=v=>{St("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit(v=>y(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(St("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Vo)}},0),m()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(a=>this.i!==t?(St("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(me(typeof a.accessToken=="string",31837,{l:a}),new Cw(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return me(t===null||typeof t=="string",2055,{h:t}),new Bn(t)}}class LP{constructor(t,e,a){this.P=t,this.T=e,this.I=a,this.type="FirstParty",this.user=Bn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class MP{constructor(t,e,a){this.P=t,this.T=e,this.I=a}getToken(){return Promise.resolve(new LP(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable(()=>e(Bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class V0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DP{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,vr(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){me(this.o===void 0,3512);const a=h=>{h.error!=null&&St("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const m=h.token!==this.m;return this.m=h.token,St("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?e(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable(()=>a(h))};const l=h=>{St("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>l(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?l(h):St("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new V0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(me(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new V0(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(i){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let a=0;a<i;a++)e[a]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=NP(40);for(let h=0;h<l.length;++h)a.length<20&&l[h]<e&&(a+=t.charAt(l[h]%62))}return a}}function Yt(i,t){return i<t?-1:i>t?1:0}function pp(i,t){let e=0;for(;e<i.length&&e<t.length;){const a=i.codePointAt(e),l=t.codePointAt(e);if(a!==l){if(a<128&&l<128)return Yt(a,l);{const h=xw(),m=kP(h.encode(z0(i,e)),h.encode(z0(t,e)));return m!==0?m:Yt(a,l)}}e+=a>65535?2:1}return Yt(i.length,t.length)}function z0(i,t){return i.codePointAt(t)>65535?i.substring(t,t+2):i.substring(t,t+1)}function kP(i,t){for(let e=0;e<i.length&&e<t.length;++e)if(i[e]!==t[e])return Yt(i[e],t[e]);return Yt(i.length,t.length)}function Kl(i,t,e){return i.length===t.length&&i.every((a,l)=>e(a,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0=-62135596800,B0=1e6;class un{static now(){return un.fromMillis(Date.now())}static fromDate(t){return un.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),a=Math.floor((t-1e3*e)*B0);return new un(e,a)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ct(dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ct(dt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<U0)throw new Ct(dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ct(dt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/B0}_compareTo(t){return this.seconds===t.seconds?Yt(this.nanoseconds,t.nanoseconds):Yt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-U0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{static fromTimestamp(t){return new jt(t)}static min(){return new jt(new un(0,0))}static max(){return new jt(new un(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="__name__";class Fr{constructor(t,e,a){e===void 0?e=0:e>t.length&&zt(637,{offset:e,range:t.length}),a===void 0?a=t.length-e:a>t.length-e&&zt(1746,{length:a,range:t.length-e}),this.segments=t,this.offset=e,this.len=a}get length(){return this.len}isEqual(t){return Fr.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Fr?t.forEach(a=>{e.push(a)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,a=this.limit();e<a;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const a=Math.min(t.length,e.length);for(let l=0;l<a;l++){const h=Fr.compareSegments(t.get(l),e.get(l));if(h!==0)return h}return Yt(t.length,e.length)}static compareSegments(t,e){const a=Fr.isNumericId(t),l=Fr.isNumericId(e);return a&&!l?-1:!a&&l?1:a&&l?Fr.extractNumericId(t).compare(Fr.extractNumericId(e)):pp(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ha.fromString(t.substring(4,t.length-2))}}class ke extends Fr{construct(t,e,a){return new ke(t,e,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const a of t){if(a.indexOf("//")>=0)throw new Ct(dt.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);e.push(...a.split("/").filter(l=>l.length>0))}return new ke(e)}static emptyPath(){return new ke([])}}const VP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Cn extends Fr{construct(t,e,a){return new Cn(t,e,a)}static isValidIdentifier(t){return VP.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Cn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===H0}static keyField(){return new Cn([H0])}static fromServerFormat(t){const e=[];let a="",l=0;const h=()=>{if(a.length===0)throw new Ct(dt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(a),a=""};let m=!1;for(;l<t.length;){const y=t[l];if(y==="\\"){if(l+1===t.length)throw new Ct(dt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[l+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new Ct(dt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,l+=2}else y==="`"?(m=!m,l++):y!=="."||m?(a+=y,l++):(h(),l++)}if(h(),m)throw new Ct(dt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Cn(e)}static emptyPath(){return new Cn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(t){this.path=t}static fromPath(t){return new Mt(ke.fromString(t))}static fromName(t){return new Mt(ke.fromString(t).popFirst(5))}static empty(){return new Mt(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ke.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return ke.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Mt(new ke(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yc=-1;function zP(i,t){const e=i.toTimestamp().seconds,a=i.toTimestamp().nanoseconds+1,l=jt.fromTimestamp(a===1e9?new un(e+1,0):new un(e,a));return new Ga(l,Mt.empty(),t)}function UP(i){return new Ga(i.readTime,i.key,yc)}class Ga{constructor(t,e,a){this.readTime=t,this.documentKey=e,this.largestBatchId=a}static min(){return new Ga(jt.min(),Mt.empty(),yc)}static max(){return new Ga(jt.max(),Mt.empty(),yc)}}function BP(i,t){let e=i.readTime.compareTo(t.readTime);return e!==0?e:(e=Mt.comparator(i.documentKey,t.documentKey),e!==0?e:Yt(i.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function au(i){if(i.code!==dt.FAILED_PRECONDITION||i.message!==HP)throw i;St("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&zt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ht((a,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(a,l)},this.catchCallback=h=>{this.wrapFailure(e,h).next(a,l)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ht?e:ht.resolve(e)}catch(e){return ht.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ht.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ht.reject(e)}static resolve(t){return new ht((e,a)=>{e(t)})}static reject(t){return new ht((e,a)=>{a(t)})}static waitFor(t){return new ht((e,a)=>{let l=0,h=0,m=!1;t.forEach(y=>{++l,y.next(()=>{++h,m&&h===l&&e()},v=>a(v))}),m=!0,h===l&&e()})}static or(t){let e=ht.resolve(!1);for(const a of t)e=e.next(l=>l?ht.resolve(l):a());return e}static forEach(t,e){const a=[];return t.forEach((l,h)=>{a.push(e.call(this,l,h))}),this.waitFor(a)}static mapArray(t,e){return new ht((a,l)=>{const h=t.length,m=new Array(h);let y=0;for(let v=0;v<h;v++){const T=v;e(t[T]).next(A=>{m[T]=A,++y,y===h&&a(m)},A=>l(A))}})}static doWhile(t,e){return new ht((a,l)=>{const h=()=>{t()===!0?e().next(()=>{h()},l):a()};h()})}}function jP(i){const t=i.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function ou(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=a=>this.ue(a),this.ce=a=>e.writeSequenceNumber(a))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ce&&this.ce(t),t}}jf.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg=-1;function Ff(i){return i==null}function Tf(i){return i===0&&1/i==-1/0}function FP(i){return typeof i=="number"&&Number.isInteger(i)&&!Tf(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow="";function GP(i){let t="";for(let e=0;e<i.length;e++)t.length>0&&(t=q0(t)),t=ZP(i.get(e),t);return q0(t)}function ZP(i,t){let e=t;const a=i.length;for(let l=0;l<a;l++){const h=i.charAt(l);switch(h){case"\0":e+="";break;case Ow:e+="";break;default:e+=h}}return e}function q0(i){return i+Ow+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(i){let t=0;for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t++;return t}function Ko(i,t){for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&t(e,i[e])}function Lw(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(t,e){this.comparator=t,this.root=e||In.EMPTY}insert(t,e){return new je(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,In.BLACK,null,null))}remove(t){return new je(this.comparator,this.root.remove(t,this.comparator).copy(null,null,In.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const a=this.comparator(t,e.key);if(a===0)return e.value;a<0?e=e.left:a>0&&(e=e.right)}return null}indexOf(t){let e=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return e+a.left.size;l<0?a=a.left:(e+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,a)=>(t(e,a),!1))}toString(){const t=[];return this.inorderTraversal((e,a)=>(t.push(`${e}:${a}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Gh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Gh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Gh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Gh(this.root,t,this.comparator,!0)}}class Gh{constructor(t,e,a,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=e?a(t.key,e):1,e&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class In{constructor(t,e,a,l,h){this.key=t,this.value=e,this.color=a??In.RED,this.left=l??In.EMPTY,this.right=h??In.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,a,l,h){return new In(t??this.key,e??this.value,a??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,a){let l=this;const h=a(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,e,a),null):h===0?l.copy(null,e,null,null,null):l.copy(null,null,null,null,l.right.insert(t,e,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return In.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let a,l=this;if(e(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,e),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),e(t,l.key)===0){if(l.right.isEmpty())return In.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,e))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,In.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,In.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw zt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw zt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw zt(27949);return t+(this.isRed()?0:1)}}In.EMPTY=null,In.RED=!0,In.BLACK=!1;In.EMPTY=new class{constructor(){this.size=0}get key(){throw zt(57766)}get value(){throw zt(16141)}get color(){throw zt(16727)}get left(){throw zt(29726)}get right(){throw zt(36894)}copy(t,e,a,l,h){return this}insert(t,e,a){return new In(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(t){this.comparator=t,this.data=new je(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,a)=>(t(e),!1))}forEachInRange(t,e){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;e(l.key)}}forEachWhile(t,e){let a;for(a=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new F0(this.data.getIterator())}getIteratorFrom(t){return new F0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(a=>{e=e.add(a)}),e}isEqual(t){if(!(t instanceof cn)||this.size!==t.size)return!1;const e=this.data.getIterator(),a=t.data.getIterator();for(;e.hasNext();){const l=e.getNext().key,h=a.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new cn(this.comparator);return e.data=t,e}}class F0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(t){this.fields=t,t.sort(Cn.comparator)}static empty(){return new Er([])}unionWith(t){let e=new cn(Cn.comparator);for(const a of this.fields)e=e.add(a);for(const a of t)e=e.add(a);return new Er(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Kl(this.fields,t.fields,(e,a)=>e.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new Mw("Invalid base64 string: "+h):h}}(t);return new xn(e)}static fromUint8Array(t){const e=function(l){let h="";for(let m=0;m<l.length;++m)h+=String.fromCharCode(l[m]);return h}(t);return new xn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){const a=new Uint8Array(e.length);for(let l=0;l<e.length;l++)a[l]=e.charCodeAt(l);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Yt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}xn.EMPTY_BYTE_STRING=new xn("");const $P=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Za(i){if(me(!!i,39018),typeof i=="string"){let t=0;const e=$P.exec(i);if(me(!!e,46558,{timestamp:i}),e[1]){let l=e[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(i);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Xe(i.seconds),nanos:Xe(i.nanos)}}function Xe(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function $a(i){return typeof i=="string"?xn.fromBase64String(i):xn.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="server_timestamp",Nw="__type__",kw="__previous_value__",Vw="__local_write_time__";function gg(i){var t,e;return((e=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[Nw])===null||e===void 0?void 0:e.stringValue)===Dw}function Gf(i){const t=i.mapValue.fields[kw];return gg(t)?Gf(t):t}function vc(i){const t=Za(i.mapValue.fields[Vw].timestampValue);return new un(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(t,e,a,l,h,m,y,v,T,A){this.databaseId=t,this.appId=e,this.persistenceKey=a,this.host=l,this.ssl=h,this.forceLongPolling=m,this.autoDetectLongPolling=y,this.longPollingOptions=v,this.useFetchStreams=T,this.isUsingEmulator=A}}const Ef="(default)";class Tc{constructor(t,e){this.projectId=t,this.database=e||Ef}static empty(){return new Tc("","")}get isDefaultDatabase(){return this.database===Ef}isEqual(t){return t instanceof Tc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zw="__type__",YP="__max__",Zh={mapValue:{}},Uw="__vector__",wf="value";function Ka(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?gg(i)?4:XP(i)?9007199254740991:QP(i)?10:11:zt(28295,{value:i})}function Xr(i,t){if(i===t)return!0;const e=Ka(i);if(e!==Ka(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return vc(i).isEqual(vc(t));case 3:return function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const m=Za(l.timestampValue),y=Za(h.timestampValue);return m.seconds===y.seconds&&m.nanos===y.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return function(l,h){return $a(l.bytesValue).isEqual($a(h.bytesValue))}(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return function(l,h){return Xe(l.geoPointValue.latitude)===Xe(h.geoPointValue.latitude)&&Xe(l.geoPointValue.longitude)===Xe(h.geoPointValue.longitude)}(i,t);case 2:return function(l,h){if("integerValue"in l&&"integerValue"in h)return Xe(l.integerValue)===Xe(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const m=Xe(l.doubleValue),y=Xe(h.doubleValue);return m===y?Tf(m)===Tf(y):isNaN(m)&&isNaN(y)}return!1}(i,t);case 9:return Kl(i.arrayValue.values||[],t.arrayValue.values||[],Xr);case 10:case 11:return function(l,h){const m=l.mapValue.fields||{},y=h.mapValue.fields||{};if(j0(m)!==j0(y))return!1;for(const v in m)if(m.hasOwnProperty(v)&&(y[v]===void 0||!Xr(m[v],y[v])))return!1;return!0}(i,t);default:return zt(52216,{left:i})}}function Ec(i,t){return(i.values||[]).find(e=>Xr(e,t))!==void 0}function Yl(i,t){if(i===t)return 0;const e=Ka(i),a=Ka(t);if(e!==a)return Yt(e,a);switch(e){case 0:case 9007199254740991:return 0;case 1:return Yt(i.booleanValue,t.booleanValue);case 2:return function(h,m){const y=Xe(h.integerValue||h.doubleValue),v=Xe(m.integerValue||m.doubleValue);return y<v?-1:y>v?1:y===v?0:isNaN(y)?isNaN(v)?0:-1:1}(i,t);case 3:return G0(i.timestampValue,t.timestampValue);case 4:return G0(vc(i),vc(t));case 5:return pp(i.stringValue,t.stringValue);case 6:return function(h,m){const y=$a(h),v=$a(m);return y.compareTo(v)}(i.bytesValue,t.bytesValue);case 7:return function(h,m){const y=h.split("/"),v=m.split("/");for(let T=0;T<y.length&&T<v.length;T++){const A=Yt(y[T],v[T]);if(A!==0)return A}return Yt(y.length,v.length)}(i.referenceValue,t.referenceValue);case 8:return function(h,m){const y=Yt(Xe(h.latitude),Xe(m.latitude));return y!==0?y:Yt(Xe(h.longitude),Xe(m.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return Z0(i.arrayValue,t.arrayValue);case 10:return function(h,m){var y,v,T,A;const C=h.fields||{},P=m.fields||{},U=(y=C[wf])===null||y===void 0?void 0:y.arrayValue,q=(v=P[wf])===null||v===void 0?void 0:v.arrayValue,G=Yt(((T=U==null?void 0:U.values)===null||T===void 0?void 0:T.length)||0,((A=q==null?void 0:q.values)===null||A===void 0?void 0:A.length)||0);return G!==0?G:Z0(U,q)}(i.mapValue,t.mapValue);case 11:return function(h,m){if(h===Zh.mapValue&&m===Zh.mapValue)return 0;if(h===Zh.mapValue)return 1;if(m===Zh.mapValue)return-1;const y=h.fields||{},v=Object.keys(y),T=m.fields||{},A=Object.keys(T);v.sort(),A.sort();for(let C=0;C<v.length&&C<A.length;++C){const P=pp(v[C],A[C]);if(P!==0)return P;const U=Yl(y[v[C]],T[A[C]]);if(U!==0)return U}return Yt(v.length,A.length)}(i.mapValue,t.mapValue);default:throw zt(23264,{Pe:e})}}function G0(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return Yt(i,t);const e=Za(i),a=Za(t),l=Yt(e.seconds,a.seconds);return l!==0?l:Yt(e.nanos,a.nanos)}function Z0(i,t){const e=i.values||[],a=t.values||[];for(let l=0;l<e.length&&l<a.length;++l){const h=Yl(e[l],a[l]);if(h)return h}return Yt(e.length,a.length)}function Ql(i){return gp(i)}function gp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(e){const a=Za(e);return`time(${a.seconds},${a.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(e){return $a(e).toBase64()}(i.bytesValue):"referenceValue"in i?function(e){return Mt.fromName(e).toString()}(i.referenceValue):"geoPointValue"in i?function(e){return`geo(${e.latitude},${e.longitude})`}(i.geoPointValue):"arrayValue"in i?function(e){let a="[",l=!0;for(const h of e.values||[])l?l=!1:a+=",",a+=gp(h);return a+"]"}(i.arrayValue):"mapValue"in i?function(e){const a=Object.keys(e.fields||{}).sort();let l="{",h=!0;for(const m of a)h?h=!1:l+=",",l+=`${m}:${gp(e.fields[m])}`;return l+"}"}(i.mapValue):zt(61005,{value:i})}function rf(i){switch(Ka(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Gf(i);return t?16+rf(t):16;case 5:return 2*i.stringValue.length;case 6:return $a(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((l,h)=>l+rf(h),0)}(i.arrayValue);case 10:case 11:return function(a){let l=0;return Ko(a.fields,(h,m)=>{l+=h.length+rf(m)}),l}(i.mapValue);default:throw zt(13486,{value:i})}}function $0(i,t){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${t.path.canonicalString()}`}}function _p(i){return!!i&&"integerValue"in i}function _g(i){return!!i&&"arrayValue"in i}function K0(i){return!!i&&"nullValue"in i}function Y0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function sf(i){return!!i&&"mapValue"in i}function QP(i){var t,e;return((e=(((t=i==null?void 0:i.mapValue)===null||t===void 0?void 0:t.fields)||{})[zw])===null||e===void 0?void 0:e.stringValue)===Uw}function cc(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const t={mapValue:{fields:{}}};return Ko(i.mapValue.fields,(e,a)=>t.mapValue.fields[e]=cc(a)),t}if(i.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(i.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=cc(i.arrayValue.values[e]);return t}return Object.assign({},i)}function XP(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===YP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(t){this.value=t}static empty(){return new Wi({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let a=0;a<t.length-1;++a)if(e=(e.mapValue.fields||{})[t.get(a)],!sf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=cc(e)}setAll(t){let e=Cn.emptyPath(),a={},l=[];t.forEach((m,y)=>{if(!e.isImmediateParentOf(y)){const v=this.getFieldsMap(e);this.applyChanges(v,a,l),a={},l=[],e=y.popLast()}m?a[y.lastSegment()]=cc(m):l.push(y.lastSegment())});const h=this.getFieldsMap(e);this.applyChanges(h,a,l)}delete(t){const e=this.field(t.popLast());sf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Xr(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=e.mapValue.fields[t.get(a)];sf(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},e.mapValue.fields[t.get(a)]=l),e=l}return e.mapValue.fields}applyChanges(t,e,a){Ko(e,(l,h)=>t[l]=h);for(const l of a)delete t[l]}clone(){return new Wi(cc(this.value))}}function Bw(i){const t=[];return Ko(i.fields,(e,a)=>{const l=new Cn([e]);if(sf(a)){const h=Bw(a.mapValue).fields;if(h.length===0)t.push(l);else for(const m of h)t.push(l.child(m))}else t.push(l)}),new Er(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(t,e,a,l,h,m,y){this.key=t,this.documentType=e,this.version=a,this.readTime=l,this.createTime=h,this.data=m,this.documentState=y}static newInvalidDocument(t){return new Hn(t,0,jt.min(),jt.min(),jt.min(),Wi.empty(),0)}static newFoundDocument(t,e,a,l){return new Hn(t,1,e,jt.min(),a,l,0)}static newNoDocument(t,e){return new Hn(t,2,e,jt.min(),jt.min(),Wi.empty(),0)}static newUnknownDocument(t,e){return new Hn(t,3,e,jt.min(),jt.min(),Wi.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(jt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Wi.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Wi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=jt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Hn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Hn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(t,e){this.position=t,this.inclusive=e}}function Q0(i,t,e){let a=0;for(let l=0;l<i.position.length;l++){const h=t[l],m=i.position[l];if(h.field.isKeyField()?a=Mt.comparator(Mt.fromName(m.referenceValue),e.key):a=Yl(m,e.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function X0(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let e=0;e<i.position.length;e++)if(!Xr(i.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(t,e="asc"){this.field=t,this.dir=e}}function WP(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{}class rn extends Hw{constructor(t,e,a){super(),this.field=t,this.op=e,this.value=a}static create(t,e,a){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,a):new tO(t,e,a):e==="array-contains"?new iO(t,a):e==="in"?new rO(t,a):e==="not-in"?new sO(t,a):e==="array-contains-any"?new aO(t,a):new rn(t,e,a)}static createKeyFieldInFilter(t,e,a){return e==="in"?new eO(t,a):new nO(t,a)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Yl(e,this.value)):e!==null&&Ka(this.value)===Ka(e)&&this.matchesComparison(Yl(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return zt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class br extends Hw{constructor(t,e){super(),this.filters=t,this.op=e,this.Te=null}static create(t,e){return new br(t,e)}matches(t){return qw(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function qw(i){return i.op==="and"}function jw(i){return JP(i)&&qw(i)}function JP(i){for(const t of i.filters)if(t instanceof br)return!1;return!0}function yp(i){if(i instanceof rn)return i.field.canonicalString()+i.op.toString()+Ql(i.value);if(jw(i))return i.filters.map(t=>yp(t)).join(",");{const t=i.filters.map(e=>yp(e)).join(",");return`${i.op}(${t})`}}function Fw(i,t){return i instanceof rn?function(a,l){return l instanceof rn&&a.op===l.op&&a.field.isEqual(l.field)&&Xr(a.value,l.value)}(i,t):i instanceof br?function(a,l){return l instanceof br&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce((h,m,y)=>h&&Fw(m,l.filters[y]),!0):!1}(i,t):void zt(19439)}function Gw(i){return i instanceof rn?function(e){return`${e.field.canonicalString()} ${e.op} ${Ql(e.value)}`}(i):i instanceof br?function(e){return e.op.toString()+" {"+e.getFilters().map(Gw).join(" ,")+"}"}(i):"Filter"}class tO extends rn{constructor(t,e,a){super(t,e,a),this.key=Mt.fromName(a.referenceValue)}matches(t){const e=Mt.comparator(t.key,this.key);return this.matchesComparison(e)}}class eO extends rn{constructor(t,e){super(t,"in",e),this.keys=Zw("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class nO extends rn{constructor(t,e){super(t,"not-in",e),this.keys=Zw("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function Zw(i,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(a=>Mt.fromName(a.referenceValue))}class iO extends rn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return _g(e)&&Ec(e.arrayValue,this.value)}}class rO extends rn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Ec(this.value.arrayValue,e)}}class sO extends rn{constructor(t,e){super(t,"not-in",e)}matches(t){if(Ec(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Ec(this.value.arrayValue,e)}}class aO extends rn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!_g(e)||!e.arrayValue.values)&&e.arrayValue.values.some(a=>Ec(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(t,e=null,a=[],l=[],h=null,m=null,y=null){this.path=t,this.collectionGroup=e,this.orderBy=a,this.filters=l,this.limit=h,this.startAt=m,this.endAt=y,this.Ie=null}}function W0(i,t=null,e=[],a=[],l=null,h=null,m=null){return new oO(i,t,e,a,l,h,m)}function yg(i){const t=Ft(i);if(t.Ie===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(a=>yp(a)).join(","),e+="|ob:",e+=t.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),Ff(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(a=>Ql(a)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(a=>Ql(a)).join(",")),t.Ie=e}return t.Ie}function vg(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<i.orderBy.length;e++)if(!WP(i.orderBy[e],t.orderBy[e]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let e=0;e<i.filters.length;e++)if(!Fw(i.filters[e],t.filters[e]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!X0(i.startAt,t.startAt)&&X0(i.endAt,t.endAt)}function vp(i){return Mt.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(t,e=null,a=[],l=[],h=null,m="F",y=null,v=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=a,this.filters=l,this.limit=h,this.limitType=m,this.startAt=y,this.endAt=v,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function lO(i,t,e,a,l,h,m,y){return new Mc(i,t,e,a,l,h,m,y)}function Tg(i){return new Mc(i)}function J0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function $w(i){return i.collectionGroup!==null}function hc(i){const t=Ft(i);if(t.Ee===null){t.Ee=[];const e=new Set;for(const h of t.explicitOrderBy)t.Ee.push(h),e.add(h.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(m){let y=new cn(Cn.comparator);return m.filters.forEach(v=>{v.getFlattenedFilters().forEach(T=>{T.isInequality()&&(y=y.add(T.field))})}),y})(t).forEach(h=>{e.has(h.canonicalString())||h.isKeyField()||t.Ee.push(new Sf(h,a))}),e.has(Cn.keyField().canonicalString())||t.Ee.push(new Sf(Cn.keyField(),a))}return t.Ee}function $r(i){const t=Ft(i);return t.de||(t.de=uO(t,hc(i))),t.de}function uO(i,t){if(i.limitType==="F")return W0(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map(l=>{const h=l.dir==="desc"?"asc":"desc";return new Sf(l.field,h)});const e=i.endAt?new bf(i.endAt.position,i.endAt.inclusive):null,a=i.startAt?new bf(i.startAt.position,i.startAt.inclusive):null;return W0(i.path,i.collectionGroup,t,i.filters,i.limit,e,a)}}function Tp(i,t){const e=i.filters.concat([t]);return new Mc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),e,i.limit,i.limitType,i.startAt,i.endAt)}function Ep(i,t,e){return new Mc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,e,i.startAt,i.endAt)}function Zf(i,t){return vg($r(i),$r(t))&&i.limitType===t.limitType}function Kw(i){return`${yg($r(i))}|lt:${i.limitType}`}function Ul(i){return`Query(target=${function(e){let a=e.path.canonicalString();return e.collectionGroup!==null&&(a+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(a+=`, filters: [${e.filters.map(l=>Gw(l)).join(", ")}]`),Ff(e.limit)||(a+=", limit: "+e.limit),e.orderBy.length>0&&(a+=`, orderBy: [${e.orderBy.map(l=>function(m){return`${m.field.canonicalString()} (${m.dir})`}(l)).join(", ")}]`),e.startAt&&(a+=", startAt: ",a+=e.startAt.inclusive?"b:":"a:",a+=e.startAt.position.map(l=>Ql(l)).join(",")),e.endAt&&(a+=", endAt: ",a+=e.endAt.inclusive?"a:":"b:",a+=e.endAt.position.map(l=>Ql(l)).join(",")),`Target(${a})`}($r(i))}; limitType=${i.limitType})`}function $f(i,t){return t.isFoundDocument()&&function(a,l){const h=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):Mt.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(i,t)&&function(a,l){for(const h of hc(a))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0}(i,t)&&function(a,l){for(const h of a.filters)if(!h.matches(l))return!1;return!0}(i,t)&&function(a,l){return!(a.startAt&&!function(m,y,v){const T=Q0(m,y,v);return m.inclusive?T<=0:T<0}(a.startAt,hc(a),l)||a.endAt&&!function(m,y,v){const T=Q0(m,y,v);return m.inclusive?T>=0:T>0}(a.endAt,hc(a),l))}(i,t)}function cO(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Yw(i){return(t,e)=>{let a=!1;for(const l of hc(i)){const h=hO(l,t,e);if(h!==0)return h;a=a||l.field.isKeyField()}return 0}}function hO(i,t,e){const a=i.field.isKeyField()?Mt.comparator(t.key,e.key):function(h,m,y){const v=m.data.field(h),T=y.data.field(h);return v!==null&&T!==null?Yl(v,T):zt(42886)}(i.field,t,e);switch(i.dir){case"asc":return a;case"desc":return-1*a;default:return zt(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),a=this.inner[e];if(a!==void 0){for(const[l,h]of a)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,e){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,e]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,e]);l.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),a=this.inner[e];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[e]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){Ko(this.inner,(e,a)=>{for(const[l,h]of a)t(l,h)})}isEmpty(){return Lw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO=new je(Mt.comparator);function Ns(){return fO}const Qw=new je(Mt.comparator);function rc(...i){let t=Qw;for(const e of i)t=t.insert(e.key,e);return t}function Xw(i){let t=Qw;return i.forEach((e,a)=>t=t.insert(e,a.overlayedDocument)),t}function ko(){return fc()}function Ww(){return fc()}function fc(){return new Yo(i=>i.toString(),(i,t)=>i.isEqual(t))}const dO=new je(Mt.comparator),mO=new cn(Mt.comparator);function ie(...i){let t=mO;for(const e of i)t=t.add(e);return t}const pO=new cn(Yt);function gO(){return pO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eg(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tf(t)?"-0":t}}function Jw(i){return{integerValue:""+i}}function _O(i,t){return FP(t)?Jw(t):Eg(i,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(){this._=void 0}}function yO(i,t,e){return i instanceof Af?function(l,h){const m={fields:{[Nw]:{stringValue:Dw},[Vw]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&gg(h)&&(h=Gf(h)),h&&(m.fields[kw]=h),{mapValue:m}}(e,t):i instanceof wc?eb(i,t):i instanceof bc?nb(i,t):function(l,h){const m=tb(l,h),y=tT(m)+tT(l.Re);return _p(m)&&_p(l.Re)?Jw(y):Eg(l.serializer,y)}(i,t)}function vO(i,t,e){return i instanceof wc?eb(i,t):i instanceof bc?nb(i,t):e}function tb(i,t){return i instanceof Rf?function(a){return _p(a)||function(h){return!!h&&"doubleValue"in h}(a)}(t)?t:{integerValue:0}:null}class Af extends Kf{}class wc extends Kf{constructor(t){super(),this.elements=t}}function eb(i,t){const e=ib(t);for(const a of i.elements)e.some(l=>Xr(l,a))||e.push(a);return{arrayValue:{values:e}}}class bc extends Kf{constructor(t){super(),this.elements=t}}function nb(i,t){let e=ib(t);for(const a of i.elements)e=e.filter(l=>!Xr(l,a));return{arrayValue:{values:e}}}class Rf extends Kf{constructor(t,e){super(),this.serializer=t,this.Re=e}}function tT(i){return Xe(i.integerValue||i.doubleValue)}function ib(i){return _g(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function TO(i,t){return i.field.isEqual(t.field)&&function(a,l){return a instanceof wc&&l instanceof wc||a instanceof bc&&l instanceof bc?Kl(a.elements,l.elements,Xr):a instanceof Rf&&l instanceof Rf?Xr(a.Re,l.Re):a instanceof Af&&l instanceof Af}(i.transform,t.transform)}class EO{constructor(t,e){this.version=t,this.transformResults=e}}class xs{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new xs}static exists(t){return new xs(void 0,t)}static updateTime(t){return new xs(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function af(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}class Yf{}function rb(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new ab(i.key,xs.none()):new Dc(i.key,i.data,xs.none());{const e=i.data,a=Wi.empty();let l=new cn(Cn.comparator);for(let h of t.fields)if(!l.has(h)){let m=e.field(h);m===null&&h.length>1&&(h=h.popLast(),m=e.field(h)),m===null?a.delete(h):a.set(h,m),l=l.add(h)}return new Qo(i.key,a,new Er(l.toArray()),xs.none())}}function wO(i,t,e){i instanceof Dc?function(l,h,m){const y=l.value.clone(),v=nT(l.fieldTransforms,h,m.transformResults);y.setAll(v),h.convertToFoundDocument(m.version,y).setHasCommittedMutations()}(i,t,e):i instanceof Qo?function(l,h,m){if(!af(l.precondition,h))return void h.convertToUnknownDocument(m.version);const y=nT(l.fieldTransforms,h,m.transformResults),v=h.data;v.setAll(sb(l)),v.setAll(y),h.convertToFoundDocument(m.version,v).setHasCommittedMutations()}(i,t,e):function(l,h,m){h.convertToNoDocument(m.version).setHasCommittedMutations()}(0,t,e)}function dc(i,t,e,a){return i instanceof Dc?function(h,m,y,v){if(!af(h.precondition,m))return y;const T=h.value.clone(),A=iT(h.fieldTransforms,v,m);return T.setAll(A),m.convertToFoundDocument(m.version,T).setHasLocalMutations(),null}(i,t,e,a):i instanceof Qo?function(h,m,y,v){if(!af(h.precondition,m))return y;const T=iT(h.fieldTransforms,v,m),A=m.data;return A.setAll(sb(h)),A.setAll(T),m.convertToFoundDocument(m.version,A).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(C=>C.field))}(i,t,e,a):function(h,m,y){return af(h.precondition,m)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):y}(i,t,e)}function bO(i,t){let e=null;for(const a of i.fieldTransforms){const l=t.data.field(a.field),h=tb(a.transform,l||null);h!=null&&(e===null&&(e=Wi.empty()),e.set(a.field,h))}return e||null}function eT(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&Kl(a,l,(h,m)=>TO(h,m))}(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}class Dc extends Yf{constructor(t,e,a,l=[]){super(),this.key=t,this.value=e,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Qo extends Yf{constructor(t,e,a,l,h=[]){super(),this.key=t,this.data=e,this.fieldMask=a,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function sb(i){const t=new Map;return i.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const a=i.data.field(e);t.set(e,a)}}),t}function nT(i,t,e){const a=new Map;me(i.length===e.length,32656,{Ve:e.length,me:i.length});for(let l=0;l<e.length;l++){const h=i[l],m=h.transform,y=t.data.field(h.field);a.set(h.field,vO(m,y,e[l]))}return a}function iT(i,t,e){const a=new Map;for(const l of i){const h=l.transform,m=e.data.field(l.field);a.set(l.field,yO(h,m,t))}return a}class ab extends Yf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SO extends Yf{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(t,e,a,l){this.batchId=t,this.localWriteTime=e,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,e){const a=e.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&wO(h,t,a[l])}}applyToLocalView(t,e){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(e=dc(a,t,e,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(e=dc(a,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const a=Ww();return this.mutations.forEach(l=>{const h=t.get(l.key),m=h.overlayedDocument;let y=this.applyToLocalView(m,h.mutatedFields);y=e.has(l.key)?null:y;const v=rb(m,y);v!==null&&a.set(l.key,v),m.isValidDocument()||m.convertToNoDocument(jt.min())}),a}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),ie())}isEqual(t){return this.batchId===t.batchId&&Kl(this.mutations,t.mutations,(e,a)=>eT(e,a))&&Kl(this.baseMutations,t.baseMutations,(e,a)=>eT(e,a))}}class wg{constructor(t,e,a,l){this.batch=t,this.commitVersion=e,this.mutationResults=a,this.docVersions=l}static from(t,e,a){me(t.mutations.length===a.length,58842,{fe:t.mutations.length,ge:a.length});let l=function(){return dO}();const h=t.mutations;for(let m=0;m<h.length;m++)l=l.insert(h[m].key,a[m].version);return new wg(t,e,a,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn,le;function CO(i){switch(i){case dt.OK:return zt(64938);case dt.CANCELLED:case dt.UNKNOWN:case dt.DEADLINE_EXCEEDED:case dt.RESOURCE_EXHAUSTED:case dt.INTERNAL:case dt.UNAVAILABLE:case dt.UNAUTHENTICATED:return!1;case dt.INVALID_ARGUMENT:case dt.NOT_FOUND:case dt.ALREADY_EXISTS:case dt.PERMISSION_DENIED:case dt.FAILED_PRECONDITION:case dt.ABORTED:case dt.OUT_OF_RANGE:case dt.UNIMPLEMENTED:case dt.DATA_LOSS:return!0;default:return zt(15467,{code:i})}}function ob(i){if(i===void 0)return Ds("GRPC error has no .code"),dt.UNKNOWN;switch(i){case nn.OK:return dt.OK;case nn.CANCELLED:return dt.CANCELLED;case nn.UNKNOWN:return dt.UNKNOWN;case nn.DEADLINE_EXCEEDED:return dt.DEADLINE_EXCEEDED;case nn.RESOURCE_EXHAUSTED:return dt.RESOURCE_EXHAUSTED;case nn.INTERNAL:return dt.INTERNAL;case nn.UNAVAILABLE:return dt.UNAVAILABLE;case nn.UNAUTHENTICATED:return dt.UNAUTHENTICATED;case nn.INVALID_ARGUMENT:return dt.INVALID_ARGUMENT;case nn.NOT_FOUND:return dt.NOT_FOUND;case nn.ALREADY_EXISTS:return dt.ALREADY_EXISTS;case nn.PERMISSION_DENIED:return dt.PERMISSION_DENIED;case nn.FAILED_PRECONDITION:return dt.FAILED_PRECONDITION;case nn.ABORTED:return dt.ABORTED;case nn.OUT_OF_RANGE:return dt.OUT_OF_RANGE;case nn.UNIMPLEMENTED:return dt.UNIMPLEMENTED;case nn.DATA_LOSS:return dt.DATA_LOSS;default:return zt(39323,{code:i})}}(le=nn||(nn={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=new Ha([4294967295,4294967295],0);function rT(i){const t=xw().encode(i),e=new Ew;return e.update(t),new Uint8Array(e.digest())}function sT(i){const t=new DataView(i.buffer),e=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new Ha([e,a],0),new Ha([l,h],0)]}class bg{constructor(t,e,a){if(this.bitmap=t,this.padding=e,this.hashCount=a,e<0||e>=8)throw new sc(`Invalid padding: ${e}`);if(a<0)throw new sc(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new sc(`Invalid hash count: ${a}`);if(t.length===0&&e!==0)throw new sc(`Invalid padding when bitmap length is 0: ${e}`);this.pe=8*t.length-e,this.ye=Ha.fromNumber(this.pe)}we(t,e,a){let l=t.add(e.multiply(Ha.fromNumber(a)));return l.compare(xO)===1&&(l=new Ha([l.getBits(0),l.getBits(1)],0)),l.modulo(this.ye).toNumber()}be(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.pe===0)return!1;const e=rT(t),[a,l]=sT(e);for(let h=0;h<this.hashCount;h++){const m=this.we(a,l,h);if(!this.be(m))return!1}return!0}static create(t,e,a){const l=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),m=new bg(h,l,e);return a.forEach(y=>m.insert(y)),m}insert(t){if(this.pe===0)return;const e=rT(t),[a,l]=sT(e);for(let h=0;h<this.hashCount;h++){const m=this.we(a,l,h);this.Se(m)}}Se(t){const e=Math.floor(t/8),a=t%8;this.bitmap[e]|=1<<a}}class sc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(t,e,a,l,h){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,e,a){const l=new Map;return l.set(t,Nc.createSynthesizedTargetChangeForCurrentChange(t,e,a)),new Qf(jt.min(),l,new je(Yt),Ns(),ie())}}class Nc{constructor(t,e,a,l,h){this.resumeToken=t,this.current=e,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,e,a){return new Nc(a,e,ie(),ie(),ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(t,e,a,l){this.De=t,this.removedTargetIds=e,this.key=a,this.ve=l}}class lb{constructor(t,e){this.targetId=t,this.Ce=e}}class ub{constructor(t,e,a=xn.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=e,this.resumeToken=a,this.cause=l}}class aT{constructor(){this.Fe=0,this.Me=oT(),this.xe=xn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(t){t.approximateByteSize()>0&&(this.Ne=!0,this.xe=t)}qe(){let t=ie(),e=ie(),a=ie();return this.Me.forEach((l,h)=>{switch(h){case 0:t=t.add(l);break;case 2:e=e.add(l);break;case 1:a=a.add(l);break;default:zt(38017,{changeType:h})}}),new Nc(this.xe,this.Oe,t,e,a)}Qe(){this.Ne=!1,this.Me=oT()}$e(t,e){this.Ne=!0,this.Me=this.Me.insert(t,e)}Ue(t){this.Ne=!0,this.Me=this.Me.remove(t)}Ke(){this.Fe+=1}We(){this.Fe-=1,me(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class PO{constructor(t){this.ze=t,this.je=new Map,this.He=Ns(),this.Je=$h(),this.Ye=$h(),this.Ze=new je(Yt)}Xe(t){for(const e of t.De)t.ve&&t.ve.isFoundDocument()?this.et(e,t.ve):this.tt(e,t.key,t.ve);for(const e of t.removedTargetIds)this.tt(e,t.key,t.ve)}nt(t){this.forEachTarget(t,e=>{const a=this.rt(e);switch(t.state){case 0:this.it(e)&&a.ke(t.resumeToken);break;case 1:a.We(),a.Be||a.Qe(),a.ke(t.resumeToken);break;case 2:a.We(),a.Be||this.removeTarget(e);break;case 3:this.it(e)&&(a.Ge(),a.ke(t.resumeToken));break;case 4:this.it(e)&&(this.st(e),a.ke(t.resumeToken));break;default:zt(56790,{state:t.state})}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.je.forEach((a,l)=>{this.it(l)&&e(l)})}ot(t){const e=t.targetId,a=t.Ce.count,l=this._t(e);if(l){const h=l.target;if(vp(h))if(a===0){const m=new Mt(h.path);this.tt(e,m,Hn.newNoDocument(m,jt.min()))}else me(a===1,20013,{expectedCount:a});else{const m=this.ut(e);if(m!==a){const y=this.ct(t),v=y?this.lt(y,t,m):1;if(v!==0){this.st(e);const T=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(e,T)}}}}}ct(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:h=0}=e;let m,y;try{m=$a(a).toUint8Array()}catch(v){if(v instanceof Mw)return $l("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{y=new bg(m,l,h)}catch(v){return $l(v instanceof sc?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return y.pe===0?null:y}lt(t,e,a){return e.Ce.count===a-this.Tt(t,e.targetId)?0:2}Tt(t,e){const a=this.ze.getRemoteKeysForTarget(e);let l=0;return a.forEach(h=>{const m=this.ze.Pt(),y=`projects/${m.projectId}/databases/${m.database}/documents/${h.path.canonicalString()}`;t.mightContain(y)||(this.tt(e,h,null),l++)}),l}It(t){const e=new Map;this.je.forEach((h,m)=>{const y=this._t(m);if(y){if(h.current&&vp(y.target)){const v=new Mt(y.target.path);this.Et(v).has(m)||this.dt(m,v)||this.tt(m,v,Hn.newNoDocument(v,t))}h.Le&&(e.set(m,h.qe()),h.Qe())}});let a=ie();this.Ye.forEach((h,m)=>{let y=!0;m.forEachWhile(v=>{const T=this._t(v);return!T||T.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)}),y&&(a=a.add(h))}),this.He.forEach((h,m)=>m.setReadTime(t));const l=new Qf(t,e,this.Ze,this.He,a);return this.He=Ns(),this.Je=$h(),this.Ye=$h(),this.Ze=new je(Yt),l}et(t,e){if(!this.it(t))return;const a=this.dt(t,e.key)?2:0;this.rt(t).$e(e.key,a),this.He=this.He.insert(e.key,e),this.Je=this.Je.insert(e.key,this.Et(e.key).add(t)),this.Ye=this.Ye.insert(e.key,this.At(e.key).add(t))}tt(t,e,a){if(!this.it(t))return;const l=this.rt(t);this.dt(t,e)?l.$e(e,1):l.Ue(e),this.Ye=this.Ye.insert(e,this.At(e).delete(t)),this.Ye=this.Ye.insert(e,this.At(e).add(t)),a&&(this.He=this.He.insert(e,a))}removeTarget(t){this.je.delete(t)}ut(t){const e=this.rt(t).qe();return this.ze.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ke(t){this.rt(t).Ke()}rt(t){let e=this.je.get(t);return e||(e=new aT,this.je.set(t,e)),e}At(t){let e=this.Ye.get(t);return e||(e=new cn(Yt),this.Ye=this.Ye.insert(t,e)),e}Et(t){let e=this.Je.get(t);return e||(e=new cn(Yt),this.Je=this.Je.insert(t,e)),e}it(t){const e=this._t(t)!==null;return e||St("WatchChangeAggregator","Detected inactive target",t),e}_t(t){const e=this.je.get(t);return e&&e.Be?null:this.ze.Rt(t)}st(t){this.je.set(t,new aT),this.ze.getRemoteKeysForTarget(t).forEach(e=>{this.tt(t,e,null)})}dt(t,e){return this.ze.getRemoteKeysForTarget(t).has(e)}}function $h(){return new je(Mt.comparator)}function oT(){return new je(Mt.comparator)}const OO={asc:"ASCENDING",desc:"DESCENDING"},LO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MO={and:"AND",or:"OR"};class DO{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function wp(i,t){return i.useProto3Json||Ff(t)?t:{value:t}}function If(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function cb(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function NO(i,t){return If(i,t.toTimestamp())}function Kr(i){return me(!!i,49232),jt.fromTimestamp(function(e){const a=Za(e);return new un(a.seconds,a.nanos)}(i))}function Sg(i,t){return bp(i,t).canonicalString()}function bp(i,t){const e=function(l){return new ke(["projects",l.projectId,"databases",l.database])}(i).child("documents");return t===void 0?e:e.child(t)}function hb(i){const t=ke.fromString(i);return me(gb(t),10190,{key:t.toString()}),t}function Sp(i,t){return Sg(i.databaseId,t.path)}function Jm(i,t){const e=hb(t);if(e.get(1)!==i.databaseId.projectId)throw new Ct(dt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+i.databaseId.projectId);if(e.get(3)!==i.databaseId.database)throw new Ct(dt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+i.databaseId.database);return new Mt(db(e))}function fb(i,t){return Sg(i.databaseId,t)}function kO(i){const t=hb(i);return t.length===4?ke.emptyPath():db(t)}function Ap(i){return new ke(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function db(i){return me(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function lT(i,t,e){return{name:Sp(i,t),fields:e.value.mapValue.fields}}function VO(i,t){let e;if("targetChange"in t){t.targetChange;const a=function(T){return T==="NO_CHANGE"?0:T==="ADD"?1:T==="REMOVE"?2:T==="CURRENT"?3:T==="RESET"?4:zt(39313,{state:T})}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],h=function(T,A){return T.useProto3Json?(me(A===void 0||typeof A=="string",58123),xn.fromBase64String(A||"")):(me(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),xn.fromUint8Array(A||new Uint8Array))}(i,t.targetChange.resumeToken),m=t.targetChange.cause,y=m&&function(T){const A=T.code===void 0?dt.UNKNOWN:ob(T.code);return new Ct(A,T.message||"")}(m);e=new ub(a,l,h,y||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Jm(i,a.document.name),h=Kr(a.document.updateTime),m=a.document.createTime?Kr(a.document.createTime):jt.min(),y=new Wi({mapValue:{fields:a.document.fields}}),v=Hn.newFoundDocument(l,h,m,y),T=a.targetIds||[],A=a.removedTargetIds||[];e=new of(T,A,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Jm(i,a.document),h=a.readTime?Kr(a.readTime):jt.min(),m=Hn.newNoDocument(l,h),y=a.removedTargetIds||[];e=new of([],y,m.key,m)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Jm(i,a.document),h=a.removedTargetIds||[];e=new of([],h,l,null)}else{if(!("filter"in t))return zt(11601,{Vt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:h}=a,m=new IO(l,h),y=a.targetId;e=new lb(y,m)}}return e}function zO(i,t){let e;if(t instanceof Dc)e={update:lT(i,t.key,t.value)};else if(t instanceof ab)e={delete:Sp(i,t.key)};else if(t instanceof Qo)e={update:lT(i,t.key,t.data),updateMask:$O(t.fieldMask)};else{if(!(t instanceof SO))return zt(16599,{ft:t.type});e={verify:Sp(i,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(a=>function(h,m){const y=m.transform;if(y instanceof Af)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof wc)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof bc)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof Rf)return{fieldPath:m.field.canonicalString(),increment:y.Re};throw zt(20930,{transform:m.transform})}(0,a))),t.precondition.isNone||(e.currentDocument=function(l,h){return h.updateTime!==void 0?{updateTime:NO(l,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:zt(27497)}(i,t.precondition)),e}function UO(i,t){return i&&i.length>0?(me(t!==void 0,14353),i.map(e=>function(l,h){let m=l.updateTime?Kr(l.updateTime):Kr(h);return m.isEqual(jt.min())&&(m=Kr(h)),new EO(m,l.transformResults||[])}(e,t))):[]}function BO(i,t){return{documents:[fb(i,t.path)]}}function HO(i,t){const e={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),e.structuredQuery.from=[{collectionId:a.lastSegment()}]),e.parent=fb(i,l);const h=function(T){if(T.length!==0)return pb(br.create(T,"and"))}(t.filters);h&&(e.structuredQuery.where=h);const m=function(T){if(T.length!==0)return T.map(A=>function(P){return{field:Bl(P.field),direction:FO(P.dir)}}(A))}(t.orderBy);m&&(e.structuredQuery.orderBy=m);const y=wp(i,t.limit);return y!==null&&(e.structuredQuery.limit=y),t.startAt&&(e.structuredQuery.startAt=function(T){return{before:T.inclusive,values:T.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(T){return{before:!T.inclusive,values:T.position}}(t.endAt)),{gt:e,parent:l}}function qO(i){let t=kO(i.parent);const e=i.structuredQuery,a=e.from?e.from.length:0;let l=null;if(a>0){me(a===1,65062);const A=e.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let h=[];e.where&&(h=function(C){const P=mb(C);return P instanceof br&&jw(P)?P.getFilters():[P]}(e.where));let m=[];e.orderBy&&(m=function(C){return C.map(P=>function(q){return new Sf(Hl(q.field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(q.direction))}(P))}(e.orderBy));let y=null;e.limit&&(y=function(C){let P;return P=typeof C=="object"?C.value:C,Ff(P)?null:P}(e.limit));let v=null;e.startAt&&(v=function(C){const P=!!C.before,U=C.values||[];return new bf(U,P)}(e.startAt));let T=null;return e.endAt&&(T=function(C){const P=!C.before,U=C.values||[];return new bf(U,P)}(e.endAt)),lO(t,l,m,h,y,"F",v,T)}function jO(i,t){const e=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return zt(28987,{purpose:l})}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function mb(i){return i.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const a=Hl(e.unaryFilter.field);return rn.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Hl(e.unaryFilter.field);return rn.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Hl(e.unaryFilter.field);return rn.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=Hl(e.unaryFilter.field);return rn.create(m,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return zt(61313);default:return zt(60726)}}(i):i.fieldFilter!==void 0?function(e){return rn.create(Hl(e.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return zt(58110);default:return zt(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(e){return br.create(e.compositeFilter.filters.map(a=>mb(a)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return zt(1026)}}(e.compositeFilter.op))}(i):zt(30097,{filter:i})}function FO(i){return OO[i]}function GO(i){return LO[i]}function ZO(i){return MO[i]}function Bl(i){return{fieldPath:i.canonicalString()}}function Hl(i){return Cn.fromServerFormat(i.fieldPath)}function pb(i){return i instanceof rn?function(e){if(e.op==="=="){if(Y0(e.value))return{unaryFilter:{field:Bl(e.field),op:"IS_NAN"}};if(K0(e.value))return{unaryFilter:{field:Bl(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Y0(e.value))return{unaryFilter:{field:Bl(e.field),op:"IS_NOT_NAN"}};if(K0(e.value))return{unaryFilter:{field:Bl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bl(e.field),op:GO(e.op),value:e.value}}}(i):i instanceof br?function(e){const a=e.getFilters().map(l=>pb(l));return a.length===1?a[0]:{compositeFilter:{op:ZO(e.op),filters:a}}}(i):zt(54877,{filter:i})}function $O(i){const t=[];return i.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function gb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(t,e,a,l,h=jt.min(),m=jt.min(),y=xn.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=e,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=y,this.expectedCount=v}withSequenceNumber(t){return new Va(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(t){this.wt=t}}function YO(i){const t=qO({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Ep(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QO{constructor(){this.Cn=new XO}addToCollectionParentIndex(t,e){return this.Cn.add(e),ht.resolve()}getCollectionParents(t,e){return ht.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return ht.resolve()}deleteFieldIndex(t,e){return ht.resolve()}deleteAllFieldIndexes(t){return ht.resolve()}createTargetIndexes(t,e){return ht.resolve()}getDocumentsMatchingTarget(t,e){return ht.resolve(null)}getIndexType(t,e){return ht.resolve(0)}getFieldIndexes(t,e){return ht.resolve([])}getNextCollectionGroupToUpdate(t){return ht.resolve(null)}getMinOffset(t,e){return ht.resolve(Ga.min())}getMinOffsetFromCollectionGroup(t,e){return ht.resolve(Ga.min())}updateCollectionGroup(t,e,a){return ht.resolve()}updateIndexEntries(t,e){return ht.resolve()}}class XO{constructor(){this.index={}}add(t){const e=t.lastSegment(),a=t.popLast(),l=this.index[e]||new cn(ke.comparator),h=!l.has(a);return this.index[e]=l.add(a),h}has(t){const e=t.lastSegment(),a=t.popLast(),l=this.index[e];return l&&l.has(a)}getEntries(t){return(this.index[t]||new cn(ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_b=41943040;class ai{static withCacheSize(t){return new ai(t,ai.DEFAULT_COLLECTION_PERCENTILE,ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ai.DEFAULT_COLLECTION_PERCENTILE=10,ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ai.DEFAULT=new ai(_b,ai.DEFAULT_COLLECTION_PERCENTILE,ai.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ai.DISABLED=new ai(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(t){this.ur=t}next(){return this.ur+=2,this.ur}static cr(){return new Xl(0)}static lr(){return new Xl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cT="LruGarbageCollector",WO=1048576;function hT([i,t],[e,a]){const l=Yt(i,e);return l===0?Yt(t,a):l}class JO{constructor(t){this.Er=t,this.buffer=new cn(hT),this.dr=0}Ar(){return++this.dr}Rr(t){const e=[t,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(e);else{const a=this.buffer.last();hT(e,a)<0&&(this.buffer=this.buffer.delete(a).add(e))}}get maxValue(){return this.buffer.last()[0]}}class tL{constructor(t,e,a){this.garbageCollector=t,this.asyncQueue=e,this.localStore=a,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(t){St(cT,`Garbage collection scheduled in ${t}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){ou(e)?St(cT,"Ignoring IndexedDB error during garbage collection: ",e):await au(e)}await this.mr(3e5)})}}class eL{constructor(t,e){this.gr=t,this.params=e}calculateTargetCount(t,e){return this.gr.pr(t).next(a=>Math.floor(e/100*a))}nthSequenceNumber(t,e){if(e===0)return ht.resolve(jf.le);const a=new JO(e);return this.gr.forEachTarget(t,l=>a.Rr(l.sequenceNumber)).next(()=>this.gr.yr(t,l=>a.Rr(l))).next(()=>a.maxValue)}removeTargets(t,e,a){return this.gr.removeTargets(t,e,a)}removeOrphanedDocuments(t,e){return this.gr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(St("LruGarbageCollector","Garbage collection skipped; disabled"),ht.resolve(uT)):this.getCacheSize(t).next(a=>a<this.params.cacheSizeCollectionThreshold?(St("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uT):this.wr(t,e))}getCacheSize(t){return this.gr.getCacheSize(t)}wr(t,e){let a,l,h,m,y,v,T;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(C=>(C>this.params.maximumSequenceNumbersToCollect?(St("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),l=this.params.maximumSequenceNumbersToCollect):l=C,m=Date.now(),this.nthSequenceNumber(t,l))).next(C=>(a=C,y=Date.now(),this.removeTargets(t,a,e))).next(C=>(h=C,v=Date.now(),this.removeOrphanedDocuments(t,a))).next(C=>(T=Date.now(),zl()<=ne.DEBUG&&St("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${m-A}ms
	Determined least recently used ${l} in `+(y-m)+`ms
	Removed ${h} targets in `+(v-y)+`ms
	Removed ${C} documents in `+(T-v)+`ms
Total Duration: ${T-A}ms`),ht.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:C})))}}function nL(i,t){return new eL(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(){this.changes=new Yo(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Hn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const a=this.changes.get(e);return a!==void 0?ht.resolve(a):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(t,e,a,l){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,e){let a=null;return this.documentOverlayCache.getOverlay(t,e).next(l=>(a=l,this.remoteDocumentCache.getEntry(t,e))).next(l=>(a!==null&&dc(a.mutation,l,Er.empty(),un.now()),l))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(a=>this.getLocalViewOfDocuments(t,a,ie()).next(()=>a))}getLocalViewOfDocuments(t,e,a=ie()){const l=ko();return this.populateOverlays(t,l,e).next(()=>this.computeViews(t,e,l,a).next(h=>{let m=rc();return h.forEach((y,v)=>{m=m.insert(y,v.overlayedDocument)}),m}))}getOverlayedDocuments(t,e){const a=ko();return this.populateOverlays(t,a,e).next(()=>this.computeViews(t,e,a,ie()))}populateOverlays(t,e,a){const l=[];return a.forEach(h=>{e.has(h)||l.push(h)}),this.documentOverlayCache.getOverlays(t,l).next(h=>{h.forEach((m,y)=>{e.set(m,y)})})}computeViews(t,e,a,l){let h=Ns();const m=fc(),y=function(){return fc()}();return e.forEach((v,T)=>{const A=a.get(T.key);l.has(T.key)&&(A===void 0||A.mutation instanceof Qo)?h=h.insert(T.key,T):A!==void 0?(m.set(T.key,A.mutation.getFieldMask()),dc(A.mutation,T,A.mutation.getFieldMask(),un.now())):m.set(T.key,Er.empty())}),this.recalculateAndSaveOverlays(t,h).next(v=>(v.forEach((T,A)=>m.set(T,A)),e.forEach((T,A)=>{var C;return y.set(T,new rL(A,(C=m.get(T))!==null&&C!==void 0?C:null))}),y))}recalculateAndSaveOverlays(t,e){const a=fc();let l=new je((m,y)=>m-y),h=ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(m=>{for(const y of m)y.keys().forEach(v=>{const T=e.get(v);if(T===null)return;let A=a.get(v)||Er.empty();A=y.applyToLocalView(T,A),a.set(v,A);const C=(l.get(y.batchId)||ie()).add(v);l=l.insert(y.batchId,C)})}).next(()=>{const m=[],y=l.getReverseIterator();for(;y.hasNext();){const v=y.getNext(),T=v.key,A=v.value,C=Ww();A.forEach(P=>{if(!h.has(P)){const U=rb(e.get(P),a.get(P));U!==null&&C.set(P,U),h=h.add(P)}}),m.push(this.documentOverlayCache.saveOverlays(t,T,C))}return ht.waitFor(m)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(a=>this.recalculateAndSaveOverlays(t,a))}getDocumentsMatchingQuery(t,e,a,l){return function(m){return Mt.isDocumentKey(m.path)&&m.collectionGroup===null&&m.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):$w(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,a,l):this.getDocumentsMatchingCollectionQuery(t,e,a,l)}getNextDocuments(t,e,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,a,l).next(h=>{const m=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,a.largestBatchId,l-h.size):ht.resolve(ko());let y=yc,v=h;return m.next(T=>ht.forEach(T,(A,C)=>(y<C.largestBatchId&&(y=C.largestBatchId),h.get(A)?ht.resolve():this.remoteDocumentCache.getEntry(t,A).next(P=>{v=v.insert(A,P)}))).next(()=>this.populateOverlays(t,T,h)).next(()=>this.computeViews(t,v,T,ie())).next(A=>({batchId:y,changes:Xw(A)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Mt(e)).next(a=>{let l=rc();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l})}getDocumentsMatchingCollectionGroupQuery(t,e,a,l){const h=e.collectionGroup;let m=rc();return this.indexManager.getCollectionParents(t,h).next(y=>ht.forEach(y,v=>{const T=function(C,P){return new Mc(P,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)}(e,v.child(h));return this.getDocumentsMatchingCollectionQuery(t,T,a,l).next(A=>{A.forEach((C,P)=>{m=m.insert(C,P)})})}).next(()=>m))}getDocumentsMatchingCollectionQuery(t,e,a,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,a.largestBatchId).next(m=>(h=m,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,a,h,l))).next(m=>{h.forEach((v,T)=>{const A=T.getKey();m.get(A)===null&&(m=m.insert(A,Hn.newInvalidDocument(A)))});let y=rc();return m.forEach((v,T)=>{const A=h.get(v);A!==void 0&&dc(A.mutation,T,Er.empty(),un.now()),$f(e,T)&&(y=y.insert(v,T))}),y})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(t){this.serializer=t,this.kr=new Map,this.qr=new Map}getBundleMetadata(t,e){return ht.resolve(this.kr.get(e))}saveBundleMetadata(t,e){return this.kr.set(e.id,function(l){return{id:l.id,version:l.version,createTime:Kr(l.createTime)}}(e)),ht.resolve()}getNamedQuery(t,e){return ht.resolve(this.qr.get(e))}saveNamedQuery(t,e){return this.qr.set(e.name,function(l){return{name:l.name,query:YO(l.bundledQuery),readTime:Kr(l.readTime)}}(e)),ht.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(){this.overlays=new je(Mt.comparator),this.Qr=new Map}getOverlay(t,e){return ht.resolve(this.overlays.get(e))}getOverlays(t,e){const a=ko();return ht.forEach(e,l=>this.getOverlay(t,l).next(h=>{h!==null&&a.set(l,h)})).next(()=>a)}saveOverlays(t,e,a){return a.forEach((l,h)=>{this.St(t,e,h)}),ht.resolve()}removeOverlaysForBatchId(t,e,a){const l=this.Qr.get(a);return l!==void 0&&(l.forEach(h=>this.overlays=this.overlays.remove(h)),this.Qr.delete(a)),ht.resolve()}getOverlaysForCollection(t,e,a){const l=ko(),h=e.length+1,m=new Mt(e.child("")),y=this.overlays.getIteratorFrom(m);for(;y.hasNext();){const v=y.getNext().value,T=v.getKey();if(!e.isPrefixOf(T.path))break;T.path.length===h&&v.largestBatchId>a&&l.set(v.getKey(),v)}return ht.resolve(l)}getOverlaysForCollectionGroup(t,e,a,l){let h=new je((T,A)=>T-A);const m=this.overlays.getIterator();for(;m.hasNext();){const T=m.getNext().value;if(T.getKey().getCollectionGroup()===e&&T.largestBatchId>a){let A=h.get(T.largestBatchId);A===null&&(A=ko(),h=h.insert(T.largestBatchId,A)),A.set(T.getKey(),T)}}const y=ko(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((T,A)=>y.set(T,A)),!(y.size()>=l)););return ht.resolve(y)}St(t,e,a){const l=this.overlays.get(a.key);if(l!==null){const m=this.Qr.get(l.largestBatchId).delete(a.key);this.Qr.set(l.largestBatchId,m)}this.overlays=this.overlays.insert(a.key,new RO(e,a));let h=this.Qr.get(e);h===void 0&&(h=ie(),this.Qr.set(e,h)),this.Qr.set(e,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(){this.sessionToken=xn.EMPTY_BYTE_STRING}getSessionToken(t){return ht.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,ht.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(){this.$r=new cn(Tn.Ur),this.Kr=new cn(Tn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(t,e){const a=new Tn(t,e);this.$r=this.$r.add(a),this.Kr=this.Kr.add(a)}Gr(t,e){t.forEach(a=>this.addReference(a,e))}removeReference(t,e){this.zr(new Tn(t,e))}jr(t,e){t.forEach(a=>this.removeReference(a,e))}Hr(t){const e=new Mt(new ke([])),a=new Tn(e,t),l=new Tn(e,t+1),h=[];return this.Kr.forEachInRange([a,l],m=>{this.zr(m),h.push(m.key)}),h}Jr(){this.$r.forEach(t=>this.zr(t))}zr(t){this.$r=this.$r.delete(t),this.Kr=this.Kr.delete(t)}Yr(t){const e=new Mt(new ke([])),a=new Tn(e,t),l=new Tn(e,t+1);let h=ie();return this.Kr.forEachInRange([a,l],m=>{h=h.add(m.key)}),h}containsKey(t){const e=new Tn(t,0),a=this.$r.firstAfterOrEqual(e);return a!==null&&t.isEqual(a.key)}}class Tn{constructor(t,e){this.key=t,this.Zr=e}static Ur(t,e){return Mt.comparator(t.key,e.key)||Yt(t.Zr,e.Zr)}static Wr(t,e){return Yt(t.Zr,e.Zr)||Mt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.nr=1,this.Xr=new cn(Tn.Ur)}checkEmpty(t){return ht.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,a,l){const h=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const m=new AO(h,e,a,l);this.mutationQueue.push(m);for(const y of l)this.Xr=this.Xr.add(new Tn(y.key,h)),this.indexManager.addToCollectionParentIndex(t,y.key.path.popLast());return ht.resolve(m)}lookupMutationBatch(t,e){return ht.resolve(this.ei(e))}getNextMutationBatchAfterBatchId(t,e){const a=e+1,l=this.ti(a),h=l<0?0:l;return ht.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return ht.resolve(this.mutationQueue.length===0?pg:this.nr-1)}getAllMutationBatches(t){return ht.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const a=new Tn(e,0),l=new Tn(e,Number.POSITIVE_INFINITY),h=[];return this.Xr.forEachInRange([a,l],m=>{const y=this.ei(m.Zr);h.push(y)}),ht.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,e){let a=new cn(Yt);return e.forEach(l=>{const h=new Tn(l,0),m=new Tn(l,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([h,m],y=>{a=a.add(y.Zr)})}),ht.resolve(this.ni(a))}getAllMutationBatchesAffectingQuery(t,e){const a=e.path,l=a.length+1;let h=a;Mt.isDocumentKey(h)||(h=h.child(""));const m=new Tn(new Mt(h),0);let y=new cn(Yt);return this.Xr.forEachWhile(v=>{const T=v.key.path;return!!a.isPrefixOf(T)&&(T.length===l&&(y=y.add(v.Zr)),!0)},m),ht.resolve(this.ni(y))}ni(t){const e=[];return t.forEach(a=>{const l=this.ei(a);l!==null&&e.push(l)}),e}removeMutationBatch(t,e){me(this.ri(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Xr;return ht.forEach(e.mutations,l=>{const h=new Tn(l.key,e.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Xr=a})}sr(t){}containsKey(t,e){const a=new Tn(e,0),l=this.Xr.firstAfterOrEqual(a);return ht.resolve(e.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,ht.resolve()}ri(t,e){return this.ti(t)}ti(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}ei(t){const e=this.ti(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cL{constructor(t){this.ii=t,this.docs=function(){return new je(Mt.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const a=e.key,l=this.docs.get(a),h=l?l.size:0,m=this.ii(e);return this.docs=this.docs.insert(a,{document:e.mutableCopy(),size:m}),this.size+=m-h,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const a=this.docs.get(e);return ht.resolve(a?a.document.mutableCopy():Hn.newInvalidDocument(e))}getEntries(t,e){let a=Ns();return e.forEach(l=>{const h=this.docs.get(l);a=a.insert(l,h?h.document.mutableCopy():Hn.newInvalidDocument(l))}),ht.resolve(a)}getDocumentsMatchingQuery(t,e,a,l){let h=Ns();const m=e.path,y=new Mt(m.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(y);for(;v.hasNext();){const{key:T,value:{document:A}}=v.getNext();if(!m.isPrefixOf(T.path))break;T.path.length>m.length+1||BP(UP(A),a)<=0||(l.has(A.key)||$f(e,A))&&(h=h.insert(A.key,A.mutableCopy()))}return ht.resolve(h)}getAllFromCollectionGroup(t,e,a,l){zt(9500)}si(t,e){return ht.forEach(this.docs,a=>e(a))}newChangeBuffer(t){return new hL(this)}getSize(t){return ht.resolve(this.size)}}class hL extends iL{constructor(t){super(),this.Br=t}applyChanges(t){const e=[];return this.changes.forEach((a,l)=>{l.isValidDocument()?e.push(this.Br.addEntry(t,l)):this.Br.removeEntry(a)}),ht.waitFor(e)}getFromCache(t,e){return this.Br.getEntry(t,e)}getAllFromCache(t,e){return this.Br.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(t){this.persistence=t,this.oi=new Yo(e=>yg(e),vg),this.lastRemoteSnapshotVersion=jt.min(),this.highestTargetId=0,this._i=0,this.ai=new Ag,this.targetCount=0,this.ui=Xl.cr()}forEachTarget(t,e){return this.oi.forEach((a,l)=>e(l)),ht.resolve()}getLastRemoteSnapshotVersion(t){return ht.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ht.resolve(this._i)}allocateTargetId(t){return this.highestTargetId=this.ui.next(),ht.resolve(this.highestTargetId)}setTargetsMetadata(t,e,a){return a&&(this.lastRemoteSnapshotVersion=a),e>this._i&&(this._i=e),ht.resolve()}Tr(t){this.oi.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ui=new Xl(e),this.highestTargetId=e),t.sequenceNumber>this._i&&(this._i=t.sequenceNumber)}addTargetData(t,e){return this.Tr(e),this.targetCount+=1,ht.resolve()}updateTargetData(t,e){return this.Tr(e),ht.resolve()}removeTargetData(t,e){return this.oi.delete(e.target),this.ai.Hr(e.targetId),this.targetCount-=1,ht.resolve()}removeTargets(t,e,a){let l=0;const h=[];return this.oi.forEach((m,y)=>{y.sequenceNumber<=e&&a.get(y.targetId)===null&&(this.oi.delete(m),h.push(this.removeMatchingKeysForTargetId(t,y.targetId)),l++)}),ht.waitFor(h).next(()=>l)}getTargetCount(t){return ht.resolve(this.targetCount)}getTargetData(t,e){const a=this.oi.get(e)||null;return ht.resolve(a)}addMatchingKeys(t,e,a){return this.ai.Gr(e,a),ht.resolve()}removeMatchingKeys(t,e,a){this.ai.jr(e,a);const l=this.persistence.referenceDelegate,h=[];return l&&e.forEach(m=>{h.push(l.markPotentiallyOrphaned(t,m))}),ht.waitFor(h)}removeMatchingKeysForTargetId(t,e){return this.ai.Hr(e),ht.resolve()}getMatchingKeysForTargetId(t,e){const a=this.ai.Yr(e);return ht.resolve(a)}containsKey(t,e){return ht.resolve(this.ai.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(t,e){this.ci={},this.overlays={},this.li=new jf(0),this.hi=!1,this.hi=!0,this.Pi=new lL,this.referenceDelegate=t(this),this.Ti=new fL(this),this.indexManager=new QO,this.remoteDocumentCache=function(l){return new cL(l)}(a=>this.referenceDelegate.Ii(a)),this.serializer=new KO(e),this.Ei=new aL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new oL,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let a=this.ci[t.toKey()];return a||(a=new uL(e,this.referenceDelegate),this.ci[t.toKey()]=a),a}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(t,e,a){St("MemoryPersistence","Starting transaction:",t);const l=new dL(this.li.next());return this.referenceDelegate.di(),a(l).next(h=>this.referenceDelegate.Ai(l).next(()=>h)).toPromise().then(h=>(l.raiseOnCommittedEvent(),h))}Ri(t,e){return ht.or(Object.values(this.ci).map(a=>()=>a.containsKey(t,e)))}}class dL extends qP{constructor(t){super(),this.currentSequenceNumber=t}}class Rg{constructor(t){this.persistence=t,this.Vi=new Ag,this.mi=null}static fi(t){return new Rg(t)}get gi(){if(this.mi)return this.mi;throw zt(60996)}addReference(t,e,a){return this.Vi.addReference(a,e),this.gi.delete(a.toString()),ht.resolve()}removeReference(t,e,a){return this.Vi.removeReference(a,e),this.gi.add(a.toString()),ht.resolve()}markPotentiallyOrphaned(t,e){return this.gi.add(e.toString()),ht.resolve()}removeTarget(t,e){this.Vi.Hr(e.targetId).forEach(l=>this.gi.add(l.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,e.targetId).next(l=>{l.forEach(h=>this.gi.add(h.toString()))}).next(()=>a.removeTargetData(t,e))}di(){this.mi=new Set}Ai(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ht.forEach(this.gi,a=>{const l=Mt.fromPath(a);return this.pi(t,l).next(h=>{h||e.removeEntry(l,jt.min())})}).next(()=>(this.mi=null,e.apply(t)))}updateLimboDocument(t,e){return this.pi(t,e).next(a=>{a?this.gi.delete(e.toString()):this.gi.add(e.toString())})}Ii(t){return 0}pi(t,e){return ht.or([()=>ht.resolve(this.Vi.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ri(t,e)])}}class Cf{constructor(t,e){this.persistence=t,this.yi=new Yo(a=>GP(a.path),(a,l)=>a.isEqual(l)),this.garbageCollector=nL(this,e)}static fi(t,e){return new Cf(t,e)}di(){}Ai(t){return ht.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}pr(t){const e=this.br(t);return this.persistence.getTargetCache().getTargetCount(t).next(a=>e.next(l=>a+l))}br(t){let e=0;return this.yr(t,a=>{e++}).next(()=>e)}yr(t,e){return ht.forEach(this.yi,(a,l)=>this.Dr(t,a,l).next(h=>h?ht.resolve():e(l)))}removeTargets(t,e,a){return this.persistence.getTargetCache().removeTargets(t,e,a)}removeOrphanedDocuments(t,e){let a=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.si(t,m=>this.Dr(t,m,e).next(y=>{y||(a++,h.removeEntry(m,jt.min()))})).next(()=>h.apply(t)).next(()=>a)}markPotentiallyOrphaned(t,e){return this.yi.set(e,t.currentSequenceNumber),ht.resolve()}removeTarget(t,e){const a=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,e,a){return this.yi.set(a,t.currentSequenceNumber),ht.resolve()}removeReference(t,e,a){return this.yi.set(a,t.currentSequenceNumber),ht.resolve()}updateLimboDocument(t,e){return this.yi.set(e,t.currentSequenceNumber),ht.resolve()}Ii(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=rf(t.data.value)),e}Dr(t,e,a){return ht.or([()=>this.persistence.Ri(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const l=this.yi.get(e);return ht.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(t,e,a,l){this.targetId=t,this.fromCache=e,this.ds=a,this.As=l}static Rs(t,e){let a=ie(),l=ie();for(const h of e.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new Ig(t,e.fromCache,a,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return qR()?8:jP(qn())>0?6:4}()}initialize(t,e){this.ys=t,this.indexManager=e,this.Vs=!0}getDocumentsMatchingQuery(t,e,a,l){const h={result:null};return this.ws(t,e).next(m=>{h.result=m}).next(()=>{if(!h.result)return this.bs(t,e,l,a).next(m=>{h.result=m})}).next(()=>{if(h.result)return;const m=new mL;return this.Ss(t,e,m).next(y=>{if(h.result=y,this.fs)return this.Ds(t,e,m,y.size)})}).next(()=>h.result)}Ds(t,e,a,l){return a.documentReadCount<this.gs?(zl()<=ne.DEBUG&&St("QueryEngine","SDK will not create cache indexes for query:",Ul(e),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ht.resolve()):(zl()<=ne.DEBUG&&St("QueryEngine","Query:",Ul(e),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.ps*l?(zl()<=ne.DEBUG&&St("QueryEngine","The SDK decides to create cache indexes for query:",Ul(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,$r(e))):ht.resolve())}ws(t,e){if(J0(e))return ht.resolve(null);let a=$r(e);return this.indexManager.getIndexType(t,a).next(l=>l===0?null:(e.limit!==null&&l===1&&(e=Ep(e,null,"F"),a=$r(e)),this.indexManager.getDocumentsMatchingTarget(t,a).next(h=>{const m=ie(...h);return this.ys.getDocuments(t,m).next(y=>this.indexManager.getMinOffset(t,a).next(v=>{const T=this.vs(e,y);return this.Cs(e,T,m,v.readTime)?this.ws(t,Ep(e,null,"F")):this.Fs(t,T,e,v)}))})))}bs(t,e,a,l){return J0(e)||l.isEqual(jt.min())?ht.resolve(null):this.ys.getDocuments(t,a).next(h=>{const m=this.vs(e,h);return this.Cs(e,m,a,l)?ht.resolve(null):(zl()<=ne.DEBUG&&St("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ul(e)),this.Fs(t,m,e,zP(l,yc)).next(y=>y))})}vs(t,e){let a=new cn(Yw(t));return e.forEach((l,h)=>{$f(t,h)&&(a=a.add(h))}),a}Cs(t,e,a,l){if(t.limit===null)return!1;if(a.size!==e.size)return!0;const h=t.limitType==="F"?e.last():e.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}Ss(t,e,a){return zl()<=ne.DEBUG&&St("QueryEngine","Using full collection scan to execute query:",Ul(e)),this.ys.getDocumentsMatchingQuery(t,e,Ga.min(),a)}Fs(t,e,a,l){return this.ys.getDocumentsMatchingQuery(t,a,l).next(h=>(e.forEach(m=>{h=h.insert(m.key,m)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="LocalStore",gL=3e8;class _L{constructor(t,e,a,l){this.persistence=t,this.Ms=e,this.serializer=l,this.xs=new je(Yt),this.Os=new Yo(h=>yg(h),vg),this.Ns=new Map,this.Bs=t.getRemoteDocumentCache(),this.Ti=t.getTargetCache(),this.Ei=t.getBundleCache(),this.Ls(a)}Ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new sL(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.xs))}}function yL(i,t,e,a){return new _L(i,t,e,a)}async function vb(i,t){const e=Ft(i);return await e.persistence.runTransaction("Handle user change","readonly",a=>{let l;return e.mutationQueue.getAllMutationBatches(a).next(h=>(l=h,e.Ls(t),e.mutationQueue.getAllMutationBatches(a))).next(h=>{const m=[],y=[];let v=ie();for(const T of l){m.push(T.batchId);for(const A of T.mutations)v=v.add(A.key)}for(const T of h){y.push(T.batchId);for(const A of T.mutations)v=v.add(A.key)}return e.localDocuments.getDocuments(a,v).next(T=>({ks:T,removedBatchIds:m,addedBatchIds:y}))})})}function vL(i,t){const e=Ft(i);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const l=t.batch.keys(),h=e.Bs.newChangeBuffer({trackRemovals:!0});return function(y,v,T,A){const C=T.batch,P=C.keys();let U=ht.resolve();return P.forEach(q=>{U=U.next(()=>A.getEntry(v,q)).next(G=>{const $=T.docVersions.get(q);me($!==null,48541),G.version.compareTo($)<0&&(C.applyToRemoteDocument(G,T),G.isValidDocument()&&(G.setReadTime(T.commitVersion),A.addEntry(G)))})}),U.next(()=>y.mutationQueue.removeMutationBatch(v,C))}(e,a,t,h).next(()=>h.apply(a)).next(()=>e.mutationQueue.performConsistencyCheck(a)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(y){let v=ie();for(let T=0;T<y.mutationResults.length;++T)y.mutationResults[T].transformResults.length>0&&(v=v.add(y.batch.mutations[T].key));return v}(t))).next(()=>e.localDocuments.getDocuments(a,l))})}function Tb(i){const t=Ft(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ti.getLastRemoteSnapshotVersion(e))}function TL(i,t){const e=Ft(i),a=t.snapshotVersion;let l=e.xs;return e.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const m=e.Bs.newChangeBuffer({trackRemovals:!0});l=e.xs;const y=[];t.targetChanges.forEach((A,C)=>{const P=l.get(C);if(!P)return;y.push(e.Ti.removeMatchingKeys(h,A.removedDocuments,C).next(()=>e.Ti.addMatchingKeys(h,A.addedDocuments,C)));let U=P.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(C)!==null?U=U.withResumeToken(xn.EMPTY_BYTE_STRING,jt.min()).withLastLimboFreeSnapshotVersion(jt.min()):A.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(A.resumeToken,a)),l=l.insert(C,U),function(G,$,et){return G.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-G.snapshotVersion.toMicroseconds()>=gL?!0:et.addedDocuments.size+et.modifiedDocuments.size+et.removedDocuments.size>0}(P,U,A)&&y.push(e.Ti.updateTargetData(h,U))});let v=Ns(),T=ie();if(t.documentUpdates.forEach(A=>{t.resolvedLimboDocuments.has(A)&&y.push(e.persistence.referenceDelegate.updateLimboDocument(h,A))}),y.push(EL(h,m,t.documentUpdates).next(A=>{v=A.qs,T=A.Qs})),!a.isEqual(jt.min())){const A=e.Ti.getLastRemoteSnapshotVersion(h).next(C=>e.Ti.setTargetsMetadata(h,h.currentSequenceNumber,a));y.push(A)}return ht.waitFor(y).next(()=>m.apply(h)).next(()=>e.localDocuments.getLocalViewOfDocuments(h,v,T)).next(()=>v)}).then(h=>(e.xs=l,h))}function EL(i,t,e){let a=ie(),l=ie();return e.forEach(h=>a=a.add(h)),t.getEntries(i,a).next(h=>{let m=Ns();return e.forEach((y,v)=>{const T=h.get(y);v.isFoundDocument()!==T.isFoundDocument()&&(l=l.add(y)),v.isNoDocument()&&v.version.isEqual(jt.min())?(t.removeEntry(y,v.readTime),m=m.insert(y,v)):!T.isValidDocument()||v.version.compareTo(T.version)>0||v.version.compareTo(T.version)===0&&T.hasPendingWrites?(t.addEntry(v),m=m.insert(y,v)):St(Cg,"Ignoring outdated watch update for ",y,". Current version:",T.version," Watch version:",v.version)}),{qs:m,Qs:l}})}function wL(i,t){const e=Ft(i);return e.persistence.runTransaction("Get next mutation batch","readonly",a=>(t===void 0&&(t=pg),e.mutationQueue.getNextMutationBatchAfterBatchId(a,t)))}function bL(i,t){const e=Ft(i);return e.persistence.runTransaction("Allocate target","readwrite",a=>{let l;return e.Ti.getTargetData(a,t).next(h=>h?(l=h,ht.resolve(l)):e.Ti.allocateTargetId(a).next(m=>(l=new Va(t,m,"TargetPurposeListen",a.currentSequenceNumber),e.Ti.addTargetData(a,l).next(()=>l))))}).then(a=>{const l=e.xs.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(e.xs=e.xs.insert(a.targetId,a),e.Os.set(t,a.targetId)),a})}async function Rp(i,t,e){const a=Ft(i),l=a.xs.get(t),h=e?"readwrite":"readwrite-primary";try{e||await a.persistence.runTransaction("Release target",h,m=>a.persistence.referenceDelegate.removeTarget(m,l))}catch(m){if(!ou(m))throw m;St(Cg,`Failed to update sequence numbers for target ${t}: ${m}`)}a.xs=a.xs.remove(t),a.Os.delete(l.target)}function fT(i,t,e){const a=Ft(i);let l=jt.min(),h=ie();return a.persistence.runTransaction("Execute query","readwrite",m=>function(v,T,A){const C=Ft(v),P=C.Os.get(A);return P!==void 0?ht.resolve(C.xs.get(P)):C.Ti.getTargetData(T,A)}(a,m,$r(t)).next(y=>{if(y)return l=y.lastLimboFreeSnapshotVersion,a.Ti.getMatchingKeysForTargetId(m,y.targetId).next(v=>{h=v})}).next(()=>a.Ms.getDocumentsMatchingQuery(m,t,e?l:jt.min(),e?h:ie())).next(y=>(SL(a,cO(t),y),{documents:y,$s:h})))}function SL(i,t,e){let a=i.Ns.get(t)||jt.min();e.forEach((l,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),i.Ns.set(t,a)}class dT{constructor(){this.activeTargetIds=gO()}js(t){this.activeTargetIds=this.activeTargetIds.add(t)}Hs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}zs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class AL{constructor(){this.xo=new dT,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,a){}addLocalQueryTarget(t,e=!0){return e&&this.xo.js(t),this.Oo[t]||"not-current"}updateQueryState(t,e,a){this.Oo[t]=e}removeLocalQueryTarget(t){this.xo.Hs(t)}isLocalQueryTarget(t){return this.xo.activeTargetIds.has(t)}clearQueryState(t){delete this.Oo[t]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(t){return this.xo.activeTargetIds.has(t)}start(){return this.xo=new dT,Promise.resolve()}handleUserChange(t,e,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{No(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="ConnectivityMonitor";class pT{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(t){this.Qo.push(t)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){St(mT,"Network connectivity changed: AVAILABLE");for(const t of this.Qo)t(0)}qo(){St(mT,"Network connectivity changed: UNAVAILABLE");for(const t of this.Qo)t(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kh=null;function Ip(){return Kh===null?Kh=function(){return 268435456+Math.round(2147483648*Math.random())}():Kh++,"0x"+Kh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="RestConnection",IL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CL{get Uo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Ko=e+"://"+t.host,this.Wo=`projects/${a}/databases/${l}`,this.Go=this.databaseId.database===Ef?`project_id=${a}`:`project_id=${a}&database_id=${l}`}zo(t,e,a,l,h){const m=Ip(),y=this.jo(t,e.toUriEncodedString());St(tp,`Sending RPC '${t}' ${m}:`,y,a);const v={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(v,l,h);const{host:T}=new URL(y),A=nu(T);return this.Jo(t,y,v,a,A).then(C=>(St(tp,`Received RPC '${t}' ${m}: `,C),C),C=>{throw $l(tp,`RPC '${t}' ${m} failed with error: `,C,"url: ",y,"request:",a),C})}Yo(t,e,a,l,h,m){return this.zo(t,e,a,l,h)}Ho(t,e,a){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+su}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((l,h)=>t[h]=l),a&&a.headers.forEach((l,h)=>t[h]=l)}jo(t,e){const a=IL[t];return`${this.Ko}/v1/${e}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(t){this.Zo=t.Zo,this.Xo=t.Xo}e_(t){this.t_=t}n_(t){this.r_=t}i_(t){this.s_=t}onMessage(t){this.o_=t}close(){this.Xo()}send(t){this.Zo(t)}__(){this.t_()}a_(){this.r_()}u_(t){this.s_(t)}c_(t){this.o_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Un="WebChannelConnection";class PL extends CL{constructor(t){super(t),this.l_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,a,l,h){const m=Ip();return new Promise((y,v)=>{const T=new ww;T.setWithCredentials(!0),T.listenOnce(bw.COMPLETE,()=>{try{switch(T.getLastErrorCode()){case nf.NO_ERROR:const C=T.getResponseJson();St(Un,`XHR for RPC '${t}' ${m} received:`,JSON.stringify(C)),y(C);break;case nf.TIMEOUT:St(Un,`RPC '${t}' ${m} timed out`),v(new Ct(dt.DEADLINE_EXCEEDED,"Request time out"));break;case nf.HTTP_ERROR:const P=T.getStatus();if(St(Un,`RPC '${t}' ${m} failed with status:`,P,"response text:",T.getResponseText()),P>0){let U=T.getResponseJson();Array.isArray(U)&&(U=U[0]);const q=U==null?void 0:U.error;if(q&&q.status&&q.message){const G=function(et){const J=et.toLowerCase().replace(/_/g,"-");return Object.values(dt).indexOf(J)>=0?J:dt.UNKNOWN}(q.status);v(new Ct(G,q.message))}else v(new Ct(dt.UNKNOWN,"Server responded with status "+T.getStatus()))}else v(new Ct(dt.UNAVAILABLE,"Connection failed."));break;default:zt(9055,{h_:t,streamId:m,P_:T.getLastErrorCode(),T_:T.getLastError()})}}finally{St(Un,`RPC '${t}' ${m} completed.`)}});const A=JSON.stringify(l);St(Un,`RPC '${t}' ${m} sending request:`,l),T.send(e,"POST",A,a,15)})}I_(t,e,a){const l=Ip(),h=[this.Ko,"/","google.firestore.v1.Firestore","/",t,"/channel"],m=Rw(),y=Aw(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},T=this.longPollingOptions.timeoutSeconds;T!==void 0&&(v.longPollingTimeout=Math.round(1e3*T)),this.useFetchStreams&&(v.useFetchStreams=!0),this.Ho(v.initMessageHeaders,e,a),v.encodeInitMessageHeaders=!0;const A=h.join("");St(Un,`Creating RPC '${t}' stream ${l}: ${A}`,v);const C=m.createWebChannel(A,v);this.E_(C);let P=!1,U=!1;const q=new xL({Zo:$=>{U?St(Un,`Not sending because RPC '${t}' stream ${l} is closed:`,$):(P||(St(Un,`Opening RPC '${t}' stream ${l} transport.`),C.open(),P=!0),St(Un,`RPC '${t}' stream ${l} sending:`,$),C.send($))},Xo:()=>C.close()}),G=($,et,J)=>{$.listen(et,nt=>{try{J(nt)}catch(gt){setTimeout(()=>{throw gt},0)}})};return G(C,ic.EventType.OPEN,()=>{U||(St(Un,`RPC '${t}' stream ${l} transport opened.`),q.__())}),G(C,ic.EventType.CLOSE,()=>{U||(U=!0,St(Un,`RPC '${t}' stream ${l} transport closed`),q.u_(),this.d_(C))}),G(C,ic.EventType.ERROR,$=>{U||(U=!0,$l(Un,`RPC '${t}' stream ${l} transport errored. Name:`,$.name,"Message:",$.message),q.u_(new Ct(dt.UNAVAILABLE,"The operation could not be completed")))}),G(C,ic.EventType.MESSAGE,$=>{var et;if(!U){const J=$.data[0];me(!!J,16349);const nt=J,gt=(nt==null?void 0:nt.error)||((et=nt[0])===null||et===void 0?void 0:et.error);if(gt){St(Un,`RPC '${t}' stream ${l} received error:`,gt);const Tt=gt.status;let xt=function(M){const B=nn[M];if(B!==void 0)return ob(B)}(Tt),V=gt.message;xt===void 0&&(xt=dt.INTERNAL,V="Unknown error status: "+Tt+" with message "+gt.message),U=!0,q.u_(new Ct(xt,V)),C.close()}else St(Un,`RPC '${t}' stream ${l} received:`,J),q.c_(J)}}),G(y,Sw.STAT_EVENT,$=>{$.stat===mp.PROXY?St(Un,`RPC '${t}' stream ${l} detected buffering proxy`):$.stat===mp.NOPROXY&&St(Un,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{q.a_()},0),q}terminate(){this.l_.forEach(t=>t.close()),this.l_=[]}E_(t){this.l_.push(t)}d_(t){this.l_=this.l_.filter(e=>e===t)}}function ep(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(i){return new DO(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(t,e,a=1e3,l=1.5,h=6e4){this.xi=t,this.timerId=e,this.A_=a,this.R_=l,this.V_=h,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(t){this.cancel();const e=Math.floor(this.m_+this.w_()),a=Math.max(0,Date.now()-this.g_),l=Math.max(0,e-a);l>0&&St("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.m_} ms, delay with jitter: ${e} ms, last attempt: ${a} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,l,()=>(this.g_=Date.now(),t())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="PersistentStream";class wb{constructor(t,e,a,l,h,m,y,v){this.xi=t,this.S_=a,this.D_=l,this.connection=h,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=y,this.listener=v,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new Eb(t,e)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(t){this.U_(),this.stream.send(t)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(t,e){this.U_(),this.K_(),this.x_.cancel(),this.v_++,t!==4?this.x_.reset():e&&e.code===dt.RESOURCE_EXHAUSTED?(Ds(e.toString()),Ds("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):e&&e.code===dt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.i_(e)}W_(){}auth(){this.state=1;const t=this.G_(this.v_),e=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,l])=>{this.v_===e&&this.z_(a,l)},a=>{t(()=>{const l=new Ct(dt.UNKNOWN,"Fetching auth token failed: "+a.message);return this.j_(l)})})}z_(t,e){const a=this.G_(this.v_);this.stream=this.H_(t,e),this.stream.e_(()=>{a(()=>this.listener.e_())}),this.stream.n_(()=>{a(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(l=>{a(()=>this.j_(l))}),this.stream.onMessage(l=>{a(()=>++this.M_==1?this.J_(l):this.onNext(l))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(t){return St(gT,`close with error: ${t}`),this.stream=null,this.close(4,t)}G_(t){return e=>{this.xi.enqueueAndForget(()=>this.v_===t?e():(St(gT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class OL extends wb{constructor(t,e,a,l,h,m){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,a,l,m),this.serializer=h}H_(t,e){return this.connection.I_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.x_.reset();const e=VO(this.serializer,t),a=function(h){if(!("targetChange"in h))return jt.min();const m=h.targetChange;return m.targetIds&&m.targetIds.length?jt.min():m.readTime?Kr(m.readTime):jt.min()}(t);return this.listener.Y_(e,a)}Z_(t){const e={};e.database=Ap(this.serializer),e.addTarget=function(h,m){let y;const v=m.target;if(y=vp(v)?{documents:BO(h,v)}:{query:HO(h,v).gt},y.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){y.resumeToken=cb(h,m.resumeToken);const T=wp(h,m.expectedCount);T!==null&&(y.expectedCount=T)}else if(m.snapshotVersion.compareTo(jt.min())>0){y.readTime=If(h,m.snapshotVersion.toTimestamp());const T=wp(h,m.expectedCount);T!==null&&(y.expectedCount=T)}return y}(this.serializer,t);const a=jO(this.serializer,t);a&&(e.labels=a),this.Q_(e)}X_(t){const e={};e.database=Ap(this.serializer),e.removeTarget=t,this.Q_(e)}}class LL extends wb{constructor(t,e,a,l,h,m){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,a,l,m),this.serializer=h}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(t,e){return this.connection.I_("Write",t,e)}J_(t){return me(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,me(!t.writeResults||t.writeResults.length===0,55816),this.listener.na()}onNext(t){me(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.x_.reset();const e=UO(t.writeResults,t.commitTime),a=Kr(t.commitTime);return this.listener.ra(a,e)}ia(){const t={};t.database=Ap(this.serializer),this.Q_(t)}ta(t){const e={streamToken:this.lastStreamToken,writes:t.map(a=>zO(this.serializer,a))};this.Q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{}class DL extends ML{constructor(t,e,a,l){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=a,this.serializer=l,this.sa=!1}oa(){if(this.sa)throw new Ct(dt.FAILED_PRECONDITION,"The client has already been terminated.")}zo(t,e,a,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.zo(t,bp(e,a),l,h,m)).catch(h=>{throw h.name==="FirebaseError"?(h.code===dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Ct(dt.UNKNOWN,h.toString())})}Yo(t,e,a,l,h){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,y])=>this.connection.Yo(t,bp(e,a),l,m,y,h)).catch(m=>{throw m.name==="FirebaseError"?(m.code===dt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new Ct(dt.UNKNOWN,m.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class NL{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(t){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.la("Offline")))}set(t){this.Ta(),this._a=0,t==="Online"&&(this.ua=!1),this.la(t)}la(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ha(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ds(e),this.ua=!1):St("OnlineStateTracker",e)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo="RemoteStore";class kL{constructor(t,e,a,l,h){this.localStore=t,this.datastore=e,this.asyncQueue=a,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=h,this.Ra.No(m=>{a.enqueueAndForget(async()=>{Xo(this)&&(St(jo,"Restarting streams for network reachability change."),await async function(v){const T=Ft(v);T.da.add(4),await kc(T),T.Va.set("Unknown"),T.da.delete(4),await Wf(T)}(this))})}),this.Va=new NL(a,l)}}async function Wf(i){if(Xo(i))for(const t of i.Aa)await t(!0)}async function kc(i){for(const t of i.Aa)await t(!1)}function bb(i,t){const e=Ft(i);e.Ea.has(t.targetId)||(e.Ea.set(t.targetId,t),Lg(e)?Og(e):lu(e).N_()&&Pg(e,t))}function xg(i,t){const e=Ft(i),a=lu(e);e.Ea.delete(t),a.N_()&&Sb(e,t),e.Ea.size===0&&(a.N_()?a.k_():Xo(e)&&e.Va.set("Unknown"))}function Pg(i,t){if(i.ma.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(jt.min())>0){const e=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}lu(i).Z_(t)}function Sb(i,t){i.ma.Ke(t),lu(i).X_(t)}function Og(i){i.ma=new PO({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>i.Ea.get(t)||null,Pt:()=>i.datastore.serializer.databaseId}),lu(i).start(),i.Va.ca()}function Lg(i){return Xo(i)&&!lu(i).O_()&&i.Ea.size>0}function Xo(i){return Ft(i).da.size===0}function Ab(i){i.ma=void 0}async function VL(i){i.Va.set("Online")}async function zL(i){i.Ea.forEach((t,e)=>{Pg(i,t)})}async function UL(i,t){Ab(i),Lg(i)?(i.Va.Pa(t),Og(i)):i.Va.set("Unknown")}async function BL(i,t,e){if(i.Va.set("Online"),t instanceof ub&&t.state===2&&t.cause)try{await async function(l,h){const m=h.cause;for(const y of h.targetIds)l.Ea.has(y)&&(await l.remoteSyncer.rejectListen(y,m),l.Ea.delete(y),l.ma.removeTarget(y))}(i,t)}catch(a){St(jo,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await xf(i,a)}else if(t instanceof of?i.ma.Xe(t):t instanceof lb?i.ma.ot(t):i.ma.nt(t),!e.isEqual(jt.min()))try{const a=await Tb(i.localStore);e.compareTo(a)>=0&&await function(h,m){const y=h.ma.It(m);return y.targetChanges.forEach((v,T)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.Ea.get(T);A&&h.Ea.set(T,A.withResumeToken(v.resumeToken,m))}}),y.targetMismatches.forEach((v,T)=>{const A=h.Ea.get(v);if(!A)return;h.Ea.set(v,A.withResumeToken(xn.EMPTY_BYTE_STRING,A.snapshotVersion)),Sb(h,v);const C=new Va(A.target,v,T,A.sequenceNumber);Pg(h,C)}),h.remoteSyncer.applyRemoteEvent(y)}(i,e)}catch(a){St(jo,"Failed to raise snapshot:",a),await xf(i,a)}}async function xf(i,t,e){if(!ou(t))throw t;i.da.add(1),await kc(i),i.Va.set("Offline"),e||(e=()=>Tb(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{St(jo,"Retrying IndexedDB access"),await e(),i.da.delete(1),await Wf(i)})}function Rb(i,t){return t().catch(e=>xf(i,e,t))}async function Jf(i){const t=Ft(i),e=Ya(t);let a=t.Ia.length>0?t.Ia[t.Ia.length-1].batchId:pg;for(;HL(t);)try{const l=await wL(t.localStore,a);if(l===null){t.Ia.length===0&&e.k_();break}a=l.batchId,qL(t,l)}catch(l){await xf(t,l)}Ib(t)&&Cb(t)}function HL(i){return Xo(i)&&i.Ia.length<10}function qL(i,t){i.Ia.push(t);const e=Ya(i);e.N_()&&e.ea&&e.ta(t.mutations)}function Ib(i){return Xo(i)&&!Ya(i).O_()&&i.Ia.length>0}function Cb(i){Ya(i).start()}async function jL(i){Ya(i).ia()}async function FL(i){const t=Ya(i);for(const e of i.Ia)t.ta(e.mutations)}async function GL(i,t,e){const a=i.Ia.shift(),l=wg.from(a,t,e);await Rb(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),await Jf(i)}async function ZL(i,t){t&&Ya(i).ea&&await async function(a,l){if(function(m){return CO(m)&&m!==dt.ABORTED}(l.code)){const h=a.Ia.shift();Ya(a).L_(),await Rb(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,l)),await Jf(a)}}(i,t),Ib(i)&&Cb(i)}async function _T(i,t){const e=Ft(i);e.asyncQueue.verifyOperationInProgress(),St(jo,"RemoteStore received new credentials");const a=Xo(e);e.da.add(3),await kc(e),a&&e.Va.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.da.delete(3),await Wf(e)}async function $L(i,t){const e=Ft(i);t?(e.da.delete(2),await Wf(e)):t||(e.da.add(2),await kc(e),e.Va.set("Unknown"))}function lu(i){return i.fa||(i.fa=function(e,a,l){const h=Ft(e);return h.oa(),new OL(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)}(i.datastore,i.asyncQueue,{e_:VL.bind(null,i),n_:zL.bind(null,i),i_:UL.bind(null,i),Y_:BL.bind(null,i)}),i.Aa.push(async t=>{t?(i.fa.L_(),Lg(i)?Og(i):i.Va.set("Unknown")):(await i.fa.stop(),Ab(i))})),i.fa}function Ya(i){return i.ga||(i.ga=function(e,a,l){const h=Ft(e);return h.oa(),new LL(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)}(i.datastore,i.asyncQueue,{e_:()=>Promise.resolve(),n_:jL.bind(null,i),i_:ZL.bind(null,i),na:FL.bind(null,i),ra:GL.bind(null,i)}),i.Aa.push(async t=>{t?(i.ga.L_(),await Jf(i)):(await i.ga.stop(),i.Ia.length>0&&(St(jo,`Stopping write stream with ${i.Ia.length} pending writes`),i.Ia=[]))})),i.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(t,e,a,l,h){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=a,this.op=l,this.removalCallback=h,this.deferred=new Vo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,a,l,h){const m=Date.now()+a,y=new Mg(t,e,m,l,h);return y.start(a),y}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ct(dt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dg(i,t){if(Ds("AsyncQueue",`${t}: ${i}`),ou(i))return new Ct(dt.UNAVAILABLE,`${t}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{static emptySet(t){return new Zl(t.comparator)}constructor(t){this.comparator=t?(e,a)=>t(e,a)||Mt.comparator(e.key,a.key):(e,a)=>Mt.comparator(e.key,a.key),this.keyedMap=rc(),this.sortedSet=new je(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,a)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Zl)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;e.hasNext();){const l=e.getNext().key,h=a.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const a=new Zl;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=e,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(){this.pa=new je(Mt.comparator)}track(t){const e=t.doc.key,a=this.pa.get(e);a?t.type!==0&&a.type===3?this.pa=this.pa.insert(e,t):t.type===3&&a.type!==1?this.pa=this.pa.insert(e,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.pa=this.pa.insert(e,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.pa=this.pa.insert(e,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.pa=this.pa.remove(e):t.type===1&&a.type===2?this.pa=this.pa.insert(e,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.pa=this.pa.insert(e,{type:2,doc:t.doc}):zt(63341,{Vt:t,ya:a}):this.pa=this.pa.insert(e,t)}wa(){const t=[];return this.pa.inorderTraversal((e,a)=>{t.push(a)}),t}}class Wl{constructor(t,e,a,l,h,m,y,v,T){this.query=t,this.docs=e,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=h,this.fromCache=m,this.syncStateChanged=y,this.excludesMetadataChanges=v,this.hasCachedResults=T}static fromInitialDocuments(t,e,a,l,h){const m=[];return e.forEach(y=>{m.push({type:0,doc:y})}),new Wl(t,e,Zl.emptySet(e),m,a,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Zf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,a=t.docChanges;if(e.length!==a.length)return!1;for(let l=0;l<e.length;l++)if(e[l].type!==a[l].type||!e[l].doc.isEqual(a[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(t=>t.va())}}class YL{constructor(){this.queries=vT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,a){const l=Ft(e),h=l.queries;l.queries=vT(),h.forEach((m,y)=>{for(const v of y.Sa)v.onError(a)})})(this,new Ct(dt.ABORTED,"Firestore shutting down"))}}function vT(){return new Yo(i=>Kw(i),Zf)}async function QL(i,t){const e=Ft(i);let a=3;const l=t.query;let h=e.queries.get(l);h?!h.Da()&&t.va()&&(a=2):(h=new KL,a=t.va()?0:1);try{switch(a){case 0:h.ba=await e.onListen(l,!0);break;case 1:h.ba=await e.onListen(l,!1);break;case 2:await e.onFirstRemoteStoreListen(l)}}catch(m){const y=Dg(m,`Initialization of query '${Ul(t.query)}' failed`);return void t.onError(y)}e.queries.set(l,h),h.Sa.push(t),t.Fa(e.onlineState),h.ba&&t.Ma(h.ba)&&Ng(e)}async function XL(i,t){const e=Ft(i),a=t.query;let l=3;const h=e.queries.get(a);if(h){const m=h.Sa.indexOf(t);m>=0&&(h.Sa.splice(m,1),h.Sa.length===0?l=t.va()?0:1:!h.Da()&&t.va()&&(l=2))}switch(l){case 0:return e.queries.delete(a),e.onUnlisten(a,!0);case 1:return e.queries.delete(a),e.onUnlisten(a,!1);case 2:return e.onLastRemoteStoreUnlisten(a);default:return}}function WL(i,t){const e=Ft(i);let a=!1;for(const l of t){const h=l.query,m=e.queries.get(h);if(m){for(const y of m.Sa)y.Ma(l)&&(a=!0);m.ba=l}}a&&Ng(e)}function JL(i,t,e){const a=Ft(i),l=a.queries.get(t);if(l)for(const h of l.Sa)h.onError(e);a.queries.delete(t)}function Ng(i){i.Ca.forEach(t=>{t.next()})}var Cp,TT;(TT=Cp||(Cp={})).xa="default",TT.Cache="cache";class tM{constructor(t,e,a){this.query=t,this.Oa=e,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=a||{}}Ma(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new Wl(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Na?this.La(t)&&(this.Oa.next(t),e=!0):this.ka(t,this.onlineState)&&(this.qa(t),e=!0),this.Ba=t,e}onError(t){this.Oa.error(t)}Fa(t){this.onlineState=t;let e=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,t)&&(this.qa(this.Ba),e=!0),e}ka(t,e){if(!t.fromCache||!this.va())return!0;const a=e!=="Offline";return(!this.options.Qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}La(t){if(t.docChanges.length>0)return!0;const e=this.Ba&&this.Ba.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}qa(t){t=Wl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Na=!0,this.Oa.next(t)}va(){return this.options.source!==Cp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(t){this.key=t}}class Pb{constructor(t){this.key=t}}class eM{constructor(t,e){this.query=t,this.Ha=e,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ie(),this.mutatedKeys=ie(),this.Za=Yw(t),this.Xa=new Zl(this.Za)}get eu(){return this.Ha}tu(t,e){const a=e?e.nu:new yT,l=e?e.Xa:this.Xa;let h=e?e.mutatedKeys:this.mutatedKeys,m=l,y=!1;const v=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,T=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((A,C)=>{const P=l.get(A),U=$f(this.query,C)?C:null,q=!!P&&this.mutatedKeys.has(P.key),G=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let $=!1;P&&U?P.data.isEqual(U.data)?q!==G&&(a.track({type:3,doc:U}),$=!0):this.ru(P,U)||(a.track({type:2,doc:U}),$=!0,(v&&this.Za(U,v)>0||T&&this.Za(U,T)<0)&&(y=!0)):!P&&U?(a.track({type:0,doc:U}),$=!0):P&&!U&&(a.track({type:1,doc:P}),$=!0,(v||T)&&(y=!0)),$&&(U?(m=m.add(U),h=G?h.add(A):h.delete(A)):(m=m.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;m.size>this.query.limit;){const A=this.query.limitType==="F"?m.last():m.first();m=m.delete(A.key),h=h.delete(A.key),a.track({type:1,doc:A})}return{Xa:m,nu:a,Cs:y,mutatedKeys:h}}ru(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,a,l){const h=this.Xa;this.Xa=t.Xa,this.mutatedKeys=t.mutatedKeys;const m=t.nu.wa();m.sort((A,C)=>function(U,q){const G=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return zt(20277,{Vt:$})}};return G(U)-G(q)}(A.type,C.type)||this.Za(A.doc,C.doc)),this.iu(a),l=l!=null&&l;const y=e&&!l?this.su():[],v=this.Ya.size===0&&this.current&&!l?1:0,T=v!==this.Ja;return this.Ja=v,m.length!==0||T?{snapshot:new Wl(this.query,t.Xa,h,m,t.mutatedKeys,v===0,T,!1,!!a&&a.resumeToken.approximateByteSize()>0),ou:y}:{ou:y}}Fa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new yT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(t){return!this.Ha.has(t)&&!!this.Xa.has(t)&&!this.Xa.get(t).hasLocalMutations}iu(t){t&&(t.addedDocuments.forEach(e=>this.Ha=this.Ha.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ha=this.Ha.delete(e)),this.current=t.current)}su(){if(!this.current)return[];const t=this.Ya;this.Ya=ie(),this.Xa.forEach(a=>{this._u(a.key)&&(this.Ya=this.Ya.add(a.key))});const e=[];return t.forEach(a=>{this.Ya.has(a)||e.push(new Pb(a))}),this.Ya.forEach(a=>{t.has(a)||e.push(new xb(a))}),e}au(t){this.Ha=t.$s,this.Ya=ie();const e=this.tu(t.documents);return this.applyChanges(e,!0)}uu(){return Wl.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const kg="SyncEngine";class nM{constructor(t,e,a){this.query=t,this.targetId=e,this.view=a}}class iM{constructor(t){this.key=t,this.cu=!1}}class rM{constructor(t,e,a,l,h,m){this.localStore=t,this.remoteStore=e,this.eventManager=a,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=m,this.lu={},this.hu=new Yo(y=>Kw(y),Zf),this.Pu=new Map,this.Tu=new Set,this.Iu=new je(Mt.comparator),this.Eu=new Map,this.du=new Ag,this.Au={},this.Ru=new Map,this.Vu=Xl.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function sM(i,t,e=!0){const a=kb(i);let l;const h=a.hu.get(t);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.uu()):l=await Ob(a,t,e,!0),l}async function aM(i,t){const e=kb(i);await Ob(e,t,!0,!1)}async function Ob(i,t,e,a){const l=await bL(i.localStore,$r(t)),h=l.targetId,m=i.sharedClientState.addLocalQueryTarget(h,e);let y;return a&&(y=await oM(i,t,h,m==="current",l.resumeToken)),i.isPrimaryClient&&e&&bb(i.remoteStore,l),y}async function oM(i,t,e,a,l){i.fu=(C,P,U)=>async function(G,$,et,J){let nt=$.view.tu(et);nt.Cs&&(nt=await fT(G.localStore,$.query,!1).then(({documents:V})=>$.view.tu(V,nt)));const gt=J&&J.targetChanges.get($.targetId),Tt=J&&J.targetMismatches.get($.targetId)!=null,xt=$.view.applyChanges(nt,G.isPrimaryClient,gt,Tt);return wT(G,$.targetId,xt.ou),xt.snapshot}(i,C,P,U);const h=await fT(i.localStore,t,!0),m=new eM(t,h.$s),y=m.tu(h.documents),v=Nc.createSynthesizedTargetChangeForCurrentChange(e,a&&i.onlineState!=="Offline",l),T=m.applyChanges(y,i.isPrimaryClient,v);wT(i,e,T.ou);const A=new nM(t,e,m);return i.hu.set(t,A),i.Pu.has(e)?i.Pu.get(e).push(t):i.Pu.set(e,[t]),T.snapshot}async function lM(i,t,e){const a=Ft(i),l=a.hu.get(t),h=a.Pu.get(l.targetId);if(h.length>1)return a.Pu.set(l.targetId,h.filter(m=>!Zf(m,t))),void a.hu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Rp(a.localStore,l.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(l.targetId),e&&xg(a.remoteStore,l.targetId),xp(a,l.targetId)}).catch(au)):(xp(a,l.targetId),await Rp(a.localStore,l.targetId,!0))}async function uM(i,t){const e=Ft(i),a=e.hu.get(t),l=e.Pu.get(a.targetId);e.isPrimaryClient&&l.length===1&&(e.sharedClientState.removeLocalQueryTarget(a.targetId),xg(e.remoteStore,a.targetId))}async function cM(i,t,e){const a=_M(i);try{const l=await function(m,y){const v=Ft(m),T=un.now(),A=y.reduce((U,q)=>U.add(q.key),ie());let C,P;return v.persistence.runTransaction("Locally write mutations","readwrite",U=>{let q=Ns(),G=ie();return v.Bs.getEntries(U,A).next($=>{q=$,q.forEach((et,J)=>{J.isValidDocument()||(G=G.add(et))})}).next(()=>v.localDocuments.getOverlayedDocuments(U,q)).next($=>{C=$;const et=[];for(const J of y){const nt=bO(J,C.get(J.key).overlayedDocument);nt!=null&&et.push(new Qo(J.key,nt,Bw(nt.value.mapValue),xs.exists(!0)))}return v.mutationQueue.addMutationBatch(U,T,et,y)}).next($=>{P=$;const et=$.applyToLocalDocumentSet(C,G);return v.documentOverlayCache.saveOverlays(U,$.batchId,et)})}).then(()=>({batchId:P.batchId,changes:Xw(C)}))}(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),function(m,y,v){let T=m.Au[m.currentUser.toKey()];T||(T=new je(Yt)),T=T.insert(y,v),m.Au[m.currentUser.toKey()]=T}(a,l.batchId,e),await Vc(a,l.changes),await Jf(a.remoteStore)}catch(l){const h=Dg(l,"Failed to persist write");e.reject(h)}}async function Lb(i,t){const e=Ft(i);try{const a=await TL(e.localStore,t);t.targetChanges.forEach((l,h)=>{const m=e.Eu.get(h);m&&(me(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?m.cu=!0:l.modifiedDocuments.size>0?me(m.cu,14607):l.removedDocuments.size>0&&(me(m.cu,42227),m.cu=!1))}),await Vc(e,a,t)}catch(a){await au(a)}}function ET(i,t,e){const a=Ft(i);if(a.isPrimaryClient&&e===0||!a.isPrimaryClient&&e===1){const l=[];a.hu.forEach((h,m)=>{const y=m.view.Fa(t);y.snapshot&&l.push(y.snapshot)}),function(m,y){const v=Ft(m);v.onlineState=y;let T=!1;v.queries.forEach((A,C)=>{for(const P of C.Sa)P.Fa(y)&&(T=!0)}),T&&Ng(v)}(a.eventManager,t),l.length&&a.lu.Y_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function hM(i,t,e){const a=Ft(i);a.sharedClientState.updateQueryState(t,"rejected",e);const l=a.Eu.get(t),h=l&&l.key;if(h){let m=new je(Mt.comparator);m=m.insert(h,Hn.newNoDocument(h,jt.min()));const y=ie().add(h),v=new Qf(jt.min(),new Map,new je(Yt),m,y);await Lb(a,v),a.Iu=a.Iu.remove(h),a.Eu.delete(t),Vg(a)}else await Rp(a.localStore,t,!1).then(()=>xp(a,t,e)).catch(au)}async function fM(i,t){const e=Ft(i),a=t.batch.batchId;try{const l=await vL(e.localStore,t);Db(e,a,null),Mb(e,a),e.sharedClientState.updateMutationState(a,"acknowledged"),await Vc(e,l)}catch(l){await au(l)}}async function dM(i,t,e){const a=Ft(i);try{const l=await function(m,y){const v=Ft(m);return v.persistence.runTransaction("Reject batch","readwrite-primary",T=>{let A;return v.mutationQueue.lookupMutationBatch(T,y).next(C=>(me(C!==null,37113),A=C.keys(),v.mutationQueue.removeMutationBatch(T,C))).next(()=>v.mutationQueue.performConsistencyCheck(T)).next(()=>v.documentOverlayCache.removeOverlaysForBatchId(T,A,y)).next(()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(T,A)).next(()=>v.localDocuments.getDocuments(T,A))})}(a.localStore,t);Db(a,t,e),Mb(a,t),a.sharedClientState.updateMutationState(t,"rejected",e),await Vc(a,l)}catch(l){await au(l)}}function Mb(i,t){(i.Ru.get(t)||[]).forEach(e=>{e.resolve()}),i.Ru.delete(t)}function Db(i,t,e){const a=Ft(i);let l=a.Au[a.currentUser.toKey()];if(l){const h=l.get(t);h&&(e?h.reject(e):h.resolve(),l=l.remove(t)),a.Au[a.currentUser.toKey()]=l}}function xp(i,t,e=null){i.sharedClientState.removeLocalQueryTarget(t);for(const a of i.Pu.get(t))i.hu.delete(a),e&&i.lu.gu(a,e);i.Pu.delete(t),i.isPrimaryClient&&i.du.Hr(t).forEach(a=>{i.du.containsKey(a)||Nb(i,a)})}function Nb(i,t){i.Tu.delete(t.path.canonicalString());const e=i.Iu.get(t);e!==null&&(xg(i.remoteStore,e),i.Iu=i.Iu.remove(t),i.Eu.delete(e),Vg(i))}function wT(i,t,e){for(const a of e)a instanceof xb?(i.du.addReference(a.key,t),mM(i,a)):a instanceof Pb?(St(kg,"Document no longer in limbo: "+a.key),i.du.removeReference(a.key,t),i.du.containsKey(a.key)||Nb(i,a.key)):zt(19791,{pu:a})}function mM(i,t){const e=t.key,a=e.path.canonicalString();i.Iu.get(e)||i.Tu.has(a)||(St(kg,"New document in limbo: "+e),i.Tu.add(a),Vg(i))}function Vg(i){for(;i.Tu.size>0&&i.Iu.size<i.maxConcurrentLimboResolutions;){const t=i.Tu.values().next().value;i.Tu.delete(t);const e=new Mt(ke.fromString(t)),a=i.Vu.next();i.Eu.set(a,new iM(e)),i.Iu=i.Iu.insert(e,a),bb(i.remoteStore,new Va($r(Tg(e.path)),a,"TargetPurposeLimboResolution",jf.le))}}async function Vc(i,t,e){const a=Ft(i),l=[],h=[],m=[];a.hu.isEmpty()||(a.hu.forEach((y,v)=>{m.push(a.fu(v,t,e).then(T=>{var A;if((T||e)&&a.isPrimaryClient){const C=T?!T.fromCache:(A=e==null?void 0:e.targetChanges.get(v.targetId))===null||A===void 0?void 0:A.current;a.sharedClientState.updateQueryState(v.targetId,C?"current":"not-current")}if(T){l.push(T);const C=Ig.Rs(v.targetId,T);h.push(C)}}))}),await Promise.all(m),a.lu.Y_(l),await async function(v,T){const A=Ft(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>ht.forEach(T,P=>ht.forEach(P.ds,U=>A.persistence.referenceDelegate.addReference(C,P.targetId,U)).next(()=>ht.forEach(P.As,U=>A.persistence.referenceDelegate.removeReference(C,P.targetId,U)))))}catch(C){if(!ou(C))throw C;St(Cg,"Failed to update sequence numbers: "+C)}for(const C of T){const P=C.targetId;if(!C.fromCache){const U=A.xs.get(P),q=U.snapshotVersion,G=U.withLastLimboFreeSnapshotVersion(q);A.xs=A.xs.insert(P,G)}}}(a.localStore,h))}async function pM(i,t){const e=Ft(i);if(!e.currentUser.isEqual(t)){St(kg,"User change. New user:",t.toKey());const a=await vb(e.localStore,t);e.currentUser=t,function(h,m){h.Ru.forEach(y=>{y.forEach(v=>{v.reject(new Ct(dt.CANCELLED,m))})}),h.Ru.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Vc(e,a.ks)}}function gM(i,t){const e=Ft(i),a=e.Eu.get(t);if(a&&a.cu)return ie().add(a.key);{let l=ie();const h=e.Pu.get(t);if(!h)return l;for(const m of h){const y=e.hu.get(m);l=l.unionWith(y.view.eu)}return l}}function kb(i){const t=Ft(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=Lb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=gM.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=hM.bind(null,t),t.lu.Y_=WL.bind(null,t.eventManager),t.lu.gu=JL.bind(null,t.eventManager),t}function _M(i){const t=Ft(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=fM.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=dM.bind(null,t),t}class Pf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Xf(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),await this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)}vu(t,e){return null}Cu(t,e){return null}Du(t){return yL(this.persistence,new pL,t.initialUser,this.serializer)}Su(t){return new yb(Rg.fi,this.serializer)}bu(t){return new AL}async terminate(){var t,e;(t=this.gcScheduler)===null||t===void 0||t.stop(),(e=this.indexBackfillerScheduler)===null||e===void 0||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pf.provider={build:()=>new Pf};class yM extends Pf{constructor(t){super(),this.cacheSizeBytes=t}vu(t,e){me(this.persistence.referenceDelegate instanceof Cf,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new tL(a,t.asyncQueue,e)}Su(t){const e=this.cacheSizeBytes!==void 0?ai.withCacheSize(this.cacheSizeBytes):ai.DEFAULT;return new yb(a=>Cf.fi(a,e),this.serializer)}}class Pp{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>ET(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=pM.bind(null,this.syncEngine),await $L(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new YL}()}createDatastore(t){const e=Xf(t.databaseInfo.databaseId),a=function(h){return new PL(h)}(t.databaseInfo);return function(h,m,y,v){return new DL(h,m,y,v)}(t.authCredentials,t.appCheckCredentials,a,e)}createRemoteStore(t){return function(a,l,h,m,y){return new kL(a,l,h,m,y)}(this.localStore,this.datastore,t.asyncQueue,e=>ET(this.syncEngine,e,0),function(){return pT.C()?new pT:new RL}())}createSyncEngine(t,e){return function(l,h,m,y,v,T,A){const C=new rM(l,h,m,y,v,T);return A&&(C.mu=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await async function(l){const h=Ft(l);St(jo,"RemoteStore shutting down."),h.da.add(5),await kc(h),h.Ra.shutdown(),h.Va.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(e=this.eventManager)===null||e===void 0||e.terminate()}}Pp.provider={build:()=>new Pp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Mu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Mu(this.observer.error,t):Ds("Uncaught Error in snapshot listener:",t.toString()))}xu(){this.muted=!0}Mu(t,e){setTimeout(()=>{this.muted||t(e)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa="FirestoreClient";class TM{constructor(t,e,a,l,h){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=a,this.databaseInfo=l,this.user=Bn.UNAUTHENTICATED,this.clientId=Pw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async m=>{St(Qa,"Received user=",m.uid),await this.authCredentialListener(m),this.user=m}),this.appCheckCredentials.start(a,m=>(St(Qa,"Received new app check token=",m),this.appCheckCredentialListener(m,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Vo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const a=Dg(e,"Failed to shutdown persistence");t.reject(a)}}),t.promise}}async function np(i,t){i.asyncQueue.verifyOperationInProgress(),St(Qa,"Initializing OfflineComponentProvider");const e=i.configuration;await t.initialize(e);let a=e.initialUser;i.setCredentialChangeListener(async l=>{a.isEqual(l)||(await vb(t.localStore,l),a=l)}),t.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=t}async function bT(i,t){i.asyncQueue.verifyOperationInProgress();const e=await EM(i);St(Qa,"Initializing OnlineComponentProvider"),await t.initialize(e,i.configuration),i.setCredentialChangeListener(a=>_T(t.remoteStore,a)),i.setAppCheckTokenChangeListener((a,l)=>_T(t.remoteStore,l)),i._onlineComponents=t}async function EM(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){St(Qa,"Using user provided OfflineComponentProvider");try{await np(i,i._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!function(l){return l.name==="FirebaseError"?l.code===dt.FAILED_PRECONDITION||l.code===dt.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(e))throw e;$l("Error using user provided cache. Falling back to memory cache: "+e),await np(i,new Pf)}}else St(Qa,"Using default OfflineComponentProvider"),await np(i,new yM(void 0));return i._offlineComponents}async function Vb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(St(Qa,"Using user provided OnlineComponentProvider"),await bT(i,i._uninitializedComponentsProvider._online)):(St(Qa,"Using default OnlineComponentProvider"),await bT(i,new Pp))),i._onlineComponents}function wM(i){return Vb(i).then(t=>t.syncEngine)}async function ST(i){const t=await Vb(i),e=t.eventManager;return e.onListen=sM.bind(null,t.syncEngine),e.onUnlisten=lM.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=aM.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=uM.bind(null,t.syncEngine),e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(i){const t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(i,t,e){if(!e)throw new Ct(dt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function bM(i,t,e,a){if(t===!0&&a===!0)throw new Ct(dt.INVALID_ARGUMENT,`${i} and ${e} cannot be used together.`)}function RT(i){if(!Mt.isDocumentKey(i))throw new Ct(dt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function IT(i){if(Mt.isDocumentKey(i))throw new Ct(dt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function td(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const t=function(a){return a.constructor?a.constructor.name:null}(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":zt(12329,{type:typeof i})}function mc(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new Ct(dt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=td(i);throw new Ct(dt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="firestore.googleapis.com",CT=!0;class xT{constructor(t){var e,a;if(t.host===void 0){if(t.ssl!==void 0)throw new Ct(dt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Bb,this.ssl=CT}else this.host=t.host,this.ssl=(e=t.ssl)!==null&&e!==void 0?e:CT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=_b;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<WO)throw new Ct(dt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}bM("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zb((a=t.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new Ct(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new Ct(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new Ct(dt.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(a,l){return a.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ed{constructor(t,e,a,l){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ct(dt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new Ct(dt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new xP;switch(a.type){case"firstParty":return new MP(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Ct(dt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const a=AT.get(e);a&&(St("ComponentProvider","Removing Datastore"),AT.delete(e),a.terminate())}(this),Promise.resolve()}}function SM(i,t,e,a={}){var l;i=mc(i,ed);const h=nu(t),m=i._getSettings(),y=Object.assign(Object.assign({},m),{emulatorOptions:i._getEmulatorOptions()}),v=`${t}:${e}`;h&&(fE(`https://${v}`),dE("Firestore",!0)),m.host!==Bb&&m.host!==v&&$l("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const T=Object.assign(Object.assign({},m),{host:v,ssl:h,emulatorOptions:a});if(!ja(T,y)&&(i._setSettings(T),a.mockUserToken)){let A,C;if(typeof a.mockUserToken=="string")A=a.mockUserToken,C=Bn.MOCK_USER;else{A=DR(a.mockUserToken,(l=i._app)===null||l===void 0?void 0:l.options.projectId);const P=a.mockUserToken.sub||a.mockUserToken.user_id;if(!P)throw new Ct(dt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new Bn(P)}i._authCredentials=new PP(new Cw(A,C))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(t,e,a){this.converter=e,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new uu(this.firestore,t,this._query)}}class Oi{constructor(t,e,a){this.converter=e,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Oi(this.firestore,t,this._key)}}class qa extends uu{constructor(t,e,a){super(t,e,Tg(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Oi(this.firestore,null,new Mt(t))}withConverter(t){return new qa(this.firestore,t,this._path)}}function Op(i,t,...e){if(i=jn(i),Ub("collection","path",t),i instanceof ed){const a=ke.fromString(t,...e);return IT(a),new qa(i,null,a)}{if(!(i instanceof Oi||i instanceof qa))throw new Ct(dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(ke.fromString(t,...e));return IT(a),new qa(i.firestore,null,a)}}function AM(i,t,...e){if(i=jn(i),arguments.length===1&&(t=Pw.newId()),Ub("doc","path",t),i instanceof ed){const a=ke.fromString(t,...e);return RT(a),new Oi(i,null,new Mt(a))}{if(!(i instanceof Oi||i instanceof qa))throw new Ct(dt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=i._path.child(ke.fromString(t,...e));return RT(a),new Oi(i.firestore,i instanceof qa?i.converter:null,new Mt(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="AsyncQueue";class OT{constructor(t=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new Eb(this,"async_queue_retry"),this.rc=()=>{const a=ep();a&&St(PT,"Visibility state changed to "+a.visibilityState),this.x_.b_()},this.sc=t;const e=ep();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.oc(),this._c(t)}enterRestrictedMode(t){if(!this.Yu){this.Yu=!0,this.tc=t||!1;const e=ep();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.rc)}}enqueue(t){if(this.oc(),this.Yu)return new Promise(()=>{});const e=new Vo;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ju.push(t),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(t){if(!ou(t))throw t;St(PT,"Operation failed with retryable error: "+t)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(t){const e=this.sc.then(()=>(this.ec=!0,t().catch(a=>{throw this.Xu=a,this.ec=!1,Ds("INTERNAL UNHANDLED ERROR: ",LT(a)),a}).then(a=>(this.ec=!1,a))));return this.sc=e,e}enqueueAfterDelay(t,e,a){this.oc(),this.nc.indexOf(t)>-1&&(e=0);const l=Mg.createAndSchedule(this,t,e,a,h=>this.uc(h));return this.Zu.push(l),l}oc(){this.Xu&&zt(47125,{cc:LT(this.Xu)})}verifyOperationInProgress(){}async lc(){let t;do t=this.sc,await t;while(t!==this.sc)}hc(t){for(const e of this.Zu)if(e.timerId===t)return!0;return!1}Pc(t){return this.lc().then(()=>{this.Zu.sort((e,a)=>e.targetTimeMs-a.targetTimeMs);for(const e of this.Zu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.lc()})}Tc(t){this.nc.push(t)}uc(t){const e=this.Zu.indexOf(t);this.Zu.splice(e,1)}}function LT(i){let t=i.message||"";return i.stack&&(t=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MT(i){return function(e,a){if(typeof e!="object"||e===null)return!1;const l=e;for(const h of a)if(h in l&&typeof l[h]=="function")return!0;return!1}(i,["next","error","complete"])}class Of extends ed{constructor(t,e,a,l){super(t,e,a,l),this.type="firestore",this._queue=new OT,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new OT(t),this._firestoreClient=void 0,await t}}}function RM(i,t){const e=typeof i=="object"?i:tg(),a=typeof i=="string"?i:Ef,l=$o(e,"firestore").getImmediate({identifier:a});if(!l._initialized){const h=LR("firestore");h&&SM(l,...h)}return l}function Hb(i){if(i._terminated)throw new Ct(dt.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||IM(i),i._firestoreClient}function IM(i){var t,e,a;const l=i._freezeSettings(),h=function(y,v,T,A){return new KP(y,v,T,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,zb(A.experimentalLongPollingOptions),A.useFetchStreams,A.isUsingEmulator)}(i._databaseId,((t=i._app)===null||t===void 0?void 0:t.options.appId)||"",i._persistenceKey,l);i._componentsProvider||!((e=l.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((a=l.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(i._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),i._firestoreClient=new TM(i._authCredentials,i._appCheckCredentials,i._queue,h,i._componentsProvider&&function(y){const v=y==null?void 0:y._online.build();return{_offline:y==null?void 0:y._offline.build(v),_online:v}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Jl(xn.fromBase64String(t))}catch(e){throw new Ct(dt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Jl(xn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new Ct(dt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Cn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ct(dt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ct(dt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Yt(this._lat,t._lat)||Yt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bg{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(a,l){if(a.length!==l.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==l[h])return!1;return!0}(this._values,t._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM=/^__.*__$/;class xM{constructor(t,e,a){this.data=t,this.fieldMask=e,this.fieldTransforms=a}toMutation(t,e){return this.fieldMask!==null?new Qo(t,this.data,this.fieldMask,e,this.fieldTransforms):new Dc(t,this.data,e,this.fieldTransforms)}}function jb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw zt(40011,{Ic:i})}}class Hg{constructor(t,e,a,l,h,m){this.settings=t,this.databaseId=e,this.serializer=a,this.ignoreUndefinedProperties=l,h===void 0&&this.Ec(),this.fieldTransforms=h||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(t){return new Hg(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(t){var e;const a=(e=this.path)===null||e===void 0?void 0:e.child(t),l=this.dc({path:a,Rc:!1});return l.Vc(t),l}mc(t){var e;const a=(e=this.path)===null||e===void 0?void 0:e.child(t),l=this.dc({path:a,Rc:!1});return l.Ec(),l}fc(t){return this.dc({path:void 0,Rc:!0})}gc(t){return Lf(t,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}Ec(){if(this.path)for(let t=0;t<this.path.length;t++)this.Vc(this.path.get(t))}Vc(t){if(t.length===0)throw this.gc("Document fields must not be empty");if(jb(this.Ic)&&CM.test(t))throw this.gc('Document fields cannot begin and end with "__"')}}class PM{constructor(t,e,a){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=a||Xf(t)}bc(t,e,a,l=!1){return new Hg({Ic:t,methodName:e,wc:a,path:Cn.emptyPath(),Rc:!1,yc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Fb(i){const t=i._freezeSettings(),e=Xf(i._databaseId);return new PM(i._databaseId,!!t.ignoreUndefinedProperties,e)}function OM(i,t,e,a,l,h={}){const m=i.bc(h.merge||h.mergeFields?2:0,t,e,l);$b("Data must be an object, but it was:",m,a);const y=Gb(a,m);let v,T;if(h.merge)v=new Er(m.fieldMask),T=m.fieldTransforms;else if(h.mergeFields){const A=[];for(const C of h.mergeFields){const P=MM(t,C,e);if(!m.contains(P))throw new Ct(dt.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);NM(A,P)||A.push(P)}v=new Er(A),T=m.fieldTransforms.filter(C=>v.covers(C.field))}else v=null,T=m.fieldTransforms;return new xM(new Wi(y),v,T)}function LM(i,t,e,a=!1){return qg(e,i.bc(a?4:3,t))}function qg(i,t){if(Zb(i=jn(i)))return $b("Unsupported field value:",t,i),Gb(i,t);if(i instanceof qb)return function(a,l){if(!jb(l.Ic))throw l.gc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.gc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(l);h&&l.fieldTransforms.push(h)}(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.Rc&&t.Ic!==4)throw t.gc("Nested arrays are not supported");return function(a,l){const h=[];let m=0;for(const y of a){let v=qg(y,l.fc(m));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),m++}return{arrayValue:{values:h}}}(i,t)}return function(a,l){if((a=jn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return _O(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=un.fromDate(a);return{timestampValue:If(l.serializer,h)}}if(a instanceof un){const h=new un(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:If(l.serializer,h)}}if(a instanceof Ug)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Jl)return{bytesValue:cb(l.serializer,a._byteString)};if(a instanceof Oi){const h=l.databaseId,m=a.firestore._databaseId;if(!m.isEqual(h))throw l.gc(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Sg(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Bg)return function(m,y){return{mapValue:{fields:{[zw]:{stringValue:Uw},[wf]:{arrayValue:{values:m.toArray().map(T=>{if(typeof T!="number")throw y.gc("VectorValues must only contain numeric values.");return Eg(y.serializer,T)})}}}}}}(a,l);throw l.gc(`Unsupported field value: ${td(a)}`)}(i,t)}function Gb(i,t){const e={};return Lw(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ko(i,(a,l)=>{const h=qg(l,t.Ac(a));h!=null&&(e[a]=h)}),{mapValue:{fields:e}}}function Zb(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof un||i instanceof Ug||i instanceof Jl||i instanceof Oi||i instanceof qb||i instanceof Bg)}function $b(i,t,e){if(!Zb(e)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(e)){const a=td(e);throw a==="an object"?t.gc(i+" a custom object"):t.gc(i+" "+a)}}function MM(i,t,e){if((t=jn(t))instanceof zg)return t._internalPath;if(typeof t=="string")return Kb(i,t);throw Lf("Field path arguments must be of type string or ",i,!1,void 0,e)}const DM=new RegExp("[~\\*/\\[\\]]");function Kb(i,t,e){if(t.search(DM)>=0)throw Lf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,e);try{return new zg(...t.split("."))._internalPath}catch{throw Lf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,e)}}function Lf(i,t,e,a,l){const h=a&&!a.isEmpty(),m=l!==void 0;let y=`Function ${t}() called with invalid data`;e&&(y+=" (via `toFirestore()`)"),y+=". ";let v="";return(h||m)&&(v+=" (found",h&&(v+=` in field ${a}`),m&&(v+=` in document ${l}`),v+=")"),new Ct(dt.INVALID_ARGUMENT,y+i+v)}function NM(i,t){return i.some(e=>e.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(t,e,a,l,h){this._firestore=t,this._userDataWriter=e,this._key=a,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Oi(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new kM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Qb("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class kM extends Yb{data(){return super.data()}}function Qb(i,t){return typeof t=="string"?Kb(i,t):t instanceof zg?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new Ct(dt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jg{}class zM extends jg{}function Xb(i,t,...e){let a=[];t instanceof jg&&a.push(t),a=a.concat(e),function(h){const m=h.filter(v=>v instanceof Gg).length,y=h.filter(v=>v instanceof Fg).length;if(m>1||m>0&&y>0)throw new Ct(dt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const l of a)i=l._apply(i);return i}class Fg extends zM{constructor(t,e,a){super(),this._field=t,this._op=e,this._value=a,this.type="where"}static _create(t,e,a){return new Fg(t,e,a)}_apply(t){const e=this._parse(t);return Wb(t._query,e),new uu(t.firestore,t.converter,Tp(t._query,e))}_parse(t){const e=Fb(t.firestore);return function(h,m,y,v,T,A,C){let P;if(T.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new Ct(dt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){NT(C,A);const q=[];for(const G of C)q.push(DT(v,h,G));P={arrayValue:{values:q}}}else P=DT(v,h,C)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||NT(C,A),P=LM(y,m,C,A==="in"||A==="not-in");return rn.create(T,A,P)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class Gg extends jg{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Gg(t,e)}_parse(t){const e=this._queryConstraints.map(a=>a._parse(t)).filter(a=>a.getFilters().length>0);return e.length===1?e[0]:br.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:(function(l,h){let m=l;const y=h.getFlattenedFilters();for(const v of y)Wb(m,v),m=Tp(m,v)}(t._query,e),new uu(t.firestore,t.converter,Tp(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function DT(i,t,e){if(typeof(e=jn(e))=="string"){if(e==="")throw new Ct(dt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$w(t)&&e.indexOf("/")!==-1)throw new Ct(dt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const a=t.path.child(ke.fromString(e));if(!Mt.isDocumentKey(a))throw new Ct(dt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return $0(i,new Mt(a))}if(e instanceof Oi)return $0(i,e._key);throw new Ct(dt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${td(e)}.`)}function NT(i,t){if(!Array.isArray(i)||i.length===0)throw new Ct(dt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Wb(i,t){const e=function(l,h){for(const m of l)for(const y of m.getFlattenedFilters())if(h.indexOf(y.op)>=0)return y.op;return null}(i.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(e!==null)throw e===t.op?new Ct(dt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Ct(dt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class UM{convertValue(t,e="none"){switch(Ka(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Xe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes($a(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw zt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const a={};return Ko(t,(l,h)=>{a[l]=this.convertValue(h,e)}),a}convertVectorValue(t){var e,a,l;const h=(l=(a=(e=t.fields)===null||e===void 0?void 0:e[wf].arrayValue)===null||a===void 0?void 0:a.values)===null||l===void 0?void 0:l.map(m=>Xe(m.doubleValue));return new Bg(h)}convertGeoPoint(t){return new Ug(Xe(t.latitude),Xe(t.longitude))}convertArray(t,e){return(t.values||[]).map(a=>this.convertValue(a,e))}convertServerTimestamp(t,e){switch(e){case"previous":const a=Gf(t);return a==null?null:this.convertValue(a,e);case"estimate":return this.convertTimestamp(vc(t));default:return null}}convertTimestamp(t){const e=Za(t);return new un(e.seconds,e.nanos)}convertDocumentKey(t,e){const a=ke.fromString(t);me(gb(a),9688,{name:t});const l=new Tc(a.get(1),a.get(3)),h=new Mt(a.popFirst(5));return l.isEqual(e)||Ds(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(i,t,e){let a;return a=i?i.toFirestore(t):t,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Jb extends Yb{constructor(t,e,a,l,h,m){super(t,e,a,l,m),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new lf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const a=this._document.data.field(Qb("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,e.serverTimestamps)}}}class lf extends Jb{data(t={}){return super.data(t)}}class HM{constructor(t,e,a,l){this._firestore=t,this._userDataWriter=e,this._snapshot=l,this.metadata=new ac(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(a=>{t.call(e,new lf(this._firestore,this._userDataWriter,a.key,a,new ac(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ct(dt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(l,h){if(l._snapshot.oldDocs.isEmpty()){let m=0;return l._snapshot.docChanges.map(y=>{const v=new lf(l._firestore,l._userDataWriter,y.doc.key,y.doc,new ac(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);return y.doc,{type:"added",doc:v,oldIndex:-1,newIndex:m++}})}{let m=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(y=>h||y.type!==3).map(y=>{const v=new lf(l._firestore,l._userDataWriter,y.doc.key,y.doc,new ac(l._snapshot.mutatedKeys.has(y.doc.key),l._snapshot.fromCache),l.query.converter);let T=-1,A=-1;return y.type!==0&&(T=m.indexOf(y.doc.key),m=m.delete(y.doc.key)),y.type!==1&&(m=m.add(y.doc),A=m.indexOf(y.doc.key)),{type:qM(y.type),doc:v,oldIndex:T,newIndex:A}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function qM(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return zt(61501,{type:i})}}class t1 extends UM{constructor(t){super(),this.firestore=t}convertBytes(t){return new Jl(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Oi(this.firestore,null,e)}}function jM(i,t){const e=mc(i.firestore,Of),a=AM(i),l=BM(i.converter,t);return FM(e,[OM(Fb(i.firestore),"addDoc",a._key,l,i.converter!==null,{}).toMutation(a._key,xs.exists(!1))]).then(()=>a)}function e1(i,...t){var e,a,l;i=jn(i);let h={includeMetadataChanges:!1,source:"default"},m=0;typeof t[m]!="object"||MT(t[m])||(h=t[m],m++);const y={includeMetadataChanges:h.includeMetadataChanges,source:h.source};if(MT(t[m])){const C=t[m];t[m]=(e=C.next)===null||e===void 0?void 0:e.bind(C),t[m+1]=(a=C.error)===null||a===void 0?void 0:a.bind(C),t[m+2]=(l=C.complete)===null||l===void 0?void 0:l.bind(C)}let v,T,A;if(i instanceof Oi)T=mc(i.firestore,Of),A=Tg(i._key.path),v={next:C=>{t[m]&&t[m](GM(T,i,C))},error:t[m+1],complete:t[m+2]};else{const C=mc(i,uu);T=mc(C.firestore,Of),A=C._query;const P=new t1(T);v={next:U=>{t[m]&&t[m](new HM(T,P,C,U))},error:t[m+1],complete:t[m+2]},VM(i._query)}return function(P,U,q,G){const $=new vM(G),et=new tM(U,$,q);return P.asyncQueue.enqueueAndForget(async()=>QL(await ST(P),et)),()=>{$.xu(),P.asyncQueue.enqueueAndForget(async()=>XL(await ST(P),et))}}(Hb(T),A,y,v)}function FM(i,t){return function(a,l){const h=new Vo;return a.asyncQueue.enqueueAndForget(async()=>cM(await wM(a),l,h)),h.promise}(Hb(i),t)}function GM(i,t,e){const a=e.docs.get(t._key),l=new t1(i);return new Jb(i,l,t._key,a,new ac(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(l){su=l})(iu),Qr(new wr("firestore",(a,{instanceIdentifier:l,options:h})=>{const m=a.getProvider("app").getImmediate(),y=new Of(new OP(a.getProvider("auth-internal")),new DP(m,a.getProvider("app-check-internal")),function(T,A){if(!Object.prototype.hasOwnProperty.apply(T.options,["projectId"]))throw new Ct(dt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tc(T.options.projectId,A)}(m,l),m);return h=Object.assign({useFetchStreams:e},h),y._setSettings(h),y},"PUBLIC").setMultipleInstances(!0)),Ji(N0,k0,t),Ji(N0,k0,"esm2017")})();const ZM={apiKey:"AIzaSyB34vwxqdgDvGctHQfEfrBJSk04a1rzQgg",authDomain:"tapasradar.firebaseapp.com",projectId:"tapasradar",storageBucket:"tapasradar.appspot.com",messagingSenderId:"164963298374",appId:"1:164963298374:web:5e29f30e084ede3ecdae47",measurementId:"G-0GS8PM4XGB"},Zg=yE(ZM);Rx().then(i=>{i&&Sx(Zg)});const kT=IP(Zg),Lp=RM(Zg);delete rE.Icon.Default.prototype._getIconUrl;rE.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.9.3/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.9.3/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.9.3/dist/images/marker-shadow.png"});const $M=[40.4168,-3.7038],KM=()=>{const[i,t]=Q.useState([]),[e,a]=Q.useState(!0);return Q.useEffect(()=>{const l=Xb(Op(Lp,"bars")),h=e1(l,m=>{const y=m.docs.map(v=>{const T=v.data();return{id:v.id,nom:T.nom,lat:Number(T.lat),lng:Number(T.lng)}});console.log("Bars récupérés :",y),t(y),a(!1)});return()=>h()},[]),$t.jsxs("div",{className:"container",children:[$t.jsx("h2",{className:"title",children:"Mapa de bares en Madrid"}),$t.jsx("div",{className:"map",children:$t.jsxs(TR,{center:$M,zoom:13,style:{height:"100%",width:"100%"},children:[$t.jsx(bR,{attribution:'© <a href="https://openstreetmap.org/copyright">OpenStreetMap</a>',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),!e&&i.map(l=>$t.jsx(ER,{position:[l.lat,l.lng],children:$t.jsx(wR,{children:l.nom})},l.id))]})}),$t.jsx(Gp,{to:"/",className:"back-link",children:"Volver al inicio"})]})},YM=()=>{const[i,t]=Q.useState([]),[e,a]=Q.useState(!0);return Q.useEffect(()=>{const h=Xb(Op(Lp,"bars")),m=e1(h,y=>{const v=y.docs.map(T=>({id:T.id,...T.data()}));console.log("Bars récupérés :",v),t(v),a(!1)});return()=>m()},[]),{bars:i,ajouterBar:async h=>{await jM(Op(Lp,"bars"),h)},loading:e}};function n1(i){var t,e,a="";if(typeof i=="string"||typeof i=="number")a+=i;else if(typeof i=="object")if(Array.isArray(i)){var l=i.length;for(t=0;t<l;t++)i[t]&&(e=n1(i[t]))&&(a&&(a+=" "),a+=e)}else for(e in i)i[e]&&(a&&(a+=" "),a+=e);return a}function zo(){for(var i,t,e=0,a="",l=arguments.length;e<l;e++)(i=arguments[e])&&(t=n1(i))&&(a&&(a+=" "),a+=t);return a}function QM(i){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",t.firstChild?t.insertBefore(e,t.firstChild):t.appendChild(e),e.styleSheet?e.styleSheet.cssText=i:e.appendChild(document.createTextNode(i))}QM(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var zc=i=>typeof i=="number"&&!isNaN(i),Fo=i=>typeof i=="string",ks=i=>typeof i=="function",XM=i=>Fo(i)||zc(i),Mp=i=>Fo(i)||ks(i)?i:null,WM=(i,t)=>i===!1||zc(i)&&i>0?i:t,Dp=i=>Q.isValidElement(i)||Fo(i)||ks(i)||zc(i);function JM(i,t,e=300){let{scrollHeight:a,style:l}=i;requestAnimationFrame(()=>{l.minHeight="initial",l.height=a+"px",l.transition=`all ${e}ms`,requestAnimationFrame(()=>{l.height="0",l.padding="0",l.margin="0",setTimeout(t,e)})})}function tD({enter:i,exit:t,appendPosition:e=!1,collapse:a=!0,collapseDuration:l=300}){return function({children:h,position:m,preventExitTransition:y,done:v,nodeRef:T,isIn:A,playToast:C}){let P=e?`${i}--${m}`:i,U=e?`${t}--${m}`:t,q=Q.useRef(0);return Q.useLayoutEffect(()=>{let G=T.current,$=P.split(" "),et=J=>{J.target===T.current&&(C(),G.removeEventListener("animationend",et),G.removeEventListener("animationcancel",et),q.current===0&&J.type!=="animationcancel"&&G.classList.remove(...$))};G.classList.add(...$),G.addEventListener("animationend",et),G.addEventListener("animationcancel",et)},[]),Q.useEffect(()=>{let G=T.current,$=()=>{G.removeEventListener("animationend",$),a?JM(G,v,l):v()};A||(y?$():(q.current=1,G.className+=` ${U}`,G.addEventListener("animationend",$)))},[A]),Te.createElement(Te.Fragment,null,h)}}function VT(i,t){return{content:i1(i.content,i.props),containerId:i.props.containerId,id:i.props.toastId,theme:i.props.theme,type:i.props.type,data:i.props.data||{},isLoading:i.props.isLoading,icon:i.props.icon,reason:i.removalReason,status:t}}function i1(i,t,e=!1){return Q.isValidElement(i)&&!Fo(i.type)?Q.cloneElement(i,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:e}):ks(i)?i({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:e}):i}function eD({closeToast:i,theme:t,ariaLabel:e="close"}){return Te.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:a=>{a.stopPropagation(),i(!0)},"aria-label":e},Te.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Te.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function nD({delay:i,isRunning:t,closeToast:e,type:a="default",hide:l,className:h,controlledProgress:m,progress:y,rtl:v,isIn:T,theme:A}){let C=l||m&&y===0,P={animationDuration:`${i}ms`,animationPlayState:t?"running":"paused"};m&&(P.transform=`scaleX(${y})`);let U=zo("Toastify__progress-bar",m?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${A}`,`Toastify__progress-bar--${a}`,{"Toastify__progress-bar--rtl":v}),q=ks(h)?h({rtl:v,type:a,defaultClassName:U}):zo(U,h),G={[m&&y>=1?"onTransitionEnd":"onAnimationEnd"]:m&&y<1?null:()=>{T&&e()}};return Te.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":C},Te.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${A} Toastify__progress-bar--${a}`}),Te.createElement("div",{role:"progressbar","aria-hidden":C?"true":"false","aria-label":"notification timer",className:q,style:P,...G}))}var iD=1,r1=()=>`${iD++}`;function rD(i,t,e){let a=1,l=0,h=[],m=[],y=t,v=new Map,T=new Set,A=J=>(T.add(J),()=>T.delete(J)),C=()=>{m=Array.from(v.values()),T.forEach(J=>J())},P=({containerId:J,toastId:nt,updateId:gt})=>{let Tt=J?J!==i:i!==1,xt=v.has(nt)&&gt==null;return Tt||xt},U=(J,nt)=>{v.forEach(gt=>{var Tt;(nt==null||nt===gt.props.toastId)&&((Tt=gt.toggle)==null||Tt.call(gt,J))})},q=J=>{var nt,gt;(gt=(nt=J.props)==null?void 0:nt.onClose)==null||gt.call(nt,J.removalReason),J.isActive=!1},G=J=>{if(J==null)v.forEach(q);else{let nt=v.get(J);nt&&q(nt)}C()},$=()=>{l-=h.length,h=[]},et=J=>{var nt,gt;let{toastId:Tt,updateId:xt}=J.props,V=xt==null;J.staleId&&v.delete(J.staleId),J.isActive=!0,v.set(Tt,J),C(),e(VT(J,V?"added":"updated")),V&&((gt=(nt=J.props).onOpen)==null||gt.call(nt))};return{id:i,props:y,observe:A,toggle:U,removeToast:G,toasts:v,clearQueue:$,buildToast:(J,nt)=>{if(P(nt))return;let{toastId:gt,updateId:Tt,data:xt,staleId:V,delay:O}=nt,M=Tt==null;M&&l++;let B={...y,style:y.toastStyle,key:a++,...Object.fromEntries(Object.entries(nt).filter(([F,z])=>z!=null)),toastId:gt,updateId:Tt,data:xt,isIn:!1,className:Mp(nt.className||y.toastClassName),progressClassName:Mp(nt.progressClassName||y.progressClassName),autoClose:nt.isLoading?!1:WM(nt.autoClose,y.autoClose),closeToast(F){v.get(gt).removalReason=F,G(gt)},deleteToast(){let F=v.get(gt);if(F!=null){if(e(VT(F,"removed")),v.delete(gt),l--,l<0&&(l=0),h.length>0){et(h.shift());return}C()}}};B.closeButton=y.closeButton,nt.closeButton===!1||Dp(nt.closeButton)?B.closeButton=nt.closeButton:nt.closeButton===!0&&(B.closeButton=Dp(y.closeButton)?y.closeButton:!0);let H={content:J,props:B,staleId:V};y.limit&&y.limit>0&&l>y.limit&&M?h.push(H):zc(O)?setTimeout(()=>{et(H)},O):et(H)},setProps(J){y=J},setToggle:(J,nt)=>{let gt=v.get(J);gt&&(gt.toggle=nt)},isToastActive:J=>{var nt;return(nt=v.get(J))==null?void 0:nt.isActive},getSnapshot:()=>m}}var Xn=new Map,Sc=[],Np=new Set,sD=i=>Np.forEach(t=>t(i)),s1=()=>Xn.size>0;function aD(){Sc.forEach(i=>o1(i.content,i.options)),Sc=[]}var oD=(i,{containerId:t})=>{var e;return(e=Xn.get(t||1))==null?void 0:e.toasts.get(i)};function a1(i,t){var e;if(t)return!!((e=Xn.get(t))!=null&&e.isToastActive(i));let a=!1;return Xn.forEach(l=>{l.isToastActive(i)&&(a=!0)}),a}function lD(i){if(!s1()){Sc=Sc.filter(t=>i!=null&&t.options.toastId!==i);return}if(i==null||XM(i))Xn.forEach(t=>{t.removeToast(i)});else if(i&&("containerId"in i||"id"in i)){let t=Xn.get(i.containerId);t?t.removeToast(i.id):Xn.forEach(e=>{e.removeToast(i.id)})}}var uD=(i={})=>{Xn.forEach(t=>{t.props.limit&&(!i.containerId||t.id===i.containerId)&&t.clearQueue()})};function o1(i,t){Dp(i)&&(s1()||Sc.push({content:i,options:t}),Xn.forEach(e=>{e.buildToast(i,t)}))}function cD(i){var t;(t=Xn.get(i.containerId||1))==null||t.setToggle(i.id,i.fn)}function l1(i,t){Xn.forEach(e=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===e.id)&&e.toggle(i,t==null?void 0:t.id)})}function hD(i){let t=i.containerId||1;return{subscribe(e){let a=rD(t,i,sD);Xn.set(t,a);let l=a.observe(e);return aD(),()=>{l(),Xn.delete(t)}},setProps(e){var a;(a=Xn.get(t))==null||a.setProps(e)},getSnapshot(){var e;return(e=Xn.get(t))==null?void 0:e.getSnapshot()}}}function fD(i){return Np.add(i),()=>{Np.delete(i)}}function dD(i){return i&&(Fo(i.toastId)||zc(i.toastId))?i.toastId:r1()}function Uc(i,t){return o1(i,t),t.toastId}function nd(i,t){return{...t,type:t&&t.type||i,toastId:dD(t)}}function id(i){return(t,e)=>Uc(t,nd(i,e))}function ve(i,t){return Uc(i,nd("default",t))}ve.loading=(i,t)=>Uc(i,nd("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function mD(i,{pending:t,error:e,success:a},l){let h;t&&(h=Fo(t)?ve.loading(t,l):ve.loading(t.render,{...l,...t}));let m={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},y=(T,A,C)=>{if(A==null){ve.dismiss(h);return}let P={type:T,...m,...l,data:C},U=Fo(A)?{render:A}:A;return h?ve.update(h,{...P,...U}):ve(U.render,{...P,...U}),C},v=ks(i)?i():i;return v.then(T=>y("success",a,T)).catch(T=>y("error",e,T)),v}ve.promise=mD;ve.success=id("success");ve.info=id("info");ve.error=id("error");ve.warning=id("warning");ve.warn=ve.warning;ve.dark=(i,t)=>Uc(i,nd("default",{theme:"dark",...t}));function pD(i){lD(i)}ve.dismiss=pD;ve.clearWaitingQueue=uD;ve.isActive=a1;ve.update=(i,t={})=>{let e=oD(i,t);if(e){let{props:a,content:l}=e,h={delay:100,...a,...t,toastId:t.toastId||i,updateId:r1()};h.toastId!==i&&(h.staleId=i);let m=h.render||l;delete h.render,Uc(m,h)}};ve.done=i=>{ve.update(i,{progress:1})};ve.onChange=fD;ve.play=i=>l1(!0,i);ve.pause=i=>l1(!1,i);function gD(i){var t;let{subscribe:e,getSnapshot:a,setProps:l}=Q.useRef(hD(i)).current;l(i);let h=(t=Q.useSyncExternalStore(e,a,a))==null?void 0:t.slice();function m(y){if(!h)return[];let v=new Map;return i.newestOnTop&&h.reverse(),h.forEach(T=>{let{position:A}=T.props;v.has(A)||v.set(A,[]),v.get(A).push(T)}),Array.from(v,T=>y(T[0],T[1]))}return{getToastToRender:m,isToastActive:a1,count:h==null?void 0:h.length}}function _D(i){let[t,e]=Q.useState(!1),[a,l]=Q.useState(!1),h=Q.useRef(null),m=Q.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:y,pauseOnHover:v,closeToast:T,onClick:A,closeOnClick:C}=i;cD({id:i.toastId,containerId:i.containerId,fn:e}),Q.useEffect(()=>{if(i.pauseOnFocusLoss)return P(),()=>{U()}},[i.pauseOnFocusLoss]);function P(){document.hasFocus()||et(),window.addEventListener("focus",$),window.addEventListener("blur",et)}function U(){window.removeEventListener("focus",$),window.removeEventListener("blur",et)}function q(V){if(i.draggable===!0||i.draggable===V.pointerType){J();let O=h.current;m.canCloseOnClick=!0,m.canDrag=!0,O.style.transition="none",i.draggableDirection==="x"?(m.start=V.clientX,m.removalDistance=O.offsetWidth*(i.draggablePercent/100)):(m.start=V.clientY,m.removalDistance=O.offsetHeight*(i.draggablePercent===80?i.draggablePercent*1.5:i.draggablePercent)/100)}}function G(V){let{top:O,bottom:M,left:B,right:H}=h.current.getBoundingClientRect();V.nativeEvent.type!=="touchend"&&i.pauseOnHover&&V.clientX>=B&&V.clientX<=H&&V.clientY>=O&&V.clientY<=M?et():$()}function $(){e(!0)}function et(){e(!1)}function J(){m.didMove=!1,document.addEventListener("pointermove",gt),document.addEventListener("pointerup",Tt)}function nt(){document.removeEventListener("pointermove",gt),document.removeEventListener("pointerup",Tt)}function gt(V){let O=h.current;if(m.canDrag&&O){m.didMove=!0,t&&et(),i.draggableDirection==="x"?m.delta=V.clientX-m.start:m.delta=V.clientY-m.start,m.start!==V.clientX&&(m.canCloseOnClick=!1);let M=i.draggableDirection==="x"?`${m.delta}px, var(--y)`:`0, calc(${m.delta}px + var(--y))`;O.style.transform=`translate3d(${M},0)`,O.style.opacity=`${1-Math.abs(m.delta/m.removalDistance)}`}}function Tt(){nt();let V=h.current;if(m.canDrag&&m.didMove&&V){if(m.canDrag=!1,Math.abs(m.delta)>m.removalDistance){l(!0),i.closeToast(!0),i.collapseAll();return}V.style.transition="transform 0.2s, opacity 0.2s",V.style.removeProperty("transform"),V.style.removeProperty("opacity")}}let xt={onPointerDown:q,onPointerUp:G};return y&&v&&(xt.onMouseEnter=et,i.stacked||(xt.onMouseLeave=$)),C&&(xt.onClick=V=>{A&&A(V),m.canCloseOnClick&&T(!0)}),{playToast:$,pauseToast:et,isRunning:t,preventExitTransition:a,toastRef:h,eventHandlers:xt}}var yD=typeof window<"u"?Q.useLayoutEffect:Q.useEffect,rd=({theme:i,type:t,isLoading:e,...a})=>Te.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:i==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...a});function vD(i){return Te.createElement(rd,{...i},Te.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function TD(i){return Te.createElement(rd,{...i},Te.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function ED(i){return Te.createElement(rd,{...i},Te.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function wD(i){return Te.createElement(rd,{...i},Te.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function bD(){return Te.createElement("div",{className:"Toastify__spinner"})}var kp={info:TD,warning:vD,success:ED,error:wD,spinner:bD},SD=i=>i in kp;function AD({theme:i,type:t,isLoading:e,icon:a}){let l=null,h={theme:i,type:t};return a===!1||(ks(a)?l=a({...h,isLoading:e}):Q.isValidElement(a)?l=Q.cloneElement(a,h):e?l=kp.spinner():SD(t)&&(l=kp[t](h))),l}var RD=i=>{let{isRunning:t,preventExitTransition:e,toastRef:a,eventHandlers:l,playToast:h}=_D(i),{closeButton:m,children:y,autoClose:v,onClick:T,type:A,hideProgressBar:C,closeToast:P,transition:U,position:q,className:G,style:$,progressClassName:et,updateId:J,role:nt,progress:gt,rtl:Tt,toastId:xt,deleteToast:V,isIn:O,isLoading:M,closeOnClick:B,theme:H,ariaLabel:F}=i,z=zo("Toastify__toast",`Toastify__toast-theme--${H}`,`Toastify__toast--${A}`,{"Toastify__toast--rtl":Tt},{"Toastify__toast--close-on-click":B}),pe=ks(G)?G({rtl:Tt,position:q,type:A,defaultClassName:z}):zo(z,G),Re=AD(i),at=!!gt||!v,yt={closeToast:P,type:A,theme:H},pt=null;return m===!1||(ks(m)?pt=m(yt):Q.isValidElement(m)?pt=Q.cloneElement(m,yt):pt=eD(yt)),Te.createElement(U,{isIn:O,done:V,position:q,preventExitTransition:e,nodeRef:a,playToast:h},Te.createElement("div",{id:xt,tabIndex:0,onClick:T,"data-in":O,className:pe,...l,style:$,ref:a,...O&&{role:nt,"aria-label":F}},Re!=null&&Te.createElement("div",{className:zo("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!M})},Re),i1(y,i,!t),pt,!i.customProgressBar&&Te.createElement(nD,{...J&&!at?{key:`p-${J}`}:{},rtl:Tt,theme:H,delay:v,isRunning:t,isIn:O,closeToast:P,hide:C,type:A,className:et,controlledProgress:at,progress:gt||0})))},ID=(i,t=!1)=>({enter:`Toastify--animate Toastify__${i}-enter`,exit:`Toastify--animate Toastify__${i}-exit`,appendPosition:t}),CD=tD(ID("bounce",!0)),xD={position:"top-right",transition:CD,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:i=>i.altKey&&i.code==="KeyT"};function PD(i){let t={...xD,...i},e=i.stacked,[a,l]=Q.useState(!0),h=Q.useRef(null),{getToastToRender:m,isToastActive:y,count:v}=gD(t),{className:T,style:A,rtl:C,containerId:P,hotKeys:U}=t;function q($){let et=zo("Toastify__toast-container",`Toastify__toast-container--${$}`,{"Toastify__toast-container--rtl":C});return ks(T)?T({position:$,rtl:C,defaultClassName:et}):zo(et,Mp(T))}function G(){e&&(l(!0),ve.play())}return yD(()=>{var $;if(e){let et=h.current.querySelectorAll('[data-in="true"]'),J=12,nt=($=t.position)==null?void 0:$.includes("top"),gt=0,Tt=0;Array.from(et).reverse().forEach((xt,V)=>{let O=xt;O.classList.add("Toastify__toast--stacked"),V>0&&(O.dataset.collapsed=`${a}`),O.dataset.pos||(O.dataset.pos=nt?"top":"bot");let M=gt*(a?.2:1)+(a?0:J*V);O.style.setProperty("--y",`${nt?M:M*-1}px`),O.style.setProperty("--g",`${J}`),O.style.setProperty("--s",`${1-(a?Tt:0)}`),gt+=O.offsetHeight,Tt+=.025})}},[a,v,e]),Q.useEffect(()=>{function $(et){var J;let nt=h.current;U(et)&&((J=nt.querySelector('[tabIndex="0"]'))==null||J.focus(),l(!1),ve.pause()),et.key==="Escape"&&(document.activeElement===nt||nt!=null&&nt.contains(document.activeElement))&&(l(!0),ve.play())}return document.addEventListener("keydown",$),()=>{document.removeEventListener("keydown",$)}},[U]),Te.createElement("section",{ref:h,className:"Toastify",id:P,onMouseEnter:()=>{e&&(l(!1),ve.pause())},onMouseLeave:G,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},m(($,et)=>{let J=et.length?{...A}:{...A,pointerEvents:"none"};return Te.createElement("div",{tabIndex:-1,className:q($),"data-stacked":e,style:J,key:`c-${$}`},et.map(({content:nt,props:gt})=>Te.createElement(RD,{...gt,stacked:e,collapseAll:G,isIn:y(gt.toastId,gt.containerId),key:`t-${gt.key}`},nt)))}))}const OD=()=>{const[i,t]=Q.useState(""),[e,a]=Q.useState(""),[l,h]=Q.useState(""),[m,y]=Q.useState(!1),{ajouterBar:v}=YM(),T=Bp(),A=()=>{T("/")},C=async U=>{if(U.preventDefault(),!i||!e||!l)return alert("Por favor, completa todos los campos.");try{await v({nom:i,lat:parseFloat(e),lng:parseFloat(l)}),T("/mapa"),ve.success("Formulario enviado correctamente ✅")}catch(q){console.error("Error al añadir bar:",q),alert("Hubo un error al guardar el bar.")}},P=()=>{window.confirm("¿Estás seguro de que quieres borrar el formulario?")&&(y(!0),setTimeout(()=>{t(""),a(""),h(""),y(!1),ve.info("Formulario limpiado correctamente ✅")},300))};return $t.jsx("div",{className:"form-container",children:$t.jsxs("form",{onSubmit:C,children:[$t.jsx("input",{type:"text",placeholder:"Nombre del bar",value:i,onChange:U=>t(U.target.value),className:m?"resetting":""}),$t.jsx("input",{type:"number",placeholder:"Latitud",value:e,onChange:U=>a(U.target.value),className:m?"resetting":""}),$t.jsx("input",{type:"number",placeholder:"Longitud",value:l,onChange:U=>h(U.target.value),className:m?"resetting":""}),$t.jsx("button",{type:"submit",children:"Guardar"}),$t.jsx("button",{type:"button",onClick:P,children:"Resetear"}),$t.jsx("button",{type:"button",onClick:A,children:"Ir a inicio"})]})})};function LD(){const[i,t]=Q.useState(null),[e,a]=Q.useState(!0);return Q.useEffect(()=>{const l=g2(kT,h=>{t(h?{uid:h.uid,isAnonymous:h.isAnonymous}:null),a(!1)});return c2(kT).catch(h=>{console.error("Erreur lors de la connexion anonyme",h),a(!1)}),()=>l()},[]),{user:i,loading:e}}const MD="Mael Develop",DD=1;let ND=new Date().getFullYear();function kD(){return"Beta"}const VD=` ${ND}, ${MD} in version ${DD} ${kD()}`,zD=()=>$t.jsx("div",{className:"footer",children:$t.jsxs("p",{className:"credits",children:["© ",VD]})}),UD=()=>{const{user:i,loading:t}=LD();return t?$t.jsx("p",{children:"Cargando..."}):i?(console.log(`Conectado anónimamente con UID ${i.uid}`),$t.jsx($t.Fragment,{children:$t.jsxs($A,{children:[$t.jsxs(bA,{children:[$t.jsx(Yh,{path:"/",element:$t.jsx(rR,{})}),$t.jsx(Yh,{path:"/mapa",element:$t.jsx(KM,{})}),$t.jsx(Yh,{path:"/añadir",element:$t.jsx(OD,{})})]}),$t.jsx(zD,{}),$t.jsx(PD,{})]})})):$t.jsx("p",{children:"Problema con la autenticación"})};LS.createRoot(document.getElementById("root")).render($t.jsx(Te.StrictMode,{children:$t.jsx(UD,{})}));
